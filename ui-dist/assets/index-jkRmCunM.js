const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-BctJF1O7.js","assets/graph-BTBH8xAk.js","assets/_baseUniq-Hpdb7uVF.js","assets/layout-C_dm7Ndk.js","assets/min-Ck2I1NMN.js","assets/clone-BEACtTaT.js","assets/cose-bilkent-S5V4N54A-DvLQrMmT.js","assets/cytoscape.esm-5J0xJHOV.js","assets/c4Diagram-YG6GDRKO-DPnsRUJO.js","assets/chunk-TZMSLE5B-By7Het8T.js","assets/flowDiagram-NV44I4VS-D5tp3rNY.js","assets/chunk-FMBD7UC4-zq7vwqkm.js","assets/chunk-55IACEB6-Ya96treU.js","assets/chunk-QN33PNHL-DVDsR---.js","assets/channel-DEWngxrC.js","assets/erDiagram-Q2GNP2WA-B8vtfbDy.js","assets/gitGraphDiagram-NY62KEGX-DvjFtLwE.js","assets/chunk-4BX2VUAB-uEzfso8z.js","assets/chunk-QZHKN3VN-Bk_taZ1x.js","assets/treemap-KMMF4GRG-wAgOtf6B.js","assets/ganttDiagram-JELNMOA3-7k60FRMG.js","assets/linear-C-hEQqyo.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-DX6XiGOO.js","assets/infoDiagram-WHAUD3N6-Cn1BzUOI.js","assets/pieDiagram-ADFJNKIX-CUYGLF2N.js","assets/arc-Bnqea_h-.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-CoDrmd_S.js","assets/xychartDiagram-PRI3JC2R-C9EqaQu2.js","assets/requirementDiagram-UZGBJVZJ-9SExg7XR.js","assets/sequenceDiagram-WL72ISMW-D9yw7rbZ.js","assets/classDiagram-2ON5EDUG-DXErNdTj.js","assets/chunk-B4BG7PRW-BWFKi3f4.js","assets/classDiagram-v2-WZHVMYZB-DXErNdTj.js","assets/stateDiagram-FKZM4ZOC-D_3SUJr4.js","assets/chunk-DI55MBZ5-Du2OOn_g.js","assets/stateDiagram-v2-4FDKWEC3-V4xk6PPn.js","assets/journeyDiagram-XKPGCS4Q-bTX_NP6Z.js","assets/timeline-definition-IT6M3QCI-YHTBhgHI.js","assets/mindmap-definition-VGOIOE7T-DUin3SWG.js","assets/kanban-definition-3W4ZIXB7-C-KHX0wm.js","assets/sankeyDiagram-TZEHDZUN-Z1BkluOW.js","assets/diagram-S2PKOQOG-DpTw0pG1.js","assets/diagram-QEK2KX5R-D-ccLKmU.js","assets/blockDiagram-VD42YOAC-Dd9HJOGS.js","assets/architectureDiagram-VXUJARFQ-CEX4QEaC.js","assets/diagram-PSM6KHXK-BSy5iWwp.js"])))=>i.map(i=>d[i]);
function A6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Rh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I0={exports:{}},gu={};var E_;function M6(){if(E_)return gu;E_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return gu.Fragment=e,gu.jsx=n,gu.jsxs=n,gu}var A_;function D6(){return A_||(A_=1,I0.exports=M6()),I0.exports}var k=D6(),H0={exports:{}},Gt={};var M_;function N6(){if(M_)return Gt;M_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function _(q,V,K){this.props=q,this.context=V,this.refs=S,this.updater=K||x}_.prototype.isReactComponent={},_.prototype.setState=function(q,V){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,V,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function T(){}T.prototype=_.prototype;function w(q,V,K){this.props=q,this.context=V,this.refs=S,this.updater=K||x}var E=w.prototype=new T;E.constructor=w,b(E,_.prototype),E.isPureReactComponent=!0;var M=Array.isArray;function L(){}var N={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function z(q,V,K){var et=K.ref;return{$$typeof:t,type:q,key:V,ref:et!==void 0?et:null,props:K}}function P(q,V){return z(q.type,V,q.props)}function j(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function W(q){var V={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(K){return V[K]})}var G=/\/+/g;function B(q,V){return typeof q=="object"&&q!==null&&q.key!=null?W(""+q.key):V.toString(36)}function H(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(L,L):(q.status="pending",q.then(function(V){q.status==="pending"&&(q.status="fulfilled",q.value=V)},function(V){q.status==="pending"&&(q.status="rejected",q.reason=V)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function R(q,V,K,et,X){var Q=typeof q;(Q==="undefined"||Q==="boolean")&&(q=null);var tt=!1;if(q===null)tt=!0;else switch(Q){case"bigint":case"string":case"number":tt=!0;break;case"object":switch(q.$$typeof){case t:case e:tt=!0;break;case d:return tt=q._init,R(tt(q._payload),V,K,et,X)}}if(tt)return X=X(q),tt=et===""?"."+B(q,0):et,M(X)?(K="",tt!=null&&(K=tt.replace(G,"$&/")+"/"),R(X,V,K,"",function(pt){return pt})):X!=null&&(j(X)&&(X=P(X,K+(X.key==null||q&&q.key===X.key?"":(""+X.key).replace(G,"$&/")+"/")+tt)),V.push(X)),1;tt=0;var at=et===""?".":et+":";if(M(q))for(var ut=0;ut<q.length;ut++)et=q[ut],Q=at+B(et,ut),tt+=R(et,V,K,Q,X);else if(ut=y(q),typeof ut=="function")for(q=ut.call(q),ut=0;!(et=q.next()).done;)et=et.value,Q=at+B(et,ut++),tt+=R(et,V,K,Q,X);else if(Q==="object"){if(typeof q.then=="function")return R(H(q),V,K,et,X);throw V=String(q),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return tt}function I(q,V,K){if(q==null)return q;var et=[],X=0;return R(q,et,"","",function(Q){return V.call(K,Q,X++)}),et}function U(q){if(q._status===-1){var V=q._result;V=V(),V.then(function(K){(q._status===0||q._status===-1)&&(q._status=1,q._result=K)},function(K){(q._status===0||q._status===-1)&&(q._status=2,q._result=K)}),q._status===-1&&(q._status=0,q._result=V)}if(q._status===1)return q._result.default;throw q._result}var Z=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},nt={map:I,forEach:function(q,V,K){I(q,function(){V.apply(this,arguments)},K)},count:function(q){var V=0;return I(q,function(){V++}),V},toArray:function(q){return I(q,function(V){return V})||[]},only:function(q){if(!j(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Gt.Activity=p,Gt.Children=nt,Gt.Component=_,Gt.Fragment=n,Gt.Profiler=i,Gt.PureComponent=w,Gt.StrictMode=r,Gt.Suspense=u,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},Gt.cache=function(q){return function(){return q.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(q,V,K){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var et=b({},q.props),X=q.key;if(V!=null)for(Q in V.key!==void 0&&(X=""+V.key),V)!$.call(V,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&V.ref===void 0||(et[Q]=V[Q]);var Q=arguments.length-2;if(Q===1)et.children=K;else if(1<Q){for(var tt=Array(Q),at=0;at<Q;at++)tt[at]=arguments[at+2];et.children=tt}return z(q.type,X,et)},Gt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Gt.createElement=function(q,V,K){var et,X={},Q=null;if(V!=null)for(et in V.key!==void 0&&(Q=""+V.key),V)$.call(V,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(X[et]=V[et]);var tt=arguments.length-2;if(tt===1)X.children=K;else if(1<tt){for(var at=Array(tt),ut=0;ut<tt;ut++)at[ut]=arguments[ut+2];X.children=at}if(q&&q.defaultProps)for(et in tt=q.defaultProps,tt)X[et]===void 0&&(X[et]=tt[et]);return z(q,Q,X)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(q){return{$$typeof:c,render:q}},Gt.isValidElement=j,Gt.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:U}},Gt.memo=function(q,V){return{$$typeof:h,type:q,compare:V===void 0?null:V}},Gt.startTransition=function(q){var V=N.T,K={};N.T=K;try{var et=q(),X=N.S;X!==null&&X(K,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(L,Z)}catch(Q){Z(Q)}finally{V!==null&&K.types!==null&&(V.types=K.types),N.T=V}},Gt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Gt.use=function(q){return N.H.use(q)},Gt.useActionState=function(q,V,K){return N.H.useActionState(q,V,K)},Gt.useCallback=function(q,V){return N.H.useCallback(q,V)},Gt.useContext=function(q){return N.H.useContext(q)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(q,V){return N.H.useDeferredValue(q,V)},Gt.useEffect=function(q,V){return N.H.useEffect(q,V)},Gt.useEffectEvent=function(q){return N.H.useEffectEvent(q)},Gt.useId=function(){return N.H.useId()},Gt.useImperativeHandle=function(q,V,K){return N.H.useImperativeHandle(q,V,K)},Gt.useInsertionEffect=function(q,V){return N.H.useInsertionEffect(q,V)},Gt.useLayoutEffect=function(q,V){return N.H.useLayoutEffect(q,V)},Gt.useMemo=function(q,V){return N.H.useMemo(q,V)},Gt.useOptimistic=function(q,V){return N.H.useOptimistic(q,V)},Gt.useReducer=function(q,V,K){return N.H.useReducer(q,V,K)},Gt.useRef=function(q){return N.H.useRef(q)},Gt.useState=function(q){return N.H.useState(q)},Gt.useSyncExternalStore=function(q,V,K){return N.H.useSyncExternalStore(q,V,K)},Gt.useTransition=function(){return N.H.useTransition()},Gt.version="19.2.4",Gt}var D_;function Bh(){return D_||(D_=1,H0.exports=N6()),H0.exports}var A=Bh();const re=Rh(A),Iv=A6({__proto__:null,default:re},[A]);var V0={exports:{}},mu={},q0={exports:{}},U0={};var N_;function L6(){return N_||(N_=1,(function(t){function e(R,I){var U=R.length;R.push(I);t:for(;0<U;){var Z=U-1>>>1,nt=R[Z];if(0<i(nt,I))R[Z]=I,R[U]=nt,U=Z;else break t}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],U=R.pop();if(U!==I){R[0]=U;t:for(var Z=0,nt=R.length,q=nt>>>1;Z<q;){var V=2*(Z+1)-1,K=R[V],et=V+1,X=R[et];if(0>i(K,U))et<nt&&0>i(X,K)?(R[Z]=X,R[et]=U,Z=et):(R[Z]=K,R[V]=U,Z=V);else if(et<nt&&0>i(X,U))R[Z]=X,R[et]=U,Z=et;else break t}}return I}function i(R,I){var U=R.sortIndex-I.sortIndex;return U!==0?U:R.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],h=[],d=1,p=null,m=3,y=!1,x=!1,b=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function E(R){for(var I=n(h);I!==null;){if(I.callback===null)r(h);else if(I.startTime<=R)r(h),I.sortIndex=I.expirationTime,e(u,I);else break;I=n(h)}}function M(R){if(b=!1,E(R),!x)if(n(u)!==null)x=!0,L||(L=!0,W());else{var I=n(h);I!==null&&H(M,I.startTime-R)}}var L=!1,N=-1,$=5,z=-1;function P(){return S?!0:!(t.unstable_now()-z<$)}function j(){if(S=!1,L){var R=t.unstable_now();z=R;var I=!0;try{t:{x=!1,b&&(b=!1,T(N),N=-1),y=!0;var U=m;try{e:{for(E(R),p=n(u);p!==null&&!(p.expirationTime>R&&P());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,m=p.priorityLevel;var nt=Z(p.expirationTime<=R);if(R=t.unstable_now(),typeof nt=="function"){p.callback=nt,E(R),I=!0;break e}p===n(u)&&r(u),E(R)}else r(u);p=n(u)}if(p!==null)I=!0;else{var q=n(h);q!==null&&H(M,q.startTime-R),I=!1}}break t}finally{p=null,m=U,y=!1}I=void 0}}finally{I?W():L=!1}}}var W;if(typeof w=="function")W=function(){w(j)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,B=G.port2;G.port1.onmessage=j,W=function(){B.postMessage(null)}}else W=function(){_(j,0)};function H(R,I){N=_(function(){R(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var U=m;m=I;try{return R()}finally{m=U}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=m;m=R;try{return I()}finally{m=U}},t.unstable_scheduleCallback=function(R,I,U){var Z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,R){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=U+nt,R={id:d++,callback:I,priorityLevel:R,startTime:U,expirationTime:nt,sortIndex:-1},U>Z?(R.sortIndex=U,e(h,R),n(u)===null&&R===n(h)&&(b?(T(N),N=-1):b=!0,H(M,U-Z))):(R.sortIndex=nt,e(u,R),x||y||(x=!0,L||(L=!0,W()))),R},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(R){var I=m;return function(){var U=m;m=I;try{return R.apply(this,arguments)}finally{m=U}}}})(U0)),U0}var L_;function O6(){return L_||(L_=1,q0.exports=L6()),q0.exports}var W0={exports:{}},Vn={};var O_;function R6(){if(O_)return Vn;O_=1;var t=Bh();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,h,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:h,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vn.createPortal=function(u,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(u,h,null,d)},Vn.flushSync=function(u){var h=o.T,d=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=h,r.p=d,r.d.f()}},Vn.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},Vn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Vn.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var d=h.as,p=c(d,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):d==="script"&&r.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Vn.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=c(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},Vn.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,p=c(d,h.crossOrigin);r.d.L(u,d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Vn.preloadModule=function(u,h){if(typeof u=="string")if(h){var d=c(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},Vn.requestFormReset=function(u){r.d.r(u)},Vn.unstable_batchedUpdates=function(u,h){return u(h)},Vn.useFormState=function(u,h,d){return o.H.useFormState(u,h,d)},Vn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Vn.version="19.2.4",Vn}var R_;function wM(){if(R_)return W0.exports;R_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),W0.exports=R6(),W0.exports}var B_;function B6(){if(B_)return mu;B_=1;var t=O6(),e=Bh(),n=wM();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(r(188))}function h(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var f=a,g=l;;){var v=f.return;if(v===null)break;var C=v.alternate;if(C===null){if(g=v.return,g!==null){f=g;continue}break}if(v.child===C.child){for(C=v.child;C;){if(C===f)return u(v),a;if(C===g)return u(v),l;C=C.sibling}throw Error(r(188))}if(f.return!==g.return)f=v,g=C;else{for(var O=!1,Y=v.child;Y;){if(Y===f){O=!0,f=v,g=C;break}if(Y===g){O=!0,g=v,f=C;break}Y=Y.sibling}if(!O){for(Y=C.child;Y;){if(Y===f){O=!0,f=C,g=v;break}if(Y===g){O=!0,g=C,f=v;break}Y=Y.sibling}if(!O)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:l}function d(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=d(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var G=Symbol.for("react.client.reference");function B(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===G?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case b:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList";case z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case w:return a.displayName||"Context";case T:return(a._context.displayName||"Context")+".Consumer";case E:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return l=a.displayName||null,l!==null?l:B(a.type)||"Memo";case $:l=a._payload,a=a._init;try{return B(a(l))}catch{}}return null}var H=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},Z=[],nt=-1;function q(a){return{current:a}}function V(a){0>nt||(a.current=Z[nt],Z[nt]=null,nt--)}function K(a,l){nt++,Z[nt]=a.current,a.current=l}var et=q(null),X=q(null),Q=q(null),tt=q(null);function at(a,l){switch(K(Q,l),K(X,a),K(et,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?ZC(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=ZC(l),a=KC(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(et),K(et,a)}function ut(){V(et),V(X),V(Q)}function pt(a){a.memoizedState!==null&&K(tt,a);var l=et.current,f=KC(l,a.type);l!==f&&(K(X,a),K(et,f))}function vt(a){X.current===a&&(V(et),V(X)),tt.current===a&&(V(tt),hu._currentValue=U)}var bt,kt;function _t(a){if(bt===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);bt=l&&l[1]||"",kt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+a+kt}var Pt=!1;function Yt(a,l){if(!a||Pt)return"";Pt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(dt){var ht=dt}Reflect.construct(a,[],mt)}else{try{mt.call()}catch(dt){ht=dt}a.call(mt.prototype)}}else{try{throw Error()}catch(dt){ht=dt}(mt=a())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(dt){if(dt&&ht&&typeof dt.stack=="string")return[dt.stack,ht.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),O=C[0],Y=C[1];if(O&&Y){var J=O.split(`
`),ct=Y.split(`
`);for(v=g=0;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;for(;v<ct.length&&!ct[v].includes("DetermineComponentFrameRoot");)v++;if(g===J.length||v===ct.length)for(g=J.length-1,v=ct.length-1;1<=g&&0<=v&&J[g]!==ct[v];)v--;for(;1<=g&&0<=v;g--,v--)if(J[g]!==ct[v]){if(g!==1||v!==1)do if(g--,v--,0>v||J[g]!==ct[v]){var ft=`
`+J[g].replace(" at new "," at ");return a.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",a.displayName)),ft}while(1<=g&&0<=v);break}}}finally{Pt=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?_t(f):""}function de(a,l){switch(a.tag){case 26:case 27:case 5:return _t(a.type);case 16:return _t("Lazy");case 13:return a.child!==l&&l!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return Yt(a.type,!1);case 11:return Yt(a.type.render,!1);case 1:return Yt(a.type,!0);case 31:return _t("Activity");default:return""}}function Ye(a){try{var l="",f=null;do l+=de(a,f),f=a,a=a.return;while(a);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Ge=Object.prototype.hasOwnProperty,qe=t.unstable_scheduleCallback,Dn=t.unstable_cancelCallback,cr=t.unstable_shouldYield,ur=t.unstable_requestPaint,Me=t.unstable_now,Kn=t.unstable_getCurrentPriorityLevel,_n=t.unstable_ImmediatePriority,kn=t.unstable_UserBlockingPriority,Nn=t.unstable_NormalPriority,Fr=t.unstable_LowPriority,Er=t.unstable_IdlePriority,Qn=t.log,ii=t.unstable_setDisableYieldValue,hr=null,Ee=null;function tn(a){if(typeof Qn=="function"&&ii(a),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(hr,a)}catch{}}var Xe=Math.clz32?Math.clz32:Ai,Zi=Math.log,Oa=Math.LN2;function Ai(a){return a>>>=0,a===0?32:31-(Zi(a)/Oa|0)|0}var Ar=256,Mi=262144,xe=4194304;function Le(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ze(a,l,f){var g=a.pendingLanes;if(g===0)return 0;var v=0,C=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var Y=g&134217727;return Y!==0?(g=Y&~C,g!==0?v=Le(g):(O&=Y,O!==0?v=Le(O):f||(f=Y&~a,f!==0&&(v=Le(f))))):(Y=g&~C,Y!==0?v=Le(Y):O!==0?v=Le(O):f||(f=g&~a,f!==0&&(v=Le(f)))),v===0?0:l!==0&&l!==v&&(l&C)===0&&(C=v&-v,f=l&-l,C>=f||C===32&&(f&4194048)!==0)?l:v}function ie(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Ue(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var a=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),a}function pn(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function Tn(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Pe(a,l,f,g,v,C){var O=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var Y=a.entanglements,J=a.expirationTimes,ct=a.hiddenUpdates;for(f=O&~f;0<f;){var ft=31-Xe(f),mt=1<<ft;Y[ft]=0,J[ft]=-1;var ht=ct[ft];if(ht!==null)for(ct[ft]=null,ft=0;ft<ht.length;ft++){var dt=ht[ft];dt!==null&&(dt.lane&=-536870913)}f&=~mt}g!==0&&In(a,g,0),C!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=C&~(O&~l))}function In(a,l,f){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-Xe(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|f&261930}function Ln(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var g=31-Xe(f),v=1<<g;v&l|a[g]&l&&(a[g]|=l),f&=~v}}function Oe(a,l){var f=l&-l;return f=(f&42)!==0?1:gn(f),(f&(a.suspendedLanes|l))!==0?0:f}function gn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function dr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Hn(){var a=I.p;return a!==0?a:(a=window.event,a===void 0?32:v_(a.type))}function fr(a,l){var f=I.p;try{return I.p=a,l()}finally{I.p=f}}var On=Math.random().toString(36).slice(2),be="__reactFiber$"+On,mn="__reactProps$"+On,Ir="__reactContainer$"+On,Ki="__reactEvents$"+On,Os="__reactListeners$"+On,Tc="__reactHandles$"+On,Rt="__reactResources$"+On,rt="__reactMarker$"+On;function xt(a){delete a[be],delete a[mn],delete a[Ki],delete a[Os],delete a[Tc]}function Ct(a){var l=a[be];if(l)return l;for(var f=a.parentNode;f;){if(l=f[Ir]||f[be]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=i_(a);a!==null;){if(f=a[be])return f;a=i_(a)}return l}a=f,f=a.parentNode}return null}function le(a){if(a=a[be]||a[Ir]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Re(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function ve(a){var l=a[Rt];return l||(l=a[Rt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ae(a){a[rt]=!0}var pr=new Set,ai={};function Mr(a,l){De(a,l),De(a+"Capture",l)}function De(a,l){for(ai[a]=l,a=0;a<l.length;a++)pr.add(l[a])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ra={},cd={};function Rm(a){return Ge.call(cd,a)?!0:Ge.call(Ra,a)?!1:jo.test(a)?cd[a]=!0:(Ra[a]=!0,!1)}function $o(a,l,f){if(Rm(l))if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+f)}}function zo(a,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+f)}}function si(a,l,f,g){if(g===null)a.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(l,f,""+g)}}function gr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ud(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Bm(a,l,f){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,C=g.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(O){f=""+O,C.call(this,O)}}),Object.defineProperty(a,l,{enumerable:g.enumerable}),{getValue:function(){return f},setValue:function(O){f=""+O},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Po(a){if(!a._valueTracker){var l=ud(a)?"checked":"value";a._valueTracker=Bm(a,l,""+a[l])}}function hd(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return a&&(g=ud(a)?a.checked?"true":"false":a.value),a=g,a!==f?(l.setValue(a),!0):!1}function Rs(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var jm=/[\n"\\]/g;function mr(a){return a.replace(jm,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Bs(a,l,f,g,v,C,O,Y){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),l!=null?O==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+gr(l)):a.value!==""+gr(l)&&(a.value=""+gr(l)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),l!=null?Ec(a,O,gr(l)):f!=null?Ec(a,O,gr(f)):g!=null&&a.removeAttribute("value"),v==null&&C!=null&&(a.defaultChecked=!!C),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?a.name=""+gr(Y):a.removeAttribute("name")}function dd(a,l,f,g,v,C,O,Y){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),l!=null||f!=null){if(!(C!=="submit"&&C!=="reset"||l!=null)){Po(a);return}f=f!=null?""+gr(f):"",l=l!=null?""+gr(l):f,Y||l===a.value||(a.value=l),a.defaultValue=l}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=Y?a.checked:!!g,a.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),Po(a)}function Ec(a,l,f){l==="number"&&Rs(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function Qi(a,l,f,g){if(a=a.options,l){l={};for(var v=0;v<f.length;v++)l["$"+f[v]]=!0;for(f=0;f<a.length;f++)v=l.hasOwnProperty("$"+a[f].value),a[f].selected!==v&&(a[f].selected=v),v&&g&&(a[f].defaultSelected=!0)}else{for(f=""+gr(f),l=null,v=0;v<a.length;v++){if(a[v].value===f){a[v].selected=!0,g&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function U2(a,l,f){if(l!=null&&(l=""+gr(l),l!==a.value&&(a.value=l),f==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=f!=null?""+gr(f):""}function W2(a,l,f,g){if(l==null){if(g!=null){if(f!=null)throw Error(r(92));if(H(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),l=f}f=gr(l),a.defaultValue=f,g=a.textContent,g===f&&g!==""&&g!==null&&(a.value=g),Po(a)}function Fo(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var C4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Y2(a,l,f){var g=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,f):typeof f!="number"||f===0||C4.has(l)?l==="float"?a.cssFloat=f:a[l]=(""+f).trim():a[l]=f+"px"}function G2(a,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var v in l)g=l[v],l.hasOwnProperty(v)&&f[v]!==g&&Y2(a,v,g)}else for(var C in l)l.hasOwnProperty(C)&&Y2(a,C,l[C])}function $m(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fd(a){return k4.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ji(){}var zm=null;function Pm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Io=null,Ho=null;function X2(a){var l=le(a);if(l&&(a=l.stateNode)){var f=a[mn]||null;t:switch(a=l.stateNode,l.type){case"input":if(Bs(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+mr(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==a&&g.form===a.form){var v=g[mn]||null;if(!v)throw Error(r(90));Bs(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<f.length;l++)g=f[l],g.form===a.form&&hd(g)}break t;case"textarea":U2(a,f.value,f.defaultValue);break t;case"select":l=f.value,l!=null&&Qi(a,!!f.multiple,l,!1)}}}var Fm=!1;function Z2(a,l,f){if(Fm)return a(l,f);Fm=!0;try{var g=a(l);return g}finally{if(Fm=!1,(Io!==null||Ho!==null)&&(tf(),Io&&(l=Io,a=Ho,Ho=Io=null,X2(l),a)))for(l=0;l<a.length;l++)X2(a[l])}}function Ac(a,l){var f=a.stateNode;if(f===null)return null;var g=f[mn]||null;if(g===null)return null;f=g[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break t;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Im=!1;if(ta)try{var Mc={};Object.defineProperty(Mc,"passive",{get:function(){Im=!0}}),window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{Im=!1}var Ba=null,Hm=null,pd=null;function K2(){if(pd)return pd;var a,l=Hm,f=l.length,g,v="value"in Ba?Ba.value:Ba.textContent,C=v.length;for(a=0;a<f&&l[a]===v[a];a++);var O=f-a;for(g=1;g<=O&&l[f-g]===v[C-g];g++);return pd=v.slice(a,1<g?1-g:void 0)}function gd(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function md(){return!0}function Q2(){return!1}function yr(a){function l(f,g,v,C,O){this._reactName=f,this._targetInst=v,this.type=g,this.nativeEvent=C,this.target=O,this.currentTarget=null;for(var Y in a)a.hasOwnProperty(Y)&&(f=a[Y],this[Y]=f?f(C):C[Y]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?md:Q2,this.isPropagationStopped=Q2,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=md)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=md)},persist:function(){},isPersistent:md}),l}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=yr(js),Dc=p({},js,{view:0,detail:0}),T4=yr(Dc),Vm,qm,Nc,xd=p({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Nc&&(Nc&&a.type==="mousemove"?(Vm=a.screenX-Nc.screenX,qm=a.screenY-Nc.screenY):qm=Vm=0,Nc=a),Vm)},movementY:function(a){return"movementY"in a?a.movementY:qm}}),J2=yr(xd),E4=p({},xd,{dataTransfer:0}),A4=yr(E4),M4=p({},Dc,{relatedTarget:0}),Um=yr(M4),D4=p({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),N4=yr(D4),L4=p({},js,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),O4=yr(L4),R4=p({},js,{data:0}),tw=yr(R4),B4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z4(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=$4[a])?!!l[a]:!1}function Wm(){return z4}var P4=p({},Dc,{key:function(a){if(a.key){var l=B4[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=gd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?j4[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wm,charCode:function(a){return a.type==="keypress"?gd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?gd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),F4=yr(P4),I4=p({},xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=yr(I4),H4=p({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wm}),V4=yr(H4),q4=p({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),U4=yr(q4),W4=p({},xd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Y4=yr(W4),G4=p({},js,{newState:0,oldState:0}),X4=yr(G4),Z4=[9,13,27,32],Ym=ta&&"CompositionEvent"in window,Lc=null;ta&&"documentMode"in document&&(Lc=document.documentMode);var K4=ta&&"TextEvent"in window&&!Lc,nw=ta&&(!Ym||Lc&&8<Lc&&11>=Lc),rw=" ",iw=!1;function aw(a,l){switch(a){case"keyup":return Z4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Vo=!1;function Q4(a,l){switch(a){case"compositionend":return sw(l);case"keypress":return l.which!==32?null:(iw=!0,rw);case"textInput":return a=l.data,a===rw&&iw?null:a;default:return null}}function J4(a,l){if(Vo)return a==="compositionend"||!Ym&&aw(a,l)?(a=K2(),pd=Hm=Ba=null,Vo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return nw&&l.locale!=="ko"?null:l.data;default:return null}}var tz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ow(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!tz[a.type]:l==="textarea"}function lw(a,l,f,g){Io?Ho?Ho.push(g):Ho=[g]:Io=g,l=lf(l,"onChange"),0<l.length&&(f=new yd("onChange","change",null,f,g),a.push({event:f,listeners:l}))}var Oc=null,Rc=null;function ez(a){qC(a,0)}function bd(a){var l=Re(a);if(hd(l))return a}function cw(a,l){if(a==="change")return l}var uw=!1;if(ta){var Gm;if(ta){var Xm="oninput"in document;if(!Xm){var hw=document.createElement("div");hw.setAttribute("oninput","return;"),Xm=typeof hw.oninput=="function"}Gm=Xm}else Gm=!1;uw=Gm&&(!document.documentMode||9<document.documentMode)}function dw(){Oc&&(Oc.detachEvent("onpropertychange",fw),Rc=Oc=null)}function fw(a){if(a.propertyName==="value"&&bd(Rc)){var l=[];lw(l,Rc,a,Pm(a)),Z2(ez,l)}}function nz(a,l,f){a==="focusin"?(dw(),Oc=l,Rc=f,Oc.attachEvent("onpropertychange",fw)):a==="focusout"&&dw()}function rz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return bd(Rc)}function iz(a,l){if(a==="click")return bd(l)}function az(a,l){if(a==="input"||a==="change")return bd(l)}function sz(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Dr=typeof Object.is=="function"?Object.is:sz;function Bc(a,l){if(Dr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var v=f[g];if(!Ge.call(l,v)||!Dr(a[v],l[v]))return!1}return!0}function pw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function gw(a,l){var f=pw(a);a=0;for(var g;f;){if(f.nodeType===3){if(g=a+f.textContent.length,a<=l&&g>=l)return{node:f,offset:l-a};a=g}t:{for(;f;){if(f.nextSibling){f=f.nextSibling;break t}f=f.parentNode}f=void 0}f=pw(f)}}function mw(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?mw(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function yw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Rs(a.document);l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=Rs(a.document)}return l}function Zm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var oz=ta&&"documentMode"in document&&11>=document.documentMode,qo=null,Km=null,jc=null,Qm=!1;function xw(a,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Qm||qo==null||qo!==Rs(g)||(g=qo,"selectionStart"in g&&Zm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),jc&&Bc(jc,g)||(jc=g,g=lf(Km,"onSelect"),0<g.length&&(l=new yd("onSelect","select",null,l,f),a.push({event:l,listeners:g}),l.target=qo)))}function $s(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var Uo={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Jm={},bw={};ta&&(bw=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function zs(a){if(Jm[a])return Jm[a];if(!Uo[a])return a;var l=Uo[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in bw)return Jm[a]=l[f];return a}var vw=zs("animationend"),ww=zs("animationiteration"),Sw=zs("animationstart"),lz=zs("transitionrun"),cz=zs("transitionstart"),uz=zs("transitioncancel"),Cw=zs("transitionend"),_w=new Map,ty="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ty.push("scrollEnd");function oi(a,l){_w.set(a,l),Mr(l,[a])}var vd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Hr=[],Wo=0,ey=0;function wd(){for(var a=Wo,l=ey=Wo=0;l<a;){var f=Hr[l];Hr[l++]=null;var g=Hr[l];Hr[l++]=null;var v=Hr[l];Hr[l++]=null;var C=Hr[l];if(Hr[l++]=null,g!==null&&v!==null){var O=g.pending;O===null?v.next=v:(v.next=O.next,O.next=v),g.pending=v}C!==0&&kw(f,v,C)}}function Sd(a,l,f,g){Hr[Wo++]=a,Hr[Wo++]=l,Hr[Wo++]=f,Hr[Wo++]=g,ey|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function ny(a,l,f,g){return Sd(a,l,f,g),Cd(a)}function Ps(a,l){return Sd(a,null,null,l),Cd(a)}function kw(a,l,f){a.lanes|=f;var g=a.alternate;g!==null&&(g.lanes|=f);for(var v=!1,C=a.return;C!==null;)C.childLanes|=f,g=C.alternate,g!==null&&(g.childLanes|=f),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(v=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,v&&l!==null&&(v=31-Xe(f),a=C.hiddenUpdates,g=a[v],g===null?a[v]=[l]:g.push(l),l.lane=f|536870912),C):null}function Cd(a){if(50<iu)throw iu=0,h0=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Yo={};function hz(a,l,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(a,l,f,g){return new hz(a,l,f,g)}function ry(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ea(a,l){var f=a.alternate;return f===null?(f=Nr(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function Tw(a,l){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,l=f.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function _d(a,l,f,g,v,C){var O=0;if(g=a,typeof a=="function")ry(a)&&(O=1);else if(typeof a=="string")O=m6(a,f,et.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case z:return a=Nr(31,f,l,v),a.elementType=z,a.lanes=C,a;case b:return Fs(f.children,v,C,l);case S:O=8,v|=24;break;case _:return a=Nr(12,f,l,v|2),a.elementType=_,a.lanes=C,a;case M:return a=Nr(13,f,l,v),a.elementType=M,a.lanes=C,a;case L:return a=Nr(19,f,l,v),a.elementType=L,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case w:O=10;break t;case T:O=9;break t;case E:O=11;break t;case N:O=14;break t;case $:O=16,g=null;break t}O=29,f=Error(r(130,a===null?"null":typeof a,"")),g=null}return l=Nr(O,f,l,v),l.elementType=a,l.type=g,l.lanes=C,l}function Fs(a,l,f,g){return a=Nr(7,a,g,l),a.lanes=f,a}function iy(a,l,f){return a=Nr(6,a,null,l),a.lanes=f,a}function Ew(a){var l=Nr(18,null,null,0);return l.stateNode=a,l}function ay(a,l,f){return l=Nr(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Aw=new WeakMap;function Vr(a,l){if(typeof a=="object"&&a!==null){var f=Aw.get(a);return f!==void 0?f:(l={value:a,source:l,stack:Ye(l)},Aw.set(a,l),l)}return{value:a,source:l,stack:Ye(l)}}var Go=[],Xo=0,kd=null,$c=0,qr=[],Ur=0,ja=null,Di=1,Ni="";function na(a,l){Go[Xo++]=$c,Go[Xo++]=kd,kd=a,$c=l}function Mw(a,l,f){qr[Ur++]=Di,qr[Ur++]=Ni,qr[Ur++]=ja,ja=a;var g=Di;a=Ni;var v=32-Xe(g)-1;g&=~(1<<v),f+=1;var C=32-Xe(l)+v;if(30<C){var O=v-v%5;C=(g&(1<<O)-1).toString(32),g>>=O,v-=O,Di=1<<32-Xe(l)+v|f<<v|g,Ni=C+a}else Di=1<<C|f<<v|g,Ni=a}function sy(a){a.return!==null&&(na(a,1),Mw(a,1,0))}function oy(a){for(;a===kd;)kd=Go[--Xo],Go[Xo]=null,$c=Go[--Xo],Go[Xo]=null;for(;a===ja;)ja=qr[--Ur],qr[Ur]=null,Ni=qr[--Ur],qr[Ur]=null,Di=qr[--Ur],qr[Ur]=null}function Dw(a,l){qr[Ur++]=Di,qr[Ur++]=Ni,qr[Ur++]=ja,Di=l.id,Ni=l.overflow,ja=a}var Rn=null,Be=null,se=!1,$a=null,Wr=!1,ly=Error(r(519));function za(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zc(Vr(l,a)),ly}function Nw(a){var l=a.stateNode,f=a.type,g=a.memoizedProps;switch(l[be]=a,l[mn]=g,f){case"dialog":Qt("cancel",l),Qt("close",l);break;case"iframe":case"object":case"embed":Qt("load",l);break;case"video":case"audio":for(f=0;f<su.length;f++)Qt(su[f],l);break;case"source":Qt("error",l);break;case"img":case"image":case"link":Qt("error",l),Qt("load",l);break;case"details":Qt("toggle",l);break;case"input":Qt("invalid",l),dd(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Qt("invalid",l);break;case"textarea":Qt("invalid",l),W2(l,g.value,g.defaultValue,g.children)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||g.suppressHydrationWarning===!0||GC(l.textContent,f)?(g.popover!=null&&(Qt("beforetoggle",l),Qt("toggle",l)),g.onScroll!=null&&Qt("scroll",l),g.onScrollEnd!=null&&Qt("scrollend",l),g.onClick!=null&&(l.onclick=Ji),l=!0):l=!1,l||za(a,!0)}function Lw(a){for(Rn=a.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Rn=Rn.return}}function Zo(a){if(a!==Rn)return!1;if(!se)return Lw(a),se=!0,!1;var l=a.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||T0(a.type,a.memoizedProps)),f=!f),f&&Be&&za(a),Lw(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Be=r_(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Be=r_(a)}else l===27?(l=Be,Qa(a.type)?(a=N0,N0=null,Be=a):Be=l):Be=Rn?Gr(a.stateNode.nextSibling):null;return!0}function Is(){Be=Rn=null,se=!1}function cy(){var a=$a;return a!==null&&(wr===null?wr=a:wr.push.apply(wr,a),$a=null),a}function zc(a){$a===null?$a=[a]:$a.push(a)}var uy=q(null),Hs=null,ra=null;function Pa(a,l,f){K(uy,l._currentValue),l._currentValue=f}function ia(a){a._currentValue=uy.current,V(uy)}function hy(a,l,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===f)break;a=a.return}}function dy(a,l,f,g){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var C=v.dependencies;if(C!==null){var O=v.child;C=C.firstContext;t:for(;C!==null;){var Y=C;C=v;for(var J=0;J<l.length;J++)if(Y.context===l[J]){C.lanes|=f,Y=C.alternate,Y!==null&&(Y.lanes|=f),hy(C.return,f,a),g||(O=null);break t}C=Y.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=f,C=O.alternate,C!==null&&(C.lanes|=f),hy(O,f,a),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===a){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Ko(a,l,f,g){a=null;for(var v=l,C=!1;v!==null;){if(!C){if((v.flags&524288)!==0)C=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var Y=v.type;Dr(v.pendingProps.value,O.value)||(a!==null?a.push(Y):a=[Y])}}else if(v===tt.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(hu):a=[hu])}v=v.return}a!==null&&dy(l,a,f,g),l.flags|=262144}function Td(a){for(a=a.firstContext;a!==null;){if(!Dr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Vs(a){Hs=a,ra=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Bn(a){return Ow(Hs,a)}function Ed(a,l){return Hs===null&&Vs(a),Ow(a,l)}function Ow(a,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},ra===null){if(a===null)throw Error(r(308));ra=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else ra=ra.next=l;return f}var dz=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(f,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(f){return f()})}},fz=t.unstable_scheduleCallback,pz=t.unstable_NormalPriority,sn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fy(){return{controller:new dz,data:new Map,refCount:0}}function Pc(a){a.refCount--,a.refCount===0&&fz(pz,function(){a.controller.abort()})}var Fc=null,py=0,Qo=0,Jo=null;function gz(a,l){if(Fc===null){var f=Fc=[];py=0,Qo=y0(),Jo={status:"pending",value:void 0,then:function(g){f.push(g)}}}return py++,l.then(Rw,Rw),l}function Rw(){if(--py===0&&Fc!==null){Jo!==null&&(Jo.status="fulfilled");var a=Fc;Fc=null,Qo=0,Jo=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function mz(a,l){var f=[],g={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var v=0;v<f.length;v++)(0,f[v])(l)},function(v){for(g.status="rejected",g.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),g}var Bw=R.S;R.S=function(a,l){xC=Me(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&gz(a,l),Bw!==null&&Bw(a,l)};var qs=q(null);function gy(){var a=qs.current;return a!==null?a:Ae.pooledCache}function Ad(a,l){l===null?K(qs,qs.current):K(qs,l.pool)}function jw(){var a=gy();return a===null?null:{parent:sn._currentValue,pool:a}}var tl=Error(r(460)),my=Error(r(474)),Md=Error(r(542)),Dd={then:function(){}};function $w(a){return a=a.status,a==="fulfilled"||a==="rejected"}function zw(a,l,f){switch(f=a[f],f===void 0?a.push(l):f!==l&&(l.then(Ji,Ji),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Fw(a),a;default:if(typeof l.status=="string")l.then(Ji,Ji);else{if(a=Ae,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=g}},function(g){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Fw(a),a}throw Ws=l,tl}}function Us(a){try{var l=a._init;return l(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Ws=f,tl):f}}var Ws=null;function Pw(){if(Ws===null)throw Error(r(459));var a=Ws;return Ws=null,a}function Fw(a){if(a===tl||a===Md)throw Error(r(483))}var el=null,Ic=0;function Nd(a){var l=Ic;return Ic+=1,el===null&&(el=[]),zw(el,a,l)}function Hc(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Ld(a,l){throw l.$$typeof===m?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Iw(a){function l(st,it){if(a){var lt=st.deletions;lt===null?(st.deletions=[it],st.flags|=16):lt.push(it)}}function f(st,it){if(!a)return null;for(;it!==null;)l(st,it),it=it.sibling;return null}function g(st){for(var it=new Map;st!==null;)st.key!==null?it.set(st.key,st):it.set(st.index,st),st=st.sibling;return it}function v(st,it){return st=ea(st,it),st.index=0,st.sibling=null,st}function C(st,it,lt){return st.index=lt,a?(lt=st.alternate,lt!==null?(lt=lt.index,lt<it?(st.flags|=67108866,it):lt):(st.flags|=67108866,it)):(st.flags|=1048576,it)}function O(st){return a&&st.alternate===null&&(st.flags|=67108866),st}function Y(st,it,lt,gt){return it===null||it.tag!==6?(it=iy(lt,st.mode,gt),it.return=st,it):(it=v(it,lt),it.return=st,it)}function J(st,it,lt,gt){var $t=lt.type;return $t===b?ft(st,it,lt.props.children,gt,lt.key):it!==null&&(it.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===$&&Us($t)===it.type)?(it=v(it,lt.props),Hc(it,lt),it.return=st,it):(it=_d(lt.type,lt.key,lt.props,null,st.mode,gt),Hc(it,lt),it.return=st,it)}function ct(st,it,lt,gt){return it===null||it.tag!==4||it.stateNode.containerInfo!==lt.containerInfo||it.stateNode.implementation!==lt.implementation?(it=ay(lt,st.mode,gt),it.return=st,it):(it=v(it,lt.children||[]),it.return=st,it)}function ft(st,it,lt,gt,$t){return it===null||it.tag!==7?(it=Fs(lt,st.mode,gt,$t),it.return=st,it):(it=v(it,lt),it.return=st,it)}function mt(st,it,lt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return it=iy(""+it,st.mode,lt),it.return=st,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case y:return lt=_d(it.type,it.key,it.props,null,st.mode,lt),Hc(lt,it),lt.return=st,lt;case x:return it=ay(it,st.mode,lt),it.return=st,it;case $:return it=Us(it),mt(st,it,lt)}if(H(it)||W(it))return it=Fs(it,st.mode,lt,null),it.return=st,it;if(typeof it.then=="function")return mt(st,Nd(it),lt);if(it.$$typeof===w)return mt(st,Ed(st,it),lt);Ld(st,it)}return null}function ht(st,it,lt,gt){var $t=it!==null?it.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return $t!==null?null:Y(st,it,""+lt,gt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case y:return lt.key===$t?J(st,it,lt,gt):null;case x:return lt.key===$t?ct(st,it,lt,gt):null;case $:return lt=Us(lt),ht(st,it,lt,gt)}if(H(lt)||W(lt))return $t!==null?null:ft(st,it,lt,gt,null);if(typeof lt.then=="function")return ht(st,it,Nd(lt),gt);if(lt.$$typeof===w)return ht(st,it,Ed(st,lt),gt);Ld(st,lt)}return null}function dt(st,it,lt,gt,$t){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return st=st.get(lt)||null,Y(it,st,""+gt,$t);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case y:return st=st.get(gt.key===null?lt:gt.key)||null,J(it,st,gt,$t);case x:return st=st.get(gt.key===null?lt:gt.key)||null,ct(it,st,gt,$t);case $:return gt=Us(gt),dt(st,it,lt,gt,$t)}if(H(gt)||W(gt))return st=st.get(lt)||null,ft(it,st,gt,$t,null);if(typeof gt.then=="function")return dt(st,it,lt,Nd(gt),$t);if(gt.$$typeof===w)return dt(st,it,lt,Ed(it,gt),$t);Ld(it,gt)}return null}function Tt(st,it,lt,gt){for(var $t=null,ce=null,Ot=it,Zt=it=0,ne=null;Ot!==null&&Zt<lt.length;Zt++){Ot.index>Zt?(ne=Ot,Ot=null):ne=Ot.sibling;var ue=ht(st,Ot,lt[Zt],gt);if(ue===null){Ot===null&&(Ot=ne);break}a&&Ot&&ue.alternate===null&&l(st,Ot),it=C(ue,it,Zt),ce===null?$t=ue:ce.sibling=ue,ce=ue,Ot=ne}if(Zt===lt.length)return f(st,Ot),se&&na(st,Zt),$t;if(Ot===null){for(;Zt<lt.length;Zt++)Ot=mt(st,lt[Zt],gt),Ot!==null&&(it=C(Ot,it,Zt),ce===null?$t=Ot:ce.sibling=Ot,ce=Ot);return se&&na(st,Zt),$t}for(Ot=g(Ot);Zt<lt.length;Zt++)ne=dt(Ot,st,Zt,lt[Zt],gt),ne!==null&&(a&&ne.alternate!==null&&Ot.delete(ne.key===null?Zt:ne.key),it=C(ne,it,Zt),ce===null?$t=ne:ce.sibling=ne,ce=ne);return a&&Ot.forEach(function(rs){return l(st,rs)}),se&&na(st,Zt),$t}function It(st,it,lt,gt){if(lt==null)throw Error(r(151));for(var $t=null,ce=null,Ot=it,Zt=it=0,ne=null,ue=lt.next();Ot!==null&&!ue.done;Zt++,ue=lt.next()){Ot.index>Zt?(ne=Ot,Ot=null):ne=Ot.sibling;var rs=ht(st,Ot,ue.value,gt);if(rs===null){Ot===null&&(Ot=ne);break}a&&Ot&&rs.alternate===null&&l(st,Ot),it=C(rs,it,Zt),ce===null?$t=rs:ce.sibling=rs,ce=rs,Ot=ne}if(ue.done)return f(st,Ot),se&&na(st,Zt),$t;if(Ot===null){for(;!ue.done;Zt++,ue=lt.next())ue=mt(st,ue.value,gt),ue!==null&&(it=C(ue,it,Zt),ce===null?$t=ue:ce.sibling=ue,ce=ue);return se&&na(st,Zt),$t}for(Ot=g(Ot);!ue.done;Zt++,ue=lt.next())ue=dt(Ot,st,Zt,ue.value,gt),ue!==null&&(a&&ue.alternate!==null&&Ot.delete(ue.key===null?Zt:ue.key),it=C(ue,it,Zt),ce===null?$t=ue:ce.sibling=ue,ce=ue);return a&&Ot.forEach(function(E6){return l(st,E6)}),se&&na(st,Zt),$t}function ke(st,it,lt,gt){if(typeof lt=="object"&&lt!==null&&lt.type===b&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case y:t:{for(var $t=lt.key;it!==null;){if(it.key===$t){if($t=lt.type,$t===b){if(it.tag===7){f(st,it.sibling),gt=v(it,lt.props.children),gt.return=st,st=gt;break t}}else if(it.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===$&&Us($t)===it.type){f(st,it.sibling),gt=v(it,lt.props),Hc(gt,lt),gt.return=st,st=gt;break t}f(st,it);break}else l(st,it);it=it.sibling}lt.type===b?(gt=Fs(lt.props.children,st.mode,gt,lt.key),gt.return=st,st=gt):(gt=_d(lt.type,lt.key,lt.props,null,st.mode,gt),Hc(gt,lt),gt.return=st,st=gt)}return O(st);case x:t:{for($t=lt.key;it!==null;){if(it.key===$t)if(it.tag===4&&it.stateNode.containerInfo===lt.containerInfo&&it.stateNode.implementation===lt.implementation){f(st,it.sibling),gt=v(it,lt.children||[]),gt.return=st,st=gt;break t}else{f(st,it);break}else l(st,it);it=it.sibling}gt=ay(lt,st.mode,gt),gt.return=st,st=gt}return O(st);case $:return lt=Us(lt),ke(st,it,lt,gt)}if(H(lt))return Tt(st,it,lt,gt);if(W(lt)){if($t=W(lt),typeof $t!="function")throw Error(r(150));return lt=$t.call(lt),It(st,it,lt,gt)}if(typeof lt.then=="function")return ke(st,it,Nd(lt),gt);if(lt.$$typeof===w)return ke(st,it,Ed(st,lt),gt);Ld(st,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,it!==null&&it.tag===6?(f(st,it.sibling),gt=v(it,lt),gt.return=st,st=gt):(f(st,it),gt=iy(lt,st.mode,gt),gt.return=st,st=gt),O(st)):f(st,it)}return function(st,it,lt,gt){try{Ic=0;var $t=ke(st,it,lt,gt);return el=null,$t}catch(Ot){if(Ot===tl||Ot===Md)throw Ot;var ce=Nr(29,Ot,null,st.mode);return ce.lanes=gt,ce.return=st,ce}}}var Ys=Iw(!0),Hw=Iw(!1),Fa=!1;function yy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xy(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ia(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ha(a,l,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(fe&2)!==0){var v=g.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),g.pending=l,l=Cd(a),kw(a,null,f),l}return Sd(a,g,l,f),Cd(a)}function Vc(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,f|=g,l.lanes=f,Ln(a,f)}}function by(a,l){var f=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var v=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var O={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};C===null?v=C=O:C=C.next=O,f=f.next}while(f!==null);C===null?v=C=l:C=C.next=l}else v=C=l;f={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}var vy=!1;function qc(){if(vy){var a=Jo;if(a!==null)throw a}}function Uc(a,l,f,g){vy=!1;var v=a.updateQueue;Fa=!1;var C=v.firstBaseUpdate,O=v.lastBaseUpdate,Y=v.shared.pending;if(Y!==null){v.shared.pending=null;var J=Y,ct=J.next;J.next=null,O===null?C=ct:O.next=ct,O=J;var ft=a.alternate;ft!==null&&(ft=ft.updateQueue,Y=ft.lastBaseUpdate,Y!==O&&(Y===null?ft.firstBaseUpdate=ct:Y.next=ct,ft.lastBaseUpdate=J))}if(C!==null){var mt=v.baseState;O=0,ft=ct=J=null,Y=C;do{var ht=Y.lane&-536870913,dt=ht!==Y.lane;if(dt?(ee&ht)===ht:(g&ht)===ht){ht!==0&&ht===Qo&&(vy=!0),ft!==null&&(ft=ft.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var Tt=a,It=Y;ht=l;var ke=f;switch(It.tag){case 1:if(Tt=It.payload,typeof Tt=="function"){mt=Tt.call(ke,mt,ht);break t}mt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=It.payload,ht=typeof Tt=="function"?Tt.call(ke,mt,ht):Tt,ht==null)break t;mt=p({},mt,ht);break t;case 2:Fa=!0}}ht=Y.callback,ht!==null&&(a.flags|=64,dt&&(a.flags|=8192),dt=v.callbacks,dt===null?v.callbacks=[ht]:dt.push(ht))}else dt={lane:ht,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ft===null?(ct=ft=dt,J=mt):ft=ft.next=dt,O|=ht;if(Y=Y.next,Y===null){if(Y=v.shared.pending,Y===null)break;dt=Y,Y=dt.next,dt.next=null,v.lastBaseUpdate=dt,v.shared.pending=null}}while(!0);ft===null&&(J=mt),v.baseState=J,v.firstBaseUpdate=ct,v.lastBaseUpdate=ft,C===null&&(v.shared.lanes=0),Ya|=O,a.lanes=O,a.memoizedState=mt}}function Vw(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function qw(a,l){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)Vw(f[a],l)}var nl=q(null),Od=q(0);function Uw(a,l){a=fa,K(Od,a),K(nl,l),fa=a|l.baseLanes}function wy(){K(Od,fa),K(nl,nl.current)}function Sy(){fa=Od.current,V(nl),V(Od)}var Lr=q(null),Yr=null;function Va(a){var l=a.alternate;K(en,en.current&1),K(Lr,a),Yr===null&&(l===null||nl.current!==null||l.memoizedState!==null)&&(Yr=a)}function Cy(a){K(en,en.current),K(Lr,a),Yr===null&&(Yr=a)}function Ww(a){a.tag===22?(K(en,en.current),K(Lr,a),Yr===null&&(Yr=a)):qa()}function qa(){K(en,en.current),K(Lr,Lr.current)}function Or(a){V(Lr),Yr===a&&(Yr=null),V(en)}var en=q(0);function Rd(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||M0(f)||D0(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var aa=0,Xt=null,Ce=null,on=null,Bd=!1,rl=!1,Gs=!1,jd=0,Wc=0,il=null,yz=0;function Ke(){throw Error(r(321))}function _y(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!Dr(a[f],l[f]))return!1;return!0}function ky(a,l,f,g,v,C){return aa=C,Xt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,R.H=a===null||a.memoizedState===null?MS:Fy,Gs=!1,C=f(g,v),Gs=!1,rl&&(C=Gw(l,f,g,v)),Yw(a),C}function Yw(a){R.H=Xc;var l=Ce!==null&&Ce.next!==null;if(aa=0,on=Ce=Xt=null,Bd=!1,Wc=0,il=null,l)throw Error(r(300));a===null||ln||(a=a.dependencies,a!==null&&Td(a)&&(ln=!0))}function Gw(a,l,f,g){Xt=a;var v=0;do{if(rl&&(il=null),Wc=0,rl=!1,25<=v)throw Error(r(301));if(v+=1,on=Ce=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}R.H=DS,C=l(f,g)}while(rl);return C}function xz(){var a=R.H,l=a.useState()[0];return l=typeof l.then=="function"?Yc(l):l,a=a.useState()[0],(Ce!==null?Ce.memoizedState:null)!==a&&(Xt.flags|=1024),l}function Ty(){var a=jd!==0;return jd=0,a}function Ey(a,l,f){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~f}function Ay(a){if(Bd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Bd=!1}aa=0,on=Ce=Xt=null,rl=!1,Wc=jd=0,il=null}function Jn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Xt.memoizedState=on=a:on=on.next=a,on}function nn(){if(Ce===null){var a=Xt.alternate;a=a!==null?a.memoizedState:null}else a=Ce.next;var l=on===null?Xt.memoizedState:on.next;if(l!==null)on=l,Ce=a;else{if(a===null)throw Xt.alternate===null?Error(r(467)):Error(r(310));Ce=a,a={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},on===null?Xt.memoizedState=on=a:on=on.next=a}return on}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(a){var l=Wc;return Wc+=1,il===null&&(il=[]),a=zw(il,a,l),l=Xt,(on===null?l.memoizedState:on.next)===null&&(l=l.alternate,R.H=l===null||l.memoizedState===null?MS:Fy),a}function zd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Yc(a);if(a.$$typeof===w)return Bn(a)}throw Error(r(438,String(a)))}function My(a){var l=null,f=Xt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var g=Xt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=$d(),Xt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(a),g=0;g<a;g++)f[g]=P;return l.index++,f}function sa(a,l){return typeof l=="function"?l(a):l}function Pd(a){var l=nn();return Dy(l,Ce,a)}function Dy(a,l,f){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=f;var v=a.baseQueue,C=g.pending;if(C!==null){if(v!==null){var O=v.next;v.next=C.next,C.next=O}l.baseQueue=v=C,g.pending=null}if(C=a.baseState,v===null)a.memoizedState=C;else{l=v.next;var Y=O=null,J=null,ct=l,ft=!1;do{var mt=ct.lane&-536870913;if(mt!==ct.lane?(ee&mt)===mt:(aa&mt)===mt){var ht=ct.revertLane;if(ht===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),mt===Qo&&(ft=!0);else if((aa&ht)===ht){ct=ct.next,ht===Qo&&(ft=!0);continue}else mt={lane:0,revertLane:ct.revertLane,gesture:null,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},J===null?(Y=J=mt,O=C):J=J.next=mt,Xt.lanes|=ht,Ya|=ht;mt=ct.action,Gs&&f(C,mt),C=ct.hasEagerState?ct.eagerState:f(C,mt)}else ht={lane:mt,revertLane:ct.revertLane,gesture:ct.gesture,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},J===null?(Y=J=ht,O=C):J=J.next=ht,Xt.lanes|=mt,Ya|=mt;ct=ct.next}while(ct!==null&&ct!==l);if(J===null?O=C:J.next=Y,!Dr(C,a.memoizedState)&&(ln=!0,ft&&(f=Jo,f!==null)))throw f;a.memoizedState=C,a.baseState=O,a.baseQueue=J,g.lastRenderedState=C}return v===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function Ny(a){var l=nn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var g=f.dispatch,v=f.pending,C=l.memoizedState;if(v!==null){f.pending=null;var O=v=v.next;do C=a(C,O.action),O=O.next;while(O!==v);Dr(C,l.memoizedState)||(ln=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),f.lastRenderedState=C}return[C,g]}function Xw(a,l,f){var g=Xt,v=nn(),C=se;if(C){if(f===void 0)throw Error(r(407));f=f()}else f=l();var O=!Dr((Ce||v).memoizedState,f);if(O&&(v.memoizedState=f,ln=!0),v=v.queue,Ry(Qw.bind(null,g,v,a),[a]),v.getSnapshot!==l||O||on!==null&&on.memoizedState.tag&1){if(g.flags|=2048,al(9,{destroy:void 0},Kw.bind(null,g,v,f,l),null),Ae===null)throw Error(r(349));C||(aa&127)!==0||Zw(g,l,f)}return f}function Zw(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=Xt.updateQueue,l===null?(l=$d(),Xt.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function Kw(a,l,f,g){l.value=f,l.getSnapshot=g,Jw(l)&&tS(a)}function Qw(a,l,f){return f(function(){Jw(l)&&tS(a)})}function Jw(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!Dr(a,f)}catch{return!0}}function tS(a){var l=Ps(a,2);l!==null&&Sr(l,a,2)}function Ly(a){var l=Jn();if(typeof a=="function"){var f=a;if(a=f(),Gs){tn(!0);try{f()}finally{tn(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:a},l}function eS(a,l,f,g){return a.baseState=f,Dy(a,Ce,typeof g=="function"?g:sa)}function bz(a,l,f,g,v){if(Hd(a))throw Error(r(485));if(a=l.action,a!==null){var C={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){C.listeners.push(O)}};R.T!==null?f(!0):C.isTransition=!1,g(C),f=l.pending,f===null?(C.next=l.pending=C,nS(l,C)):(C.next=f.next,l.pending=f.next=C)}}function nS(a,l){var f=l.action,g=l.payload,v=a.state;if(l.isTransition){var C=R.T,O={};R.T=O;try{var Y=f(v,g),J=R.S;J!==null&&J(O,Y),rS(a,l,Y)}catch(ct){Oy(a,l,ct)}finally{C!==null&&O.types!==null&&(C.types=O.types),R.T=C}}else try{C=f(v,g),rS(a,l,C)}catch(ct){Oy(a,l,ct)}}function rS(a,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){iS(a,l,g)},function(g){return Oy(a,l,g)}):iS(a,l,f)}function iS(a,l,f){l.status="fulfilled",l.value=f,aS(l),a.state=f,l=a.pending,l!==null&&(f=l.next,f===l?a.pending=null:(f=f.next,l.next=f,nS(a,f)))}function Oy(a,l,f){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=f,aS(l),l=l.next;while(l!==g)}a.action=null}function aS(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function sS(a,l){return l}function oS(a,l){if(se){var f=Ae.formState;if(f!==null){t:{var g=Xt;if(se){if(Be){e:{for(var v=Be,C=Wr;v.nodeType!==8;){if(!C){v=null;break e}if(v=Gr(v.nextSibling),v===null){v=null;break e}}C=v.data,v=C==="F!"||C==="F"?v:null}if(v){Be=Gr(v.nextSibling),g=v.data==="F!";break t}}za(g)}g=!1}g&&(l=f[0])}}return f=Jn(),f.memoizedState=f.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sS,lastRenderedState:l},f.queue=g,f=TS.bind(null,Xt,g),g.dispatch=f,g=Ly(!1),C=Py.bind(null,Xt,!1,g.queue),g=Jn(),v={state:l,dispatch:null,action:a,pending:null},g.queue=v,f=bz.bind(null,Xt,v,C,f),v.dispatch=f,g.memoizedState=a,[l,f,!1]}function lS(a){var l=nn();return cS(l,Ce,a)}function cS(a,l,f){if(l=Dy(a,l,sS)[0],a=Pd(sa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Yc(l)}catch(O){throw O===tl?Md:O}else g=l;l=nn();var v=l.queue,C=v.dispatch;return f!==l.memoizedState&&(Xt.flags|=2048,al(9,{destroy:void 0},vz.bind(null,v,f),null)),[g,C,a]}function vz(a,l){a.action=l}function uS(a){var l=nn(),f=Ce;if(f!==null)return cS(l,f,a);nn(),l=l.memoizedState,f=nn();var g=f.queue.dispatch;return f.memoizedState=a,[l,g,!1]}function al(a,l,f,g){return a={tag:a,create:f,deps:g,inst:l,next:null},l=Xt.updateQueue,l===null&&(l=$d(),Xt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,l.lastEffect=a),a}function hS(){return nn().memoizedState}function Fd(a,l,f,g){var v=Jn();Xt.flags|=a,v.memoizedState=al(1|l,{destroy:void 0},f,g===void 0?null:g)}function Id(a,l,f,g){var v=nn();g=g===void 0?null:g;var C=v.memoizedState.inst;Ce!==null&&g!==null&&_y(g,Ce.memoizedState.deps)?v.memoizedState=al(l,C,f,g):(Xt.flags|=a,v.memoizedState=al(1|l,C,f,g))}function dS(a,l){Fd(8390656,8,a,l)}function Ry(a,l){Id(2048,8,a,l)}function wz(a){Xt.flags|=4;var l=Xt.updateQueue;if(l===null)l=$d(),Xt.updateQueue=l,l.events=[a];else{var f=l.events;f===null?l.events=[a]:f.push(a)}}function fS(a){var l=nn().memoizedState;return wz({ref:l,nextImpl:a}),function(){if((fe&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function pS(a,l){return Id(4,2,a,l)}function gS(a,l){return Id(4,4,a,l)}function mS(a,l){if(typeof l=="function"){a=a();var f=l(a);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function yS(a,l,f){f=f!=null?f.concat([a]):null,Id(4,4,mS.bind(null,l,a),f)}function By(){}function xS(a,l){var f=nn();l=l===void 0?null:l;var g=f.memoizedState;return l!==null&&_y(l,g[1])?g[0]:(f.memoizedState=[a,l],a)}function bS(a,l){var f=nn();l=l===void 0?null:l;var g=f.memoizedState;if(l!==null&&_y(l,g[1]))return g[0];if(g=a(),Gs){tn(!0);try{a()}finally{tn(!1)}}return f.memoizedState=[g,l],g}function jy(a,l,f){return f===void 0||(aa&1073741824)!==0&&(ee&261930)===0?a.memoizedState=l:(a.memoizedState=f,a=vC(),Xt.lanes|=a,Ya|=a,f)}function vS(a,l,f,g){return Dr(f,l)?f:nl.current!==null?(a=jy(a,f,g),Dr(a,l)||(ln=!0),a):(aa&42)===0||(aa&1073741824)!==0&&(ee&261930)===0?(ln=!0,a.memoizedState=f):(a=vC(),Xt.lanes|=a,Ya|=a,l)}function wS(a,l,f,g,v){var C=I.p;I.p=C!==0&&8>C?C:8;var O=R.T,Y={};R.T=Y,Py(a,!1,l,f);try{var J=v(),ct=R.S;if(ct!==null&&ct(Y,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ft=mz(J,g);Gc(a,l,ft,jr(a))}else Gc(a,l,g,jr(a))}catch(mt){Gc(a,l,{then:function(){},status:"rejected",reason:mt},jr())}finally{I.p=C,O!==null&&Y.types!==null&&(O.types=Y.types),R.T=O}}function Sz(){}function $y(a,l,f,g){if(a.tag!==5)throw Error(r(476));var v=SS(a).queue;wS(a,v,l,U,f===null?Sz:function(){return CS(a),f(g)})}function SS(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:U},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:f},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function CS(a){var l=SS(a);l.next===null&&(l=a.alternate.memoizedState),Gc(a,l.next.queue,{},jr())}function zy(){return Bn(hu)}function _S(){return nn().memoizedState}function kS(){return nn().memoizedState}function Cz(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var f=jr();a=Ia(f);var g=Ha(l,a,f);g!==null&&(Sr(g,l,f),Vc(g,l,f)),l={cache:fy()},a.payload=l;return}l=l.return}}function _z(a,l,f){var g=jr();f={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Hd(a)?ES(l,f):(f=ny(a,l,f,g),f!==null&&(Sr(f,a,g),AS(f,l,g)))}function TS(a,l,f){var g=jr();Gc(a,l,f,g)}function Gc(a,l,f,g){var v={lane:g,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Hd(a))ES(l,v);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var O=l.lastRenderedState,Y=C(O,f);if(v.hasEagerState=!0,v.eagerState=Y,Dr(Y,O))return Sd(a,l,v,0),Ae===null&&wd(),!1}catch{}if(f=ny(a,l,v,g),f!==null)return Sr(f,a,g),AS(f,l,g),!0}return!1}function Py(a,l,f,g){if(g={lane:2,revertLane:y0(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Hd(a)){if(l)throw Error(r(479))}else l=ny(a,f,g,2),l!==null&&Sr(l,a,2)}function Hd(a){var l=a.alternate;return a===Xt||l!==null&&l===Xt}function ES(a,l){rl=Bd=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function AS(a,l,f){if((f&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,f|=g,l.lanes=f,Ln(a,f)}}var Xc={readContext:Bn,use:zd,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Xc.useEffectEvent=Ke;var MS={readContext:Bn,use:zd,useCallback:function(a,l){return Jn().memoizedState=[a,l===void 0?null:l],a},useContext:Bn,useEffect:dS,useImperativeHandle:function(a,l,f){f=f!=null?f.concat([a]):null,Fd(4194308,4,mS.bind(null,l,a),f)},useLayoutEffect:function(a,l){return Fd(4194308,4,a,l)},useInsertionEffect:function(a,l){Fd(4,2,a,l)},useMemo:function(a,l){var f=Jn();l=l===void 0?null:l;var g=a();if(Gs){tn(!0);try{a()}finally{tn(!1)}}return f.memoizedState=[g,l],g},useReducer:function(a,l,f){var g=Jn();if(f!==void 0){var v=f(l);if(Gs){tn(!0);try{f(l)}finally{tn(!1)}}}else v=l;return g.memoizedState=g.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},g.queue=a,a=a.dispatch=_z.bind(null,Xt,a),[g.memoizedState,a]},useRef:function(a){var l=Jn();return a={current:a},l.memoizedState=a},useState:function(a){a=Ly(a);var l=a.queue,f=TS.bind(null,Xt,l);return l.dispatch=f,[a.memoizedState,f]},useDebugValue:By,useDeferredValue:function(a,l){var f=Jn();return jy(f,a,l)},useTransition:function(){var a=Ly(!1);return a=wS.bind(null,Xt,a.queue,!0,!1),Jn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,f){var g=Xt,v=Jn();if(se){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Ae===null)throw Error(r(349));(ee&127)!==0||Zw(g,l,f)}v.memoizedState=f;var C={value:f,getSnapshot:l};return v.queue=C,dS(Qw.bind(null,g,C,a),[a]),g.flags|=2048,al(9,{destroy:void 0},Kw.bind(null,g,C,f,l),null),f},useId:function(){var a=Jn(),l=Ae.identifierPrefix;if(se){var f=Ni,g=Di;f=(g&~(1<<32-Xe(g)-1)).toString(32)+f,l="_"+l+"R_"+f,f=jd++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=yz++,l="_"+l+"r_"+f.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:zy,useFormState:oS,useActionState:oS,useOptimistic:function(a){var l=Jn();l.memoizedState=l.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Py.bind(null,Xt,!0,f),f.dispatch=l,[a,l]},useMemoCache:My,useCacheRefresh:function(){return Jn().memoizedState=Cz.bind(null,Xt)},useEffectEvent:function(a){var l=Jn(),f={impl:a};return l.memoizedState=f,function(){if((fe&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Fy={readContext:Bn,use:zd,useCallback:xS,useContext:Bn,useEffect:Ry,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:bS,useReducer:Pd,useRef:hS,useState:function(){return Pd(sa)},useDebugValue:By,useDeferredValue:function(a,l){var f=nn();return vS(f,Ce.memoizedState,a,l)},useTransition:function(){var a=Pd(sa)[0],l=nn().memoizedState;return[typeof a=="boolean"?a:Yc(a),l]},useSyncExternalStore:Xw,useId:_S,useHostTransitionStatus:zy,useFormState:lS,useActionState:lS,useOptimistic:function(a,l){var f=nn();return eS(f,Ce,a,l)},useMemoCache:My,useCacheRefresh:kS};Fy.useEffectEvent=fS;var DS={readContext:Bn,use:zd,useCallback:xS,useContext:Bn,useEffect:Ry,useImperativeHandle:yS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:bS,useReducer:Ny,useRef:hS,useState:function(){return Ny(sa)},useDebugValue:By,useDeferredValue:function(a,l){var f=nn();return Ce===null?jy(f,a,l):vS(f,Ce.memoizedState,a,l)},useTransition:function(){var a=Ny(sa)[0],l=nn().memoizedState;return[typeof a=="boolean"?a:Yc(a),l]},useSyncExternalStore:Xw,useId:_S,useHostTransitionStatus:zy,useFormState:uS,useActionState:uS,useOptimistic:function(a,l){var f=nn();return Ce!==null?eS(f,Ce,a,l):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:My,useCacheRefresh:kS};DS.useEffectEvent=fS;function Iy(a,l,f,g){l=a.memoizedState,f=f(g,l),f=f==null?l:p({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Hy={enqueueSetState:function(a,l,f){a=a._reactInternals;var g=jr(),v=Ia(g);v.payload=l,f!=null&&(v.callback=f),l=Ha(a,v,g),l!==null&&(Sr(l,a,g),Vc(l,a,g))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var g=jr(),v=Ia(g);v.tag=1,v.payload=l,f!=null&&(v.callback=f),l=Ha(a,v,g),l!==null&&(Sr(l,a,g),Vc(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=jr(),g=Ia(f);g.tag=2,l!=null&&(g.callback=l),l=Ha(a,g,f),l!==null&&(Sr(l,a,f),Vc(l,a,f))}};function NS(a,l,f,g,v,C,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,C,O):l.prototype&&l.prototype.isPureReactComponent?!Bc(f,g)||!Bc(v,C):!0}function LS(a,l,f,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==a&&Hy.enqueueReplaceState(l,l.state,null)}function Xs(a,l){var f=l;if("ref"in l){f={};for(var g in l)g!=="ref"&&(f[g]=l[g])}if(a=a.defaultProps){f===l&&(f=p({},f));for(var v in a)f[v]===void 0&&(f[v]=a[v])}return f}function OS(a){vd(a)}function RS(a){console.error(a)}function BS(a){vd(a)}function Vd(a,l){try{var f=a.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function jS(a,l,f){try{var g=a.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Vy(a,l,f){return f=Ia(f),f.tag=3,f.payload={element:null},f.callback=function(){Vd(a,l)},f}function $S(a){return a=Ia(a),a.tag=3,a}function zS(a,l,f,g){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var C=g.value;a.payload=function(){return v(C)},a.callback=function(){jS(l,f,g)}}var O=f.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){jS(l,f,g),typeof v!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var Y=g.stack;this.componentDidCatch(g.value,{componentStack:Y!==null?Y:""})})}function kz(a,l,f,g,v){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=f.alternate,l!==null&&Ko(l,f,v,!0),f=Lr.current,f!==null){switch(f.tag){case 31:case 13:return Yr===null?ef():f.alternate===null&&Qe===0&&(Qe=3),f.flags&=-257,f.flags|=65536,f.lanes=v,g===Dd?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([g]):l.add(g),p0(a,g,v)),!1;case 22:return f.flags|=65536,g===Dd?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([g]):f.add(g)),p0(a,g,v)),!1}throw Error(r(435,f.tag))}return p0(a,g,v),ef(),!1}if(se)return l=Lr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,g!==ly&&(a=Error(r(422),{cause:g}),zc(Vr(a,f)))):(g!==ly&&(l=Error(r(423),{cause:g}),zc(Vr(l,f))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,g=Vr(g,f),v=Vy(a.stateNode,g,v),by(a,v),Qe!==4&&(Qe=2)),!1;var C=Error(r(520),{cause:g});if(C=Vr(C,f),ru===null?ru=[C]:ru.push(C),Qe!==4&&(Qe=2),l===null)return!0;g=Vr(g,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,a=v&-v,f.lanes|=a,a=Vy(f.stateNode,g,a),by(f,a),!1;case 1:if(l=f.type,C=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ga===null||!Ga.has(C))))return f.flags|=65536,v&=-v,f.lanes|=v,v=$S(v),zS(v,a,f,g),by(f,v),!1}f=f.return}while(f!==null);return!1}var qy=Error(r(461)),ln=!1;function jn(a,l,f,g){l.child=a===null?Hw(l,null,f,g):Ys(l,a.child,f,g)}function PS(a,l,f,g,v){f=f.render;var C=l.ref;if("ref"in g){var O={};for(var Y in g)Y!=="ref"&&(O[Y]=g[Y])}else O=g;return Vs(l),g=ky(a,l,f,O,C,v),Y=Ty(),a!==null&&!ln?(Ey(a,l,v),oa(a,l,v)):(se&&Y&&sy(l),l.flags|=1,jn(a,l,g,v),l.child)}function FS(a,l,f,g,v){if(a===null){var C=f.type;return typeof C=="function"&&!ry(C)&&C.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=C,IS(a,l,C,g,v)):(a=_d(f.type,null,g,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(C=a.child,!Qy(a,v)){var O=C.memoizedProps;if(f=f.compare,f=f!==null?f:Bc,f(O,g)&&a.ref===l.ref)return oa(a,l,v)}return l.flags|=1,a=ea(C,g),a.ref=l.ref,a.return=l,l.child=a}function IS(a,l,f,g,v){if(a!==null){var C=a.memoizedProps;if(Bc(C,g)&&a.ref===l.ref)if(ln=!1,l.pendingProps=g=C,Qy(a,v))(a.flags&131072)!==0&&(ln=!0);else return l.lanes=a.lanes,oa(a,l,v)}return Uy(a,l,f,g,v)}function HS(a,l,f,g){var v=g.children,C=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(C=C!==null?C.baseLanes|f:f,a!==null){for(g=l.child=a.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~C}else g=0,l.child=null;return VS(a,l,C,f,g)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ad(l,C!==null?C.cachePool:null),C!==null?Uw(l,C):wy(),Ww(l);else return g=l.lanes=536870912,VS(a,l,C!==null?C.baseLanes|f:f,f,g)}else C!==null?(Ad(l,C.cachePool),Uw(l,C),qa(),l.memoizedState=null):(a!==null&&Ad(l,null),wy(),qa());return jn(a,l,v,f),l.child}function Zc(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function VS(a,l,f,g,v){var C=gy();return C=C===null?null:{parent:sn._currentValue,pool:C},l.memoizedState={baseLanes:f,cachePool:C},a!==null&&Ad(l,null),wy(),Ww(l),a!==null&&Ko(a,l,g,!0),l.childLanes=v,null}function qd(a,l){return l=Wd({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function qS(a,l,f){return Ys(l,a.child,null,f),a=qd(l,l.pendingProps),a.flags|=2,Or(l),l.memoizedState=null,a}function Tz(a,l,f){var g=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(se){if(g.mode==="hidden")return a=qd(l,g),l.lanes=536870912,Zc(null,a);if(Cy(l),(a=Be)?(a=n_(a,Wr),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ja!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},f=Ew(a),f.return=l,l.child=f,Rn=l,Be=null)):a=null,a===null)throw za(l);return l.lanes=536870912,null}return qd(l,g)}var C=a.memoizedState;if(C!==null){var O=C.dehydrated;if(Cy(l),v)if(l.flags&256)l.flags&=-257,l=qS(a,l,f);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(ln||Ko(a,l,f,!1),v=(f&a.childLanes)!==0,ln||v){if(g=Ae,g!==null&&(O=Oe(g,f),O!==0&&O!==C.retryLane))throw C.retryLane=O,Ps(a,O),Sr(g,a,O),qy;ef(),l=qS(a,l,f)}else a=C.treeContext,Be=Gr(O.nextSibling),Rn=l,se=!0,$a=null,Wr=!1,a!==null&&Dw(l,a),l=qd(l,g),l.flags|=4096;return l}return a=ea(a.child,{mode:g.mode,children:g.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Ud(a,l){var f=l.ref;if(f===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(a===null||a.ref!==f)&&(l.flags|=4194816)}}function Uy(a,l,f,g,v){return Vs(l),f=ky(a,l,f,g,void 0,v),g=Ty(),a!==null&&!ln?(Ey(a,l,v),oa(a,l,v)):(se&&g&&sy(l),l.flags|=1,jn(a,l,f,v),l.child)}function US(a,l,f,g,v,C){return Vs(l),l.updateQueue=null,f=Gw(l,g,f,v),Yw(a),g=Ty(),a!==null&&!ln?(Ey(a,l,C),oa(a,l,C)):(se&&g&&sy(l),l.flags|=1,jn(a,l,f,C),l.child)}function WS(a,l,f,g,v){if(Vs(l),l.stateNode===null){var C=Yo,O=f.contextType;typeof O=="object"&&O!==null&&(C=Bn(O)),C=new f(g,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Hy,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=g,C.state=l.memoizedState,C.refs={},yy(l),O=f.contextType,C.context=typeof O=="object"&&O!==null?Bn(O):Yo,C.state=l.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(Iy(l,f,O,g),C.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(O=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),O!==C.state&&Hy.enqueueReplaceState(C,C.state,null),Uc(l,g,C,v),qc(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){C=l.stateNode;var Y=l.memoizedProps,J=Xs(f,Y);C.props=J;var ct=C.context,ft=f.contextType;O=Yo,typeof ft=="object"&&ft!==null&&(O=Bn(ft));var mt=f.getDerivedStateFromProps;ft=typeof mt=="function"||typeof C.getSnapshotBeforeUpdate=="function",Y=l.pendingProps!==Y,ft||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y||ct!==O)&&LS(l,C,g,O),Fa=!1;var ht=l.memoizedState;C.state=ht,Uc(l,g,C,v),qc(),ct=l.memoizedState,Y||ht!==ct||Fa?(typeof mt=="function"&&(Iy(l,f,mt,g),ct=l.memoizedState),(J=Fa||NS(l,f,J,g,ht,ct,O))?(ft||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=ct),C.props=g,C.state=ct,C.context=O,g=J):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{C=l.stateNode,xy(a,l),O=l.memoizedProps,ft=Xs(f,O),C.props=ft,mt=l.pendingProps,ht=C.context,ct=f.contextType,J=Yo,typeof ct=="object"&&ct!==null&&(J=Bn(ct)),Y=f.getDerivedStateFromProps,(ct=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==mt||ht!==J)&&LS(l,C,g,J),Fa=!1,ht=l.memoizedState,C.state=ht,Uc(l,g,C,v),qc();var dt=l.memoizedState;O!==mt||ht!==dt||Fa||a!==null&&a.dependencies!==null&&Td(a.dependencies)?(typeof Y=="function"&&(Iy(l,f,Y,g),dt=l.memoizedState),(ft=Fa||NS(l,f,ft,g,ht,dt,J)||a!==null&&a.dependencies!==null&&Td(a.dependencies))?(ct||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,dt,J),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,dt,J)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===a.memoizedProps&&ht===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ht===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=dt),C.props=g,C.state=dt,C.context=J,g=ft):(typeof C.componentDidUpdate!="function"||O===a.memoizedProps&&ht===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ht===a.memoizedState||(l.flags|=1024),g=!1)}return C=g,Ud(a,l),g=(l.flags&128)!==0,C||g?(C=l.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,a!==null&&g?(l.child=Ys(l,a.child,null,v),l.child=Ys(l,null,f,v)):jn(a,l,f,v),l.memoizedState=C.state,a=l.child):a=oa(a,l,v),a}function YS(a,l,f,g){return Is(),l.flags|=256,jn(a,l,f,g),l.child}var Wy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yy(a){return{baseLanes:a,cachePool:jw()}}function Gy(a,l,f){return a=a!==null?a.childLanes&~f:0,l&&(a|=Br),a}function GS(a,l,f){var g=l.pendingProps,v=!1,C=(l.flags&128)!==0,O;if((O=C)||(O=a!==null&&a.memoizedState===null?!1:(en.current&2)!==0),O&&(v=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,a===null){if(se){if(v?Va(l):qa(),(a=Be)?(a=n_(a,Wr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ja!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},f=Ew(a),f.return=l,l.child=f,Rn=l,Be=null)):a=null,a===null)throw za(l);return D0(a)?l.lanes=32:l.lanes=536870912,null}var Y=g.children;return g=g.fallback,v?(qa(),v=l.mode,Y=Wd({mode:"hidden",children:Y},v),g=Fs(g,v,f,null),Y.return=l,g.return=l,Y.sibling=g,l.child=Y,g=l.child,g.memoizedState=Yy(f),g.childLanes=Gy(a,O,f),l.memoizedState=Wy,Zc(null,g)):(Va(l),Xy(l,Y))}var J=a.memoizedState;if(J!==null&&(Y=J.dehydrated,Y!==null)){if(C)l.flags&256?(Va(l),l.flags&=-257,l=Zy(a,l,f)):l.memoizedState!==null?(qa(),l.child=a.child,l.flags|=128,l=null):(qa(),Y=g.fallback,v=l.mode,g=Wd({mode:"visible",children:g.children},v),Y=Fs(Y,v,f,null),Y.flags|=2,g.return=l,Y.return=l,g.sibling=Y,l.child=g,Ys(l,a.child,null,f),g=l.child,g.memoizedState=Yy(f),g.childLanes=Gy(a,O,f),l.memoizedState=Wy,l=Zc(null,g));else if(Va(l),D0(Y)){if(O=Y.nextSibling&&Y.nextSibling.dataset,O)var ct=O.dgst;O=ct,g=Error(r(419)),g.stack="",g.digest=O,zc({value:g,source:null,stack:null}),l=Zy(a,l,f)}else if(ln||Ko(a,l,f,!1),O=(f&a.childLanes)!==0,ln||O){if(O=Ae,O!==null&&(g=Oe(O,f),g!==0&&g!==J.retryLane))throw J.retryLane=g,Ps(a,g),Sr(O,a,g),qy;M0(Y)||ef(),l=Zy(a,l,f)}else M0(Y)?(l.flags|=192,l.child=a.child,l=null):(a=J.treeContext,Be=Gr(Y.nextSibling),Rn=l,se=!0,$a=null,Wr=!1,a!==null&&Dw(l,a),l=Xy(l,g.children),l.flags|=4096);return l}return v?(qa(),Y=g.fallback,v=l.mode,J=a.child,ct=J.sibling,g=ea(J,{mode:"hidden",children:g.children}),g.subtreeFlags=J.subtreeFlags&65011712,ct!==null?Y=ea(ct,Y):(Y=Fs(Y,v,f,null),Y.flags|=2),Y.return=l,g.return=l,g.sibling=Y,l.child=g,Zc(null,g),g=l.child,Y=a.child.memoizedState,Y===null?Y=Yy(f):(v=Y.cachePool,v!==null?(J=sn._currentValue,v=v.parent!==J?{parent:J,pool:J}:v):v=jw(),Y={baseLanes:Y.baseLanes|f,cachePool:v}),g.memoizedState=Y,g.childLanes=Gy(a,O,f),l.memoizedState=Wy,Zc(a.child,g)):(Va(l),f=a.child,a=f.sibling,f=ea(f,{mode:"visible",children:g.children}),f.return=l,f.sibling=null,a!==null&&(O=l.deletions,O===null?(l.deletions=[a],l.flags|=16):O.push(a)),l.child=f,l.memoizedState=null,f)}function Xy(a,l){return l=Wd({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Wd(a,l){return a=Nr(22,a,null,l),a.lanes=0,a}function Zy(a,l,f){return Ys(l,a.child,null,f),a=Xy(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function XS(a,l,f){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),hy(a.return,l,f)}function Ky(a,l,f,g,v,C){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:v,treeForkCount:C}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=f,O.tailMode=v,O.treeForkCount=C)}function ZS(a,l,f){var g=l.pendingProps,v=g.revealOrder,C=g.tail;g=g.children;var O=en.current,Y=(O&2)!==0;if(Y?(O=O&1|2,l.flags|=128):O&=1,K(en,O),jn(a,l,g,f),g=se?$c:0,!Y&&a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&XS(a,f,l);else if(a.tag===19)XS(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(f=l.child,v=null;f!==null;)a=f.alternate,a!==null&&Rd(a)===null&&(v=f),f=f.sibling;f=v,f===null?(v=l.child,l.child=null):(v=f.sibling,f.sibling=null),Ky(l,!1,v,f,C,g);break;case"backwards":case"unstable_legacy-backwards":for(f=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&Rd(a)===null){l.child=v;break}a=v.sibling,v.sibling=f,f=v,v=a}Ky(l,!0,f,null,C,g);break;case"together":Ky(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function oa(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),Ya|=l.lanes,(f&l.childLanes)===0)if(a!==null){if(Ko(a,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,f=ea(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=ea(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function Qy(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Td(a)))}function Ez(a,l,f){switch(l.tag){case 3:at(l,l.stateNode.containerInfo),Pa(l,sn,a.memoizedState.cache),Is();break;case 27:case 5:pt(l);break;case 4:at(l,l.stateNode.containerInfo);break;case 10:Pa(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Cy(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Va(l),l.flags|=128,null):(f&l.child.childLanes)!==0?GS(a,l,f):(Va(l),a=oa(a,l,f),a!==null?a.sibling:null);Va(l);break;case 19:var v=(a.flags&128)!==0;if(g=(f&l.childLanes)!==0,g||(Ko(a,l,f,!1),g=(f&l.childLanes)!==0),v){if(g)return ZS(a,l,f);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),K(en,en.current),g)break;return null;case 22:return l.lanes=0,HS(a,l,f,l.pendingProps);case 24:Pa(l,sn,a.memoizedState.cache)}return oa(a,l,f)}function KS(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps)ln=!0;else{if(!Qy(a,f)&&(l.flags&128)===0)return ln=!1,Ez(a,l,f);ln=(a.flags&131072)!==0}else ln=!1,se&&(l.flags&1048576)!==0&&Mw(l,$c,l.index);switch(l.lanes=0,l.tag){case 16:t:{var g=l.pendingProps;if(a=Us(l.elementType),l.type=a,typeof a=="function")ry(a)?(g=Xs(a,g),l.tag=1,l=WS(null,l,a,g,f)):(l.tag=0,l=Uy(null,l,a,g,f));else{if(a!=null){var v=a.$$typeof;if(v===E){l.tag=11,l=PS(null,l,a,g,f);break t}else if(v===N){l.tag=14,l=FS(null,l,a,g,f);break t}}throw l=B(a)||a,Error(r(306,l,""))}}return l;case 0:return Uy(a,l,l.type,l.pendingProps,f);case 1:return g=l.type,v=Xs(g,l.pendingProps),WS(a,l,g,v,f);case 3:t:{if(at(l,l.stateNode.containerInfo),a===null)throw Error(r(387));g=l.pendingProps;var C=l.memoizedState;v=C.element,xy(a,l),Uc(l,g,null,f);var O=l.memoizedState;if(g=O.cache,Pa(l,sn,g),g!==C.cache&&dy(l,[sn],f,!0),qc(),g=O.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=YS(a,l,g,f);break t}else if(g!==v){v=Vr(Error(r(424)),l),zc(v),l=YS(a,l,g,f);break t}else for(a=l.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Be=Gr(a.firstChild),Rn=l,se=!0,$a=null,Wr=!0,f=Hw(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Is(),g===v){l=oa(a,l,f);break t}jn(a,l,g,f)}l=l.child}return l;case 26:return Ud(a,l),a===null?(f=l_(l.type,null,l.pendingProps,null))?l.memoizedState=f:se||(f=l.type,a=l.pendingProps,g=cf(Q.current).createElement(f),g[be]=l,g[mn]=a,$n(g,f,a),ae(g),l.stateNode=g):l.memoizedState=l_(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return pt(l),a===null&&se&&(g=l.stateNode=a_(l.type,l.pendingProps,Q.current),Rn=l,Wr=!0,v=Be,Qa(l.type)?(N0=v,Be=Gr(g.firstChild)):Be=v),jn(a,l,l.pendingProps.children,f),Ud(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&se&&((v=g=Be)&&(g=r6(g,l.type,l.pendingProps,Wr),g!==null?(l.stateNode=g,Rn=l,Be=Gr(g.firstChild),Wr=!1,v=!0):v=!1),v||za(l)),pt(l),v=l.type,C=l.pendingProps,O=a!==null?a.memoizedProps:null,g=C.children,T0(v,C)?g=null:O!==null&&T0(v,O)&&(l.flags|=32),l.memoizedState!==null&&(v=ky(a,l,xz,null,null,f),hu._currentValue=v),Ud(a,l),jn(a,l,g,f),l.child;case 6:return a===null&&se&&((a=f=Be)&&(f=i6(f,l.pendingProps,Wr),f!==null?(l.stateNode=f,Rn=l,Be=null,a=!0):a=!1),a||za(l)),null;case 13:return GS(a,l,f);case 4:return at(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Ys(l,null,g,f):jn(a,l,g,f),l.child;case 11:return PS(a,l,l.type,l.pendingProps,f);case 7:return jn(a,l,l.pendingProps,f),l.child;case 8:return jn(a,l,l.pendingProps.children,f),l.child;case 12:return jn(a,l,l.pendingProps.children,f),l.child;case 10:return g=l.pendingProps,Pa(l,l.type,g.value),jn(a,l,g.children,f),l.child;case 9:return v=l.type._context,g=l.pendingProps.children,Vs(l),v=Bn(v),g=g(v),l.flags|=1,jn(a,l,g,f),l.child;case 14:return FS(a,l,l.type,l.pendingProps,f);case 15:return IS(a,l,l.type,l.pendingProps,f);case 19:return ZS(a,l,f);case 31:return Tz(a,l,f);case 22:return HS(a,l,f,l.pendingProps);case 24:return Vs(l),g=Bn(sn),a===null?(v=gy(),v===null&&(v=Ae,C=fy(),v.pooledCache=C,C.refCount++,C!==null&&(v.pooledCacheLanes|=f),v=C),l.memoizedState={parent:g,cache:v},yy(l),Pa(l,sn,v)):((a.lanes&f)!==0&&(xy(a,l),Uc(l,null,null,f),qc()),v=a.memoizedState,C=l.memoizedState,v.parent!==g?(v={parent:g,cache:g},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Pa(l,sn,g)):(g=C.cache,Pa(l,sn,g),g!==v.cache&&dy(l,[sn],f,!0))),jn(a,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function la(a){a.flags|=4}function Jy(a,l,f,g,v){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(_C())a.flags|=8192;else throw Ws=Dd,my}else a.flags&=-16777217}function QS(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!f_(l))if(_C())a.flags|=8192;else throw Ws=Dd,my}function Yd(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?an():536870912,a.lanes|=l,cl|=l)}function Kc(a,l){if(!se)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function je(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(l)for(var v=a.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=f,l}function Az(a,l,f){var g=l.pendingProps;switch(oy(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(l),null;case 1:return je(l),null;case 3:return f=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),ia(sn),ut(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(Zo(l)?la(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,cy())),je(l),null;case 26:var v=l.type,C=l.memoizedState;return a===null?(la(l),C!==null?(je(l),QS(l,C)):(je(l),Jy(l,v,null,g,f))):C?C!==a.memoizedState?(la(l),je(l),QS(l,C)):(je(l),l.flags&=-16777217):(a=a.memoizedProps,a!==g&&la(l),je(l),Jy(l,v,a,g,f)),null;case 27:if(vt(l),f=Q.current,v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&la(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return je(l),null}a=et.current,Zo(l)?Nw(l):(a=a_(v,g,f),l.stateNode=a,la(l))}return je(l),null;case 5:if(vt(l),v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&la(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return je(l),null}if(C=et.current,Zo(l))Nw(l);else{var O=cf(Q.current);switch(C){case 1:C=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:C=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":C=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":C=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":C=O.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?C.multiple=!0:g.size&&(C.size=g.size);break;default:C=typeof g.is=="string"?O.createElement(v,{is:g.is}):O.createElement(v)}}C[be]=l,C[mn]=g;t:for(O=l.child;O!==null;){if(O.tag===5||O.tag===6)C.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===l)break t;for(;O.sibling===null;){if(O.return===null||O.return===l)break t;O=O.return}O.sibling.return=O.return,O=O.sibling}l.stateNode=C;t:switch($n(C,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break t;case"img":g=!0;break t;default:g=!1}g&&la(l)}}return je(l),Jy(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,f),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&la(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(a=Q.current,Zo(l)){if(a=l.stateNode,f=l.memoizedProps,g=null,v=Rn,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}a[be]=l,a=!!(a.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||GC(a.nodeValue,f)),a||za(l,!0)}else a=cf(a).createTextNode(g),a[be]=l,l.stateNode=a}return je(l),null;case 31:if(f=l.memoizedState,a===null||a.memoizedState!==null){if(g=Zo(l),f!==null){if(a===null){if(!g)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[be]=l}else Is(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;je(l),a=!1}else f=cy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return l.flags&256?(Or(l),l):(Or(l),null);if((l.flags&128)!==0)throw Error(r(558))}return je(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Zo(l),g!==null&&g.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[be]=l}else Is(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;je(l),v=!1}else v=cy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Or(l),l):(Or(l),null)}return Or(l),(l.flags&128)!==0?(l.lanes=f,l):(f=g!==null,a=a!==null&&a.memoizedState!==null,f&&(g=l.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),C=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==v&&(g.flags|=2048)),f!==a&&f&&(l.child.flags|=8192),Yd(l,l.updateQueue),je(l),null);case 4:return ut(),a===null&&w0(l.stateNode.containerInfo),je(l),null;case 10:return ia(l.type),je(l),null;case 19:if(V(en),g=l.memoizedState,g===null)return je(l),null;if(v=(l.flags&128)!==0,C=g.rendering,C===null)if(v)Kc(g,!1);else{if(Qe!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(C=Rd(a),C!==null){for(l.flags|=128,Kc(g,!1),a=C.updateQueue,l.updateQueue=a,Yd(l,a),l.subtreeFlags=0,a=f,f=l.child;f!==null;)Tw(f,a),f=f.sibling;return K(en,en.current&1|2),se&&na(l,g.treeForkCount),l.child}a=a.sibling}g.tail!==null&&Me()>Qd&&(l.flags|=128,v=!0,Kc(g,!1),l.lanes=4194304)}else{if(!v)if(a=Rd(C),a!==null){if(l.flags|=128,v=!0,a=a.updateQueue,l.updateQueue=a,Yd(l,a),Kc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!C.alternate&&!se)return je(l),null}else 2*Me()-g.renderingStartTime>Qd&&f!==536870912&&(l.flags|=128,v=!0,Kc(g,!1),l.lanes=4194304);g.isBackwards?(C.sibling=l.child,l.child=C):(a=g.last,a!==null?a.sibling=C:l.child=C,g.last=C)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Me(),a.sibling=null,f=en.current,K(en,v?f&1|2:f&1),se&&na(l,g.treeForkCount),a):(je(l),null);case 22:case 23:return Or(l),Sy(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(f&536870912)!==0&&(l.flags&128)===0&&(je(l),l.subtreeFlags&6&&(l.flags|=8192)):je(l),f=l.updateQueue,f!==null&&Yd(l,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048),a!==null&&V(qs),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ia(sn),je(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function Mz(a,l){switch(oy(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ia(sn),ut(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return vt(l),null;case 31:if(l.memoizedState!==null){if(Or(l),l.alternate===null)throw Error(r(340));Is()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Or(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Is()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return V(en),null;case 4:return ut(),null;case 10:return ia(l.type),null;case 22:case 23:return Or(l),Sy(),a!==null&&V(qs),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ia(sn),null;case 25:return null;default:return null}}function JS(a,l){switch(oy(l),l.tag){case 3:ia(sn),ut();break;case 26:case 27:case 5:vt(l);break;case 4:ut();break;case 31:l.memoizedState!==null&&Or(l);break;case 13:Or(l);break;case 19:V(en);break;case 10:ia(l.type);break;case 22:case 23:Or(l),Sy(),a!==null&&V(qs);break;case 24:ia(sn)}}function Qc(a,l){try{var f=l.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&a)===a){g=void 0;var C=f.create,O=f.inst;g=C(),O.destroy=g}f=f.next}while(f!==v)}}catch(Y){Se(l,l.return,Y)}}function Ua(a,l,f){try{var g=l.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var C=v.next;g=C;do{if((g.tag&a)===a){var O=g.inst,Y=O.destroy;if(Y!==void 0){O.destroy=void 0,v=l;var J=f,ct=Y;try{ct()}catch(ft){Se(v,J,ft)}}}g=g.next}while(g!==C)}}catch(ft){Se(l,l.return,ft)}}function tC(a){var l=a.updateQueue;if(l!==null){var f=a.stateNode;try{qw(l,f)}catch(g){Se(a,a.return,g)}}}function eC(a,l,f){f.props=Xs(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(g){Se(a,l,g)}}function Jc(a,l){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof f=="function"?a.refCleanup=f(g):f.current=g}}catch(v){Se(a,l,v)}}function Li(a,l){var f=a.ref,g=a.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(v){Se(a,l,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){Se(a,l,v)}else f.current=null}function nC(a){var l=a.type,f=a.memoizedProps,g=a.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break t;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(v){Se(a,a.return,v)}}function t0(a,l,f){try{var g=a.stateNode;Kz(g,a.type,f,l),g[mn]=l}catch(v){Se(a,a.return,v)}}function rC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Qa(a.type)||a.tag===4}function e0(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||rC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Qa(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function n0(a,l,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(a),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Ji));else if(g!==4&&(g===27&&Qa(a.type)&&(f=a.stateNode,l=null),a=a.child,a!==null))for(n0(a,l,f),a=a.sibling;a!==null;)n0(a,l,f),a=a.sibling}function Gd(a,l,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(g!==4&&(g===27&&Qa(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(Gd(a,l,f),a=a.sibling;a!==null;)Gd(a,l,f),a=a.sibling}function iC(a){var l=a.stateNode,f=a.memoizedProps;try{for(var g=a.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);$n(l,g,f),l[be]=a,l[mn]=f}catch(C){Se(a,a.return,C)}}var ca=!1,cn=!1,r0=!1,aC=typeof WeakSet=="function"?WeakSet:Set,En=null;function Dz(a,l){if(a=a.containerInfo,_0=mf,a=yw(a),Zm(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else t:{f=(f=a.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var v=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break t}var O=0,Y=-1,J=-1,ct=0,ft=0,mt=a,ht=null;e:for(;;){for(var dt;mt!==f||v!==0&&mt.nodeType!==3||(Y=O+v),mt!==C||g!==0&&mt.nodeType!==3||(J=O+g),mt.nodeType===3&&(O+=mt.nodeValue.length),(dt=mt.firstChild)!==null;)ht=mt,mt=dt;for(;;){if(mt===a)break e;if(ht===f&&++ct===v&&(Y=O),ht===C&&++ft===g&&(J=O),(dt=mt.nextSibling)!==null)break;mt=ht,ht=mt.parentNode}mt=dt}f=Y===-1||J===-1?null:{start:Y,end:J}}else f=null}f=f||{start:0,end:0}}else f=null;for(k0={focusedElem:a,selectionRange:f},mf=!1,En=l;En!==null;)if(l=En,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,En=a;else for(;En!==null;){switch(l=En,C=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)v=a[f],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,f=l,v=C.memoizedProps,C=C.memoizedState,g=f.stateNode;try{var Tt=Xs(f.type,v);a=g.getSnapshotBeforeUpdate(Tt,C),g.__reactInternalSnapshotBeforeUpdate=a}catch(It){Se(f,f.return,It)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,f=a.nodeType,f===9)A0(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":A0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,En=a;break}En=l.return}}function sC(a,l,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:ha(a,f),g&4&&Qc(5,f);break;case 1:if(ha(a,f),g&4)if(a=f.stateNode,l===null)try{a.componentDidMount()}catch(O){Se(f,f.return,O)}else{var v=Xs(f.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(v,l,a.__reactInternalSnapshotBeforeUpdate)}catch(O){Se(f,f.return,O)}}g&64&&tC(f),g&512&&Jc(f,f.return);break;case 3:if(ha(a,f),g&64&&(a=f.updateQueue,a!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{qw(a,l)}catch(O){Se(f,f.return,O)}}break;case 27:l===null&&g&4&&iC(f);case 26:case 5:ha(a,f),l===null&&g&4&&nC(f),g&512&&Jc(f,f.return);break;case 12:ha(a,f);break;case 31:ha(a,f),g&4&&cC(a,f);break;case 13:ha(a,f),g&4&&uC(a,f),g&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=Pz.bind(null,f),a6(a,f))));break;case 22:if(g=f.memoizedState!==null||ca,!g){l=l!==null&&l.memoizedState!==null||cn,v=ca;var C=cn;ca=g,(cn=l)&&!C?da(a,f,(f.subtreeFlags&8772)!==0):ha(a,f),ca=v,cn=C}break;case 30:break;default:ha(a,f)}}function oC(a){var l=a.alternate;l!==null&&(a.alternate=null,oC(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&xt(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Fe=null,xr=!1;function ua(a,l,f){for(f=f.child;f!==null;)lC(a,l,f),f=f.sibling}function lC(a,l,f){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(hr,f)}catch{}switch(f.tag){case 26:cn||Li(f,l),ua(a,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:cn||Li(f,l);var g=Fe,v=xr;Qa(f.type)&&(Fe=f.stateNode,xr=!1),ua(a,l,f),lu(f.stateNode),Fe=g,xr=v;break;case 5:cn||Li(f,l);case 6:if(g=Fe,v=xr,Fe=null,ua(a,l,f),Fe=g,xr=v,Fe!==null)if(xr)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(f.stateNode)}catch(C){Se(f,l,C)}else try{Fe.removeChild(f.stateNode)}catch(C){Se(f,l,C)}break;case 18:Fe!==null&&(xr?(a=Fe,t_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),yl(a)):t_(Fe,f.stateNode));break;case 4:g=Fe,v=xr,Fe=f.stateNode.containerInfo,xr=!0,ua(a,l,f),Fe=g,xr=v;break;case 0:case 11:case 14:case 15:Ua(2,f,l),cn||Ua(4,f,l),ua(a,l,f);break;case 1:cn||(Li(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"&&eC(f,l,g)),ua(a,l,f);break;case 21:ua(a,l,f);break;case 22:cn=(g=cn)||f.memoizedState!==null,ua(a,l,f),cn=g;break;default:ua(a,l,f)}}function cC(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{yl(a)}catch(f){Se(l,l.return,f)}}}function uC(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{yl(a)}catch(f){Se(l,l.return,f)}}function Nz(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new aC),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new aC),l;default:throw Error(r(435,a.tag))}}function Xd(a,l){var f=Nz(a);l.forEach(function(g){if(!f.has(g)){f.add(g);var v=Fz.bind(null,a,g);g.then(v,v)}})}function br(a,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var v=f[g],C=a,O=l,Y=O;t:for(;Y!==null;){switch(Y.tag){case 27:if(Qa(Y.type)){Fe=Y.stateNode,xr=!1;break t}break;case 5:Fe=Y.stateNode,xr=!1;break t;case 3:case 4:Fe=Y.stateNode.containerInfo,xr=!0;break t}Y=Y.return}if(Fe===null)throw Error(r(160));lC(C,O,v),Fe=null,xr=!1,C=v.alternate,C!==null&&(C.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)hC(l,a),l=l.sibling}var li=null;function hC(a,l){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:br(l,a),vr(a),g&4&&(Ua(3,a,a.return),Qc(3,a),Ua(5,a,a.return));break;case 1:br(l,a),vr(a),g&512&&(cn||f===null||Li(f,f.return)),g&64&&ca&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var v=li;if(br(l,a),vr(a),g&512&&(cn||f===null||Li(f,f.return)),g&4){var C=f!==null?f.memoizedState:null;if(g=a.memoizedState,f===null)if(g===null)if(a.stateNode===null){t:{g=a.type,f=a.memoizedProps,v=v.ownerDocument||v;e:switch(g){case"title":C=v.getElementsByTagName("title")[0],(!C||C[rt]||C[be]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=v.createElement(g),v.head.insertBefore(C,v.querySelector("head > title"))),$n(C,g,f),C[be]=a,ae(C),g=C;break t;case"link":var O=h_("link","href",v).get(g+(f.href||""));if(O){for(var Y=0;Y<O.length;Y++)if(C=O[Y],C.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&C.getAttribute("rel")===(f.rel==null?null:f.rel)&&C.getAttribute("title")===(f.title==null?null:f.title)&&C.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){O.splice(Y,1);break e}}C=v.createElement(g),$n(C,g,f),v.head.appendChild(C);break;case"meta":if(O=h_("meta","content",v).get(g+(f.content||""))){for(Y=0;Y<O.length;Y++)if(C=O[Y],C.getAttribute("content")===(f.content==null?null:""+f.content)&&C.getAttribute("name")===(f.name==null?null:f.name)&&C.getAttribute("property")===(f.property==null?null:f.property)&&C.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&C.getAttribute("charset")===(f.charSet==null?null:f.charSet)){O.splice(Y,1);break e}}C=v.createElement(g),$n(C,g,f),v.head.appendChild(C);break;default:throw Error(r(468,g))}C[be]=a,ae(C),g=C}a.stateNode=g}else d_(v,a.type,a.stateNode);else a.stateNode=u_(v,g,a.memoizedProps);else C!==g?(C===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):C.count--,g===null?d_(v,a.type,a.stateNode):u_(v,g,a.memoizedProps)):g===null&&a.stateNode!==null&&t0(a,a.memoizedProps,f.memoizedProps)}break;case 27:br(l,a),vr(a),g&512&&(cn||f===null||Li(f,f.return)),f!==null&&g&4&&t0(a,a.memoizedProps,f.memoizedProps);break;case 5:if(br(l,a),vr(a),g&512&&(cn||f===null||Li(f,f.return)),a.flags&32){v=a.stateNode;try{Fo(v,"")}catch(Tt){Se(a,a.return,Tt)}}g&4&&a.stateNode!=null&&(v=a.memoizedProps,t0(a,v,f!==null?f.memoizedProps:v)),g&1024&&(r0=!0);break;case 6:if(br(l,a),vr(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,f=a.stateNode;try{f.nodeValue=g}catch(Tt){Se(a,a.return,Tt)}}break;case 3:if(df=null,v=li,li=uf(l.containerInfo),br(l,a),li=v,vr(a),g&4&&f!==null&&f.memoizedState.isDehydrated)try{yl(l.containerInfo)}catch(Tt){Se(a,a.return,Tt)}r0&&(r0=!1,dC(a));break;case 4:g=li,li=uf(a.stateNode.containerInfo),br(l,a),vr(a),li=g;break;case 12:br(l,a),vr(a);break;case 31:br(l,a),vr(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Xd(a,g)));break;case 13:br(l,a),vr(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Kd=Me()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Xd(a,g)));break;case 22:v=a.memoizedState!==null;var J=f!==null&&f.memoizedState!==null,ct=ca,ft=cn;if(ca=ct||v,cn=ft||J,br(l,a),cn=ft,ca=ct,vr(a),g&8192)t:for(l=a.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(f===null||J||ca||cn||Zs(a)),f=null,l=a;;){if(l.tag===5||l.tag===26){if(f===null){J=f=l;try{if(C=J.stateNode,v)O=C.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{Y=J.stateNode;var mt=J.memoizedProps.style,ht=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;Y.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(Tt){Se(J,J.return,Tt)}}}else if(l.tag===6){if(f===null){J=l;try{J.stateNode.nodeValue=v?"":J.memoizedProps}catch(Tt){Se(J,J.return,Tt)}}}else if(l.tag===18){if(f===null){J=l;try{var dt=J.stateNode;v?e_(dt,!0):e_(J.stateNode,!1)}catch(Tt){Se(J,J.return,Tt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,Xd(a,f))));break;case 19:br(l,a),vr(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Xd(a,g)));break;case 30:break;case 21:break;default:br(l,a),vr(a)}}function vr(a){var l=a.flags;if(l&2){try{for(var f,g=a.return;g!==null;){if(rC(g)){f=g;break}g=g.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var v=f.stateNode,C=e0(a);Gd(a,C,v);break;case 5:var O=f.stateNode;f.flags&32&&(Fo(O,""),f.flags&=-33);var Y=e0(a);Gd(a,Y,O);break;case 3:case 4:var J=f.stateNode.containerInfo,ct=e0(a);n0(a,ct,J);break;default:throw Error(r(161))}}catch(ft){Se(a,a.return,ft)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function dC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;dC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function ha(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)sC(a,l.alternate,l),l=l.sibling}function Zs(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ua(4,l,l.return),Zs(l);break;case 1:Li(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&eC(l,l.return,f),Zs(l);break;case 27:lu(l.stateNode);case 26:case 5:Li(l,l.return),Zs(l);break;case 22:l.memoizedState===null&&Zs(l);break;case 30:Zs(l);break;default:Zs(l)}a=a.sibling}}function da(a,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,v=a,C=l,O=C.flags;switch(C.tag){case 0:case 11:case 15:da(v,C,f),Qc(4,C);break;case 1:if(da(v,C,f),g=C,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ct){Se(g,g.return,ct)}if(g=C,v=g.updateQueue,v!==null){var Y=g.stateNode;try{var J=v.shared.hiddenCallbacks;if(J!==null)for(v.shared.hiddenCallbacks=null,v=0;v<J.length;v++)Vw(J[v],Y)}catch(ct){Se(g,g.return,ct)}}f&&O&64&&tC(C),Jc(C,C.return);break;case 27:iC(C);case 26:case 5:da(v,C,f),f&&g===null&&O&4&&nC(C),Jc(C,C.return);break;case 12:da(v,C,f);break;case 31:da(v,C,f),f&&O&4&&cC(v,C);break;case 13:da(v,C,f),f&&O&4&&uC(v,C);break;case 22:C.memoizedState===null&&da(v,C,f),Jc(C,C.return);break;case 30:break;default:da(v,C,f)}l=l.sibling}}function i0(a,l){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&Pc(f))}function a0(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Pc(a))}function ci(a,l,f,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)fC(a,l,f,g),l=l.sibling}function fC(a,l,f,g){var v=l.flags;switch(l.tag){case 0:case 11:case 15:ci(a,l,f,g),v&2048&&Qc(9,l);break;case 1:ci(a,l,f,g);break;case 3:ci(a,l,f,g),v&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Pc(a)));break;case 12:if(v&2048){ci(a,l,f,g),a=l.stateNode;try{var C=l.memoizedProps,O=C.id,Y=C.onPostCommit;typeof Y=="function"&&Y(O,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){Se(l,l.return,J)}}else ci(a,l,f,g);break;case 31:ci(a,l,f,g);break;case 13:ci(a,l,f,g);break;case 23:break;case 22:C=l.stateNode,O=l.alternate,l.memoizedState!==null?C._visibility&2?ci(a,l,f,g):tu(a,l):C._visibility&2?ci(a,l,f,g):(C._visibility|=2,sl(a,l,f,g,(l.subtreeFlags&10256)!==0||!1)),v&2048&&i0(O,l);break;case 24:ci(a,l,f,g),v&2048&&a0(l.alternate,l);break;default:ci(a,l,f,g)}}function sl(a,l,f,g,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var C=a,O=l,Y=f,J=g,ct=O.flags;switch(O.tag){case 0:case 11:case 15:sl(C,O,Y,J,v),Qc(8,O);break;case 23:break;case 22:var ft=O.stateNode;O.memoizedState!==null?ft._visibility&2?sl(C,O,Y,J,v):tu(C,O):(ft._visibility|=2,sl(C,O,Y,J,v)),v&&ct&2048&&i0(O.alternate,O);break;case 24:sl(C,O,Y,J,v),v&&ct&2048&&a0(O.alternate,O);break;default:sl(C,O,Y,J,v)}l=l.sibling}}function tu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=a,g=l,v=g.flags;switch(g.tag){case 22:tu(f,g),v&2048&&i0(g.alternate,g);break;case 24:tu(f,g),v&2048&&a0(g.alternate,g);break;default:tu(f,g)}l=l.sibling}}var eu=8192;function ol(a,l,f){if(a.subtreeFlags&eu)for(a=a.child;a!==null;)pC(a,l,f),a=a.sibling}function pC(a,l,f){switch(a.tag){case 26:ol(a,l,f),a.flags&eu&&a.memoizedState!==null&&y6(f,li,a.memoizedState,a.memoizedProps);break;case 5:ol(a,l,f);break;case 3:case 4:var g=li;li=uf(a.stateNode.containerInfo),ol(a,l,f),li=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=eu,eu=16777216,ol(a,l,f),eu=g):ol(a,l,f));break;default:ol(a,l,f)}}function gC(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function nu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];En=g,yC(g,a)}gC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)mC(a),a=a.sibling}function mC(a){switch(a.tag){case 0:case 11:case 15:nu(a),a.flags&2048&&Ua(9,a,a.return);break;case 3:nu(a);break;case 12:nu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Zd(a)):nu(a);break;default:nu(a)}}function Zd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];En=g,yC(g,a)}gC(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ua(8,l,l.return),Zd(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Zd(l));break;default:Zd(l)}a=a.sibling}}function yC(a,l){for(;En!==null;){var f=En;switch(f.tag){case 0:case 11:case 15:Ua(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Pc(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,En=g;else t:for(f=a;En!==null;){g=En;var v=g.sibling,C=g.return;if(oC(g),g===f){En=null;break t}if(v!==null){v.return=C,En=v;break t}En=C}}}var Lz={getCacheForType:function(a){var l=Bn(sn),f=l.data.get(a);return f===void 0&&(f=a(),l.data.set(a,f)),f},cacheSignal:function(){return Bn(sn).controller.signal}},Oz=typeof WeakMap=="function"?WeakMap:Map,fe=0,Ae=null,Kt=null,ee=0,we=0,Rr=null,Wa=!1,ll=!1,s0=!1,fa=0,Qe=0,Ya=0,Ks=0,o0=0,Br=0,cl=0,ru=null,wr=null,l0=!1,Kd=0,xC=0,Qd=1/0,Jd=null,Ga=null,yn=0,Xa=null,ul=null,pa=0,c0=0,u0=null,bC=null,iu=0,h0=null;function jr(){return(fe&2)!==0&&ee!==0?ee&-ee:R.T!==null?y0():Hn()}function vC(){if(Br===0)if((ee&536870912)===0||se){var a=Mi;Mi<<=1,(Mi&3932160)===0&&(Mi=262144),Br=a}else Br=536870912;return a=Lr.current,a!==null&&(a.flags|=32),Br}function Sr(a,l,f){(a===Ae&&(we===2||we===9)||a.cancelPendingCommit!==null)&&(hl(a,0),Za(a,ee,Br,!1)),Tn(a,f),((fe&2)===0||a!==Ae)&&(a===Ae&&((fe&2)===0&&(Ks|=f),Qe===4&&Za(a,ee,Br,!1)),Oi(a))}function wC(a,l,f){if((fe&6)!==0)throw Error(r(327));var g=!f&&(l&127)===0&&(l&a.expiredLanes)===0||ie(a,l),v=g?jz(a,l):f0(a,l,!0),C=g;do{if(v===0){ll&&!g&&Za(a,l,0,!1);break}else{if(f=a.current.alternate,C&&!Rz(f)){v=f0(a,l,!1),C=!1;continue}if(v===2){if(C=l,a.errorRecoveryDisabledLanes&C)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;t:{var Y=a;v=ru;var J=Y.current.memoizedState.isDehydrated;if(J&&(hl(Y,O).flags|=256),O=f0(Y,O,!1),O!==2){if(s0&&!J){Y.errorRecoveryDisabledLanes|=C,Ks|=C,v=4;break t}C=wr,wr=v,C!==null&&(wr===null?wr=C:wr.push.apply(wr,C))}v=O}if(C=!1,v!==2)continue}}if(v===1){hl(a,0),Za(a,l,0,!0);break}t:{switch(g=a,C=v,C){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Za(g,l,Br,!Wa);break t;case 2:wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=Kd+300-Me(),10<v)){if(Za(g,l,Br,!Wa),Ze(g,0,!0)!==0)break t;pa=l,g.timeoutHandle=QC(SC.bind(null,g,f,wr,Jd,l0,l,Br,Ks,cl,Wa,C,"Throttled",-0,0),v);break t}SC(g,f,wr,Jd,l0,l,Br,Ks,cl,Wa,C,null,-0,0)}}break}while(!0);Oi(a)}function SC(a,l,f,g,v,C,O,Y,J,ct,ft,mt,ht,dt){if(a.timeoutHandle=-1,mt=l.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ji},pC(l,C,mt);var Tt=(C&62914560)===C?Kd-Me():(C&4194048)===C?xC-Me():0;if(Tt=x6(mt,Tt),Tt!==null){pa=C,a.cancelPendingCommit=Tt(DC.bind(null,a,l,C,f,g,v,O,Y,J,ft,mt,null,ht,dt)),Za(a,C,O,!ct);return}}DC(a,l,C,f,g,v,O,Y,J)}function Rz(a){for(var l=a;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var v=f[g],C=v.getSnapshot;v=v.value;try{if(!Dr(C(),v))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Za(a,l,f,g){l&=~o0,l&=~Ks,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var v=l;0<v;){var C=31-Xe(v),O=1<<C;g[C]=-1,v&=~O}f!==0&&In(a,f,l)}function tf(){return(fe&6)===0?(au(0),!1):!0}function d0(){if(Kt!==null){if(we===0)var a=Kt.return;else a=Kt,ra=Hs=null,Ay(a),el=null,Ic=0,a=Kt;for(;a!==null;)JS(a.alternate,a),a=a.return;Kt=null}}function hl(a,l){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,t6(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),pa=0,d0(),Ae=a,Kt=f=ea(a.current,null),ee=l,we=0,Rr=null,Wa=!1,ll=ie(a,l),s0=!1,cl=Br=o0=Ks=Ya=Qe=0,wr=ru=null,l0=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var v=31-Xe(g),C=1<<v;l|=a[v],g&=~C}return fa=l,wd(),f}function CC(a,l){Xt=null,R.H=Xc,l===tl||l===Md?(l=Pw(),we=3):l===my?(l=Pw(),we=4):we=l===qy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Rr=l,Kt===null&&(Qe=1,Vd(a,Vr(l,a.current)))}function _C(){var a=Lr.current;return a===null?!0:(ee&4194048)===ee?Yr===null:(ee&62914560)===ee||(ee&536870912)!==0?a===Yr:!1}function kC(){var a=R.H;return R.H=Xc,a===null?Xc:a}function TC(){var a=R.A;return R.A=Lz,a}function ef(){Qe=4,Wa||(ee&4194048)!==ee&&Lr.current!==null||(ll=!0),(Ya&134217727)===0&&(Ks&134217727)===0||Ae===null||Za(Ae,ee,Br,!1)}function f0(a,l,f){var g=fe;fe|=2;var v=kC(),C=TC();(Ae!==a||ee!==l)&&(Jd=null,hl(a,l)),l=!1;var O=Qe;t:do try{if(we!==0&&Kt!==null){var Y=Kt,J=Rr;switch(we){case 8:d0(),O=6;break t;case 3:case 2:case 9:case 6:Lr.current===null&&(l=!0);var ct=we;if(we=0,Rr=null,dl(a,Y,J,ct),f&&ll){O=0;break t}break;default:ct=we,we=0,Rr=null,dl(a,Y,J,ct)}}Bz(),O=Qe;break}catch(ft){CC(a,ft)}while(!0);return l&&a.shellSuspendCounter++,ra=Hs=null,fe=g,R.H=v,R.A=C,Kt===null&&(Ae=null,ee=0,wd()),O}function Bz(){for(;Kt!==null;)EC(Kt)}function jz(a,l){var f=fe;fe|=2;var g=kC(),v=TC();Ae!==a||ee!==l?(Jd=null,Qd=Me()+500,hl(a,l)):ll=ie(a,l);t:do try{if(we!==0&&Kt!==null){l=Kt;var C=Rr;e:switch(we){case 1:we=0,Rr=null,dl(a,l,C,1);break;case 2:case 9:if($w(C)){we=0,Rr=null,AC(l);break}l=function(){we!==2&&we!==9||Ae!==a||(we=7),Oi(a)},C.then(l,l);break t;case 3:we=7;break t;case 4:we=5;break t;case 7:$w(C)?(we=0,Rr=null,AC(l)):(we=0,Rr=null,dl(a,l,C,7));break;case 5:var O=null;switch(Kt.tag){case 26:O=Kt.memoizedState;case 5:case 27:var Y=Kt;if(O?f_(O):Y.stateNode.complete){we=0,Rr=null;var J=Y.sibling;if(J!==null)Kt=J;else{var ct=Y.return;ct!==null?(Kt=ct,nf(ct)):Kt=null}break e}}we=0,Rr=null,dl(a,l,C,5);break;case 6:we=0,Rr=null,dl(a,l,C,6);break;case 8:d0(),Qe=6;break t;default:throw Error(r(462))}}$z();break}catch(ft){CC(a,ft)}while(!0);return ra=Hs=null,R.H=g,R.A=v,fe=f,Kt!==null?0:(Ae=null,ee=0,wd(),Qe)}function $z(){for(;Kt!==null&&!cr();)EC(Kt)}function EC(a){var l=KS(a.alternate,a,fa);a.memoizedProps=a.pendingProps,l===null?nf(a):Kt=l}function AC(a){var l=a,f=l.alternate;switch(l.tag){case 15:case 0:l=US(f,l,l.pendingProps,l.type,void 0,ee);break;case 11:l=US(f,l,l.pendingProps,l.type.render,l.ref,ee);break;case 5:Ay(l);default:JS(f,l),l=Kt=Tw(l,fa),l=KS(f,l,fa)}a.memoizedProps=a.pendingProps,l===null?nf(a):Kt=l}function dl(a,l,f,g){ra=Hs=null,Ay(l),el=null,Ic=0;var v=l.return;try{if(kz(a,v,l,f,ee)){Qe=1,Vd(a,Vr(f,a.current)),Kt=null;return}}catch(C){if(v!==null)throw Kt=v,C;Qe=1,Vd(a,Vr(f,a.current)),Kt=null;return}l.flags&32768?(se||g===1?a=!0:ll||(ee&536870912)!==0?a=!1:(Wa=a=!0,(g===2||g===9||g===3||g===6)&&(g=Lr.current,g!==null&&g.tag===13&&(g.flags|=16384))),MC(l,a)):nf(l)}function nf(a){var l=a;do{if((l.flags&32768)!==0){MC(l,Wa);return}a=l.return;var f=Az(l.alternate,l,fa);if(f!==null){Kt=f;return}if(l=l.sibling,l!==null){Kt=l;return}Kt=l=a}while(l!==null);Qe===0&&(Qe=5)}function MC(a,l){do{var f=Mz(a.alternate,a);if(f!==null){f.flags&=32767,Kt=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(a=a.sibling,a!==null)){Kt=a;return}Kt=a=f}while(a!==null);Qe=6,Kt=null}function DC(a,l,f,g,v,C,O,Y,J){a.cancelPendingCommit=null;do rf();while(yn!==0);if((fe&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(C=l.lanes|l.childLanes,C|=ey,Pe(a,f,C,O,Y,J),a===Ae&&(Kt=Ae=null,ee=0),ul=l,Xa=a,pa=f,c0=C,u0=v,bC=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Iz(Nn,function(){return BC(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=R.T,R.T=null,v=I.p,I.p=2,O=fe,fe|=4;try{Dz(a,l,f)}finally{fe=O,I.p=v,R.T=g}}yn=1,NC(),LC(),OC()}}function NC(){if(yn===1){yn=0;var a=Xa,l=ul,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=R.T,R.T=null;var g=I.p;I.p=2;var v=fe;fe|=4;try{hC(l,a);var C=k0,O=yw(a.containerInfo),Y=C.focusedElem,J=C.selectionRange;if(O!==Y&&Y&&Y.ownerDocument&&mw(Y.ownerDocument.documentElement,Y)){if(J!==null&&Zm(Y)){var ct=J.start,ft=J.end;if(ft===void 0&&(ft=ct),"selectionStart"in Y)Y.selectionStart=ct,Y.selectionEnd=Math.min(ft,Y.value.length);else{var mt=Y.ownerDocument||document,ht=mt&&mt.defaultView||window;if(ht.getSelection){var dt=ht.getSelection(),Tt=Y.textContent.length,It=Math.min(J.start,Tt),ke=J.end===void 0?It:Math.min(J.end,Tt);!dt.extend&&It>ke&&(O=ke,ke=It,It=O);var st=gw(Y,It),it=gw(Y,ke);if(st&&it&&(dt.rangeCount!==1||dt.anchorNode!==st.node||dt.anchorOffset!==st.offset||dt.focusNode!==it.node||dt.focusOffset!==it.offset)){var lt=mt.createRange();lt.setStart(st.node,st.offset),dt.removeAllRanges(),It>ke?(dt.addRange(lt),dt.extend(it.node,it.offset)):(lt.setEnd(it.node,it.offset),dt.addRange(lt))}}}}for(mt=[],dt=Y;dt=dt.parentNode;)dt.nodeType===1&&mt.push({element:dt,left:dt.scrollLeft,top:dt.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<mt.length;Y++){var gt=mt[Y];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}mf=!!_0,k0=_0=null}finally{fe=v,I.p=g,R.T=f}}a.current=l,yn=2}}function LC(){if(yn===2){yn=0;var a=Xa,l=ul,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=R.T,R.T=null;var g=I.p;I.p=2;var v=fe;fe|=4;try{sC(a,l.alternate,l)}finally{fe=v,I.p=g,R.T=f}}yn=3}}function OC(){if(yn===4||yn===3){yn=0,ur();var a=Xa,l=ul,f=pa,g=bC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?yn=5:(yn=0,ul=Xa=null,RC(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Ga=null),dr(f),l=l.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(hr,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=R.T,v=I.p,I.p=2,R.T=null;try{for(var C=a.onRecoverableError,O=0;O<g.length;O++){var Y=g[O];C(Y.value,{componentStack:Y.stack})}}finally{R.T=l,I.p=v}}(pa&3)!==0&&rf(),Oi(a),v=a.pendingLanes,(f&261930)!==0&&(v&42)!==0?a===h0?iu++:(iu=0,h0=a):iu=0,au(0)}}function RC(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Pc(l)))}function rf(){return NC(),LC(),OC(),BC()}function BC(){if(yn!==5)return!1;var a=Xa,l=c0;c0=0;var f=dr(pa),g=R.T,v=I.p;try{I.p=32>f?32:f,R.T=null,f=u0,u0=null;var C=Xa,O=pa;if(yn=0,ul=Xa=null,pa=0,(fe&6)!==0)throw Error(r(331));var Y=fe;if(fe|=4,mC(C.current),fC(C,C.current,O,f),fe=Y,au(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(hr,C)}catch{}return!0}finally{I.p=v,R.T=g,RC(a,l)}}function jC(a,l,f){l=Vr(f,l),l=Vy(a.stateNode,l,2),a=Ha(a,l,2),a!==null&&(Tn(a,2),Oi(a))}function Se(a,l,f){if(a.tag===3)jC(a,a,f);else for(;l!==null;){if(l.tag===3){jC(l,a,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ga===null||!Ga.has(g))){a=Vr(f,a),f=$S(2),g=Ha(l,f,2),g!==null&&(zS(f,g,l,a),Tn(g,2),Oi(g));break}}l=l.return}}function p0(a,l,f){var g=a.pingCache;if(g===null){g=a.pingCache=new Oz;var v=new Set;g.set(l,v)}else v=g.get(l),v===void 0&&(v=new Set,g.set(l,v));v.has(f)||(s0=!0,v.add(f),a=zz.bind(null,a,l,f),l.then(a,a))}function zz(a,l,f){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,Ae===a&&(ee&f)===f&&(Qe===4||Qe===3&&(ee&62914560)===ee&&300>Me()-Kd?(fe&2)===0&&hl(a,0):o0|=f,cl===ee&&(cl=0)),Oi(a)}function $C(a,l){l===0&&(l=an()),a=Ps(a,l),a!==null&&(Tn(a,l),Oi(a))}function Pz(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),$C(a,f)}function Fz(a,l){var f=0;switch(a.tag){case 31:case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(f=v.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),$C(a,f)}function Iz(a,l){return qe(a,l)}var af=null,fl=null,g0=!1,sf=!1,m0=!1,Ka=0;function Oi(a){a!==fl&&a.next===null&&(fl===null?af=fl=a:fl=fl.next=a),sf=!0,g0||(g0=!0,Vz())}function au(a,l){if(!m0&&sf){m0=!0;do for(var f=!1,g=af;g!==null;){if(a!==0){var v=g.pendingLanes;if(v===0)var C=0;else{var O=g.suspendedLanes,Y=g.pingedLanes;C=(1<<31-Xe(42|a)+1)-1,C&=v&~(O&~Y),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(f=!0,IC(g,C))}else C=ee,C=Ze(g,g===Ae?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||ie(g,C)||(f=!0,IC(g,C));g=g.next}while(f);m0=!1}}function Hz(){zC()}function zC(){sf=g0=!1;var a=0;Ka!==0&&Jz()&&(a=Ka);for(var l=Me(),f=null,g=af;g!==null;){var v=g.next,C=PC(g,l);C===0?(g.next=null,f===null?af=v:f.next=v,v===null&&(fl=f)):(f=g,(a!==0||(C&3)!==0)&&(sf=!0)),g=v}yn!==0&&yn!==5||au(a),Ka!==0&&(Ka=0)}function PC(a,l){for(var f=a.suspendedLanes,g=a.pingedLanes,v=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var O=31-Xe(C),Y=1<<O,J=v[O];J===-1?((Y&f)===0||(Y&g)!==0)&&(v[O]=Ue(Y,l)):J<=l&&(a.expiredLanes|=Y),C&=~Y}if(l=Ae,f=ee,f=Ze(a,a===l?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,f===0||a===l&&(we===2||we===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Dn(g),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||ie(a,f)){if(l=f&-f,l===a.callbackPriority)return l;switch(g!==null&&Dn(g),dr(f)){case 2:case 8:f=kn;break;case 32:f=Nn;break;case 268435456:f=Er;break;default:f=Nn}return g=FC.bind(null,a),f=qe(f,g),a.callbackPriority=l,a.callbackNode=f,l}return g!==null&&g!==null&&Dn(g),a.callbackPriority=2,a.callbackNode=null,2}function FC(a,l){if(yn!==0&&yn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(rf()&&a.callbackNode!==f)return null;var g=ee;return g=Ze(a,a===Ae?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(wC(a,g,l),PC(a,Me()),a.callbackNode!=null&&a.callbackNode===f?FC.bind(null,a):null)}function IC(a,l){if(rf())return null;wC(a,l,!0)}function Vz(){e6(function(){(fe&6)!==0?qe(_n,Hz):zC()})}function y0(){if(Ka===0){var a=Qo;a===0&&(a=Ar,Ar<<=1,(Ar&261888)===0&&(Ar=256)),Ka=a}return Ka}function HC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:fd(""+a)}function VC(a,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,a.id&&f.setAttribute("form",a.id),l.parentNode.insertBefore(f,l),a=new FormData(a),f.parentNode.removeChild(f),a}function qz(a,l,f,g,v){if(l==="submit"&&f&&f.stateNode===v){var C=HC((v[mn]||null).action),O=g.submitter;O&&(l=(l=O[mn]||null)?HC(l.formAction):O.getAttribute("formAction"),l!==null&&(C=l,O=null));var Y=new yd("action","action",null,g,v);a.push({event:Y,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ka!==0){var J=O?VC(v,O):new FormData(v);$y(f,{pending:!0,data:J,method:v.method,action:C},null,J)}}else typeof C=="function"&&(Y.preventDefault(),J=O?VC(v,O):new FormData(v),$y(f,{pending:!0,data:J,method:v.method,action:C},C,J))},currentTarget:v}]})}}for(var x0=0;x0<ty.length;x0++){var b0=ty[x0],Uz=b0.toLowerCase(),Wz=b0[0].toUpperCase()+b0.slice(1);oi(Uz,"on"+Wz)}oi(vw,"onAnimationEnd"),oi(ww,"onAnimationIteration"),oi(Sw,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(lz,"onTransitionRun"),oi(cz,"onTransitionStart"),oi(uz,"onTransitionCancel"),oi(Cw,"onTransitionEnd"),De("onMouseEnter",["mouseout","mouseover"]),De("onMouseLeave",["mouseout","mouseover"]),De("onPointerEnter",["pointerout","pointerover"]),De("onPointerLeave",["pointerout","pointerover"]),Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function qC(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var g=a[f],v=g.event;g=g.listeners;t:{var C=void 0;if(l)for(var O=g.length-1;0<=O;O--){var Y=g[O],J=Y.instance,ct=Y.currentTarget;if(Y=Y.listener,J!==C&&v.isPropagationStopped())break t;C=Y,v.currentTarget=ct;try{C(v)}catch(ft){vd(ft)}v.currentTarget=null,C=J}else for(O=0;O<g.length;O++){if(Y=g[O],J=Y.instance,ct=Y.currentTarget,Y=Y.listener,J!==C&&v.isPropagationStopped())break t;C=Y,v.currentTarget=ct;try{C(v)}catch(ft){vd(ft)}v.currentTarget=null,C=J}}}}function Qt(a,l){var f=l[Ki];f===void 0&&(f=l[Ki]=new Set);var g=a+"__bubble";f.has(g)||(UC(l,a,2,!1),f.add(g))}function v0(a,l,f){var g=0;l&&(g|=4),UC(f,a,g,l)}var of="_reactListening"+Math.random().toString(36).slice(2);function w0(a){if(!a[of]){a[of]=!0,pr.forEach(function(f){f!=="selectionchange"&&(Yz.has(f)||v0(f,!1,a),v0(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[of]||(l[of]=!0,v0("selectionchange",!1,l))}}function UC(a,l,f,g){switch(v_(l)){case 2:var v=w6;break;case 8:v=S6;break;default:v=j0}f=v.bind(null,l,f,a),v=void 0,!Im||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),g?v!==void 0?a.addEventListener(l,f,{capture:!0,passive:v}):a.addEventListener(l,f,!0):v!==void 0?a.addEventListener(l,f,{passive:v}):a.addEventListener(l,f,!1)}function S0(a,l,f,g,v){var C=g;if((l&1)===0&&(l&2)===0&&g!==null)t:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var Y=g.stateNode.containerInfo;if(Y===v)break;if(O===4)for(O=g.return;O!==null;){var J=O.tag;if((J===3||J===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;Y!==null;){if(O=Ct(Y),O===null)return;if(J=O.tag,J===5||J===6||J===26||J===27){g=C=O;continue t}Y=Y.parentNode}}g=g.return}Z2(function(){var ct=C,ft=Pm(f),mt=[];t:{var ht=_w.get(a);if(ht!==void 0){var dt=yd,Tt=a;switch(a){case"keypress":if(gd(f)===0)break t;case"keydown":case"keyup":dt=F4;break;case"focusin":Tt="focus",dt=Um;break;case"focusout":Tt="blur",dt=Um;break;case"beforeblur":case"afterblur":dt=Um;break;case"click":if(f.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=J2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=A4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=V4;break;case vw:case ww:case Sw:dt=N4;break;case Cw:dt=U4;break;case"scroll":case"scrollend":dt=T4;break;case"wheel":dt=Y4;break;case"copy":case"cut":case"paste":dt=O4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=ew;break;case"toggle":case"beforetoggle":dt=X4}var It=(l&4)!==0,ke=!It&&(a==="scroll"||a==="scrollend"),st=It?ht!==null?ht+"Capture":null:ht;It=[];for(var it=ct,lt;it!==null;){var gt=it;if(lt=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||lt===null||st===null||(gt=Ac(it,st),gt!=null&&It.push(ou(it,gt,lt))),ke)break;it=it.return}0<It.length&&(ht=new dt(ht,Tt,null,f,ft),mt.push({event:ht,listeners:It}))}}if((l&7)===0){t:{if(ht=a==="mouseover"||a==="pointerover",dt=a==="mouseout"||a==="pointerout",ht&&f!==zm&&(Tt=f.relatedTarget||f.fromElement)&&(Ct(Tt)||Tt[Ir]))break t;if((dt||ht)&&(ht=ft.window===ft?ft:(ht=ft.ownerDocument)?ht.defaultView||ht.parentWindow:window,dt?(Tt=f.relatedTarget||f.toElement,dt=ct,Tt=Tt?Ct(Tt):null,Tt!==null&&(ke=s(Tt),It=Tt.tag,Tt!==ke||It!==5&&It!==27&&It!==6)&&(Tt=null)):(dt=null,Tt=ct),dt!==Tt)){if(It=J2,gt="onMouseLeave",st="onMouseEnter",it="mouse",(a==="pointerout"||a==="pointerover")&&(It=ew,gt="onPointerLeave",st="onPointerEnter",it="pointer"),ke=dt==null?ht:Re(dt),lt=Tt==null?ht:Re(Tt),ht=new It(gt,it+"leave",dt,f,ft),ht.target=ke,ht.relatedTarget=lt,gt=null,Ct(ft)===ct&&(It=new It(st,it+"enter",Tt,f,ft),It.target=lt,It.relatedTarget=ke,gt=It),ke=gt,dt&&Tt)e:{for(It=Gz,st=dt,it=Tt,lt=0,gt=st;gt;gt=It(gt))lt++;gt=0;for(var $t=it;$t;$t=It($t))gt++;for(;0<lt-gt;)st=It(st),lt--;for(;0<gt-lt;)it=It(it),gt--;for(;lt--;){if(st===it||it!==null&&st===it.alternate){It=st;break e}st=It(st),it=It(it)}It=null}else It=null;dt!==null&&WC(mt,ht,dt,It,!1),Tt!==null&&ke!==null&&WC(mt,ke,Tt,It,!0)}}t:{if(ht=ct?Re(ct):window,dt=ht.nodeName&&ht.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ht.type==="file")var ce=cw;else if(ow(ht))if(uw)ce=az;else{ce=rz;var Ot=nz}else dt=ht.nodeName,!dt||dt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ct&&$m(ct.elementType)&&(ce=cw):ce=iz;if(ce&&(ce=ce(a,ct))){lw(mt,ce,f,ft);break t}Ot&&Ot(a,ht,ct),a==="focusout"&&ct&&ht.type==="number"&&ct.memoizedProps.value!=null&&Ec(ht,"number",ht.value)}switch(Ot=ct?Re(ct):window,a){case"focusin":(ow(Ot)||Ot.contentEditable==="true")&&(qo=Ot,Km=ct,jc=null);break;case"focusout":jc=Km=qo=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,xw(mt,f,ft);break;case"selectionchange":if(oz)break;case"keydown":case"keyup":xw(mt,f,ft)}var Zt;if(Ym)t:{switch(a){case"compositionstart":var ne="onCompositionStart";break t;case"compositionend":ne="onCompositionEnd";break t;case"compositionupdate":ne="onCompositionUpdate";break t}ne=void 0}else Vo?aw(a,f)&&(ne="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(ne="onCompositionStart");ne&&(nw&&f.locale!=="ko"&&(Vo||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Vo&&(Zt=K2()):(Ba=ft,Hm="value"in Ba?Ba.value:Ba.textContent,Vo=!0)),Ot=lf(ct,ne),0<Ot.length&&(ne=new tw(ne,a,null,f,ft),mt.push({event:ne,listeners:Ot}),Zt?ne.data=Zt:(Zt=sw(f),Zt!==null&&(ne.data=Zt)))),(Zt=K4?Q4(a,f):J4(a,f))&&(ne=lf(ct,"onBeforeInput"),0<ne.length&&(Ot=new tw("onBeforeInput","beforeinput",null,f,ft),mt.push({event:Ot,listeners:ne}),Ot.data=Zt)),qz(mt,a,ct,f,ft)}qC(mt,l)})}function ou(a,l,f){return{instance:a,listener:l,currentTarget:f}}function lf(a,l){for(var f=l+"Capture",g=[];a!==null;){var v=a,C=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||C===null||(v=Ac(a,f),v!=null&&g.unshift(ou(a,v,C)),v=Ac(a,l),v!=null&&g.push(ou(a,v,C))),a.tag===3)return g;a=a.return}return[]}function Gz(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function WC(a,l,f,g,v){for(var C=l._reactName,O=[];f!==null&&f!==g;){var Y=f,J=Y.alternate,ct=Y.stateNode;if(Y=Y.tag,J!==null&&J===g)break;Y!==5&&Y!==26&&Y!==27||ct===null||(J=ct,v?(ct=Ac(f,C),ct!=null&&O.unshift(ou(f,ct,J))):v||(ct=Ac(f,C),ct!=null&&O.push(ou(f,ct,J)))),f=f.return}O.length!==0&&a.push({event:l,listeners:O})}var Xz=/\r\n?/g,Zz=/\u0000|\uFFFD/g;function YC(a){return(typeof a=="string"?a:""+a).replace(Xz,`
`).replace(Zz,"")}function GC(a,l){return l=YC(l),YC(a)===l}function _e(a,l,f,g,v,C){switch(f){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Fo(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Fo(a,""+g);break;case"className":zo(a,"class",g);break;case"tabIndex":zo(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":zo(a,f,g);break;case"style":G2(a,g,C);break;case"data":if(l!=="object"){zo(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||f!=="href")){a.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(f);break}g=fd(""+g),a.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(f==="formAction"?(l!=="input"&&_e(a,l,"name",v.name,v,null),_e(a,l,"formEncType",v.formEncType,v,null),_e(a,l,"formMethod",v.formMethod,v,null),_e(a,l,"formTarget",v.formTarget,v,null)):(_e(a,l,"encType",v.encType,v,null),_e(a,l,"method",v.method,v,null),_e(a,l,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(f);break}g=fd(""+g),a.setAttribute(f,g);break;case"onClick":g!=null&&(a.onclick=Ji);break;case"onScroll":g!=null&&Qt("scroll",a);break;case"onScrollEnd":g!=null&&Qt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}f=fd(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,""+g):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":g===!0?a.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(f,g):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(f,g):a.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(f):a.setAttribute(f,g);break;case"popover":Qt("beforetoggle",a),Qt("toggle",a),$o(a,"popover",g);break;case"xlinkActuate":si(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":si(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":si(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":si(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":si(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":si(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":si(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":si(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":si(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":$o(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=_4.get(f)||f,$o(a,f,g))}}function C0(a,l,f,g,v,C){switch(f){case"style":G2(a,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"children":typeof g=="string"?Fo(a,g):(typeof g=="number"||typeof g=="bigint")&&Fo(a,""+g);break;case"onScroll":g!=null&&Qt("scroll",a);break;case"onScrollEnd":g!=null&&Qt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Ji);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ai.hasOwnProperty(f))t:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),l=f.slice(2,v?f.length-7:void 0),C=a[mn]||null,C=C!=null?C[f]:null,typeof C=="function"&&a.removeEventListener(l,C,v),typeof g=="function")){typeof C!="function"&&C!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(l,g,v);break t}f in a?a[f]=g:g===!0?a.setAttribute(f,""):$o(a,f,g)}}}function $n(a,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",a),Qt("load",a);var g=!1,v=!1,C;for(C in f)if(f.hasOwnProperty(C)){var O=f[C];if(O!=null)switch(C){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_e(a,l,C,O,f,null)}}v&&_e(a,l,"srcSet",f.srcSet,f,null),g&&_e(a,l,"src",f.src,f,null);return;case"input":Qt("invalid",a);var Y=C=O=v=null,J=null,ct=null;for(g in f)if(f.hasOwnProperty(g)){var ft=f[g];if(ft!=null)switch(g){case"name":v=ft;break;case"type":O=ft;break;case"checked":J=ft;break;case"defaultChecked":ct=ft;break;case"value":C=ft;break;case"defaultValue":Y=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,l));break;default:_e(a,l,g,ft,f,null)}}dd(a,C,Y,J,ct,O,v,!1);return;case"select":Qt("invalid",a),g=O=C=null;for(v in f)if(f.hasOwnProperty(v)&&(Y=f[v],Y!=null))switch(v){case"value":C=Y;break;case"defaultValue":O=Y;break;case"multiple":g=Y;default:_e(a,l,v,Y,f,null)}l=C,f=O,a.multiple=!!g,l!=null?Qi(a,!!g,l,!1):f!=null&&Qi(a,!!g,f,!0);return;case"textarea":Qt("invalid",a),C=v=g=null;for(O in f)if(f.hasOwnProperty(O)&&(Y=f[O],Y!=null))switch(O){case"value":g=Y;break;case"defaultValue":v=Y;break;case"children":C=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:_e(a,l,O,Y,f,null)}W2(a,g,v,C);return;case"option":for(J in f)f.hasOwnProperty(J)&&(g=f[J],g!=null)&&(J==="selected"?a.selected=g&&typeof g!="function"&&typeof g!="symbol":_e(a,l,J,g,f,null));return;case"dialog":Qt("beforetoggle",a),Qt("toggle",a),Qt("cancel",a),Qt("close",a);break;case"iframe":case"object":Qt("load",a);break;case"video":case"audio":for(g=0;g<su.length;g++)Qt(su[g],a);break;case"image":Qt("error",a),Qt("load",a);break;case"details":Qt("toggle",a);break;case"embed":case"source":case"link":Qt("error",a),Qt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in f)if(f.hasOwnProperty(ct)&&(g=f[ct],g!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_e(a,l,ct,g,f,null)}return;default:if($m(l)){for(ft in f)f.hasOwnProperty(ft)&&(g=f[ft],g!==void 0&&C0(a,l,ft,g,f,void 0));return}}for(Y in f)f.hasOwnProperty(Y)&&(g=f[Y],g!=null&&_e(a,l,Y,g,f,null))}function Kz(a,l,f,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,C=null,O=null,Y=null,J=null,ct=null,ft=null;for(dt in f){var mt=f[dt];if(f.hasOwnProperty(dt)&&mt!=null)switch(dt){case"checked":break;case"value":break;case"defaultValue":J=mt;default:g.hasOwnProperty(dt)||_e(a,l,dt,null,g,mt)}}for(var ht in g){var dt=g[ht];if(mt=f[ht],g.hasOwnProperty(ht)&&(dt!=null||mt!=null))switch(ht){case"type":C=dt;break;case"name":v=dt;break;case"checked":ct=dt;break;case"defaultChecked":ft=dt;break;case"value":O=dt;break;case"defaultValue":Y=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,l));break;default:dt!==mt&&_e(a,l,ht,dt,g,mt)}}Bs(a,O,Y,J,ct,ft,C,v);return;case"select":dt=O=Y=ht=null;for(C in f)if(J=f[C],f.hasOwnProperty(C)&&J!=null)switch(C){case"value":break;case"multiple":dt=J;default:g.hasOwnProperty(C)||_e(a,l,C,null,g,J)}for(v in g)if(C=g[v],J=f[v],g.hasOwnProperty(v)&&(C!=null||J!=null))switch(v){case"value":ht=C;break;case"defaultValue":Y=C;break;case"multiple":O=C;default:C!==J&&_e(a,l,v,C,g,J)}l=Y,f=O,g=dt,ht!=null?Qi(a,!!f,ht,!1):!!g!=!!f&&(l!=null?Qi(a,!!f,l,!0):Qi(a,!!f,f?[]:"",!1));return;case"textarea":dt=ht=null;for(Y in f)if(v=f[Y],f.hasOwnProperty(Y)&&v!=null&&!g.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:_e(a,l,Y,null,g,v)}for(O in g)if(v=g[O],C=f[O],g.hasOwnProperty(O)&&(v!=null||C!=null))switch(O){case"value":ht=v;break;case"defaultValue":dt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==C&&_e(a,l,O,v,g,C)}U2(a,ht,dt);return;case"option":for(var Tt in f)ht=f[Tt],f.hasOwnProperty(Tt)&&ht!=null&&!g.hasOwnProperty(Tt)&&(Tt==="selected"?a.selected=!1:_e(a,l,Tt,null,g,ht));for(J in g)ht=g[J],dt=f[J],g.hasOwnProperty(J)&&ht!==dt&&(ht!=null||dt!=null)&&(J==="selected"?a.selected=ht&&typeof ht!="function"&&typeof ht!="symbol":_e(a,l,J,ht,g,dt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in f)ht=f[It],f.hasOwnProperty(It)&&ht!=null&&!g.hasOwnProperty(It)&&_e(a,l,It,null,g,ht);for(ct in g)if(ht=g[ct],dt=f[ct],g.hasOwnProperty(ct)&&ht!==dt&&(ht!=null||dt!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,l));break;default:_e(a,l,ct,ht,g,dt)}return;default:if($m(l)){for(var ke in f)ht=f[ke],f.hasOwnProperty(ke)&&ht!==void 0&&!g.hasOwnProperty(ke)&&C0(a,l,ke,void 0,g,ht);for(ft in g)ht=g[ft],dt=f[ft],!g.hasOwnProperty(ft)||ht===dt||ht===void 0&&dt===void 0||C0(a,l,ft,ht,g,dt);return}}for(var st in f)ht=f[st],f.hasOwnProperty(st)&&ht!=null&&!g.hasOwnProperty(st)&&_e(a,l,st,null,g,ht);for(mt in g)ht=g[mt],dt=f[mt],!g.hasOwnProperty(mt)||ht===dt||ht==null&&dt==null||_e(a,l,mt,ht,g,dt)}function XC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qz(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,f=performance.getEntriesByType("resource"),g=0;g<f.length;g++){var v=f[g],C=v.transferSize,O=v.initiatorType,Y=v.duration;if(C&&Y&&XC(O)){for(O=0,Y=v.responseEnd,g+=1;g<f.length;g++){var J=f[g],ct=J.startTime;if(ct>Y)break;var ft=J.transferSize,mt=J.initiatorType;ft&&XC(mt)&&(J=J.responseEnd,O+=ft*(J<Y?1:(Y-ct)/(J-ct)))}if(--g,l+=8*(C+O)/(v.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var _0=null,k0=null;function cf(a){return a.nodeType===9?a:a.ownerDocument}function ZC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KC(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function T0(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var E0=null;function Jz(){var a=window.event;return a&&a.type==="popstate"?a===E0?!1:(E0=a,!0):(E0=null,!1)}var QC=typeof setTimeout=="function"?setTimeout:void 0,t6=typeof clearTimeout=="function"?clearTimeout:void 0,JC=typeof Promise=="function"?Promise:void 0,e6=typeof queueMicrotask=="function"?queueMicrotask:typeof JC<"u"?function(a){return JC.resolve(null).then(a).catch(n6)}:QC;function n6(a){setTimeout(function(){throw a})}function Qa(a){return a==="head"}function t_(a,l){var f=l,g=0;do{var v=f.nextSibling;if(a.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"||f==="/&"){if(g===0){a.removeChild(v),yl(l);return}g--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")g++;else if(f==="html")lu(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,lu(f);for(var C=f.firstChild;C;){var O=C.nextSibling,Y=C.nodeName;C[rt]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=O}}else f==="body"&&lu(a.ownerDocument.body);f=v}while(f);yl(l)}function e_(a,l){var f=a;a=0;do{var g=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),g&&g.nodeType===8)if(f=g.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=g}while(f)}function A0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":A0(f),xt(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function r6(a,l,f,g){for(;a.nodeType===1;){var v=f;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[rt])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var C=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=Gr(a.nextSibling),a===null)break}return null}function i6(a,l,f){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=Gr(a.nextSibling),a===null))return null;return a}function n_(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Gr(a.nextSibling),a===null))return null;return a}function M0(a){return a.data==="$?"||a.data==="$~"}function D0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function a6(a,l){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||f.readyState!=="loading")l();else{var g=function(){l(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Gr(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var N0=null;function r_(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(l===0)return Gr(a.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}a=a.nextSibling}return null}function i_(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return a;l--}else f!=="/$"&&f!=="/&"||l++}a=a.previousSibling}return null}function a_(a,l,f){switch(l=cf(f),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function lu(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);xt(a)}var Xr=new Map,s_=new Set;function uf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ga=I.d;I.d={f:s6,r:o6,D:l6,C:c6,L:u6,m:h6,X:f6,S:d6,M:p6};function s6(){var a=ga.f(),l=tf();return a||l}function o6(a){var l=le(a);l!==null&&l.tag===5&&l.type==="form"?CS(l):ga.r(a)}var pl=typeof document>"u"?null:document;function o_(a,l,f){var g=pl;if(g&&typeof l=="string"&&l){var v=mr(l);v='link[rel="'+a+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),s_.has(v)||(s_.add(v),a={rel:a,crossOrigin:f,href:l},g.querySelector(v)===null&&(l=g.createElement("link"),$n(l,"link",a),ae(l),g.head.appendChild(l)))}}function l6(a){ga.D(a),o_("dns-prefetch",a,null)}function c6(a,l){ga.C(a,l),o_("preconnect",a,l)}function u6(a,l,f){ga.L(a,l,f);var g=pl;if(g&&a&&l){var v='link[rel="preload"][as="'+mr(l)+'"]';l==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+mr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+mr(f.imageSizes)+'"]')):v+='[href="'+mr(a)+'"]';var C=v;switch(l){case"style":C=gl(a);break;case"script":C=ml(a)}Xr.has(C)||(a=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:a,as:l},f),Xr.set(C,a),g.querySelector(v)!==null||l==="style"&&g.querySelector(cu(C))||l==="script"&&g.querySelector(uu(C))||(l=g.createElement("link"),$n(l,"link",a),ae(l),g.head.appendChild(l)))}}function h6(a,l){ga.m(a,l);var f=pl;if(f&&a){var g=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+mr(g)+'"][href="'+mr(a)+'"]',C=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=ml(a)}if(!Xr.has(C)&&(a=p({rel:"modulepreload",href:a},l),Xr.set(C,a),f.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(uu(C)))return}g=f.createElement("link"),$n(g,"link",a),ae(g),f.head.appendChild(g)}}}function d6(a,l,f){ga.S(a,l,f);var g=pl;if(g&&a){var v=ve(g).hoistableStyles,C=gl(a);l=l||"default";var O=v.get(C);if(!O){var Y={loading:0,preload:null};if(O=g.querySelector(cu(C)))Y.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},f),(f=Xr.get(C))&&L0(a,f);var J=O=g.createElement("link");ae(J),$n(J,"link",a),J._p=new Promise(function(ct,ft){J.onload=ct,J.onerror=ft}),J.addEventListener("load",function(){Y.loading|=1}),J.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,hf(O,l,g)}O={type:"stylesheet",instance:O,count:1,state:Y},v.set(C,O)}}}function f6(a,l){ga.X(a,l);var f=pl;if(f&&a){var g=ve(f).hoistableScripts,v=ml(a),C=g.get(v);C||(C=f.querySelector(uu(v)),C||(a=p({src:a,async:!0},l),(l=Xr.get(v))&&O0(a,l),C=f.createElement("script"),ae(C),$n(C,"link",a),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(v,C))}}function p6(a,l){ga.M(a,l);var f=pl;if(f&&a){var g=ve(f).hoistableScripts,v=ml(a),C=g.get(v);C||(C=f.querySelector(uu(v)),C||(a=p({src:a,async:!0,type:"module"},l),(l=Xr.get(v))&&O0(a,l),C=f.createElement("script"),ae(C),$n(C,"link",a),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(v,C))}}function l_(a,l,f,g){var v=(v=Q.current)?uf(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=gl(f.href),f=ve(v).hoistableStyles,g=f.get(l),g||(g={type:"style",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=gl(f.href);var C=ve(v).hoistableStyles,O=C.get(a);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,O),(C=v.querySelector(cu(a)))&&!C._p&&(O.instance=C,O.state.loading=5),Xr.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Xr.set(a,f),C||g6(v,a,f,O.state))),l&&g===null)throw Error(r(528,""));return O}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=ml(f),f=ve(v).hoistableScripts,g=f.get(l),g||(g={type:"script",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function gl(a){return'href="'+mr(a)+'"'}function cu(a){return'link[rel="stylesheet"]['+a+"]"}function c_(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function g6(a,l,f,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),$n(l,"link",f),ae(l),a.head.appendChild(l))}function ml(a){return'[src="'+mr(a)+'"]'}function uu(a){return"script[async]"+a}function u_(a,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+mr(f.href)+'"]');if(g)return l.instance=g,ae(g),g;var v=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),ae(g),$n(g,"style",v),hf(g,f.precedence,a),l.instance=g;case"stylesheet":v=gl(f.href);var C=a.querySelector(cu(v));if(C)return l.state.loading|=4,l.instance=C,ae(C),C;g=c_(f),(v=Xr.get(v))&&L0(g,v),C=(a.ownerDocument||a).createElement("link"),ae(C);var O=C;return O._p=new Promise(function(Y,J){O.onload=Y,O.onerror=J}),$n(C,"link",g),l.state.loading|=4,hf(C,f.precedence,a),l.instance=C;case"script":return C=ml(f.src),(v=a.querySelector(uu(C)))?(l.instance=v,ae(v),v):(g=f,(v=Xr.get(C))&&(g=p({},f),O0(g,v)),a=a.ownerDocument||a,v=a.createElement("script"),ae(v),$n(v,"link",g),a.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,hf(g,f.precedence,a));return l.instance}function hf(a,l,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,C=v,O=0;O<g.length;O++){var Y=g[O];if(Y.dataset.precedence===l)C=Y;else if(C!==v)break}C?C.parentNode.insertBefore(a,C.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(a,l.firstChild))}function L0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function O0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var df=null;function h_(a,l,f){if(df===null){var g=new Map,v=df=new Map;v.set(f,g)}else v=df,g=v.get(f),g||(g=new Map,v.set(f,g));if(g.has(a))return g;for(g.set(a,null),f=f.getElementsByTagName(a),v=0;v<f.length;v++){var C=f[v];if(!(C[rt]||C[be]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var O=C.getAttribute(l)||"";O=a+O;var Y=g.get(O);Y?Y.push(C):g.set(O,[C])}}return g}function d_(a,l,f){a=a.ownerDocument||a,a.head.insertBefore(f,l==="title"?a.querySelector("head > title"):null)}function m6(a,l,f){if(f===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(a=l.disabled,typeof l.precedence=="string"&&a==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function f_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function y6(a,l,f,g){if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var v=gl(g.href),C=l.querySelector(cu(v));if(C){l=C._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=ff.bind(a),l.then(a,a)),f.state.loading|=4,f.instance=C,ae(C);return}C=l.ownerDocument||l,g=c_(g),(v=Xr.get(v))&&L0(g,v),C=C.createElement("link"),ae(C);var O=C;O._p=new Promise(function(Y,J){O.onload=Y,O.onerror=J}),$n(C,"link",g),f.instance=C}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=ff.bind(a),l.addEventListener("load",f),l.addEventListener("error",f))}}var R0=0;function x6(a,l){return a.stylesheets&&a.count===0&&gf(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var g=setTimeout(function(){if(a.stylesheets&&gf(a,a.stylesheets),a.unsuspend){var C=a.unsuspend;a.unsuspend=null,C()}},6e4+l);0<a.imgBytes&&R0===0&&(R0=62500*Qz());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&gf(a,a.stylesheets),a.unsuspend)){var C=a.unsuspend;a.unsuspend=null,C()}},(a.imgBytes>R0?50:800)+l);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function ff(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var pf=null;function gf(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,pf=new Map,l.forEach(b6,a),pf=null,ff.call(a))}function b6(a,l){if(!(l.state.loading&4)){var f=pf.get(a);if(f)var g=f.get(null);else{f=new Map,pf.set(a,f);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<v.length;C++){var O=v[C];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(f.set(O.dataset.precedence,O),g=O)}g&&f.set(null,g)}v=l.instance,O=v.getAttribute("data-precedence"),C=f.get(O)||g,C===g&&f.set(null,v),f.set(O,v),this.count++,g=ff.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),C?C.parentNode.insertBefore(v,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),l.state.loading|=4}}var hu={$$typeof:w,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function v6(a,l,f,g,v,C,O,Y,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pn(0),this.hiddenUpdates=pn(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=C,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function p_(a,l,f,g,v,C,O,Y,J,ct,ft,mt){return a=new v6(a,l,f,O,J,ct,ft,mt,Y),l=1,C===!0&&(l|=24),C=Nr(3,null,null,l),a.current=C,C.stateNode=a,l=fy(),l.refCount++,a.pooledCache=l,l.refCount++,C.memoizedState={element:g,isDehydrated:f,cache:l},yy(C),a}function g_(a){return a?(a=Yo,a):Yo}function m_(a,l,f,g,v,C){v=g_(v),g.context===null?g.context=v:g.pendingContext=v,g=Ia(l),g.payload={element:f},C=C===void 0?null:C,C!==null&&(g.callback=C),f=Ha(a,g,l),f!==null&&(Sr(f,a,l),Vc(f,a,l))}function y_(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function B0(a,l){y_(a,l),(a=a.alternate)&&y_(a,l)}function x_(a){if(a.tag===13||a.tag===31){var l=Ps(a,67108864);l!==null&&Sr(l,a,67108864),B0(a,67108864)}}function b_(a){if(a.tag===13||a.tag===31){var l=jr();l=gn(l);var f=Ps(a,l);f!==null&&Sr(f,a,l),B0(a,l)}}var mf=!0;function w6(a,l,f,g){var v=R.T;R.T=null;var C=I.p;try{I.p=2,j0(a,l,f,g)}finally{I.p=C,R.T=v}}function S6(a,l,f,g){var v=R.T;R.T=null;var C=I.p;try{I.p=8,j0(a,l,f,g)}finally{I.p=C,R.T=v}}function j0(a,l,f,g){if(mf){var v=$0(g);if(v===null)S0(a,l,g,yf,f),w_(a,g);else if(_6(v,a,l,f,g))g.stopPropagation();else if(w_(a,g),l&4&&-1<C6.indexOf(a)){for(;v!==null;){var C=le(v);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var O=Le(C.pendingLanes);if(O!==0){var Y=C;for(Y.pendingLanes|=2,Y.entangledLanes|=2;O;){var J=1<<31-Xe(O);Y.entanglements[1]|=J,O&=~J}Oi(C),(fe&6)===0&&(Qd=Me()+500,au(0))}}break;case 31:case 13:Y=Ps(C,2),Y!==null&&Sr(Y,C,2),tf(),B0(C,2)}if(C=$0(g),C===null&&S0(a,l,g,yf,f),C===v)break;v=C}v!==null&&g.stopPropagation()}else S0(a,l,g,null,f)}}function $0(a){return a=Pm(a),z0(a)}var yf=null;function z0(a){if(yf=null,a=Ct(a),a!==null){var l=s(a);if(l===null)a=null;else{var f=l.tag;if(f===13){if(a=o(l),a!==null)return a;a=null}else if(f===31){if(a=c(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return yf=a,null}function v_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kn()){case _n:return 2;case kn:return 8;case Nn:case Fr:return 32;case Er:return 268435456;default:return 32}default:return 32}}var P0=!1,Ja=null,ts=null,es=null,du=new Map,fu=new Map,ns=[],C6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(a,l){switch(a){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":du.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(l.pointerId)}}function pu(a,l,f,g,v,C){return a===null||a.nativeEvent!==C?(a={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:C,targetContainers:[v]},l!==null&&(l=le(l),l!==null&&x_(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function _6(a,l,f,g,v){switch(l){case"focusin":return Ja=pu(Ja,a,l,f,g,v),!0;case"dragenter":return ts=pu(ts,a,l,f,g,v),!0;case"mouseover":return es=pu(es,a,l,f,g,v),!0;case"pointerover":var C=v.pointerId;return du.set(C,pu(du.get(C)||null,a,l,f,g,v)),!0;case"gotpointercapture":return C=v.pointerId,fu.set(C,pu(fu.get(C)||null,a,l,f,g,v)),!0}return!1}function S_(a){var l=Ct(a.target);if(l!==null){var f=s(l);if(f!==null){if(l=f.tag,l===13){if(l=o(f),l!==null){a.blockedOn=l,fr(a.priority,function(){b_(f)});return}}else if(l===31){if(l=c(f),l!==null){a.blockedOn=l,fr(a.priority,function(){b_(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function xf(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=$0(a.nativeEvent);if(f===null){f=a.nativeEvent;var g=new f.constructor(f.type,f);zm=g,f.target.dispatchEvent(g),zm=null}else return l=le(f),l!==null&&x_(l),a.blockedOn=f,!1;l.shift()}return!0}function C_(a,l,f){xf(a)&&f.delete(l)}function k6(){P0=!1,Ja!==null&&xf(Ja)&&(Ja=null),ts!==null&&xf(ts)&&(ts=null),es!==null&&xf(es)&&(es=null),du.forEach(C_),fu.forEach(C_)}function bf(a,l){a.blockedOn===l&&(a.blockedOn=null,P0||(P0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,k6)))}var vf=null;function __(a){vf!==a&&(vf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vf===a&&(vf=null);for(var l=0;l<a.length;l+=3){var f=a[l],g=a[l+1],v=a[l+2];if(typeof g!="function"){if(z0(g||f)===null)continue;break}var C=le(f);C!==null&&(a.splice(l,3),l-=3,$y(C,{pending:!0,data:v,method:f.method,action:g},g,v))}}))}function yl(a){function l(J){return bf(J,a)}Ja!==null&&bf(Ja,a),ts!==null&&bf(ts,a),es!==null&&bf(es,a),du.forEach(l),fu.forEach(l);for(var f=0;f<ns.length;f++){var g=ns[f];g.blockedOn===a&&(g.blockedOn=null)}for(;0<ns.length&&(f=ns[0],f.blockedOn===null);)S_(f),f.blockedOn===null&&ns.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var v=f[g],C=f[g+1],O=v[mn]||null;if(typeof C=="function")O||__(f);else if(O){var Y=null;if(C&&C.hasAttribute("formAction")){if(v=C,O=C[mn]||null)Y=O.formAction;else if(z0(v)!==null)continue}else Y=O.action;typeof Y=="function"?f[g+1]=Y:(f.splice(g,3),g-=3),__(f)}}}function k_(){function a(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),g||setTimeout(f,20)}function f(){if(!g&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function F0(a){this._internalRoot=a}wf.prototype.render=F0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,g=jr();m_(f,g,a,l,null,null)},wf.prototype.unmount=F0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;m_(a.current,2,null,a,null,null),tf(),l[Ir]=null}};function wf(a){this._internalRoot=a}wf.prototype.unstable_scheduleHydration=function(a){if(a){var l=Hn();a={blockedOn:null,target:a,priority:l};for(var f=0;f<ns.length&&l!==0&&l<ns[f].priority;f++);ns.splice(f,0,a),f===0&&S_(a)}};var T_=e.version;if(T_!=="19.2.4")throw Error(r(527,T_,"19.2.4"));I.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(l),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var T6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{hr=Sf.inject(T6),Ee=Sf}catch{}}return mu.createRoot=function(a,l){if(!i(a))throw Error(r(299));var f=!1,g="",v=OS,C=RS,O=BS;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),l=p_(a,1,!1,null,null,f,g,null,v,C,O,k_),a[Ir]=l.current,w0(a),new F0(l)},mu.hydrateRoot=function(a,l,f){if(!i(a))throw Error(r(299));var g=!1,v="",C=OS,O=RS,Y=BS,J=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(Y=f.onRecoverableError),f.formState!==void 0&&(J=f.formState)),l=p_(a,1,!0,l,f??null,g,v,J,C,O,Y,k_),l.context=g_(null),f=l.current,g=jr(),g=gn(g),v=Ia(g),v.callback=null,Ha(f,v,g),f=g,l.current.lanes=f,Tn(l,f),Oi(l),a[Ir]=l.current,w0(a),new wf(l)},mu.version="19.2.4",mu}var j_;function j6(){if(j_)return V0.exports;j_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),V0.exports=B6(),V0.exports}var $6=j6();const z6=Rh($6),Hv=A.createContext({});function Vv(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const SM=typeof window<"u",CM=SM?A.useLayoutEffect:A.useEffect,Og=A.createContext(null);function qv(t,e){t.indexOf(e)===-1&&t.push(e)}function Uv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vi=(t,e,n)=>n>e?e:n<t?t:n;let Wv=()=>{};const Ta={},_M=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kM(t){return typeof t=="object"&&t!==null}const TM=t=>/^0[^.\s]+$/u.test(t);function Yv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ti=t=>t,P6=(t,e)=>n=>e(t(n)),jh=(...t)=>t.reduce(P6),ih=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Gv{constructor(){this.subscriptions=[]}add(e){return qv(this.subscriptions,e),()=>Uv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sa=t=>t*1e3,Jr=t=>t/1e3;function EM(t,e){return e?t*(1e3/e):0}const AM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,F6=1e-7,I6=12;function H6(t,e,n,r,i){let s,o,c=0;do o=e+(n-e)/2,s=AM(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>F6&&++c<I6);return o}function $h(t,e,n,r){if(t===e&&n===r)return ti;const i=s=>H6(s,0,1,t,n);return s=>s===0||s===1?s:AM(i(s),e,r)}const MM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DM=t=>e=>1-t(1-e),NM=$h(.33,1.53,.69,.99),Xv=DM(NM),LM=MM(Xv),OM=t=>(t*=2)<1?.5*Xv(t):.5*(2-Math.pow(2,-10*(t-1))),Zv=t=>1-Math.sin(Math.acos(t)),RM=DM(Zv),BM=MM(Zv),V6=$h(.42,0,1,1),q6=$h(0,0,.58,1),jM=$h(.42,0,.58,1),U6=t=>Array.isArray(t)&&typeof t[0]!="number",$M=t=>Array.isArray(t)&&typeof t[0]=="number",W6={linear:ti,easeIn:V6,easeInOut:jM,easeOut:q6,circIn:Zv,circInOut:BM,circOut:RM,backIn:Xv,backInOut:LM,backOut:NM,anticipate:OM},Y6=t=>typeof t=="string",$_=t=>{if($M(t)){Wv(t.length===4);const[e,n,r,i]=t;return $h(e,n,r,i)}else if(Y6(t))return W6[t];return t},Cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function G6(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(d){o.has(d)&&(h.schedule(d),t()),d(c)}const h={schedule:(d,p=!1,m=!1)=>{const x=m&&i?n:r;return p&&o.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(c=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,h.process(d))}};return h}const X6=40;function zM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Cf.reduce((w,E)=>(w[E]=G6(s),w),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:d,update:p,preRender:m,render:y,postRender:x}=o,b=()=>{const w=Ta.useManualTiming?i.timestamp:performance.now();n=!1,Ta.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,X6),1)),i.timestamp=w,i.isProcessing=!0,c.process(i),u.process(i),h.process(i),d.process(i),p.process(i),m.process(i),y.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},S=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:Cf.reduce((w,E)=>{const M=o[E];return w[E]=(L,N=!1,$=!1)=>(n||S(),M.schedule(L,N,$)),w},{}),cancel:w=>{for(let E=0;E<Cf.length;E++)o[Cf[E]].cancel(w)},state:i,steps:o}}const{schedule:ze,cancel:xs,state:Fn,steps:Y0}=zM(typeof requestAnimationFrame<"u"?requestAnimationFrame:ti,!0);let ip;function Z6(){ip=void 0}const er={now:()=>(ip===void 0&&er.set(Fn.isProcessing||Ta.useManualTiming?Fn.timestamp:performance.now()),ip),set:t=>{ip=t,queueMicrotask(Z6)}},PM=t=>e=>typeof e=="string"&&e.startsWith(t),FM=PM("--"),K6=PM("var(--"),Kv=t=>K6(t)?Q6.test(t.split("/*")[0].trim()):!1,Q6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function z_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const pc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ah={...pc,transform:t=>Vi(0,1,t)},_f={...pc,default:1},Hu=t=>Math.round(t*1e5)/1e5,Qv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J6(t){return t==null}const tP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jv=(t,e)=>n=>!!(typeof n=="string"&&tP.test(n)&&n.startsWith(t)||e&&!J6(n)&&Object.prototype.hasOwnProperty.call(n,e)),IM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,c]=r.match(Qv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},eP=t=>Vi(0,255,t),G0={...pc,transform:t=>Math.round(eP(t))},ao={test:Jv("rgb","red"),parse:IM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+G0.transform(t)+", "+G0.transform(e)+", "+G0.transform(n)+", "+Hu(ah.transform(r))+")"};function nP(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sb={test:Jv("#"),parse:nP,transform:ao.transform},zh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ss=zh("deg"),Ii=zh("%"),Et=zh("px"),rP=zh("vh"),iP=zh("vw"),P_={...Ii,parse:t=>Ii.parse(t)/100,transform:t=>Ii.transform(t*100)},Dl={test:Jv("hsl","hue"),parse:IM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ii.transform(Hu(e))+", "+Ii.transform(Hu(n))+", "+Hu(ah.transform(r))+")"},un={test:t=>ao.test(t)||sb.test(t)||Dl.test(t),parse:t=>ao.test(t)?ao.parse(t):Dl.test(t)?Dl.parse(t):sb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ao.transform(t):Dl.transform(t),getAnimatableNone:t=>{const e=un.parse(t);return e.alpha=0,un.transform(e)}},aP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sP(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qv)?.length||0)+(t.match(aP)?.length||0)>0}const HM="number",VM="color",oP="var",lP="var(",F_="${}",cP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const c=e.replace(cP,u=>(un.test(u)?(r.color.push(s),i.push(VM),n.push(un.parse(u))):u.startsWith(lP)?(r.var.push(s),i.push(oP),n.push(u)):(r.number.push(s),i.push(HM),n.push(parseFloat(u))),++s,F_)).split(F_);return{values:n,split:c,indexes:r,types:i}}function qM(t){return sh(t).values}function UM(t){const{split:e,types:n}=sh(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const c=n[o];c===HM?s+=Hu(i[o]):c===VM?s+=un.transform(i[o]):s+=i[o]}return s}}const uP=t=>typeof t=="number"?0:un.test(t)?un.getAnimatableNone(t):t;function hP(t){const e=qM(t);return UM(t)(e.map(uP))}const bs={test:sP,parse:qM,createTransformer:UM,getAnimatableNone:hP};function X0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;i=X0(u,c,t+1/3),s=X0(u,c,t),o=X0(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ap(t,e){return n=>n>0?e:t}const We=(t,e,n)=>t+(e-t)*n,Z0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fP=[sb,ao,Dl],pP=t=>fP.find(e=>e.test(t));function I_(t){const e=pP(t);if(!e)return!1;let n=e.parse(t);return e===Dl&&(n=dP(n)),n}const H_=(t,e)=>{const n=I_(t),r=I_(e);if(!n||!r)return Ap(t,e);const i={...n};return s=>(i.red=Z0(n.red,r.red,s),i.green=Z0(n.green,r.green,s),i.blue=Z0(n.blue,r.blue,s),i.alpha=We(n.alpha,r.alpha,s),ao.transform(i))},ob=new Set(["none","hidden"]);function gP(t,e){return ob.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mP(t,e){return n=>We(t,e,n)}function t1(t){return typeof t=="number"?mP:typeof t=="string"?Kv(t)?Ap:un.test(t)?H_:bP:Array.isArray(t)?WM:typeof t=="object"?un.test(t)?H_:yP:Ap}function WM(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>t1(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function yP(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=t1(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function xP(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],c=t.values[o]??0;n[i]=c,r[s]++}return n}const bP=(t,e)=>{const n=bs.createTransformer(e),r=sh(t),i=sh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ob.has(t)&&!i.values.length||ob.has(e)&&!r.values.length?gP(t,e):jh(WM(xP(r,i),i.values),n):Ap(t,e)};function YM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?We(t,e,n):t1(t)(t,e)}const vP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ze.update(e,n),stop:()=>xs(e),now:()=>Fn.isProcessing?Fn.timestamp:er.now()}},GM=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Mp=2e4;function e1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Mp;)e+=n,r=t.next(e);return e>=Mp?1/0:e}function wP(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(e1(r),Mp);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Jr(i)}}const SP=5;function XM(t,e,n){const r=Math.max(e-SP,0);return EM(n-t(r),e-r)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},K0=.001;function CP({duration:t=Je.duration,bounce:e=Je.bounce,velocity:n=Je.velocity,mass:r=Je.mass}){let i,s,o=1-e;o=Vi(Je.minDamping,Je.maxDamping,o),t=Vi(Je.minDuration,Je.maxDuration,Jr(t)),o<1?(i=h=>{const d=h*o,p=d*t,m=d-n,y=lb(h,o),x=Math.exp(-p);return K0-m/y*x},s=h=>{const p=h*o*t,m=p*n+n,y=Math.pow(o,2)*Math.pow(h,2)*t,x=Math.exp(-p),b=lb(Math.pow(h,2),o);return(-i(h)+K0>0?-1:1)*((m-y)*x)/b}):(i=h=>{const d=Math.exp(-h*t),p=(h-n)*t+1;return-K0+d*p},s=h=>{const d=Math.exp(-h*t),p=(n-h)*(t*t);return d*p});const c=5/t,u=kP(i,s,c);if(t=Sa(t),isNaN(u))return{stiffness:Je.stiffness,damping:Je.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const _P=12;function kP(t,e,n){let r=n;for(let i=1;i<_P;i++)r=r-t(r)/e(r);return r}function lb(t,e){return t*Math.sqrt(1-e*e)}const TP=["duration","bounce"],EP=["stiffness","damping","mass"];function V_(t,e){return e.some(n=>t[n]!==void 0)}function AP(t){let e={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...t};if(!V_(t,EP)&&V_(t,TP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Vi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Je.mass,stiffness:i,damping:s}}else{const n=CP(t);e={...e,...n,mass:Je.mass},e.isResolvedFromDuration=!0}return e}function Dp(t=Je.visualDuration,e=Je.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:s},{stiffness:u,damping:h,mass:d,duration:p,velocity:m,isResolvedFromDuration:y}=AP({...n,velocity:-Jr(n.velocity||0)}),x=m||0,b=h/(2*Math.sqrt(u*d)),S=o-s,_=Jr(Math.sqrt(u/d)),T=Math.abs(S)<5;r||(r=T?Je.restSpeed.granular:Je.restSpeed.default),i||(i=T?Je.restDelta.granular:Je.restDelta.default);let w;if(b<1){const M=lb(_,b);w=L=>{const N=Math.exp(-b*_*L);return o-N*((x+b*_*S)/M*Math.sin(M*L)+S*Math.cos(M*L))}}else if(b===1)w=M=>o-Math.exp(-_*M)*(S+(x+_*S)*M);else{const M=_*Math.sqrt(b*b-1);w=L=>{const N=Math.exp(-b*_*L),$=Math.min(M*L,300);return o-N*((x+b*_*S)*Math.sinh($)+M*S*Math.cosh($))/M}}const E={calculatedDuration:y&&p||null,next:M=>{const L=w(M);if(y)c.done=M>=p;else{let N=M===0?x:0;b<1&&(N=M===0?Sa(x):XM(w,M,L));const $=Math.abs(N)<=r,z=Math.abs(o-L)<=i;c.done=$&&z}return c.value=c.done?o:L,c},toString:()=>{const M=Math.min(e1(E),Mp),L=GM(N=>E.next(M*N).value,M,30);return M+"ms "+L},toTransition:()=>{}};return E}Dp.applyToOptions=t=>{const e=wP(t,100,Dp);return t.ease=e.ease,t.duration=Sa(e.duration),t.type="keyframes",t};function cb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:c,max:u,restDelta:h=.5,restSpeed:d}){const p=t[0],m={done:!1,value:p},y=$=>c!==void 0&&$<c||u!==void 0&&$>u,x=$=>c===void 0?u:u===void 0||Math.abs(c-$)<Math.abs(u-$)?c:u;let b=n*e;const S=p+b,_=o===void 0?S:o(S);_!==S&&(b=_-p);const T=$=>-b*Math.exp(-$/r),w=$=>_+T($),E=$=>{const z=T($),P=w($);m.done=Math.abs(z)<=h,m.value=m.done?_:P};let M,L;const N=$=>{y(m.value)&&(M=$,L=Dp({keyframes:[m.value,x(m.value)],velocity:XM(w,$,m.value),damping:i,stiffness:s,restDelta:h,restSpeed:d}))};return N(0),{calculatedDuration:null,next:$=>{let z=!1;return!L&&M===void 0&&(z=!0,E($),N($)),M!==void 0&&$>=M?L.next($-M):(!z&&E($),m)}}}function MP(t,e,n){const r=[],i=n||Ta.mix||YM,s=t.length-1;for(let o=0;o<s;o++){let c=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||ti:e;c=jh(u,c)}r.push(c)}return r}function DP(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Wv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=MP(e,r,i),u=c.length,h=d=>{if(o&&d<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const m=ih(t[p],t[p+1],d);return c[p](m)};return n?d=>h(Vi(t[0],t[s-1],d)):h}function NP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ih(0,e,r);t.push(We(n,1,i))}}function LP(t){const e=[0];return NP(e,t.length-1),e}function OP(t,e){return t.map(n=>n*e)}function RP(t,e){return t.map(()=>e||jM).splice(0,t.length-1)}function Vu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=U6(r)?r.map($_):$_(r),s={done:!1,value:e[0]},o=OP(n&&n.length===e.length?n:LP(e),t),c=DP(o,e,{ease:Array.isArray(i)?i:RP(e,i)});return{calculatedDuration:t,next:u=>(s.value=c(u),s.done=u>=t,s)}}const BP=t=>t!==null;function n1(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(BP),c=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!c||r===void 0?s[c]:r}const jP={decay:cb,inertia:cb,tween:Vu,keyframes:Vu,spring:Dp};function ZM(t){typeof t.type=="string"&&(t.type=jP[t.type])}class r1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const $P=t=>t/100;class i1 extends r1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==er.now()&&this.tick(er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ZM(e);const{type:n=Vu,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:c}=e;const u=n||Vu;u!==Vu&&typeof c[0]!="number"&&(this.mixKeyframes=jh($P,YM(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=e1(h));const{calculatedDuration:d}=h;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:d,repeat:p,repeatType:m,repeatDelay:y,type:x,onUpdate:b,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,E=r;if(p){const $=Math.min(this.currentTime,i)/c;let z=Math.floor($),P=$%1;!P&&$>=1&&(P=1),P===1&&z--,z=Math.min(z,p+1),z%2&&(m==="reverse"?(P=1-P,y&&(P-=y/c)):m==="mirror"&&(E=o)),w=Vi(0,1,P)*c}const M=T?{done:!1,value:d[0]}:E.next(w);s&&(M.value=s(M.value));let{done:L}=M;!T&&u!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return N&&x!==cb&&(M.value=n1(d,this.options,S,this.speed)),b&&b(M.value),N&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return Jr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jr(e)}get time(){return Jr(this.currentTime)}set time(e){e=Sa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=vP,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function zP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const so=t=>t*180/Math.PI,ub=t=>{const e=so(Math.atan2(t[1],t[0]));return hb(e)},PP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ub,rotateZ:ub,skewX:t=>so(Math.atan(t[1])),skewY:t=>so(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},hb=t=>(t=t%360,t<0&&(t+=360),t),q_=ub,U_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),W_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),FP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:U_,scaleY:W_,scale:t=>(U_(t)+W_(t))/2,rotateX:t=>hb(so(Math.atan2(t[6],t[5]))),rotateY:t=>hb(so(Math.atan2(-t[2],t[0]))),rotateZ:q_,rotate:q_,skewX:t=>so(Math.atan(t[4])),skewY:t=>so(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function db(t){return t.includes("scale")?1:0}function fb(t,e){if(!t||t==="none")return db(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=FP,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=PP,i=c}if(!i)return db(e);const s=r[e],o=i[1].split(",").map(HP);return typeof s=="function"?s(o):o[s]}const IP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return fb(n,e)};function HP(t){return parseFloat(t.trim())}const gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mc=new Set(gc),Y_=t=>t===pc||t===Et,VP=new Set(["x","y","z"]),qP=gc.filter(t=>!VP.has(t));function UP(t){const e=[];return qP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ds={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>fb(e,"x"),y:(t,{transform:e})=>fb(e,"y")};ds.translateX=ds.x;ds.translateY=ds.y;const po=new Set;let pb=!1,gb=!1,mb=!1;function KM(){if(gb){const t=Array.from(po).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=UP(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gb=!1,pb=!1,po.forEach(t=>t.complete(mb)),po.clear()}function QM(){po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gb=!0)})}function WP(){mb=!0,QM(),KM(),mb=!1}class a1{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(po.add(this),pb||(pb=!0,ze.read(QM),ze.resolveKeyframes(KM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const c=r.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}zP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),po.delete(this)}cancel(){this.state==="scheduled"&&(po.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const YP=t=>t.startsWith("--");function GP(t,e,n){YP(e)?t.style.setProperty(e,n):t.style[e]=n}const XP=Yv(()=>window.ScrollTimeline!==void 0),ZP={};function KP(t,e){const n=Yv(t);return()=>ZP[e]??n()}const JM=KP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,G_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function tD(t,e){if(t)return typeof t=="function"?JM()?GM(t,e):"ease-out":$M(t)?Nu(t):Array.isArray(t)?t.map(n=>tD(n,e)||G_.easeOut):G_[t]}function QP(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:c="easeOut",times:u}={},h=void 0){const d={[e]:n};u&&(d.offset=u);const p=tD(c,i);Array.isArray(p)&&(d.easing=p);const m={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return h&&(m.pseudoElement=h),t.animate(d,m)}function eD(t){return typeof t=="function"&&"applyToOptions"in t}function JP({type:t,...e}){return eD(t)&&JM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tF extends r1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Wv(typeof e.type!="string");const h=JP(e);this.animation=QP(n,r,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=n1(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(d):GP(n,r,d),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Jr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jr(e)}get time(){return Jr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Sa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&XP()?(this.animation.timeline=e,ti):n(this)}}const nD={anticipate:OM,backInOut:LM,circInOut:BM};function eF(t){return t in nD}function nF(t){typeof t.ease=="string"&&eF(t.ease)&&(t.ease=nD[t.ease])}const Q0=10;class rF extends tF{constructor(e){nF(e),ZM(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new i1({...o,autoplay:!1}),u=Math.max(Q0,er.now()-this.startTime),h=Vi(0,Q0,u-Q0);n.setWithVelocity(c.sample(Math.max(0,u-h)).value,c.sample(u).value,h),c.stop()}}const X_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bs.test(t)||t==="0")&&!t.startsWith("url("));function iF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aF(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=X_(i,e),c=X_(s,e);return!o||!c?!1:iF(t)||(n==="spring"||eD(n))&&r}function yb(t){t.duration=0,t.type="keyframes"}const sF=new Set(["opacity","clipPath","filter","transform"]),oF=Yv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lF(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return oF()&&n&&sF.has(n)&&(n!=="transform"||!h)&&!u&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const cF=40;class uF extends r1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:c,name:u,motionValue:h,element:d,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=er.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:u,motionValue:h,element:d,...p},y=d?.KeyframeResolver||a1;this.keyframeResolver=new y(c,(x,b,S)=>this.onKeyframesResolved(x,b,m,!S),u,h,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:c,delay:u,isHandoff:h,onUpdate:d}=r;this.resolvedAt=er.now(),aF(e,s,o,c)||((Ta.instantAnimations||!u)&&d?.(n1(e,r,n)),e[0]=e[e.length-1],yb(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>cF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!h&&lF(m),x=m.motionValue?.owner?.current,b=y?new rF({...m,element:x}):new i1(m);b.finished.then(()=>{this.notifyFinished()}).catch(ti),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),WP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function rD(t,e,n,r=0,i=1){const s=Array.from(t).sort((h,d)=>h.sortNodePosition(d)).indexOf(e),o=t.size,c=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:c-s*r}const hF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dF(t){const e=hF.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function iD(t,e,n=1){const[r,i]=dF(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return _M(o)?parseFloat(o):o}return Kv(i)?iD(i,e,n+1):i}const fF={type:"spring",stiffness:500,damping:25,restSpeed:10},pF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gF={type:"keyframes",duration:.8},mF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yF=(t,{keyframes:e})=>e.length>2?gF:mc.has(t)?t.startsWith("scale")?pF(e[1]):fF:mF,xF=t=>t!==null;function bF(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(xF),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function s1(t,e){return t?.[e]??t?.default??t}function vF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:c,from:u,elapsed:h,...d}){return!!Object.keys(d).length}const o1=(t,e,n,r={},i,s)=>o=>{const c=s1(r,t)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Sa(u);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:m=>{e.set(m),c.onUpdate&&c.onUpdate(m)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:i};vF(c)||Object.assign(d,yF(t,d)),d.duration&&(d.duration=Sa(d.duration)),d.repeatDelay&&(d.repeatDelay=Sa(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(yb(d),d.delay===0&&(p=!0)),(Ta.instantAnimations||Ta.skipAnimations)&&(p=!0,yb(d),d.delay=0),d.allowFlatten=!c.type&&!c.ease,p&&!s&&e.get()!==void 0){const m=bF(d.keyframes,c);if(m!==void 0){ze.update(()=>{d.onUpdate(m),d.onComplete()});return}}return c.isSync?new i1(d):new uF(d)};function Z_(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function l1(t,e,n,r){if(typeof e=="function"){const[i,s]=Z_(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Z_(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function zl(t,e,n){const r=t.getProps();return l1(r,e,n!==void 0?n:r.custom,t)}const aD=new Set(["width","height","top","left","right","bottom",...gc]),K_=30,wF=t=>!isNaN(parseFloat(t));class SF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=er.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gv);const r=this.events[e].add(n);return e==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>K_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,K_);return EM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jl(t,e){return new SF(t,e)}const xb=t=>Array.isArray(t);function CF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jl(n))}function _F(t){return xb(t)?t[t.length-1]||0:t}function kF(t,e){const n=zl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const c=_F(s[o]);CF(t,o,c)}}const Wn=t=>!!(t&&t.getVelocity);function TF(t){return!!(Wn(t)&&t.add)}function bb(t,e){const n=t.getValue("willChange");if(TF(n))return n.add(e);if(!n&&Ta.WillChange){const r=new Ta.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function c1(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const EF="framerAppearId",sD="data-"+c1(EF);function oD(t){return t.props[sD]}function AF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lD(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...c}=e;const u=s?.reduceMotion;r&&(s=r);const h=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const m=t.getValue(p,t.latestValues[p]??null),y=c[p];if(y===void 0||d&&AF(d,p))continue;const x={delay:n,...s1(s||{},p)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const w=oD(t);if(w){const E=window.MotionHandoffAnimation(w,p,ze);E!==null&&(x.startTime=E,S=!0)}}bb(t,p);const _=u??t.shouldReduceMotion;m.start(o1(p,m,y,_&&aD.has(p)?{type:!1}:x,t,S));const T=m.animation;T&&h.push(T)}return o&&Promise.all(h).then(()=>{ze.update(()=>{o&&kF(t,o)})}),h}function vb(t,e,n={}){const r=zl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(lD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=i;return MF(t,e,u,h,d,p,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,h]=c==="beforeChildren"?[s,o]:[o,s];return u().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function MF(t,e,n=0,r=0,i=0,s=1,o){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(vb(u,e,{...o,delay:n+(typeof r=="function"?0:r)+rD(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function DF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>vb(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=vb(t,e,n);else{const i=typeof e=="function"?zl(t,e,n.custom):e;r=Promise.all(lD(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const NF={test:t=>t==="auto",parse:t=>t},cD=t=>e=>e.test(t),uD=[pc,Et,Ii,ss,iP,rP,NF],Q_=t=>uD.find(cD(t));function LF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TM(t):!0}const OF=new Set(["brightness","contrast","saturate","opacity"]);function RF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Qv)||[];if(!r)return t;const i=n.replace(r,"");let s=OF.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const BF=/\b([a-z-]*)\(.*?\)/gu,wb={...bs,getAnimatableNone:t=>{const e=t.match(BF);return e?e.map(RF).join(" "):t}},J_={...pc,transform:Math.round},jF={rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:ss,skewX:ss,skewY:ss,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:ah,originX:P_,originY:P_,originZ:Et},u1={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,inset:Et,insetBlock:Et,insetBlockStart:Et,insetBlockEnd:Et,insetInline:Et,insetInlineStart:Et,insetInlineEnd:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,paddingBlock:Et,paddingBlockStart:Et,paddingBlockEnd:Et,paddingInline:Et,paddingInlineStart:Et,paddingInlineEnd:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,marginBlock:Et,marginBlockStart:Et,marginBlockEnd:Et,marginInline:Et,marginInlineStart:Et,marginInlineEnd:Et,fontSize:Et,backgroundPositionX:Et,backgroundPositionY:Et,...jF,zIndex:J_,fillOpacity:ah,strokeOpacity:ah,numOctaves:J_},$F={...u1,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:wb,WebkitFilter:wb},hD=t=>$F[t];function dD(t,e){let n=hD(t);return n!==wb&&(n=bs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zF=new Set(["auto","none","0"]);function PF(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!zF.has(s)&&sh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=dD(n,i)}class FF extends a1{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Kv(p))){const m=iD(p,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!aD.has(r)||e.length!==2)return;const[i,s]=e,o=Q_(i),c=Q_(s),u=z_(i),h=z_(s);if(u!==h&&ds[r]){this.needsMeasurement=!0;return}if(o!==c)if(Y_(o)&&Y_(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else ds[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||LF(e[i]))&&r.push(i);r.length&&PF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ds[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function IF(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const fD=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Sb(t){return kM(t)&&"offsetHeight"in t}const{schedule:h1}=zM(queueMicrotask,!1),hi={x:!1,y:!1};function pD(){return hi.x||hi.y}function HF(t){return t==="x"||t==="y"?hi[t]?null:(hi[t]=!0,()=>{hi[t]=!1}):hi.x||hi.y?null:(hi.x=hi.y=!0,()=>{hi.x=hi.y=!1})}function gD(t,e){const n=IF(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function tk(t){return!(t.pointerType==="touch"||pD())}function VF(t,e,n={}){const[r,i,s]=gD(t,n),o=c=>{if(!tk(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const d=p=>{tk(p)&&(h(p),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),s}const mD=(t,e)=>e?t===e?!0:mD(t,e.parentElement):!1,d1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yD(t){return qF.has(t.tagName)||t.isContentEditable===!0}const ap=new WeakSet;function ek(t){return e=>{e.key==="Enter"&&t(e)}}function J0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ek(()=>{if(ap.has(n))return;J0(n,"down");const i=ek(()=>{J0(n,"up")}),s=()=>J0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function nk(t){return d1(t)&&!pD()}function WF(t,e,n={}){const[r,i,s]=gD(t,n),o=c=>{const u=c.currentTarget;if(!nk(c))return;ap.add(u);const h=e(u,c),d=(y,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),ap.has(u)&&ap.delete(u),nk(y)&&typeof h=="function"&&h(y,{success:x})},p=y=>{d(y,u===window||u===document||n.useGlobalTarget||mD(u,y.target))},m=y=>{d(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),Sb(c)&&(c.addEventListener("focus",h=>UF(h,i)),!yD(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function xD(t){return kM(t)&&"ownerSVGElement"in t}function YF(t){return xD(t)&&t.tagName==="svg"}const GF=[...uD,un,bs],XF=t=>GF.find(cD(t)),rk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nl=()=>({x:rk(),y:rk()}),ik=()=>({min:0,max:0}),bn=()=>({x:ik(),y:ik()}),Cb={current:null},bD={current:!1},ZF=typeof window<"u";function KF(){if(bD.current=!0,!!ZF)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cb.current=t.matches;t.addEventListener("change",e),e()}else Cb.current=!1}const QF=new WeakMap;function Rg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function oh(t){return typeof t=="string"||Array.isArray(t)}const f1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p1=["initial",...f1];function Bg(t){return Rg(t.animate)||p1.some(e=>oh(t[e]))}function vD(t){return!!(Bg(t)||t.variants)}function JF(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Wn(i))t.addValue(r,i);else if(Wn(s))t.addValue(r,Jl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Jl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ak=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Np={};function wD(t){Np=t}function t8(){return Np}class e8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=er.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ze.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=Bg(n),this.isVariantNode=vD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const y=p[m];u[m]!==void 0&&Wn(y)&&y.set(u[m])}}mount(e){this.current=e,QF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(bD.current||KF(),this.shouldReduceMotion=Cb.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xs(this.notifyUpdate),xs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=mc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Np){const n=Np[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ak.length;r++){const i=ak[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=JF(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Jl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(_M(r)||TM(r))?r=parseFloat(r):!XF(r)&&bs.test(n)&&(r=dD(e,n)),this.setBaseTarget(e,Wn(r)?r.get():r)),Wn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=l1(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Wn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){h1.render(this.render)}}class SD extends e8{constructor(){super(...arguments),this.KeyframeResolver=FF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Es{constructor(e){this.isMounted=!1,this.node=e}update(){}}function CD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function n8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function r8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tx(t){return t===void 0||t===1}function _b({scale:t,scaleX:e,scaleY:n}){return!tx(t)||!tx(e)||!tx(n)}function to(t){return _b(t)||_D(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _D(t){return sk(t.x)||sk(t.y)}function sk(t){return t&&t!=="0%"}function Lp(t,e,n){const r=t-n,i=e*r;return n+i}function ok(t,e,n,r,i){return i!==void 0&&(t=Lp(t,i,r)),Lp(t,n,r)+e}function kb(t,e=0,n=1,r,i){t.min=ok(t.min,e,n,r,i),t.max=ok(t.max,e,n,r,i)}function kD(t,{x:e,y:n}){kb(t.x,e.translate,e.scale,e.originPoint),kb(t.y,n.translate,n.scale,n.originPoint)}const lk=.999999999999,ck=1.0000000000001;function i8(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let c=0;c<i;c++){s=n[c],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ol(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kD(t,o)),r&&to(s.latestValues)&&Ol(t,s.latestValues))}e.x<ck&&e.x>lk&&(e.x=1),e.y<ck&&e.y>lk&&(e.y=1)}function Ll(t,e){t.min=t.min+e,t.max=t.max+e}function uk(t,e,n,r,i=.5){const s=We(t.min,t.max,i);kb(t,e,n,s,r)}function Ol(t,e){uk(t.x,e.x,e.scaleX,e.scale,e.originX),uk(t.y,e.y,e.scaleY,e.scale,e.originY)}function TD(t,e){return CD(r8(t.getBoundingClientRect(),e))}function a8(t,e,n){const r=TD(t,n),{scroll:i}=e;return i&&(Ll(r.x,i.offset.x),Ll(r.y,i.offset.y)),r}const s8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o8=gc.length;function l8(t,e,n){let r="",i=!0;for(let s=0;s<o8;s++){const o=gc[s],c=t[o];if(c===void 0)continue;let u=!0;if(typeof c=="number")u=c===(o.startsWith("scale")?1:0);else{const h=parseFloat(c);u=o.startsWith("scale")?h===1:h===0}if(!u||n){const h=fD(c,u1[o]);if(!u){i=!1;const d=s8[o]||o;r+=`${d}(${h}) `}n&&(e[o]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function g1(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,c=!1;for(const u in e){const h=e[u];if(mc.has(u)){o=!0;continue}else if(FM(u)){i[u]=h;continue}else{const d=fD(h,u1[u]);u.startsWith("origin")?(c=!0,s[u]=d):r[u]=d}}if(e.transform||(o||n?r.transform=l8(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:d=0}=s;r.transformOrigin=`${u} ${h} ${d}`}}function ED(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function hk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const yu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Et.test(t))t=parseFloat(t);else return t;const n=hk(t,e.target.x),r=hk(t,e.target.y);return`${n}% ${r}%`}},c8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=bs.parse(t);if(i.length>5)return r;const s=bs.createTransformer(t),o=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=c,i[1+o]/=u;const h=We(c,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),s(i)}},Tb={borderRadius:{...yu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yu,borderTopRightRadius:yu,borderBottomLeftRadius:yu,borderBottomRightRadius:yu,boxShadow:c8};function AD(t,{layout:e,layoutId:n}){return mc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Tb[t]||t==="opacity")}function m1(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const o in r)(Wn(r[o])||i&&Wn(i[o])||AD(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}function u8(t){return window.getComputedStyle(t)}class h8 extends SD{constructor(){super(...arguments),this.type="html",this.renderInstance=ED}readValueFromInstance(e,n){if(mc.has(n))return this.projection?.isProjecting?db(n):IP(e,n);{const r=u8(e),i=(FM(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TD(e,n)}build(e,n,r){g1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return m1(e,n,r)}}const d8={offset:"stroke-dashoffset",array:"stroke-dasharray"},f8={offset:"strokeDashoffset",array:"strokeDasharray"};function p8(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?d8:f8;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const g8=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function MD(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...c},u,h,d){if(g1(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m}=t;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete p.transformBox);for(const y of g8)p[y]!==void 0&&(m[y]=p[y],delete p[y]);e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&p8(p,i,s,o,!1)}const DD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),ND=t=>typeof t=="string"&&t.toLowerCase()==="svg";function m8(t,e,n,r){ED(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(DD.has(i)?i:c1(i),e.attrs[i])}function LD(t,e,n){const r=m1(t,e,n);for(const i in t)if(Wn(t[i])||Wn(e[i])){const s=gc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class y8 extends SD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mc.has(n)){const r=hD(n);return r&&r.default||0}return n=DD.has(n)?n:c1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LD(e,n,r)}build(e,n,r){MD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){m8(e,n,r,i)}mount(e){this.isSVGTag=ND(e.tagName),super.mount(e)}}const x8=p1.length;function OD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?OD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<x8;n++){const r=p1[n],i=t.props[r];(oh(i)||i===!1)&&(e[r]=i)}return e}function RD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const b8=[...f1].reverse(),v8=f1.length;function w8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>DF(t,n,r)))}function S8(t){let e=w8(t),n=dk(),r=!0;const i=u=>(h,d)=>{const p=zl(t,d,u==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:m,transitionEnd:y,...x}=p;h={...h,...x,...y}}return h};function s(u){e=u(t)}function o(u){const{props:h}=t,d=OD(t.parent)||{},p=[],m=new Set;let y={},x=1/0;for(let S=0;S<v8;S++){const _=b8[S],T=n[_],w=h[_]!==void 0?h[_]:d[_],E=oh(w),M=_===u?T.isActive:null;M===!1&&(x=S);let L=w===d[_]&&w!==h[_]&&E;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),T.protectedKeys={...y},!T.isActive&&M===null||!w&&!T.prevProp||Rg(w)||typeof w=="boolean")continue;const N=C8(T.prevProp,w);let $=N||_===u&&T.isActive&&!L&&E||S>x&&E,z=!1;const P=Array.isArray(w)?w:[w];let j=P.reduce(i(_),{});M===!1&&(j={});const{prevResolvedValues:W={}}=T,G={...W,...j},B=I=>{$=!0,m.has(I)&&(z=!0,m.delete(I)),T.needsAnimating[I]=!0;const U=t.getValue(I);U&&(U.liveStyle=!1)};for(const I in G){const U=j[I],Z=W[I];if(y.hasOwnProperty(I))continue;let nt=!1;xb(U)&&xb(Z)?nt=!RD(U,Z):nt=U!==Z,nt?U!=null?B(I):m.add(I):U!==void 0&&m.has(I)?B(I):T.protectedKeys[I]=!0}T.prevProp=w,T.prevResolvedValues=j,T.isActive&&(y={...y,...j}),r&&t.blockInitialAnimation&&($=!1);const H=L&&N;$&&(!H||z)&&p.push(...P.map(I=>{const U={type:_};if(typeof I=="string"&&r&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,nt=zl(Z,I);if(Z.enteringChildren&&nt){const{delayChildren:q}=nt.transition||{};U.delay=rD(Z.enteringChildren,t,q)}}return{animation:I,options:U}}))}if(m.size){const S={};if(typeof h.initial!="boolean"){const _=zl(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(S.transition=_.transition)}m.forEach(_=>{const T=t.getBaseTarget(_),w=t.getValue(_);w&&(w.liveStyle=!0),S[_]=T??null}),p.push({animation:S})}let b=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(p):Promise.resolve()}function c(u,h){if(n[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(u,h)),n[u].isActive=h;const d=o(u);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:c,setAnimateFunction:s,getState:()=>n,reset:()=>{n=dk()}}}function C8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RD(e,t):!1}function Qs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dk(){return{animate:Qs(!0),whileInView:Qs(),whileHover:Qs(),whileTap:Qs(),whileDrag:Qs(),whileFocus:Qs(),exit:Qs()}}function fk(t,e){t.min=e.min,t.max=e.max}function ui(t,e){fk(t.x,e.x),fk(t.y,e.y)}function pk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const BD=1e-4,_8=1-BD,k8=1+BD,jD=.01,T8=0-jD,E8=0+jD;function nr(t){return t.max-t.min}function A8(t,e,n){return Math.abs(t-e)<=n}function gk(t,e,n,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=nr(n)/nr(e),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_8&&t.scale<=k8||isNaN(t.scale))&&(t.scale=1),(t.translate>=T8&&t.translate<=E8||isNaN(t.translate))&&(t.translate=0)}function qu(t,e,n,r){gk(t.x,e.x,n.x,r?r.originX:void 0),gk(t.y,e.y,n.y,r?r.originY:void 0)}function mk(t,e,n){t.min=n.min+e.min,t.max=t.min+nr(e)}function M8(t,e,n){mk(t.x,e.x,n.x),mk(t.y,e.y,n.y)}function yk(t,e,n){t.min=e.min-n.min,t.max=t.min+nr(e)}function Op(t,e,n){yk(t.x,e.x,n.x),yk(t.y,e.y,n.y)}function xk(t,e,n,r,i){return t-=e,t=Lp(t,1/n,r),i!==void 0&&(t=Lp(t,1/i,r)),t}function D8(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ii.test(e)&&(e=parseFloat(e),e=We(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=We(s.min,s.max,r);t===s&&(c-=e),t.min=xk(t.min,e,n,c,i),t.max=xk(t.max,e,n,c,i)}function bk(t,e,[n,r,i],s,o){D8(t,e[n],e[r],e[i],e.scale,s,o)}const N8=["x","scaleX","originX"],L8=["y","scaleY","originY"];function vk(t,e,n,r){bk(t.x,e,N8,n?n.x:void 0,r?r.x:void 0),bk(t.y,e,L8,n?n.y:void 0,r?r.y:void 0)}function wk(t){return t.translate===0&&t.scale===1}function $D(t){return wk(t.x)&&wk(t.y)}function Sk(t,e){return t.min===e.min&&t.max===e.max}function O8(t,e){return Sk(t.x,e.x)&&Sk(t.y,e.y)}function Ck(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zD(t,e){return Ck(t.x,e.x)&&Ck(t.y,e.y)}function _k(t){return nr(t.x)/nr(t.y)}function kk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Kr(t){return[t("x"),t("y")]}function R8(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:d,rotateX:p,rotateY:m,skewX:y,skewY:x}=n;h&&(r=`perspective(${h}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const PD=["TopLeft","TopRight","BottomLeft","BottomRight"],B8=PD.length,Tk=t=>typeof t=="string"?parseFloat(t):t,Ek=t=>typeof t=="number"||Et.test(t);function j8(t,e,n,r,i,s){i?(t.opacity=We(0,n.opacity??1,$8(r)),t.opacityExit=We(e.opacity??1,0,z8(r))):s&&(t.opacity=We(e.opacity??1,n.opacity??1,r));for(let o=0;o<B8;o++){const c=`border${PD[o]}Radius`;let u=Ak(e,c),h=Ak(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||Ek(u)===Ek(h)?(t[c]=Math.max(We(Tk(u),Tk(h),r),0),(Ii.test(h)||Ii.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,r))}function Ak(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $8=FD(0,.5,RM),z8=FD(.5,.95,ti);function FD(t,e,n){return r=>r<t?0:r>e?1:n(ih(t,e,r))}function P8(t,e,n){const r=Wn(t)?t:Jl(t);return r.start(o1("",r,e,n)),r.animation}function lh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const F8=(t,e)=>t.depth-e.depth;class I8{constructor(){this.children=[],this.isDirty=!1}add(e){qv(this.children,e),this.isDirty=!0}remove(e){Uv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(F8),this.isDirty=!1,this.children.forEach(e)}}function H8(t,e){const n=er.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(xs(r),t(s-e))};return ze.setup(r,!0),()=>xs(r)}function sp(t){return Wn(t)?t.get():t}class V8{constructor(){this.members=[]}add(e){qv(this.members,e),e.scheduleRender()}remove(e){if(Uv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;i!==void 0&&s!==void 0&&i===s||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:c}=e.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const op={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ex=["","X","Y","Z"],q8=1e3;let U8=0;function nx(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ID(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ze,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ID(r)}function HD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=e?.()){this.id=U8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(G8),this.nodes.forEach(Q8),this.nodes.forEach(J8),this.nodes.forEach(X8)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new I8)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gv),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=xD(o)&&!YF(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let d,p=0;const m=()=>this.root.updateBlockedByResize=!1;ze.read(()=>{p=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,d&&d(),d=H8(m,250),op.hasAnimatedSinceResize&&(op.hasAnimatedSinceResize=!1,this.nodes.forEach(Nk)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||iI,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=h.getProps(),_=!this.targetLayout||!zD(this.targetLayout,y),T=!p&&m;if(this.options.layoutRoot||this.resumeFrom||T||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...s1(x,"layout"),onPlay:b,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,T)}else p||Nk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tI),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ID(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Dk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(K8),this.nodes.forEach(W8),this.nodes.forEach(Y8)):this.nodes.forEach(Dk),this.clearAllSnapshots();const c=er.now();Fn.delta=Vi(0,1e3/60,c-Fn.timestamp),Fn.timestamp=c,Fn.isProcessing=!0,Y0.update.process(Fn),Y0.preRender.process(Fn),Y0.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,h1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Z8),this.sharedNodes.forEach(eI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nr(this.snapshot.measuredBox.x)&&!nr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!$D(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||to(this.latestValues)||d)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),aI(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return bn();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sI))){const{scroll:h}=this.root;h&&(Ll(c.x,h.offset.x),Ll(c.y,h.offset.y))}return c}removeElementScroll(o){const c=bn();if(ui(c,o),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&ui(c,o),Ll(c.x,d.offset.x),Ll(c.y,d.offset.y))}return c}applyTransform(o,c=!1){const u=bn();ui(u,o);for(let h=0;h<this.path.length;h++){const d=this.path[h];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ol(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),to(d.latestValues)&&Ol(u,d.latestValues)}return to(this.latestValues)&&Ol(u,this.latestValues),u}removeTransform(o){const c=bn();ui(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!to(h.latestValues))continue;_b(h.latestValues)&&h.updateSnapshot();const d=bn(),p=h.measurePageBox();ui(d,p),vk(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return to(this.latestValues)&&vk(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!this.layout||!(d||p))return;this.resolvedRelativeTargetAt=Fn.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ui(this.target,this.layout.layoutBox),kD(this.target,this.targetDelta)):ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_b(this.parent.latestValues)||_D(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),Op(this.relativeTargetOrigin,c,u),ui(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;ui(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;i8(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=bn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pk(this.prevProjectionDelta.x,this.projectionDelta.x),pk(this.prevProjectionDelta.y,this.projectionDelta.y)),qu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!kk(this.projectionDelta.x,this.prevProjectionDelta.x)||!kk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nl(),this.projectionDelta=Nl(),this.projectionDeltaWithTransform=Nl()}setAnimationOrigin(o,c=!1){const u=this.snapshot,h=u?u.latestValues:{},d={...this.latestValues},p=Nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=bn(),y=u?u.source:void 0,x=this.layout?this.layout.source:void 0,b=y!==x,S=this.getStack(),_=!S||S.members.length<=1,T=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(rI));this.animationProgress=0;let w;this.mixTargetDelta=E=>{const M=E/1e3;Lk(p.x,o.x,M),Lk(p.y,o.y,M),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Op(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nI(this.relativeTarget,this.relativeTargetOrigin,m,M),w&&O8(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=bn()),ui(w,this.relativeTarget)),b&&(this.animationValues=d,j8(d,h,this.latestValues,M,T,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{op.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jl(0)),this.currentAnimation=P8(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:d}=o;if(!(!c||!u||!h)){if(this!==o&&this.layout&&h&&VD(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||bn();const p=nr(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const m=nr(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+m}ui(c,u),Ol(c,d),qu(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new V8),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&nx("z",o,h,this.animationValues);for(let d=0;d<ex.length;d++)nx(`rotate${ex[d]}`,o,h,this.animationValues),nx(`skew${ex[d]}`,o,h,this.animationValues);o.render();for(const d in h)o.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=sp(c?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=sp(c?.pointerEvents)||""),this.hasProjected&&!to(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=R8(this.projectionDeltaWithTransform,this.treeScale,d);u&&(p=u(d,p)),o.transform=p;const{x:m,y}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?o.opacity=h===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Tb){if(d[x]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:_}=Tb[x],T=p==="none"?d[x]:b(d[x],h);if(S){const w=S.length;for(let E=0;E<w;E++)o[S[E]]=T}else _?this.options.visualElement.renderState.vars[x]=T:o[x]=T}this.options.layoutId&&(o.pointerEvents=h===this?sp(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Mk),this.root.sharedNodes.clear()}}}function W8(t){t.updateLayout()}function Y8(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Kr(d=>{const p=s?e.measuredBox[d]:e.layoutBox[d],m=nr(p);p.min=n[d].min,p.max=p.min+m}):VD(i,e.layoutBox,n)&&Kr(d=>{const p=s?e.measuredBox[d]:e.layoutBox[d],m=nr(n[d]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const o=Nl();qu(o,n,e.layoutBox);const c=Nl();s?qu(c,t.applyTransform(r,!0),e.measuredBox):qu(c,n,e.layoutBox);const u=!$D(o);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const y=bn();Op(y,e.layoutBox,p.layoutBox);const x=bn();Op(x,n,m.layoutBox),zD(y,x)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function G8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function X8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Z8(t){t.clearSnapshot()}function Mk(t){t.clearMeasurements()}function Dk(t){t.isLayoutDirty=!1}function K8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Nk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Q8(t){t.resolveTargetDelta()}function J8(t){t.calcProjection()}function tI(t){t.resetSkewAndRotation()}function eI(t){t.removeLeadSnapshot()}function Lk(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ok(t,e,n,r){t.min=We(e.min,n.min,r),t.max=We(e.max,n.max,r)}function nI(t,e,n,r){Ok(t.x,e.x,n.x,r),Ok(t.y,e.y,n.y,r)}function rI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iI={duration:.45,ease:[.4,0,.1,1]},Rk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Bk=Rk("applewebkit/")&&!Rk("chrome/")?Math.round:ti;function jk(t){t.min=Bk(t.min),t.max=Bk(t.max)}function aI(t){jk(t.x),jk(t.y)}function VD(t,e,n){return t==="position"||t==="preserve-aspect"&&!A8(_k(e),_k(n),.2)}function sI(t){return t!==t.root&&t.scroll?.wasRoot}const oI=HD({attachResizeListener:(t,e)=>lh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),rx={current:void 0},qD=HD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rx.current){const t=new oI({});t.mount(window),t.setOptions({layoutScroll:!0}),rx.current=t}return rx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),y1=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $k(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lI(...t){return e=>{let n=!1;const r=t.map(i=>{const s=$k(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():$k(t[i],null)}}}}function cI(...t){return A.useCallback(lI(...t),t)}class uI extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Sb(r)&&r.offsetWidth||0,s=Sb(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left,o.bottom=s-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function hI({children:t,isPresent:e,anchorX:n,anchorY:r,root:i}){const s=A.useId(),o=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=A.useContext(y1),h=t.props?.ref??t?.ref,d=cI(o,h);return A.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:x,right:b,bottom:S}=c.current;if(e||!o.current||!p||!m)return;const _=n==="left"?`left: ${x}`:`right: ${b}`,T=r==="bottom"?`bottom: ${S}`:`top: ${y}`;o.current.dataset.motionPopId=s;const w=document.createElement("style");u&&(w.nonce=u);const E=i??document.head;return E.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${_}px !important;
            ${T}px !important;
          }
        `),()=>{E.contains(w)&&E.removeChild(w)}},[e]),k.jsx(uI,{isPresent:e,childRef:o,sizeRef:c,children:A.cloneElement(t,{ref:d})})}const dI=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:c,anchorY:u,root:h})=>{const d=Vv(fI),p=A.useId();let m=!0,y=A.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:x=>{d.set(x,!0);for(const b of d.values())if(!b)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return s&&m&&(y={...y}),A.useMemo(()=>{d.forEach((x,b)=>d.set(b,!1))},[n]),A.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=k.jsx(hI,{isPresent:n,anchorX:c,anchorY:u,root:h,children:t})),k.jsx(Og.Provider,{value:y,children:t})};function fI(){return new Map}function UD(t=!0){const e=A.useContext(Og);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=A.useId();A.useEffect(()=>{if(t)return i(s)},[t]);const o=A.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const kf=t=>t.key||"";function zk(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const Ea=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:c="left",anchorY:u="top",root:h})=>{const[d,p]=UD(o),m=A.useMemo(()=>zk(t),[t]),y=o&&!d?[]:m.map(kf),x=A.useRef(!0),b=A.useRef(m),S=Vv(()=>new Map),_=A.useRef(new Set),[T,w]=A.useState(m),[E,M]=A.useState(m);CM(()=>{x.current=!1,b.current=m;for(let $=0;$<E.length;$++){const z=kf(E[$]);y.includes(z)?(S.delete(z),_.current.delete(z)):S.get(z)!==!0&&S.set(z,!1)}},[E,y.length,y.join("-")]);const L=[];if(m!==T){let $=[...m];for(let z=0;z<E.length;z++){const P=E[z],j=kf(P);y.includes(j)||($.splice(z,0,P),L.push(P))}return s==="wait"&&L.length&&($=L),M(zk($)),w(m),null}const{forceRender:N}=A.useContext(Hv);return k.jsx(k.Fragment,{children:E.map($=>{const z=kf($),P=o&&!d?!1:m===E||y.includes(z),j=()=>{if(_.current.has(z))return;if(_.current.add(z),S.has(z))S.set(z,!0);else return;let W=!0;S.forEach(G=>{G||(W=!1)}),W&&(N?.(),M(b.current),o&&p?.(),r&&r())};return k.jsx(dI,{isPresent:P,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:h,onExitComplete:P?void 0:j,anchorX:c,anchorY:u,children:$},z)})})},WD=A.createContext({strict:!1}),Pk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Fk=!1;function pI(){if(Fk)return;const t={};for(const e in Pk)t[e]={isEnabled:n=>Pk[e].some(r=>!!n[r])};wD(t),Fk=!0}function YD(){return pI(),t8()}function gI(t){const e=YD();for(const n in t)e[n]={...e[n],...t[n]};wD(e)}const mI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mI.has(t)}let GD=t=>!Rp(t);function yI(t){typeof t=="function"&&(GD=e=>e.startsWith("on")?!Rp(e):t(e))}try{yI(require("@emotion/is-prop-valid").default)}catch{}function xI(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(GD(i)||n===!0&&Rp(i)||!e&&!Rp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const jg=A.createContext({});function bI(t,e){if(Bg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||oh(n)?n:void 0,animate:oh(r)?r:void 0}}return t.inherit!==!1?e:{}}function vI(t){const{initial:e,animate:n}=bI(t,A.useContext(jg));return A.useMemo(()=>({initial:e,animate:n}),[Ik(e),Ik(n)])}function Ik(t){return Array.isArray(t)?t.join(" "):t}const x1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XD(t,e,n){for(const r in e)!Wn(e[r])&&!AD(r,n)&&(t[r]=e[r])}function wI({transformTemplate:t},e){return A.useMemo(()=>{const n=x1();return g1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function SI(t,e){const n=t.style||{},r={};return XD(r,n,t),Object.assign(r,wI(t,e)),r}function CI(t,e){const n={},r=SI(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const ZD=()=>({...x1(),attrs:{}});function _I(t,e,n,r){const i=A.useMemo(()=>{const s=ZD();return MD(s,e,ND(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};XD(s,t.style,t),i.style={...s,...i.style}}return i}const kI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b1(t){return typeof t!="string"||t.includes("-")?!1:!!(kI.indexOf(t)>-1||/[A-Z]/u.test(t))}function TI(t,e,n,{latestValues:r},i,s=!1,o){const u=(o??b1(t)?_I:CI)(e,r,i,t),h=xI(e,typeof t=="string",s),d=t!==A.Fragment?{...h,...u,ref:n}:{},{children:p}=e,m=A.useMemo(()=>Wn(p)?p.get():p,[p]);return A.createElement(t,{...d,children:m})}function EI({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:AI(n,r,i,t),renderState:e()}}function AI(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=sp(s[m]);let{initial:o,animate:c}=t;const u=Bg(t),h=vD(t);e&&h&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const p=d?c:o;if(p&&typeof p!="boolean"&&!Rg(p)){const m=Array.isArray(p)?p:[p];for(let y=0;y<m.length;y++){const x=l1(t,m[y]);if(x){const{transitionEnd:b,transition:S,..._}=x;for(const T in _){let w=_[T];if(Array.isArray(w)){const E=d?w.length-1:0;w=w[E]}w!==null&&(i[T]=w)}for(const T in b)i[T]=b[T]}}}return i}const KD=t=>(e,n)=>{const r=A.useContext(jg),i=A.useContext(Og),s=()=>EI(t,e,r,i);return n?s():Vv(s)},MI=KD({scrapeMotionValuesFromProps:m1,createRenderState:x1}),DI=KD({scrapeMotionValuesFromProps:LD,createRenderState:ZD}),NI=Symbol.for("motionComponentSymbol");function LI(t,e,n){const r=A.useRef(n);A.useInsertionEffect(()=>{r.current=n});const i=A.useRef(null);return A.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const o=r.current;if(typeof o=="function")if(s){const c=o(s);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(s);else o&&(o.current=s)},[e])}const QD=A.createContext({});function Lu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function OI(t,e,n,r,i,s){const{visualElement:o}=A.useContext(jg),c=A.useContext(WD),u=A.useContext(Og),h=A.useContext(y1).reducedMotion,d=A.useRef(null),p=A.useRef(!1);r=r||c.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h,isSVG:s}),p.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const m=d.current,y=A.useContext(QD);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&RI(d.current,n,i,y);const x=A.useRef(!1);A.useInsertionEffect(()=>{m&&x.current&&m.update(n,u)});const b=n[sD],S=A.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return CM(()=>{p.current=!0,m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),A.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),S.current=!1),m.enteringChildren=void 0)}),m}function RI(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:JD(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||c&&Lu(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:u,layoutRoot:h})}function JD(t){if(t)return t.options.allowProjection!==!1?t.projection:JD(t.parent)}function ix(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&gI(r);const s=n?n==="svg":b1(t),o=s?DI:MI;function c(h,d){let p;const m={...A.useContext(y1),...h,layoutId:BI(h)},{isStatic:y}=m,x=vI(h),b=o(h,y);if(!y&&SM){jI();const S=$I(m);p=S.MeasureLayout,x.visualElement=OI(t,b,m,i,S.ProjectionNode,s)}return k.jsxs(jg.Provider,{value:x,children:[p&&x.visualElement?k.jsx(p,{visualElement:x.visualElement,...m}):null,TI(t,h,LI(b,x.visualElement,d),b,y,e,s)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=A.forwardRef(c);return u[NI]=t,u}function BI({layoutId:t}){const e=A.useContext(Hv).id;return e&&t!==void 0?e+"-"+t:t}function jI(t,e){A.useContext(WD).strict}function $I(t){const e=YD(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function zI(t,e){if(typeof Proxy>"u")return ix;const n=new Map,r=(s,o)=>ix(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,ix(o,void 0,t,e)),n.get(o))})}const PI=(t,e)=>e.isSVG??b1(t)?new y8(e):new h8(e,{allowProjection:t!==A.Fragment});class FI extends Es{constructor(e){super(e),e.animationState||(e.animationState=S8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let II=0;class HI extends Es{constructor(){super(...arguments),this.id=II++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const VI={animation:{Feature:FI},exit:{Feature:HI}};function Ph(t){return{point:{x:t.pageX,y:t.pageY}}}const qI=t=>e=>d1(e)&&t(e,Ph(e));function Uu(t,e,n,r){return lh(t,e,qI(n),r)}const tN=({current:t})=>t?t.ownerDocument.defaultView:null,Hk=(t,e)=>Math.abs(t-e);function UI(t,e){const n=Hk(t.x,e.x),r=Hk(t.y,e.y);return Math.sqrt(n**2+r**2)}const Vk=new Set(["auto","scroll"]);class eN{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=sx(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=UI(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!b)return;const{point:S}=y,{timestamp:_}=Fn;this.history.push({...S,timestamp:_});const{onStart:T,onMove:w}=this.handlers;x||(T&&T(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=ax(x,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=sx(y.type==="pointercancel"?this.lastMoveEventInfo:ax(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,T),S&&S(y,T)},!d1(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const u=Ph(e),h=ax(u,this.transformPagePoint),{point:d}=h,{timestamp:p}=Fn;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,sx(h,this.history)),this.removeListeners=jh(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(Vk.has(r.overflowX)||Vk.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),ze.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),xs(this.updatePoint)}}function ax(t,e){return e?{point:e(t.point)}:t}function qk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sx({point:t},e){return{point:t,delta:qk(t,nN(e)),offset:qk(t,WI(e)),velocity:YI(e,.1)}}function WI(t){return t[0]}function nN(t){return t[t.length-1]}function YI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=nN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Sa(e)));)n--;if(!r)return{x:0,y:0};const s=Jr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function GI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?We(n,t,r.max):Math.min(t,n)),t}function Uk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function XI(t,{top:e,left:n,bottom:r,right:i}){return{x:Uk(t.x,n,i),y:Uk(t.y,e,r)}}function Wk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ZI(t,e){return{x:Wk(t.x,e.x),y:Wk(t.y,e.y)}}function KI(t,e){let n=.5;const r=nr(t),i=nr(e);return i>r?n=ih(e.min,e.max-r,t.min):r>i&&(n=ih(t.min,t.max-i,e.min)),Vi(0,1,n)}function QI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Eb=.35;function JI(t=Eb){return t===!1?t=0:t===!0&&(t=Eb),{x:Yk(t,"left","right"),y:Yk(t,"top","bottom")}}function Yk(t,e,n){return{min:Gk(t,e),max:Gk(t,n)}}function Gk(t,e){return typeof t=="number"?t:t[e]||0}const t9=new WeakMap;class e9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{n?(this.stopAnimation(),this.snapToCursor(Ph(p).point)):this.pauseAnimation()},o=(p,m)=>{this.stopAnimation();const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HF(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kr(_=>{let T=this.getAxisMotionValue(_).get()||0;if(Ii.test(T)){const{projection:w}=this.visualElement;if(w&&w.layout){const E=w.layout.layoutBox[_];E&&(T=nr(E)*(parseFloat(T)/100))}}this.originPoint[_]=T}),b&&ze.postRender(()=>b(p,m)),bb(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:_}=m;if(x&&this.currentDirection===null){this.currentDirection=n9(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),S&&S(p,m)},u=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m,this.stop(p,m),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Kr(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new eN(e,{onSessionStart:s,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:tN(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&ze.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Tf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=GI(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Lu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=XI(r.layoutBox,e):this.constraints=!1,this.elastic=JI(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=QI(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=a8(r,i.root,this.visualElement.getTransformPagePoint());let o=ZI(i.layout.layoutBox,s);if(n){const c=n(n8(o));this.hasMutatedConstraints=!!c,c&&(o=CD(c))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Kr(d=>{if(!Tf(d,n,this.currentDirection))return;let p=u&&u[d]||{};o&&(p={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,x)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return bb(this.visualElement,e),r.start(o1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Kr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Kr(n=>{const{drag:r}=this.getProps();if(!Tf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n],u=s.get()||0;s.set(e[n]-We(o,c,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Lu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Kr(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();i[o]=KI({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kr(o=>{if(!Tf(o,e,null))return;const c=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];c.set(We(u,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;t9.set(this.visualElement,this);const e=this.visualElement.current,n=Uu(e,"pointerdown",u=>{const{drag:h,dragListener:d=!0}=this.getProps(),p=u.target,m=p!==e&&yD(p);h&&d&&!m&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Lu(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ze.read(r);const o=lh(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Kr(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Eb,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:c}}}function Tf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function n9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class r9 extends Es{constructor(e){super(e),this.removeGroupControls=ti,this.removeListeners=ti,this.controls=new e9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ti}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Xk=t=>(e,n)=>{t&&ze.postRender(()=>t(e,n))};class i9 extends Es{constructor(){super(...arguments),this.removePointerDownListener=ti}onPointerDown(e){this.session=new eN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Xk(e),onStart:Xk(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ze.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ox=!1;class a9 extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),ox&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),op.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),ox=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ze.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),h1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;ox=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rN(t){const[e,n]=UD(),r=A.useContext(Hv);return k.jsx(a9,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(QD),isPresent:e,safeToRemove:n})}const s9={pan:{Feature:i9},drag:{Feature:r9,ProjectionNode:qD,MeasureLayout:rN}};function Zk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&ze.postRender(()=>s(e,Ph(e)))}class o9 extends Es{mount(){const{current:e}=this.node;e&&(this.unmount=VF(e,(n,r)=>(Zk(this.node,r,"Start"),i=>Zk(this.node,i,"End"))))}unmount(){}}class l9 extends Es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jh(lh(this.node.current,"focus",()=>this.onFocus()),lh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kk(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&ze.postRender(()=>s(e,Ph(e)))}class c9 extends Es{mount(){const{current:e}=this.node;e&&(this.unmount=WF(e,(n,r)=>(Kk(this.node,r,"Start"),(i,{success:s})=>Kk(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ab=new WeakMap,lx=new WeakMap,u9=t=>{const e=Ab.get(t.target);e&&e(t)},h9=t=>{t.forEach(u9)};function d9({root:t,...e}){const n=t||document;lx.has(n)||lx.set(n,{});const r=lx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(h9,{root:t,...e})),r[i]}function f9(t,e,n){const r=d9(e);return Ab.set(t,n),r.observe(t),()=>{Ab.delete(t),r.unobserve(t)}}const p9={some:0,all:1};class g9 extends Es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:p9[i]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),m=h?d:p;m&&m(u)};return f9(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(m9(e,n))&&this.startObserver()}unmount(){}}function m9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const y9={inView:{Feature:g9},tap:{Feature:c9},focus:{Feature:l9},hover:{Feature:o9}},x9={layout:{ProjectionNode:qD,MeasureLayout:rN}},b9={...VI,...y9,...s9,...x9},Ne=zI(b9,PI);const iN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const v9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const w9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const Qk=t=>{const e=w9(t);return e.charAt(0).toUpperCase()+e.slice(1)};var S9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const C9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const _9=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...c},u)=>A.createElement("svg",{ref:u,...S9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iN("lucide",i),...!s&&!C9(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,d])=>A.createElement(h,d)),...Array.isArray(s)?s:[s]]));const qt=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(_9,{ref:s,iconNode:e,className:iN(`lucide-${v9(Qk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Qk(t),n};const k9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],aN=qt("arrow-left",k9);const T9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],E9=qt("chart-column",T9);const A9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sN=qt("check",A9);const M9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$g=qt("chevron-down",M9);const D9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],N9=qt("chevron-left",D9);const L9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],v1=qt("chevron-right",L9);const O9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],R9=qt("chevron-up",O9);const B9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],j9=qt("circle-alert",B9);const $9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],z9=qt("circle-check-big",$9);const P9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],F9=qt("circle-check",P9);const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],H9=qt("circle",I9);const V9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q9=qt("clock",V9);const U9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],oN=qt("download",U9);const W9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lN=qt("eye",W9);const Y9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cN=qt("file-text",Y9);const G9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],uN=qt("file",G9);const X9=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Z9=qt("folder-open",X9);const K9=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],hN=qt("folder",K9);const Q9=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],J9=qt("git-branch",Q9);const tH=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],eH=qt("grip-vertical",tH);const nH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],rH=qt("history",nH);const iH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],aH=qt("info",iH);const sH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],oH=qt("layout-dashboard",sH);const lH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cH=qt("loader-circle",lH);const uH=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],hH=qt("message-square",uH);const dH=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],fH=qt("network",dH);const pH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],gH=qt("panels-top-left",pH);const mH=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],dN=qt("pause",mH);const yH=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ch=qt("pen-line",yH);const xH=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fN=qt("play",xH);const bH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pN=qt("refresh-cw",bH);const vH=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],uh=qt("rocket",vH);const wH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gN=qt("rotate-ccw",wH);const SH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],mN=qt("save",SH);const CH=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],_H=qt("scroll-text",CH);const kH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yN=qt("search",kH);const TH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xN=qt("send",TH);const EH=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],AH=qt("share-2",EH);const MH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],DH=qt("shield",MH);const NH=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],LH=qt("skip-forward",NH);const OH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],RH=qt("target",OH);const BH=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],bN=qt("terminal",BH);const jH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vN=qt("trash-2",jH);const $H=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],w1=qt("triangle-alert",$H);const zH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],PH=qt("users",zH);const FH=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],IH=qt("wifi-off",FH);const HH=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],VH=qt("wifi",HH);const qH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zg=qt("x",qH),Jk=t=>{let e;const n=new Set,r=(h,d)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const m=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,m))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h))},u=e=t(r,i,c);return c},UH=(t=>t?Jk(t):Jk),WH=t=>t;function YH(t,e=WH){const n=re.useSyncExternalStore(t.subscribe,re.useCallback(()=>e(t.getState()),[t,e]),re.useCallback(()=>e(t.getInitialState()),[t,e]));return re.useDebugValue(n),n}const tT=t=>{const e=UH(t),n=r=>YH(e,r);return Object.assign(n,e),n},Pg=(t=>t?tT(t):tT),Si=Pg(t=>({currentView:"cockpit",selectedAgentId:null,commandPaletteOpen:!1,chatOpen:!1,chatAgentId:null,sidebarCollapsed:!1,setView:e=>t({currentView:e}),selectAgent:e=>t({selectedAgentId:e,currentView:e?"agent":"cockpit"}),openCommandPalette:()=>t({commandPaletteOpen:!0}),closeCommandPalette:()=>t({commandPaletteOpen:!1}),toggleChat:()=>t(e=>({chatOpen:!e.chatOpen})),openChat:e=>t({chatOpen:!0,chatAgentId:e||null}),closeChat:()=>t({chatOpen:!1}),setChatAgent:e=>t({chatAgentId:e}),toggleSidebar:()=>t(e=>({sidebarCollapsed:!e.sidebarCollapsed}))})),GH={status:"idle",currentTask:null,checklist:[],progress:0,activityHistory:Array(20).fill(0),sessionKey:null,model:null,tokens:null},Mn=Pg(t=>({agents:{},pendingActions:0,pendingActionDetails:[],projectName:"AG Dev",totalTasks:0,completedTasks:0,bridge:{connected:!1,gatewayUrl:"",latency:0},agentMetas:[],squads:{},loaded:!1,setAgents:e=>t({agents:e}),updateAgent:(e,n)=>t(r=>({agents:{...r.agents,[e]:{...r.agents[e]||GH,...n}}})),setPendingActions:e=>t({pendingActions:e}),addPendingActionDetail:e=>t(n=>({pendingActionDetails:[...n.pendingActionDetails,e],pendingActions:n.pendingActionDetails.length+1})),clearPendingActions:()=>t({pendingActions:0,pendingActionDetails:[]}),setProjectInfo:(e,n,r)=>t({projectName:e,totalTasks:n,completedTasks:r}),setBridgeStatus:e=>t(n=>({bridge:{...n.bridge,...e}})),setAgentMetas:e=>t({agentMetas:e,loaded:!0}),setSquads:e=>t({squads:e})})),Fg=Pg(t=>({toasts:[],addToast:(e,n)=>{const r=`toast-${Date.now()}-${Math.random().toString(36).slice(2,6)}`;t(i=>({toasts:[...i.toasts,{id:r,type:e,message:n,timestamp:Date.now()}]})),setTimeout(()=>{t(i=>({toasts:i.toasts.filter(s=>s.id!==r)}))},5e3)},removeToast:e=>t(n=>({toasts:n.toasts.filter(r=>r.id!==e)}))})),F={bg:{primary:"#0A0A0B",surface:"#141416",surfaceHover:"#1C1C1F",surfaceActive:"#222226",border:"#2A2A2E",borderLight:"#35353A"},text:{primary:"#EDEDEF",secondary:"#8B8B8E",muted:"#5A5A5D"},squads:{builders:{main:"#3B82F6",light:"#60A5FA",bg:"rgba(59,130,246,0.1)",glow:"rgba(59,130,246,0.3)"},thinkers:{main:"#A855F7",light:"#C084FC",bg:"rgba(168,85,247,0.1)",glow:"rgba(168,85,247,0.3)"},guardians:{main:"#EF4444",light:"#F87171",bg:"rgba(239,68,68,0.1)",glow:"rgba(239,68,68,0.3)"},creators:{main:"#10B981",light:"#34D399",bg:"rgba(16,185,129,0.1)",glow:"rgba(16,185,129,0.3)"}},status:{idle:"#6B7280",working:"#10B981",blocked:"#EAB308",error:"#EF4444",complete:"#10B981",paused:"#F59E0B"},accent:"#3B82F6"},eT=[{main:"#3B82F6",light:"#60A5FA"},{main:"#A855F7",light:"#C084FC"},{main:"#EF4444",light:"#F87171"},{main:"#10B981",light:"#34D399"},{main:"#F59E0B",light:"#FBBF24"},{main:"#EC4899",light:"#F472B6"},{main:"#06B6D4",light:"#22D3EE"},{main:"#8B5CF6",light:"#A78BFA"}],nT={builders:F.squads.builders,thinkers:F.squads.thinkers,guardians:F.squads.guardians,creators:F.squads.creators},cx={};let rT=0;function XH(t){return{main:t.main,light:t.light,bg:`${t.main}1A`,glow:`${t.main}4D`}}function qi(t){if(nT[t])return nT[t];if(cx[t])return cx[t];const e=eT[rT%eT.length];rT++;const n=XH(e);return cx[t]=n,n}function Fh(t,e){return e.find(n=>n.id===t)}const Ef={builders:{label:"Builders",icon:"",agents:["dev","devops","data-engineer","architect"]},thinkers:{label:"Thinkers",icon:"",agents:["analyst","pm","po"]},guardians:{label:"Guardians",icon:"",agents:["qa","sm","aios-master"]},creators:{label:"Creators",icon:"",agents:["ux-design-expert","squad-creator"]}},iT=[{id:"dev",name:"Developer",shortName:"DEV",icon:"",squad:"builders",role:"Fullstack development"},{id:"devops",name:"DevOps",shortName:"OPS",icon:"",squad:"builders",role:"Infrastructure & CI/CD"},{id:"data-engineer",name:"Data Engineer",shortName:"DAT",icon:"",squad:"builders",role:"Data pipelines & storage"},{id:"architect",name:"Architect",shortName:"ARC",icon:"",squad:"builders",role:"System design & architecture"},{id:"analyst",name:"Analyst",shortName:"ANL",icon:"",squad:"thinkers",role:"Research & analysis"},{id:"pm",name:"Product Manager",shortName:"PM",icon:"",squad:"thinkers",role:"Product definition & PRD"},{id:"po",name:"Product Owner",shortName:"PO",icon:"",squad:"thinkers",role:"Validation & acceptance"},{id:"qa",name:"QA Engineer",shortName:"QA",icon:"",squad:"guardians",role:"Testing & quality"},{id:"sm",name:"Scrum Master",shortName:"SM",icon:"",squad:"guardians",role:"Sprint management"},{id:"aios-master",name:"AIOS Master",shortName:"AIO",icon:"",squad:"guardians",role:"System orchestration"},{id:"ux-design-expert",name:"UX Designer",shortName:"UX",icon:"",squad:"creators",role:"User experience & design"},{id:"squad-creator",name:"Squad Creator",shortName:"SQD",icon:"",squad:"creators",role:"Team formation & squads"}];function ZH(){const{setAgentMetas:t,setSquads:e,loaded:n}=Mn(),r=A.useRef(!1);A.useEffect(()=>{r.current||n||(r.current=!0,fetch("/api/agents/meta").then(i=>{if(!i.ok)throw new Error("not ok");return i.json()}).then(i=>{const s=(i.agents||[]).map(c=>({id:c.id,name:c.name||c.title||c.id,shortName:c.shortName||(c.name||c.id).slice(0,3).toUpperCase(),icon:c.icon||"",squad:c.squad||"builders",role:c.role||c.title||""}));let o={};if(i.squads)if(Array.isArray(i.squads))for(const c of i.squads)o[c.id]={label:c.label||c.name||c.id,icon:c.icon||"",agents:c.agents||[]};else o=i.squads;if(s.length>0&&Object.keys(o).length===0){const c={};for(const u of s)c[u.squad]||(c[u.squad]=[]),c[u.squad].push(u.id);for(const[u,h]of Object.entries(c))o[u]={label:u.charAt(0).toUpperCase()+u.slice(1),icon:Ef[u]?.icon||"",agents:h}}s.length>0?(t(s),e(Object.keys(o).length>0?o:Ef)):(t(iT),e(Ef))}).catch(()=>{t(iT),e(Ef)}))},[])}function KH(){const{updateAgent:t,setPendingActions:e,setProjectInfo:n,setBridgeStatus:r,addPendingActionDetail:i}=Mn(),{addToast:s}=Fg(),o=A.useRef(null);A.useEffect(()=>{const u=new EventSource("/api/sse");return o.current=u,u.onmessage=h=>{try{const d=JSON.parse(h.data);d.type==="agent_update"&&d.agentId?t(d.agentId,d.state):d.type==="state"?(d.agents&&Object.entries(d.agents).forEach(([p,m])=>{t(p,m)}),d.project&&n(d.project.name||"AG Dev",d.project.totalTasks||0,d.project.completedTasks||0)):d.type==="clawdbot_event"?c(d):d.type==="agent_stream"?d.agentId&&d.delta&&t(d.agentId,{output:d.delta,thinking:d.thinking||void 0}):d.type==="bridge_status"?r({connected:d.connected??!1,gatewayUrl:d.gatewayUrl||"",latency:d.latency??0}):d.type==="consent_pending"?(typeof d.count=="number"&&e(d.count),d.action&&i({id:d.action.id||`pa-${Date.now()}`,agentId:d.action.agentId||"",type:d.action.type||"unknown",description:d.action.description||"",timestamp:Date.now()})):d.type==="toast"&&s(d.level||"info",d.message||"Notification")}catch{}},u.onerror=()=>{r({connected:!1})},()=>{u.close(),o.current=null}},[]);function c(u){const{event:h,agentId:d,payload:p}=u;switch(h){case"session_started":d&&t(d,{status:"working",sessionKey:p?.sessionKey||null}),s("success",`Agent ${d||"unknown"} session started`);break;case"session_stopped":d&&t(d,{status:"idle",sessionKey:null}),s("info",`Agent ${d||"unknown"} session stopped`);break;case"session_error":d&&t(d,{status:"error"}),s("error",`Agent ${d||"unknown"} error: ${p?.message||"unknown"}`);break;case"model_change":d&&p?.model&&t(d,{model:p.model});break;case"token_update":d&&p?.tokens&&t(d,{tokens:p.tokens});break}}}function QH(t,e=1e4){const{setAgents:n,setProjectInfo:r}=Mn();A.useEffect(()=>{const i=async()=>{try{const o=await fetch(t);if(!o.ok)return;const c=await o.json();c.agents&&n(c.agents),c.project&&r(c.project?.name||"",c.project?.totalTasks||0,c.project?.completedTasks||0)}catch{}};i();const s=setInterval(i,e);return()=>clearInterval(s)},[t,e])}function JH(){const{openCommandPalette:t,toggleChat:e,setView:n,currentView:r,selectedAgentId:i,selectAgent:s}=Si();A.useEffect(()=>{const o=c=>{const u=c.metaKey||c.ctrlKey,h=c.target,d=h.tagName==="INPUT"||h.tagName==="TEXTAREA"||h.isContentEditable;if(u&&c.key==="k"){c.preventDefault(),t();return}if(u&&c.key==="j"){c.preventDefault(),e();return}if(!d){if(c.key==="1"){n("cockpit");return}if(c.key==="2"){n("pipeline");return}if(c.key==="3"){n("gantt");return}if(c.key==="4"){n("emergence");return}if(c.key==="5"){n("strategy");return}if(c.key==="6"){n("terminal");return}if(c.key==="7"){n("diagrams");return}if(c.key==="8"){n("logs");return}if(c.key==="9"){n("docs");return}if(c.key==="Escape"){r!=="cockpit"&&s(null);return}}};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r,i])}var aT=1,t7=.9,e7=.8,n7=.17,ux=.1,hx=.999,r7=.9999,i7=.99,a7=/[\\\/_+.#"@\[\(\{&]/,s7=/[\\\/_+.#"@\[\(\{&]/g,o7=/[\s-]/,wN=/[\s-]/g;function Mb(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?aT:i7;var c=`${i},${s}`;if(o[c]!==void 0)return o[c];for(var u=r.charAt(s),h=n.indexOf(u,i),d=0,p,m,y,x;h>=0;)p=Mb(t,e,n,r,h+1,s+1,o),p>d&&(h===i?p*=aT:a7.test(t.charAt(h-1))?(p*=e7,y=t.slice(i,h-1).match(s7),y&&i>0&&(p*=Math.pow(hx,y.length))):o7.test(t.charAt(h-1))?(p*=t7,x=t.slice(i,h-1).match(wN),x&&i>0&&(p*=Math.pow(hx,x.length))):(p*=n7,i>0&&(p*=Math.pow(hx,h-i))),t.charAt(h)!==e.charAt(s)&&(p*=r7)),(p<ux&&n.charAt(h-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(h-1)!==r.charAt(s))&&(m=Mb(t,e,n,r,h+1,s+2,o),m*ux>p&&(p=m*ux)),p>d&&(d=p),h=n.indexOf(u,h+1);return o[c]=d,d}function sT(t){return t.toLowerCase().replace(wN," ")}function l7(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Mb(t,e,sT(t),sT(e),0,0,{})}function ps(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function oT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vs(...t){return e=>{let n=!1;const r=t.map(i=>{const s=oT(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():oT(t[i],null)}}}}function Do(...t){return A.useCallback(vs(...t),t)}function c7(t,e){const n=A.createContext(e),r=s=>{const{children:o,...c}=s,u=A.useMemo(()=>c,Object.values(c));return k.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(s){const o=A.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function u7(t,e=[]){let n=[];function r(s,o){const c=A.createContext(o),u=n.length;n=[...n,o];const h=p=>{const{scope:m,children:y,...x}=p,b=m?.[t]?.[u]||c,S=A.useMemo(()=>x,Object.values(x));return k.jsx(b.Provider,{value:S,children:y})};h.displayName=s+"Provider";function d(p,m){const y=m?.[t]?.[u]||c,x=A.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[h,d]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(c){const u=c?.[t]||s;return A.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[r,h7(i,...e)]}function h7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(s)[`__scope${h}`];return{...c,...p}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var hh=globalThis?.document?A.useLayoutEffect:()=>{},d7=Iv[" useId ".trim().toString()]||(()=>{}),f7=0;function Ca(t){const[e,n]=A.useState(d7());return hh(()=>{n(r=>r??String(f7++))},[t]),e?`radix-${e}`:""}var p7=Iv[" useInsertionEffect ".trim().toString()]||hh;function g7({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=m7({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:i;{const d=A.useRef(t!==void 0);A.useEffect(()=>{const p=d.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,r])}const h=A.useCallback(d=>{if(c){const p=y7(d)?d(t):d;p!==t&&o.current?.(p)}else s(d)},[c,t,s,o]);return[u,h]}function m7({defaultProp:t,onChange:e}){const[n,r]=A.useState(t),i=A.useRef(n),s=A.useRef(e);return p7(()=>{s.current=e},[e]),A.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function y7(t){return typeof t=="function"}var oo=wM();const x7=Rh(oo);function Ih(t){const e=b7(t),n=A.forwardRef((r,i)=>{const{children:s,...o}=r,c=A.Children.toArray(s),u=c.find(w7);if(u){const h=u.props.children,d=c.map(p=>p===u?A.Children.count(h)>1?A.Children.only(null):A.isValidElement(h)?h.props.children:null:p);return k.jsx(e,{...o,ref:i,children:A.isValidElement(h)?A.cloneElement(h,void 0,d):null})}return k.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function b7(t){const e=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const o=C7(i),c=S7(s,i.props);return i.type!==A.Fragment&&(c.ref=r?vs(r,o):o),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var v7=Symbol("radix.slottable");function w7(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===v7}function S7(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const u=s(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function C7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],SN=_7.reduce((t,e)=>{const n=Ih(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function k7(t,e){t&&oo.flushSync(()=>t.dispatchEvent(e))}function dh(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>e.current?.(...n),[])}function T7(t,e=globalThis?.document){const n=dh(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var E7="DismissableLayer",Db="dismissableLayer.update",A7="dismissableLayer.pointerDownOutside",M7="dismissableLayer.focusOutside",lT,CN=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_N=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...u}=t,h=A.useContext(CN),[d,p]=A.useState(null),m=d?.ownerDocument??globalThis?.document,[,y]=A.useState({}),x=Do(e,N=>p(N)),b=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=b.indexOf(S),T=d?b.indexOf(d):-1,w=h.layersWithOutsidePointerEventsDisabled.size>0,E=T>=_,M=L7(N=>{const $=N.target,z=[...h.branches].some(P=>P.contains($));!E||z||(i?.(N),o?.(N),N.defaultPrevented||c?.())},m),L=O7(N=>{const $=N.target;[...h.branches].some(P=>P.contains($))||(s?.(N),o?.(N),N.defaultPrevented||c?.())},m);return T7(N=>{T===h.layers.size-1&&(r?.(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},m),A.useEffect(()=>{if(d)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(lT=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(d)),h.layers.add(d),cT(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=lT)}},[d,m,n,h]),A.useEffect(()=>()=>{d&&(h.layers.delete(d),h.layersWithOutsidePointerEventsDisabled.delete(d),cT())},[d,h]),A.useEffect(()=>{const N=()=>y({});return document.addEventListener(Db,N),()=>document.removeEventListener(Db,N)},[]),k.jsx(SN.div,{...u,ref:x,style:{pointerEvents:w?E?"auto":"none":void 0,...t.style},onFocusCapture:ps(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ps(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ps(t.onPointerDownCapture,M.onPointerDownCapture)})});_N.displayName=E7;var D7="DismissableLayerBranch",N7=A.forwardRef((t,e)=>{const n=A.useContext(CN),r=A.useRef(null),i=Do(e,r);return A.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),k.jsx(SN.div,{...t,ref:i})});N7.displayName=D7;function L7(t,e=globalThis?.document){const n=dh(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let u=function(){kN(A7,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function O7(t,e=globalThis?.document){const n=dh(t),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&kN(M7,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cT(){const t=new CustomEvent(Db);document.dispatchEvent(t)}function kN(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?k7(i,s):i.dispatchEvent(s)}var R7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],B7=R7.reduce((t,e)=>{const n=Ih(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),dx="focusScope.autoFocusOnMount",fx="focusScope.autoFocusOnUnmount",uT={bubbles:!1,cancelable:!0},j7="FocusScope",TN=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[c,u]=A.useState(null),h=dh(i),d=dh(s),p=A.useRef(null),m=Do(e,b=>u(b)),y=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let b=function(w){if(y.paused||!c)return;const E=w.target;c.contains(E)?p.current=E:os(p.current,{select:!0})},S=function(w){if(y.paused||!c)return;const E=w.relatedTarget;E!==null&&(c.contains(E)||os(p.current,{select:!0}))},_=function(w){if(document.activeElement===document.body)for(const M of w)M.removedNodes.length>0&&os(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const T=new MutationObserver(_);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),T.disconnect()}}},[r,c,y.paused]),A.useEffect(()=>{if(c){dT.add(y);const b=document.activeElement;if(!c.contains(b)){const _=new CustomEvent(dx,uT);c.addEventListener(dx,h),c.dispatchEvent(_),_.defaultPrevented||($7(H7(EN(c)),{select:!0}),document.activeElement===b&&os(c))}return()=>{c.removeEventListener(dx,h),setTimeout(()=>{const _=new CustomEvent(fx,uT);c.addEventListener(fx,d),c.dispatchEvent(_),_.defaultPrevented||os(b??document.body,{select:!0}),c.removeEventListener(fx,d),dT.remove(y)},0)}}},[c,h,d,y]);const x=A.useCallback(b=>{if(!n&&!r||y.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,_=document.activeElement;if(S&&_){const T=b.currentTarget,[w,E]=z7(T);w&&E?!b.shiftKey&&_===E?(b.preventDefault(),n&&os(w,{select:!0})):b.shiftKey&&_===w&&(b.preventDefault(),n&&os(E,{select:!0})):_===T&&b.preventDefault()}},[n,r,y.paused]);return k.jsx(B7.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});TN.displayName=j7;function $7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(os(r,{select:e}),document.activeElement!==n)return}function z7(t){const e=EN(t),n=hT(e,t),r=hT(e.reverse(),t);return[n,r]}function EN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hT(t,e){for(const n of t)if(!P7(n,{upTo:e}))return n}function P7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function F7(t){return t instanceof HTMLInputElement&&"select"in t}function os(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&F7(t)&&e&&t.select()}}var dT=I7();function I7(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=fT(t,e),t.unshift(e)},remove(e){t=fT(t,e),t[0]?.resume()}}}function fT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function H7(t){return t.filter(e=>e.tagName!=="A")}var V7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],q7=V7.reduce((t,e)=>{const n=Ih(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),U7="Portal",AN=A.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=A.useState(!1);hh(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?x7.createPortal(k.jsx(q7.div,{...r,ref:e}),o):null});AN.displayName=U7;function W7(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var Ig=t=>{const{present:e,children:n}=t,r=Y7(e),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=Do(r.ref,G7(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};Ig.displayName="Presence";function Y7(t){const[e,n]=A.useState(),r=A.useRef(null),i=A.useRef(t),s=A.useRef("none"),o=t?"mounted":"unmounted",[c,u]=W7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const h=Af(r.current);s.current=c==="mounted"?h:"none"},[c]),hh(()=>{const h=r.current,d=i.current;if(d!==t){const m=s.current,y=Af(h);t?u("MOUNT"):y==="none"||h?.display==="none"?u("UNMOUNT"):u(d&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),hh(()=>{if(e){let h;const d=e.ownerDocument.defaultView??window,p=y=>{const b=Af(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&b&&(u("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",h=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},m=y=>{y.target===e&&(s.current=Af(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(h),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:A.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Af(t){return t?.animationName||"none"}function G7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var X7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hh=X7.reduce((t,e)=>{const n=Ih(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),px=0;function Z7(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??pT()),document.body.insertAdjacentElement("beforeend",t[1]??pT()),px++,()=>{px===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),px--}},[])}function pT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Fi=function(){return Fi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fi.apply(this,arguments)};function MN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function K7(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var lp="right-scroll-bar-position",cp="width-before-scroll-bar",Q7="with-scroll-bars-hidden",J7="--removed-body-scroll-bar-size";function gx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function tV(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var eV=typeof window<"u"?A.useLayoutEffect:A.useEffect,gT=new WeakMap;function nV(t,e){var n=tV(null,function(r){return t.forEach(function(i){return gx(i,r)})});return eV(function(){var r=gT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(c){s.has(c)||gx(c,null)}),s.forEach(function(c){i.has(c)||gx(c,o)})}gT.set(n,t)},[t]),n}function rV(t){return t}function iV(t,e){e===void 0&&(e=rV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(s),o=n}var u=function(){var d=o;o=[],d.forEach(s)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(d){o.push(d),h()},filter:function(d){return o=o.filter(d),n}}}};return i}function aV(t){t===void 0&&(t={});var e=iV(null);return e.options=Fi({async:!0,ssr:!1},t),e}var DN=function(t){var e=t.sideCar,n=MN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,Fi({},n))};DN.isSideCarExport=!0;function sV(t,e){return t.useMedium(e),DN}var NN=aV(),mx=function(){},Hg=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:mx,onWheelCapture:mx,onTouchMoveCapture:mx}),i=r[0],s=r[1],o=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,d=t.enabled,p=t.shards,m=t.sideCar,y=t.noRelative,x=t.noIsolation,b=t.inert,S=t.allowPinchZoom,_=t.as,T=_===void 0?"div":_,w=t.gapMode,E=MN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=m,L=nV([n,e]),N=Fi(Fi({},E),i);return A.createElement(A.Fragment,null,d&&A.createElement(M,{sideCar:NN,removeScrollBar:h,shards:p,noRelative:y,noIsolation:x,inert:b,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:w}),o?A.cloneElement(A.Children.only(c),Fi(Fi({},N),{ref:L})):A.createElement(T,Fi({},N,{className:u,ref:L}),c))});Hg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hg.classNames={fullWidth:cp,zeroRight:lp};var oV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oV();return e&&t.setAttribute("nonce",e),t}function cV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function uV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var hV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=lV())&&(cV(e,n),uV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dV=function(){var t=hV();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},LN=function(){var t=dV(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},fV={left:0,top:0,right:0,gap:0},yx=function(t){return parseInt(t||"",10)||0},pV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[yx(n),yx(r),yx(i)]},gV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return fV;var e=pV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},mV=LN(),Pl="data-scroll-locked",yV=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Q7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Pl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lp,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(cp,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(lp," .").concat(lp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cp," .").concat(cp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Pl,`] {
    `).concat(J7,": ").concat(c,`px;
  }
`)},mT=function(){var t=parseInt(document.body.getAttribute(Pl)||"0",10);return isFinite(t)?t:0},xV=function(){A.useEffect(function(){return document.body.setAttribute(Pl,(mT()+1).toString()),function(){var t=mT()-1;t<=0?document.body.removeAttribute(Pl):document.body.setAttribute(Pl,t.toString())}},[])},bV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;xV();var s=A.useMemo(function(){return gV(i)},[i]);return A.createElement(mV,{styles:yV(s,!e,i,n?"":"!important")})},Nb=!1;if(typeof window<"u")try{var Mf=Object.defineProperty({},"passive",{get:function(){return Nb=!0,!0}});window.addEventListener("test",Mf,Mf),window.removeEventListener("test",Mf,Mf)}catch{Nb=!1}var xl=Nb?{passive:!1}:!1,vV=function(t){return t.tagName==="TEXTAREA"},ON=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!vV(t)&&n[e]==="visible")},wV=function(t){return ON(t,"overflowY")},SV=function(t){return ON(t,"overflowX")},yT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=RN(t,r);if(i){var s=BN(t,r),o=s[1],c=s[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},CV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_V=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},RN=function(t,e){return t==="v"?wV(e):SV(e)},BN=function(t,e){return t==="v"?CV(e):_V(e)},kV=function(t,e){return t==="h"&&e==="rtl"?-1:1},TV=function(t,e,n,r,i){var s=kV(t,window.getComputedStyle(e).direction),o=s*r,c=n.target,u=e.contains(c),h=!1,d=o>0,p=0,m=0;do{if(!c)break;var y=BN(t,c),x=y[0],b=y[1],S=y[2],_=b-S-s*x;(x||_)&&RN(t,c)&&(p+=_,m+=x);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(d&&Math.abs(p)<1||!d&&Math.abs(m)<1)&&(h=!0),h},Df=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xT=function(t){return[t.deltaX,t.deltaY]},bT=function(t){return t&&"current"in t?t.current:t},EV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},AV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},MV=0,bl=[];function DV(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(MV++)[0],s=A.useState(LN)[0],o=A.useRef(t);A.useEffect(function(){o.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=K7([t.lockRef.current],(t.shards||[]).map(bT),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=A.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var _=Df(b),T=n.current,w="deltaX"in b?b.deltaX:T[0]-_[0],E="deltaY"in b?b.deltaY:T[1]-_[1],M,L=b.target,N=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in b&&N==="h"&&L.type==="range")return!1;var $=window.getSelection(),z=$&&$.anchorNode,P=z?z===L||z.contains(L):!1;if(P)return!1;var j=yT(N,L);if(!j)return!0;if(j?M=N:(M=N==="v"?"h":"v",j=yT(N,L)),!j)return!1;if(!r.current&&"changedTouches"in b&&(w||E)&&(r.current=M),!M)return!0;var W=r.current||M;return TV(W,S,b,W==="h"?w:E)},[]),u=A.useCallback(function(b){var S=b;if(!(!bl.length||bl[bl.length-1]!==s)){var _="deltaY"in S?xT(S):Df(S),T=e.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&EV(M.delta,_)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var w=(o.current.shards||[]).map(bT).filter(Boolean).filter(function(M){return M.contains(S.target)}),E=w.length>0?c(S,w[0]):!o.current.noIsolation;E&&S.cancelable&&S.preventDefault()}}},[]),h=A.useCallback(function(b,S,_,T){var w={name:b,delta:S,target:_,should:T,shadowParent:NV(_)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),d=A.useCallback(function(b){n.current=Df(b),r.current=void 0},[]),p=A.useCallback(function(b){h(b.type,xT(b),b.target,c(b,t.lockRef.current))},[]),m=A.useCallback(function(b){h(b.type,Df(b),b.target,c(b,t.lockRef.current))},[]);A.useEffect(function(){return bl.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",u,xl),document.addEventListener("touchmove",u,xl),document.addEventListener("touchstart",d,xl),function(){bl=bl.filter(function(b){return b!==s}),document.removeEventListener("wheel",u,xl),document.removeEventListener("touchmove",u,xl),document.removeEventListener("touchstart",d,xl)}},[]);var y=t.removeScrollBar,x=t.inert;return A.createElement(A.Fragment,null,x?A.createElement(s,{styles:AV(i)}):null,y?A.createElement(bV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function NV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const LV=sV(NN,DV);var jN=A.forwardRef(function(t,e){return A.createElement(Hg,Fi({},t,{ref:e,sideCar:LV}))});jN.classNames=Hg.classNames;var OV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vl=new WeakMap,Nf=new WeakMap,Lf={},xx=0,$N=function(t){return t&&(t.host||$N(t.parentNode))},RV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$N(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},BV=function(t,e,n,r){var i=RV(e,Array.isArray(t)?t:[t]);Lf[n]||(Lf[n]=new WeakMap);var s=Lf[n],o=[],c=new Set,u=new Set(i),h=function(p){!p||c.has(p)||(c.add(p),h(p.parentNode))};i.forEach(h);var d=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(m){if(c.has(m))d(m);else try{var y=m.getAttribute(r),x=y!==null&&y!=="false",b=(vl.get(m)||0)+1,S=(s.get(m)||0)+1;vl.set(m,b),s.set(m,S),o.push(m),b===1&&x&&Nf.set(m,!0),S===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return d(e),c.clear(),xx++,function(){o.forEach(function(p){var m=vl.get(p)-1,y=s.get(p)-1;vl.set(p,m),s.set(p,y),m||(Nf.has(p)||p.removeAttribute(r),Nf.delete(p)),y||p.removeAttribute(n)}),xx--,xx||(vl=new WeakMap,vl=new WeakMap,Nf=new WeakMap,Lf={})}},jV=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=OV(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),BV(r,i,n,"aria-hidden")):function(){return null}},Vg="Dialog",[zN]=u7(Vg),[$V,Ti]=zN(Vg),PN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,c=A.useRef(null),u=A.useRef(null),[h,d]=g7({prop:r,defaultProp:i??!1,onChange:s,caller:Vg});return k.jsx($V,{scope:e,triggerRef:c,contentRef:u,contentId:Ca(),titleId:Ca(),descriptionId:Ca(),open:h,onOpenChange:d,onOpenToggle:A.useCallback(()=>d(p=>!p),[d]),modal:o,children:n})};PN.displayName=Vg;var FN="DialogTrigger",zV=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ti(FN,n),s=Do(e,i.triggerRef);return k.jsx(Hh.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_1(i.open),...r,ref:s,onClick:ps(t.onClick,i.onOpenToggle)})});zV.displayName=FN;var S1="DialogPortal",[PV,IN]=zN(S1,{forceMount:void 0}),HN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ti(S1,e);return k.jsx(PV,{scope:e,forceMount:n,children:A.Children.map(r,o=>k.jsx(Ig,{present:n||s.open,children:k.jsx(AN,{asChild:!0,container:i,children:o})}))})};HN.displayName=S1;var Bp="DialogOverlay",VN=A.forwardRef((t,e)=>{const n=IN(Bp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ti(Bp,t.__scopeDialog);return s.modal?k.jsx(Ig,{present:r||s.open,children:k.jsx(IV,{...i,ref:e})}):null});VN.displayName=Bp;var FV=Ih("DialogOverlay.RemoveScroll"),IV=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ti(Bp,n);return k.jsx(jN,{as:FV,allowPinchZoom:!0,shards:[i.contentRef],children:k.jsx(Hh.div,{"data-state":_1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),xo="DialogContent",qN=A.forwardRef((t,e)=>{const n=IN(xo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ti(xo,t.__scopeDialog);return k.jsx(Ig,{present:r||s.open,children:s.modal?k.jsx(HV,{...i,ref:e}):k.jsx(VV,{...i,ref:e})})});qN.displayName=xo;var HV=A.forwardRef((t,e)=>{const n=Ti(xo,t.__scopeDialog),r=A.useRef(null),i=Do(e,n.contentRef,r);return A.useEffect(()=>{const s=r.current;if(s)return jV(s)},[]),k.jsx(UN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ps(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ps(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:ps(t.onFocusOutside,s=>s.preventDefault())})}),VV=A.forwardRef((t,e)=>{const n=Ti(xo,t.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return k.jsx(UN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),UN=A.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,c=Ti(xo,n),u=A.useRef(null),h=Do(e,u);return Z7(),k.jsxs(k.Fragment,{children:[k.jsx(TN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:k.jsx(_N,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":_1(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),k.jsxs(k.Fragment,{children:[k.jsx(YV,{titleId:c.titleId}),k.jsx(XV,{contentRef:u,descriptionId:c.descriptionId})]})]})}),C1="DialogTitle",qV=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ti(C1,n);return k.jsx(Hh.h2,{id:i.titleId,...r,ref:e})});qV.displayName=C1;var WN="DialogDescription",UV=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ti(WN,n);return k.jsx(Hh.p,{id:i.descriptionId,...r,ref:e})});UV.displayName=WN;var YN="DialogClose",WV=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ti(YN,n);return k.jsx(Hh.button,{type:"button",...r,ref:e,onClick:ps(t.onClick,()=>i.onOpenChange(!1))})});WV.displayName=YN;function _1(t){return t?"open":"closed"}var GN="DialogTitleWarning",[Dft,XN]=c7(GN,{contentName:xo,titleName:C1,docsSlug:"dialog"}),YV=({titleId:t})=>{const e=XN(GN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},GV="DialogDescriptionWarning",XV=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XN(GV).contentName}}.`;return A.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ZV=PN,KV=HN,QV=VN,JV=qN,tq=Symbol.for("react.lazy"),jp=Iv[" use ".trim().toString()];function eq(t){return typeof t=="object"&&t!==null&&"then"in t}function ZN(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===tq&&"_payload"in t&&eq(t._payload)}function nq(t){const e=rq(t),n=A.forwardRef((r,i)=>{let{children:s,...o}=r;ZN(s)&&typeof jp=="function"&&(s=jp(s._payload));const c=A.Children.toArray(s),u=c.find(aq);if(u){const h=u.props.children,d=c.map(p=>p===u?A.Children.count(h)>1?A.Children.only(null):A.isValidElement(h)?h.props.children:null:p);return k.jsx(e,{...o,ref:i,children:A.isValidElement(h)?A.cloneElement(h,void 0,d):null})}return k.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function rq(t){const e=A.forwardRef((n,r)=>{let{children:i,...s}=n;if(ZN(i)&&typeof jp=="function"&&(i=jp(i._payload)),A.isValidElement(i)){const o=oq(i),c=sq(s,i.props);return i.type!==A.Fragment&&(c.ref=r?vs(r,o):o),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iq=Symbol("radix.slottable");function aq(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iq}function sq(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const u=s(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function oq(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],As=lq.reduce((t,e)=>{const n=nq(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),xu='[cmdk-group=""]',bx='[cmdk-group-items=""]',cq='[cmdk-group-heading=""]',KN='[cmdk-item=""]',vT=`${KN}:not([aria-disabled="true"])`,Lb="cmdk-item-select",Tl="data-value",uq=(t,e,n)=>l7(t,e,n),QN=A.createContext(void 0),Vh=()=>A.useContext(QN),JN=A.createContext(void 0),k1=()=>A.useContext(JN),tL=A.createContext(void 0),eL=A.forwardRef((t,e)=>{let n=El(()=>{var V,K;return{search:"",value:(K=(V=t.value)!=null?V:t.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=El(()=>new Set),i=El(()=>new Map),s=El(()=>new Map),o=El(()=>new Set),c=nL(t),{label:u,children:h,value:d,onValueChange:p,filter:m,shouldFilter:y,loop:x,disablePointerSelection:b=!1,vimBindings:S=!0,..._}=t,T=Ca(),w=Ca(),E=Ca(),M=A.useRef(null),L=wq();bo(()=>{if(d!==void 0){let V=d.trim();n.current.value=V,N.emit()}},[d]),bo(()=>{L(6,G)},[]);let N=A.useMemo(()=>({subscribe:V=>(o.current.add(V),()=>o.current.delete(V)),snapshot:()=>n.current,setState:(V,K,et)=>{var X,Q,tt,at;if(!Object.is(n.current[V],K)){if(n.current[V]=K,V==="search")W(),P(),L(1,j);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ut=document.getElementById(E);ut?ut.focus():(X=document.getElementById(T))==null||X.focus()}if(L(7,()=>{var ut;n.current.selectedItemId=(ut=B())==null?void 0:ut.id,N.emit()}),et||L(5,G),((Q=c.current)==null?void 0:Q.value)!==void 0){let ut=K??"";(at=(tt=c.current).onValueChange)==null||at.call(tt,ut);return}}N.emit()}},emit:()=>{o.current.forEach(V=>V())}}),[]),$=A.useMemo(()=>({value:(V,K,et)=>{var X;K!==((X=s.current.get(V))==null?void 0:X.value)&&(s.current.set(V,{value:K,keywords:et}),n.current.filtered.items.set(V,z(K,et)),L(2,()=>{P(),N.emit()}))},item:(V,K)=>(r.current.add(V),K&&(i.current.has(K)?i.current.get(K).add(V):i.current.set(K,new Set([V]))),L(3,()=>{W(),P(),n.current.value||j(),N.emit()}),()=>{s.current.delete(V),r.current.delete(V),n.current.filtered.items.delete(V);let et=B();L(4,()=>{W(),et?.getAttribute("id")===V&&j(),N.emit()})}),group:V=>(i.current.has(V)||i.current.set(V,new Set),()=>{s.current.delete(V),i.current.delete(V)}),filter:()=>c.current.shouldFilter,label:u||t["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:T,inputId:E,labelId:w,listInnerRef:M}),[]);function z(V,K){var et,X;let Q=(X=(et=c.current)==null?void 0:et.filter)!=null?X:uq;return V?Q(V,n.current.search,K):0}function P(){if(!n.current.search||c.current.shouldFilter===!1)return;let V=n.current.filtered.items,K=[];n.current.filtered.groups.forEach(X=>{let Q=i.current.get(X),tt=0;Q.forEach(at=>{let ut=V.get(at);tt=Math.max(ut,tt)}),K.push([X,tt])});let et=M.current;H().sort((X,Q)=>{var tt,at;let ut=X.getAttribute("id"),pt=Q.getAttribute("id");return((tt=V.get(pt))!=null?tt:0)-((at=V.get(ut))!=null?at:0)}).forEach(X=>{let Q=X.closest(bx);Q?Q.appendChild(X.parentElement===Q?X:X.closest(`${bx} > *`)):et.appendChild(X.parentElement===et?X:X.closest(`${bx} > *`))}),K.sort((X,Q)=>Q[1]-X[1]).forEach(X=>{var Q;let tt=(Q=M.current)==null?void 0:Q.querySelector(`${xu}[${Tl}="${encodeURIComponent(X[0])}"]`);tt?.parentElement.appendChild(tt)})}function j(){let V=H().find(et=>et.getAttribute("aria-disabled")!=="true"),K=V?.getAttribute(Tl);N.setState("value",K||void 0)}function W(){var V,K,et,X;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Q=0;for(let tt of r.current){let at=(K=(V=s.current.get(tt))==null?void 0:V.value)!=null?K:"",ut=(X=(et=s.current.get(tt))==null?void 0:et.keywords)!=null?X:[],pt=z(at,ut);n.current.filtered.items.set(tt,pt),pt>0&&Q++}for(let[tt,at]of i.current)for(let ut of at)if(n.current.filtered.items.get(ut)>0){n.current.filtered.groups.add(tt);break}n.current.filtered.count=Q}function G(){var V,K,et;let X=B();X&&(((V=X.parentElement)==null?void 0:V.firstChild)===X&&((et=(K=X.closest(xu))==null?void 0:K.querySelector(cq))==null||et.scrollIntoView({block:"nearest"})),X.scrollIntoView({block:"nearest"}))}function B(){var V;return(V=M.current)==null?void 0:V.querySelector(`${KN}[aria-selected="true"]`)}function H(){var V;return Array.from(((V=M.current)==null?void 0:V.querySelectorAll(vT))||[])}function R(V){let K=H()[V];K&&N.setState("value",K.getAttribute(Tl))}function I(V){var K;let et=B(),X=H(),Q=X.findIndex(at=>at===et),tt=X[Q+V];(K=c.current)!=null&&K.loop&&(tt=Q+V<0?X[X.length-1]:Q+V===X.length?X[0]:X[Q+V]),tt&&N.setState("value",tt.getAttribute(Tl))}function U(V){let K=B(),et=K?.closest(xu),X;for(;et&&!X;)et=V>0?bq(et,xu):vq(et,xu),X=et?.querySelector(vT);X?N.setState("value",X.getAttribute(Tl)):I(V)}let Z=()=>R(H().length-1),nt=V=>{V.preventDefault(),V.metaKey?Z():V.altKey?U(1):I(1)},q=V=>{V.preventDefault(),V.metaKey?R(0):V.altKey?U(-1):I(-1)};return A.createElement(As.div,{ref:e,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:V=>{var K;(K=_.onKeyDown)==null||K.call(_,V);let et=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||et))switch(V.key){case"n":case"j":{S&&V.ctrlKey&&nt(V);break}case"ArrowDown":{nt(V);break}case"p":case"k":{S&&V.ctrlKey&&q(V);break}case"ArrowUp":{q(V);break}case"Home":{V.preventDefault(),R(0);break}case"End":{V.preventDefault(),Z();break}case"Enter":{V.preventDefault();let X=B();if(X){let Q=new Event(Lb);X.dispatchEvent(Q)}}}}},A.createElement("label",{"cmdk-label":"",htmlFor:$.inputId,id:$.labelId,style:Cq},u),qg(t,V=>A.createElement(JN.Provider,{value:N},A.createElement(QN.Provider,{value:$},V))))}),hq=A.forwardRef((t,e)=>{var n,r;let i=Ca(),s=A.useRef(null),o=A.useContext(tL),c=Vh(),u=nL(t),h=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:o?.forceMount;bo(()=>{if(!h)return c.item(i,o?.id)},[h]);let d=rL(i,s,[t.value,t.children,s],t.keywords),p=k1(),m=ws(L=>L.value&&L.value===d.current),y=ws(L=>h||c.filter()===!1?!0:L.search?L.filtered.items.get(i)>0:!0);A.useEffect(()=>{let L=s.current;if(!(!L||t.disabled))return L.addEventListener(Lb,x),()=>L.removeEventListener(Lb,x)},[y,t.onSelect,t.disabled]);function x(){var L,N;b(),(N=(L=u.current).onSelect)==null||N.call(L,d.current)}function b(){p.setState("value",d.current,!0)}if(!y)return null;let{disabled:S,value:_,onSelect:T,forceMount:w,keywords:E,...M}=t;return A.createElement(As.div,{ref:vs(s,e),...M,id:i,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!m,"data-disabled":!!S,"data-selected":!!m,onPointerMove:S||c.getDisablePointerSelection()?void 0:b,onClick:S?void 0:x},t.children)}),dq=A.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=Ca(),c=A.useRef(null),u=A.useRef(null),h=Ca(),d=Vh(),p=ws(y=>i||d.filter()===!1?!0:y.search?y.filtered.groups.has(o):!0);bo(()=>d.group(o),[]),rL(o,c,[t.value,t.heading,u]);let m=A.useMemo(()=>({id:o,forceMount:i}),[i]);return A.createElement(As.div,{ref:vs(c,e),...s,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&A.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),qg(t,y=>A.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},A.createElement(tL.Provider,{value:m},y))))}),fq=A.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=A.useRef(null),s=ws(o=>!o.search);return!n&&!s?null:A.createElement(As.div,{ref:vs(i,e),...r,"cmdk-separator":"",role:"separator"})}),pq=A.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=k1(),o=ws(h=>h.search),c=ws(h=>h.selectedItemId),u=Vh();return A.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),A.createElement(As.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":c,id:u.inputId,type:"text",value:i?t.value:o,onChange:h=>{i||s.setState("search",h.target.value),n?.(h.target.value)}})}),gq=A.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=A.useRef(null),o=A.useRef(null),c=ws(h=>h.selectedItemId),u=Vh();return A.useEffect(()=>{if(o.current&&s.current){let h=o.current,d=s.current,p,m=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let y=h.offsetHeight;d.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return m.observe(h),()=>{cancelAnimationFrame(p),m.unobserve(h)}}},[]),A.createElement(As.div,{ref:vs(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:u.listId},qg(t,h=>A.createElement("div",{ref:vs(o,u.listInnerRef),"cmdk-list-sizer":""},h)))}),mq=A.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...c}=t;return A.createElement(ZV,{open:n,onOpenChange:r},A.createElement(KV,{container:o},A.createElement(QV,{"cmdk-overlay":"",className:i}),A.createElement(JV,{"aria-label":t.label,"cmdk-dialog":"",className:s},A.createElement(eL,{ref:e,...c}))))}),yq=A.forwardRef((t,e)=>ws(n=>n.filtered.count===0)?A.createElement(As.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),xq=A.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return A.createElement(As.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},qg(t,o=>A.createElement("div",{"aria-hidden":!0},o)))}),ls=Object.assign(eL,{List:gq,Item:hq,Input:pq,Group:dq,Separator:fq,Dialog:mq,Empty:yq,Loading:xq});function bq(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function vq(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function nL(t){let e=A.useRef(t);return bo(()=>{e.current=t}),e}var bo=typeof window>"u"?A.useEffect:A.useLayoutEffect;function El(t){let e=A.useRef();return e.current===void 0&&(e.current=t()),e}function ws(t){let e=k1(),n=()=>t(e.snapshot());return A.useSyncExternalStore(e.subscribe,n,n)}function rL(t,e,n,r=[]){let i=A.useRef(),s=Vh();return bo(()=>{var o;let c=(()=>{var h;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(h=d.current.textContent)==null?void 0:h.trim():i.current}})(),u=r.map(h=>h.trim());s.value(t,c,u),(o=e.current)==null||o.setAttribute(Tl,c),i.current=c}),i}var wq=()=>{let[t,e]=A.useState(),n=El(()=>new Map);return bo(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function Sq(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function qg({asChild:t,children:e},n){return t&&A.isValidElement(e)?A.cloneElement(Sq(e),{ref:e.ref},n(e.props.children)):n(e)}var Cq={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function _q(){const{commandPaletteOpen:t,closeCommandPalette:e,setView:n,selectAgent:r,openChat:i}=Si(),{agents:s,agentMetas:o}=Mn(),[c,u]=A.useState(""),h=A.useRef(null);A.useEffect(()=>{t&&(u(""),setTimeout(()=>h.current?.focus(),50))},[t]);const d=p=>{p(),e()};return k.jsx(Ea,{children:t&&k.jsxs(k.Fragment,{children:[k.jsx(Ne.div,{className:"fixed inset-0 z-50",style:{backgroundColor:"rgba(0,0,0,0.6)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),k.jsx(Ne.div,{className:"fixed top-[20%] left-1/2 z-50 w-full max-w-lg -translate-x-1/2",initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.15},children:k.jsxs(ls,{className:"rounded-xl border overflow-hidden shadow-2xl",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},loop:!0,children:[k.jsx(ls.Input,{ref:h,value:c,onValueChange:u,placeholder:"Search agents, views, actions...",className:"w-full border-b px-4 py-3 text-sm outline-none",style:{backgroundColor:"transparent",borderColor:F.bg.border,color:F.text.primary},onKeyDown:p=>{p.key==="Escape"&&e()}}),k.jsxs(ls.List,{className:"max-h-72 overflow-y-auto p-2",style:{color:F.text.primary},children:[k.jsx(ls.Empty,{className:"py-6 text-center text-sm",style:{color:F.text.secondary},children:"No results found."}),k.jsxs(ls.Group,{heading:"Views",className:"mb-2",children:[k.jsx(Ri,{label:" Cockpit",shortcut:"1",onSelect:()=>d(()=>n("cockpit"))}),k.jsx(Ri,{label:" Pipeline",shortcut:"2",onSelect:()=>d(()=>n("pipeline"))}),k.jsx(Ri,{label:" Gantt Timeline",shortcut:"3",onSelect:()=>d(()=>n("gantt"))}),k.jsx(Ri,{label:" Emergence Map",shortcut:"4",onSelect:()=>d(()=>n("emergence"))}),k.jsx(Ri,{label:" Strategy Canvas",shortcut:"5",onSelect:()=>d(()=>n("strategy"))}),k.jsx(Ri,{label:" Terminal",shortcut:"6",onSelect:()=>d(()=>n("terminal"))})]}),k.jsx(ls.Group,{heading:"Agents",className:"mb-2",children:o.map(p=>{const m=s[p.id];return k.jsx(Ri,{label:`${p.icon} ${p.name}`,hint:m?.status||"idle",onSelect:()=>d(()=>r(p.id))},p.id)})}),k.jsxs(ls.Group,{heading:"Actions",className:"mb-2",children:[k.jsx(Ri,{label:" Open Chat",shortcut:"J",onSelect:()=>d(()=>i())}),k.jsx(Ri,{label:" Pause All Agents",onSelect:()=>d(()=>fetch("/api/agents/pause-all",{method:"POST"}))}),k.jsx(Ri,{label:" Resume All Agents",onSelect:()=>d(()=>fetch("/api/agents/resume-all",{method:"POST"}))})]})]})]})})]})})}function Ri({label:t,hint:e,shortcut:n,onSelect:r}){return k.jsxs(ls.Item,{onSelect:r,className:"flex items-center justify-between px-3 py-2 rounded-md text-sm cursor-pointer transition-colors",style:{color:F.text.primary},children:[k.jsx("span",{children:t}),k.jsxs("span",{className:"flex items-center gap-2",children:[e&&k.jsx("span",{className:"text-xs",style:{color:F.text.muted},children:e}),n&&k.jsx("kbd",{className:"text-[10px] px-1.5 py-0.5 rounded border",style:{backgroundColor:F.bg.surfaceHover,borderColor:F.bg.border,color:F.text.secondary},children:n})]})]})}const kq=Pg(t=>({messages:[],isLoading:!1,addMessage:e=>t(n=>({messages:[...n.messages,{...e,id:`msg-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,timestamp:Date.now()}]})),setLoading:e=>t({isLoading:e}),clearMessages:()=>t({messages:[]})}));function Tq(){const{chatOpen:t,closeChat:e,chatAgentId:n,setChatAgent:r}=Si(),{agentMetas:i}=Mn(),{messages:s,addMessage:o,isLoading:c,setLoading:u}=kq(),[h,d]=A.useState(""),[p,m]=A.useState(!1),y=A.useRef(null),x=A.useRef(null);A.useEffect(()=>{t&&setTimeout(()=>x.current?.focus(),100)},[t]),A.useEffect(()=>{y.current?.scrollTo({top:y.current.scrollHeight,behavior:"smooth"})},[s]);const b=async()=>{if(!h.trim())return;const _=h.trim();d(""),o({from:"human",text:_}),u(!0);try{const w=await(await fetch("/api/bridge/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:_,agentId:n||void 0})})).json();w.reply?o({from:"agent",agentId:n||void 0,text:w.reply}):w.queued}catch{o({from:"system",text:" Failed to send message"})}finally{u(!1)}},S=i.find(_=>_.id===n);return k.jsx(Ea,{children:t&&k.jsxs(Ne.div,{className:"fixed bottom-4 right-4 z-40 flex flex-col rounded-xl border shadow-2xl overflow-hidden",style:{width:380,height:480,backgroundColor:F.bg.surface,borderColor:F.bg.border},initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},children:[k.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("button",{onClick:()=>m(!p),className:"flex items-center gap-2 text-sm font-medium hover:opacity-80 transition-opacity",style:{color:F.text.primary},children:[k.jsx("span",{children:S?.icon||""}),k.jsx("span",{children:S?.name||"Main Chat"}),k.jsx($g,{size:14,style:{color:F.text.secondary}})]}),k.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-white/5 transition-colors",children:k.jsx(zg,{size:16,style:{color:F.text.secondary}})})]}),k.jsx(Ea,{children:p&&k.jsxs(Ne.div,{className:"absolute top-12 left-2 right-2 z-50 rounded-lg border overflow-hidden shadow-xl",style:{backgroundColor:F.bg.surfaceHover,borderColor:F.bg.border},initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},children:[k.jsx("button",{onClick:()=>{r(""),m(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors",style:{color:F.text.primary},children:" Main Chat"}),i.map(_=>k.jsxs("button",{onClick:()=>{r(_.id),m(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors",style:{color:F.text.primary},children:[_.icon," ",_.name]},_.id))]})}),k.jsxs("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s.length===0&&k.jsx("p",{className:"text-xs text-center py-8",style:{color:F.text.muted},children:S?`Chat with ${S.name}. Ask questions or give commands.`:"Send a message to the command center."}),s.map(_=>k.jsx("div",{className:`flex ${_.from==="human"?"justify-end":"justify-start"}`,children:k.jsx("div",{className:"max-w-[80%] rounded-lg px-3 py-2 text-sm",style:{backgroundColor:_.from==="human"?F.accent+"20":_.from==="system"?F.status.error+"15":F.bg.surfaceHover,color:F.text.primary},children:_.text})},_.id)),c&&k.jsx("div",{className:"flex justify-start",children:k.jsx("div",{className:"rounded-lg px-3 py-2 text-sm",style:{backgroundColor:F.bg.surfaceHover},children:k.jsx(Ne.span,{className:"inline-block",style:{color:F.text.secondary},animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0},children:"thinking..."})})})]}),k.jsx("div",{className:"border-t p-3",style:{borderColor:F.bg.border},children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("input",{ref:x,value:h,onChange:_=>d(_.target.value),onKeyDown:_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),b())},placeholder:"Type a message...",className:"flex-1 rounded-lg px-3 py-2 text-sm outline-none border",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary}}),k.jsx("button",{onClick:b,disabled:!h.trim(),className:"rounded-lg p-2 transition-colors disabled:opacity-30",style:{backgroundColor:F.accent,color:"#fff"},children:k.jsx(xN,{size:16})})]})})]})})}const Eq=A.memo(function(){const{pendingActions:e,pendingActionDetails:n,clearPendingActions:r}=Mn(),{addToast:i}=Fg(),[s,o]=A.useState(!1);if(e<=0)return null;const c=async()=>{try{(await fetch("/api/agents/approve-all",{method:"POST"})).ok?(r(),i("success","All pending actions approved")):i("error","Failed to approve actions")}catch{i("error","Failed to approve actions")}},u=async()=>{try{(await fetch("/api/agents/dismiss-all",{method:"POST"})).ok?(r(),i("info","All pending actions dismissed")):i("error","Failed to dismiss actions")}catch{i("error","Failed to dismiss actions")}};return k.jsxs(Ne.div,{className:"border-b",style:{backgroundColor:F.status.blocked+"10",borderColor:F.status.blocked+"30"},initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:[k.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[k.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[k.jsx(w1,{size:14,style:{color:F.status.blocked}}),k.jsxs("span",{style:{color:F.status.blocked},children:[e," pending action",e>1?"s":""," need approval"]}),n.length>0&&k.jsx("button",{onClick:()=>o(!s),className:"p-0.5 rounded hover:bg-white/5 transition-colors",style:{color:F.text.secondary},children:s?k.jsx(R9,{size:14}):k.jsx($g,{size:14})})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsxs("button",{onClick:c,className:"flex items-center gap-1 rounded px-2 py-1 text-xs transition-colors hover:bg-white/5",style:{color:F.status.complete},children:[k.jsx(sN,{size:12})," Approve all"]}),k.jsxs("button",{onClick:u,className:"flex items-center gap-1 rounded px-2 py-1 text-xs transition-colors hover:bg-white/5",style:{color:F.status.error},children:[k.jsx(zg,{size:12})," Dismiss"]})]})]}),k.jsx(Ea,{children:s&&n.length>0&&k.jsx(Ne.div,{className:"px-4 pb-2 space-y-1",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:n.map(h=>k.jsxs("div",{className:"flex items-center gap-2 text-[11px] py-1 px-2 rounded",style:{backgroundColor:F.bg.surfaceHover,color:F.text.secondary},children:[k.jsx("span",{style:{color:F.status.blocked},children:""}),k.jsx("span",{className:"font-medium",style:{color:F.text.primary},children:h.agentId}),k.jsx("span",{children:""}),k.jsx("span",{children:h.type}),k.jsx("span",{style:{color:F.text.muted},children:""}),k.jsx("span",{className:"truncate flex-1",children:h.description})]},h.id))})})]})}),Aq={cockpit:" Cockpit",agent:" Agent Focus",pipeline:" Pipeline",emergence:" Emergence",terminal:" Terminal",gantt:" Gantt",strategy:" Strategy",docs:" Docs",diagrams:" Diagrams",logs:" Logs"},Mq=A.memo(function(){const{agents:e,totalTasks:n,completedTasks:r,projectName:i,bridge:s}=Mn(),{currentView:o}=Si(),c=Object.values(e),u=c.filter(y=>y.status==="working").length,h=c.filter(y=>y.status==="done").length,d=c.filter(y=>y.status==="error").length,p=c.reduce((y,x)=>(x.tokens&&(y.input+=x.tokens.input,y.output+=x.tokens.output,y.cost+=x.tokens.cost),y),{input:0,output:0,cost:0}),m=p.input>0||p.output>0;return k.jsxs("div",{className:"flex items-center justify-between px-4 py-1.5 text-[11px] border-t",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.secondary},children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("span",{style:{color:F.text.muted},children:Aq[o]}),k.jsx("span",{children:i}),k.jsxs("span",{className:"flex items-center gap-1",title:s.connected?`Connected to ${s.gatewayUrl} (${s.latency}ms)`:"Disconnected from Clawdbot",children:[k.jsx("span",{children:s.connected?"":""}),k.jsx("span",{style:{color:s.connected?F.status.working:F.status.error},children:s.connected?"Bridge":"Offline"}),s.connected&&s.latency>0&&k.jsxs("span",{style:{color:F.text.muted},children:[s.latency,"ms"]})]})]}),k.jsxs("div",{className:"flex items-center gap-4",children:[u>0&&k.jsxs("span",{children:[k.jsx("span",{style:{color:F.status.working},children:""})," ",u," active"]}),d>0&&k.jsxs("span",{children:[k.jsx("span",{style:{color:F.status.error},children:""})," ",d," error"]}),k.jsxs("span",{children:["Tasks: ",r,"/",n]}),k.jsxs("span",{children:["Agents: ",h," ",u," ",c.length>0?c.length-h-u:0,""]}),m&&k.jsxs("span",{title:`In: ${p.input.toLocaleString()} | Out: ${p.output.toLocaleString()} | $${p.cost.toFixed(4)}`,children:[" ",((p.input+p.output)/1e3).toFixed(1),"k tokens"]}),k.jsxs("span",{className:"flex items-center gap-1",children:[k.jsx("kbd",{className:"px-1 rounded border text-[9px]",style:{borderColor:F.bg.borderLight,color:F.text.muted},children:"K"}),k.jsx("span",{style:{color:F.text.muted},children:"search"})]})]})]})}),Dq={success:{icon:k.jsx(z9,{size:16}),color:F.status.complete,bg:F.status.complete+"15"},error:{icon:k.jsx(j9,{size:16}),color:F.status.error,bg:F.status.error+"15"},warning:{icon:k.jsx(w1,{size:16}),color:F.status.blocked,bg:F.status.blocked+"15"},info:{icon:k.jsx(aH,{size:16}),color:F.accent,bg:F.accent+"15"}},Nq=A.memo(function(){const{toasts:e,removeToast:n}=Fg();return k.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:k.jsx(Ea,{children:e.map(r=>{const i=Dq[r.type];return k.jsxs(Ne.div,{className:"flex items-center gap-2 px-4 py-3 rounded-lg border shadow-lg pointer-events-auto",style:{backgroundColor:F.bg.surface,borderColor:i.color+"40"},initial:{opacity:0,x:50,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.95},transition:{duration:.2},children:[k.jsx("span",{style:{color:i.color},children:i.icon}),k.jsx("span",{className:"text-sm flex-1",style:{color:F.text.primary},children:r.message}),k.jsx("button",{onClick:()=>n(r.id),className:"p-0.5 rounded hover:bg-white/10 transition-colors",style:{color:F.text.muted},children:k.jsx(zg,{size:14})})]},r.id)})})})}),wT=["Project","Template","Agents","Confirm"];function Lq({onComplete:t}){const[e,n]=A.useState(0),[r,i]=A.useState([]),[s,o]=A.useState(!1),[c,u]=A.useState(""),[h,d]=A.useState(""),[p,m]=A.useState(""),[y,x]=A.useState(null),[b,S]=A.useState([]),[_,T]=A.useState({}),[w,E]=A.useState([]);A.useEffect(()=>{fetch("/api/templates").then(z=>z.json()).then(z=>i(z.templates||[])).catch(()=>{}),fetch("/api/agents/meta").then(z=>z.json()).then(z=>{E(z.agents||[]),S((z.agents||[]).map(j=>j.id));const P={};(z.squads||[]).forEach(j=>{P[j.id]=j.agents}),T(P)}).catch(()=>{})},[]),A.useEffect(()=>{if(y){const z=r.find(P=>P.id===y);z&&(S(z.agents),T(z.squads))}},[y,r]);const M=()=>e===0?h.trim().length>0&&p.trim().length>0:e===1?!0:e===2?b.length>0:!0,L=async()=>{o(!0),u("");try{const P=await(await fetch("/api/project/init",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h,projectRoot:p,templateId:y,agents:b,squads:_})})).json();P.ok?t():u(P.error||"Failed to initialize project")}catch(z){u(z.message||"Network error")}finally{o(!1)}},N=z=>{S(P=>P.includes(z)?P.filter(j=>j!==z):[...P,z])},$=r.find(z=>z.id===y);return k.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0,0,0,0.85)"},children:k.jsxs(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl rounded-2xl border overflow-hidden",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},children:[k.jsxs("div",{className:"px-6 pt-6 pb-4 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[k.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:F.squads.builders.bg},children:k.jsx(uh,{size:20,style:{color:F.squads.builders.main}})}),k.jsxs("div",{children:[k.jsx("h2",{className:"text-lg font-bold",style:{color:F.text.primary},children:"Initialize AG Dev"}),k.jsx("p",{className:"text-xs",style:{color:F.text.secondary},children:"Set up your multi-agent command center"})]})]}),k.jsx("div",{className:"flex gap-2",children:wT.map((z,P)=>k.jsxs("button",{onClick:()=>P<=e&&n(P),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all",style:{backgroundColor:P===e?F.squads.builders.bg:P<e?F.status.complete+"15":"transparent",color:P===e?F.squads.builders.main:P<e?F.status.complete:F.text.muted,cursor:P<=e?"pointer":"default"},children:[P<e?k.jsx(sN,{size:12}):k.jsx("span",{className:"w-3 text-center",children:P+1}),z]},z))})]}),k.jsx("div",{className:"px-6 py-5 min-h-[320px]",children:k.jsx(Ea,{mode:"wait",children:k.jsxs(Ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15},children:[e===0&&k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsxs("label",{className:"block text-xs font-medium mb-1.5",style:{color:F.text.secondary},children:[k.jsx(gH,{size:12,className:"inline mr-1"})," Project Name"]}),k.jsx("input",{type:"text",value:h,onChange:z=>d(z.target.value),placeholder:"My Awesome Project",className:"w-full px-3 py-2 rounded-lg border text-sm outline-none transition-colors focus:border-blue-500",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},autoFocus:!0})]}),k.jsxs("div",{children:[k.jsxs("label",{className:"block text-xs font-medium mb-1.5",style:{color:F.text.secondary},children:[k.jsx(Z9,{size:12,className:"inline mr-1"})," Project Root Path"]}),k.jsx("input",{type:"text",value:p,onChange:z=>m(z.target.value),placeholder:"/home/user/my-project",className:"w-full px-3 py-2 rounded-lg border text-sm outline-none transition-colors focus:border-blue-500",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary}}),k.jsx("p",{className:"text-[10px] mt-1",style:{color:F.text.muted},children:"Absolute path to your project directory. Must already exist."})]})]}),e===1&&k.jsxs("div",{className:"space-y-3",children:[k.jsx("p",{className:"text-xs mb-3",style:{color:F.text.secondary},children:"Choose a template to pre-configure agents for your project type, or skip for a custom setup."}),k.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[k.jsxs("button",{onClick:()=>x(null),className:"flex items-center gap-3 p-3 rounded-lg border text-left transition-all hover:border-white/20",style:{backgroundColor:y?F.bg.primary:F.squads.builders.bg,borderColor:y?F.bg.border:F.squads.builders.main},children:[k.jsx("span",{className:"text-xl",children:""}),k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-medium",style:{color:F.text.primary},children:"Custom"}),k.jsx("div",{className:"text-[11px]",style:{color:F.text.secondary},children:"Pick your own agents  full control"})]})]}),r.map(z=>k.jsxs("button",{onClick:()=>x(z.id),className:"flex items-center gap-3 p-3 rounded-lg border text-left transition-all hover:border-white/20",style:{backgroundColor:y===z.id?F.squads.builders.bg:F.bg.primary,borderColor:y===z.id?F.squads.builders.main:F.bg.border},children:[k.jsx("span",{className:"text-xl",children:z.icon}),k.jsxs("div",{className:"flex-1",children:[k.jsx("div",{className:"text-sm font-medium",style:{color:F.text.primary},children:z.name}),k.jsx("div",{className:"text-[11px]",style:{color:F.text.secondary},children:z.description}),k.jsxs("div",{className:"text-[10px] mt-1",style:{color:F.text.muted},children:[z.agents.length," agents  ",Object.keys(z.squads).length," squads"]})]})]},z.id))]})]}),e===2&&k.jsxs("div",{className:"space-y-3",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("p",{className:"text-xs",style:{color:F.text.secondary},children:[k.jsx(PH,{size:12,className:"inline mr-1"}),"Select which agents to activate (",b.length," selected)"]}),k.jsxs("div",{className:"flex gap-1",children:[k.jsx("button",{onClick:()=>S(w.map(z=>z.id)),className:"text-[10px] px-2 py-0.5 rounded",style:{color:F.squads.builders.main,backgroundColor:F.squads.builders.bg},children:"All"}),k.jsx("button",{onClick:()=>S([]),className:"text-[10px] px-2 py-0.5 rounded",style:{color:F.text.muted,backgroundColor:F.bg.primary},children:"None"})]})]}),k.jsx("div",{className:"grid grid-cols-2 gap-1.5 max-h-[250px] overflow-y-auto pr-1",children:w.map(z=>{const P=b.includes(z.id),j=z.squad==="builders"?F.squads.builders:z.squad==="thinkers"?F.squads.thinkers:z.squad==="guardians"?F.squads.guardians:F.squads.creators;return k.jsxs("button",{onClick:()=>N(z.id),className:"flex items-center gap-2 p-2 rounded-lg border text-left transition-all",style:{backgroundColor:P?j.bg:F.bg.primary,borderColor:P?j.main+"50":F.bg.border,opacity:P?1:.5},children:[k.jsx("div",{className:"w-5 h-5 rounded flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:P?j.main:F.bg.surfaceHover,color:P?"#fff":F.text.muted},children:P?"":""}),k.jsxs("div",{children:[k.jsx("div",{className:"text-xs font-medium",style:{color:F.text.primary},children:z.name}),k.jsx("div",{className:"text-[10px]",style:{color:F.text.muted},children:z.squad})]})]},z.id)})}),Object.keys(_).length>0&&k.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:Object.entries(_).map(([z,P])=>{const j=z==="builders"?F.squads.builders:z==="thinkers"?F.squads.thinkers:z==="guardians"?F.squads.guardians:F.squads.creators,W=P.filter(G=>b.includes(G)).length;return k.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full",style:{backgroundColor:j.bg,color:j.main},children:[z,": ",W,"/",P.length]},z)})})]}),e===3&&k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"rounded-lg border p-4",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border},children:[k.jsx("h3",{className:"text-sm font-bold mb-3",style:{color:F.text.primary},children:"Configuration Summary"}),k.jsxs("div",{className:"space-y-2 text-xs",children:[k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{style:{color:F.text.secondary},children:"Project"}),k.jsx("span",{style:{color:F.text.primary},children:h})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{style:{color:F.text.secondary},children:"Path"}),k.jsx("span",{className:"text-right max-w-[300px] truncate",style:{color:F.text.primary},children:p})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{style:{color:F.text.secondary},children:"Template"}),k.jsx("span",{style:{color:F.text.primary},children:$?.name||"Custom"})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{style:{color:F.text.secondary},children:"Agents"}),k.jsxs("span",{style:{color:F.text.primary},children:[b.length," active"]})]}),k.jsxs("div",{className:"border-t pt-2 mt-2",style:{borderColor:F.bg.border},children:[k.jsx("span",{style:{color:F.text.muted},children:"Active agents:"}),k.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:b.map(z=>{const P=w.find(j=>j.id===z);return k.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded",style:{backgroundColor:F.bg.surfaceHover,color:F.text.primary},children:P?.name||z},z)})})]}),$&&Object.keys($.defaultDirectives||{}).length>0&&k.jsx("div",{className:"border-t pt-2 mt-2",style:{borderColor:F.bg.border},children:k.jsxs("span",{style:{color:F.text.muted},children:["Strategy directives will be set for ",Object.keys($.defaultDirectives).length," agents"]})})]})]}),c&&k.jsxs("div",{className:"text-xs px-3 py-2 rounded-lg",style:{backgroundColor:F.status.error+"15",color:F.status.error},children:[" ",c]})]})]},e)})}),k.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",style:{borderColor:F.bg.border},children:[k.jsxs("button",{onClick:()=>e>0&&n(e-1),className:"flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors",style:{color:e>0?F.text.secondary:F.text.muted,backgroundColor:e>0?F.bg.surfaceHover:"transparent",cursor:e>0?"pointer":"default",opacity:e>0?1:.3},disabled:e===0,children:[k.jsx(N9,{size:14})," Back"]}),e<wT.length-1?k.jsxs("button",{onClick:()=>M()&&n(e+1),className:"flex items-center gap-1 px-4 py-1.5 rounded-lg text-xs font-bold transition-all",style:{backgroundColor:M()?F.squads.builders.main:F.bg.surfaceHover,color:M()?"#fff":F.text.muted,cursor:M()?"pointer":"not-allowed"},disabled:!M(),children:["Next ",k.jsx(v1,{size:14})]}):k.jsx("button",{onClick:L,disabled:s,className:"flex items-center gap-1.5 px-5 py-2 rounded-lg text-xs font-bold transition-all",style:{backgroundColor:s?F.bg.surfaceHover:F.status.complete,color:"#fff",cursor:s?"wait":"pointer"},children:s?k.jsxs(k.Fragment,{children:[k.jsx(cH,{size:14,className:"animate-spin"})," Initializing..."]}):k.jsxs(k.Fragment,{children:[k.jsx(uh,{size:14})," Initialize Project"]})})]})]})})}const iL=A.memo(function({data:e,width:n=80,height:r=24,color:i="#3B82F6",filled:s=!0}){if(!e||e.length<2)return null;const o=Math.max(...e,1),c=Math.min(...e,0),u=o-c||1,h=e.map((p,m)=>{const y=m/(e.length-1)*n,x=r-(p-c)/u*r;return`${y},${x}`}).join(" "),d=`0,${r} ${h} ${n},${r}`;return k.jsxs("svg",{width:n,height:r,viewBox:`0 0 ${n} ${r}`,className:"block",children:[s&&k.jsx("polygon",{points:d,fill:i,opacity:.15}),k.jsx("polyline",{points:h,fill:"none",stroke:i,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]})});function Oq({status:t,color:e}){if(t==="working")return k.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[k.jsx(Ne.span,{className:"absolute inline-flex h-full w-full rounded-full opacity-60",style:{backgroundColor:e},animate:{scale:[1,1.8,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),k.jsx("span",{className:"relative inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:e}})]});const n=t==="idle"?F.status.idle:t==="done"?F.status.complete:t==="error"?F.status.error:t==="paused"?F.status.paused:F.status.idle;return k.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:n,opacity:t==="idle"?.4:1}})}const Rq=A.memo(function({meta:e,state:n,onClick:r}){const i=qi(e.squad),s=n.status==="working",o=n.status==="done",c=n.activityHistory?.length?n.activityHistory:Array(20).fill(0).map(()=>s?Math.random()*80+20:o?Math.random()*10:0);return k.jsxs(Ne.button,{onClick:r,className:"relative flex flex-col gap-2 rounded-lg border p-3 text-left transition-colors cursor-pointer w-full",style:{backgroundColor:F.bg.surface,borderColor:s?i.main+"40":F.bg.border},whileHover:{backgroundColor:F.bg.surfaceHover,borderColor:i.main+"60",transition:{duration:.15}},whileTap:{scale:.98},children:[k.jsxs("div",{className:"flex items-center justify-between w-full",children:[k.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[k.jsx("span",{className:"text-sm flex-shrink-0",children:e.icon}),k.jsx("span",{className:"text-xs font-semibold truncate",style:{color:F.text.primary},children:e.shortName})]}),k.jsx(Oq,{status:n.status,color:i.main})]}),(s||o)&&k.jsx("div",{className:"w-full h-1 rounded-full overflow-hidden",style:{backgroundColor:F.bg.border},children:k.jsx(Ne.div,{className:"h-full rounded-full",style:{backgroundColor:i.main},initial:{width:0},animate:{width:`${n.progress||0}%`},transition:{duration:.5,ease:"easeOut"}})}),k.jsx("p",{className:"text-[10px] leading-tight truncate w-full",style:{color:F.text.secondary},children:n.currentTask||(o?" done":n.status==="idle"?"idle":n.status)}),k.jsx(iL,{data:c,width:120,height:20,color:i.main})]})}),Bq=[{id:"",label:"Default (server decides)"},{id:"anthropic/claude-sonnet-4-20250514",label:"Claude Sonnet 4"},{id:"anthropic/claude-opus-4-5",label:"Claude Opus 4.5"},{id:"openai/gpt-4o",label:"GPT-4o"}];function jq({open:t,onClose:e,preselectedAgentId:n}){const{addToast:r}=Fg(),{agentMetas:i}=Mn(),[s,o]=A.useState(n||""),[c,u]=A.useState(""),[h,d]=A.useState(""),[p,m]=A.useState(!1),y=async()=>{if(!(!s||!c.trim())){m(!0);try{const x=await fetch(`/api/agents/${s}/spawn`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:c.trim(),model:h||void 0})});if(x.ok)r("success",`Agent ${s} spawned successfully`),u(""),d(""),e();else{const b=await x.json().catch(()=>({}));r("error",b.error||`Failed to spawn agent ${s}`)}}catch{r("error","Network error spawning agent")}finally{m(!1)}}};return k.jsx(Ea,{children:t&&k.jsxs(k.Fragment,{children:[k.jsx(Ne.div,{className:"fixed inset-0 z-50 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),k.jsx(Ne.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},children:k.jsxs("div",{className:"w-full max-w-md rounded-xl border shadow-2xl overflow-hidden",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},onClick:x=>x.stopPropagation(),children:[k.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(uh,{size:18,style:{color:F.accent}}),k.jsx("h2",{className:"text-sm font-semibold",style:{color:F.text.primary},children:"Spawn Agent"})]}),k.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-white/5 transition-colors",children:k.jsx(zg,{size:16,style:{color:F.text.secondary}})})]}),k.jsxs("div",{className:"p-5 space-y-4",children:[k.jsxs("div",{className:"space-y-1.5",children:[k.jsx("label",{className:"text-xs font-medium",style:{color:F.text.secondary},children:"Agent"}),k.jsxs("select",{value:s,onChange:x=>o(x.target.value),className:"w-full rounded-lg px-3 py-2 text-sm outline-none border",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},children:[k.jsx("option",{value:"",children:"Select an agent..."}),i.map(x=>k.jsxs("option",{value:x.id,children:[x.icon," ",x.name,"  ",x.role]},x.id))]})]}),k.jsxs("div",{className:"space-y-1.5",children:[k.jsx("label",{className:"text-xs font-medium",style:{color:F.text.secondary},children:"Task Description"}),k.jsx("textarea",{value:c,onChange:x=>u(x.target.value),placeholder:"Describe the task for this agent...",rows:4,className:"w-full rounded-lg px-3 py-2 text-sm outline-none border resize-none",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary}})]}),k.jsxs("div",{className:"space-y-1.5",children:[k.jsxs("label",{className:"text-xs font-medium",style:{color:F.text.secondary},children:["Model ",k.jsx("span",{style:{color:F.text.muted},children:"(optional)"})]}),k.jsx("select",{value:h,onChange:x=>d(x.target.value),className:"w-full rounded-lg px-3 py-2 text-sm outline-none border",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},children:Bq.map(x=>k.jsx("option",{value:x.id,children:x.label},x.id))})]})]}),k.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-4 border-t",style:{borderColor:F.bg.border},children:[k.jsx("button",{onClick:e,className:"px-3 py-1.5 rounded-lg text-sm transition-colors hover:bg-white/5",style:{color:F.text.secondary},children:"Cancel"}),k.jsxs("button",{onClick:y,disabled:!s||!c.trim()||p,className:"flex items-center gap-1.5 px-4 py-1.5 rounded-lg text-sm font-medium transition-colors disabled:opacity-40",style:{backgroundColor:F.accent,color:"#fff"},children:[k.jsx(uh,{size:14}),p?"Spawning...":"Spawn"]})]})]})})]})})}const ST={status:"idle",currentTask:null,checklist:[],progress:0,activityHistory:Array(20).fill(0),sessionKey:null,model:null,tokens:null},$q=A.memo(function(){const{agents:e,agentMetas:n,squads:r,loaded:i}=Mn(),{selectAgent:s}=Si(),[o,c]=A.useState(!1),u=A.useMemo(()=>Object.keys(r),[r]);return i?k.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[k.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("div",{}),k.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors hover:opacity-90",style:{backgroundColor:F.accent,color:"#fff"},children:[k.jsx(uh,{size:14}),"Spawn Agent"]})]}),u.map(h=>{const d=r[h];if(!d)return null;const p=qi(h),m=n.filter(y=>y.squad===h);return m.length===0?null:k.jsxs(Ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[k.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[k.jsx("span",{className:"text-sm",children:d.icon}),k.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider",style:{color:p.main},children:d.label}),k.jsx("div",{className:"flex-1 h-px",style:{backgroundColor:p.main+"20"}}),k.jsxs("span",{className:"text-[10px]",style:{color:F.text.muted},children:[m.filter(y=>(e[y.id]||ST).status==="working").length," active"]})]}),k.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:m.map(y=>k.jsx(Rq,{meta:y,state:e[y.id]||ST,onClick:()=>s(y.id)},y.id))})]},h)})]}),k.jsx(jq,{open:o,onClose:()=>c(!1)})]}):k.jsx("div",{className:"flex-1 flex items-center justify-center",children:k.jsx(Ne.div,{className:"text-sm",style:{color:F.text.muted},animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0},children:"Loading agents..."})})}),CT={status:"idle",currentTask:null,checklist:[],progress:0,activityHistory:Array(20).fill(0)},zq=A.memo(function(){const{selectedAgentId:e,selectAgent:n,openChat:r}=Si(),{agents:i,agentMetas:s}=Mn(),[o,c]=A.useState([]),u=A.useRef(null),h=e?Fh(e,s):null,d=e&&i[e]||CT,p=h?qi(h.squad):{main:"#666",bg:"transparent"};if(A.useEffect(()=>{d.thinking&&(c(y=>[...y,d.thinking].slice(-20)),u.current?.scrollTo({top:u.current.scrollHeight,behavior:"smooth"}))},[d.thinking]),!h||!e)return k.jsx("div",{className:"flex-1 flex items-center justify-center",style:{color:F.text.muted},children:"Select an agent to view details"});const m=async y=>{try{await fetch(`/api/agents/${e}/${y}`,{method:"POST"})}catch{}};return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("button",{onClick:()=>n(null),className:"p-1.5 rounded-lg hover:bg-white/5 transition-colors",style:{color:F.text.secondary},children:k.jsx(aN,{size:18})}),k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("span",{className:"text-xl",children:h.icon}),k.jsxs("div",{children:[k.jsx("h2",{className:"text-base font-semibold",style:{color:F.text.primary},children:h.name}),k.jsx("p",{className:"text-xs",style:{color:F.text.secondary},children:h.role})]})]}),k.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:d.status==="working"?p.bg:d.status==="done"?F.status.complete+"15":d.status==="error"?F.status.error+"15":F.bg.surfaceHover,color:d.status==="working"?p.main:d.status==="done"?F.status.complete:d.status==="error"?F.status.error:F.text.secondary},children:d.status})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[d.status==="working"?k.jsx(Of,{icon:k.jsx(dN,{size:14}),label:"Pause",color:F.status.paused,onClick:()=>m("pause")}):d.status==="paused"?k.jsx(Of,{icon:k.jsx(fN,{size:14}),label:"Resume",color:F.status.working,onClick:()=>m("resume")}):null,k.jsx(Of,{icon:k.jsx(gN,{size:14}),label:"Restart",color:F.text.secondary,onClick:()=>m("restart")}),k.jsx(Of,{icon:k.jsx(hH,{size:14}),label:"Chat",color:p.main,onClick:()=>r(e)})]})]}),k.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[k.jsxs("div",{className:"w-80 flex-shrink-0 border-r overflow-y-auto p-4 space-y-4",style:{borderColor:F.bg.border},children:[k.jsx(wl,{title:"Current Task",children:k.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:F.bg.surfaceHover},children:[k.jsx("p",{className:"text-sm font-medium",style:{color:F.text.primary},children:d.currentTask||"No active task"}),d.progress>0&&k.jsxs("div",{className:"mt-2",children:[k.jsxs("div",{className:"flex justify-between text-[10px] mb-1",style:{color:F.text.secondary},children:[k.jsx("span",{children:"Progress"}),k.jsxs("span",{children:[d.progress,"%"]})]}),k.jsx("div",{className:"h-1.5 rounded-full overflow-hidden",style:{backgroundColor:F.bg.border},children:k.jsx(Ne.div,{className:"h-full rounded-full",style:{backgroundColor:p.main},animate:{width:`${d.progress}%`},transition:{duration:.5}})})]})]})}),k.jsx(wl,{title:" Thinking",children:k.jsx("div",{ref:u,className:"rounded-lg p-3 max-h-40 overflow-y-auto space-y-1",style:{backgroundColor:F.bg.surfaceHover},children:o.length>0?o.map((y,x)=>k.jsx("p",{className:"text-xs leading-relaxed",style:{color:F.text.secondary},children:y},x)):k.jsx("p",{className:"text-xs italic",style:{color:F.text.muted},children:d.status==="working"?"Waiting for thoughts...":"Agent is not active"})})}),k.jsx(wl,{title:"Checklist",children:k.jsx("div",{className:"space-y-1.5",children:d.checklist.length>0?d.checklist.map((y,x)=>k.jsxs("div",{className:"flex items-start gap-2",children:[y.done?k.jsx(F9,{size:14,className:"mt-0.5 flex-shrink-0",style:{color:F.status.complete}}):k.jsx(H9,{size:14,className:"mt-0.5 flex-shrink-0",style:{color:F.text.muted}}),k.jsx("span",{className:"text-xs",style:{color:y.done?F.text.secondary:F.text.primary},children:y.text})]},x)):k.jsx("p",{className:"text-xs",style:{color:F.text.muted},children:"No checklist items"})})}),k.jsx(wl,{title:"Activity",children:k.jsx(iL,{data:d.activityHistory||Array(20).fill(0),width:240,height:40,color:p.main})})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[k.jsx(wl,{title:"Output",children:k.jsx("div",{className:"rounded-lg p-4 font-mono text-xs leading-relaxed whitespace-pre-wrap min-h-[200px]",style:{backgroundColor:F.bg.primary,color:F.text.primary,border:`1px solid ${F.bg.border}`},children:d.output||"No output yet..."})}),d.filesChanged&&d.filesChanged.length>0&&k.jsx(wl,{title:"Files Changed",className:"mt-4",children:k.jsx("div",{className:"space-y-1",children:d.filesChanged.map((y,x)=>k.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[k.jsx(cN,{size:12,style:{color:F.text.muted}}),k.jsx("span",{style:{color:F.text.primary},children:y.path}),y.additions>0&&k.jsxs("span",{style:{color:F.status.complete},children:["+",y.additions]}),y.deletions>0&&k.jsxs("span",{style:{color:F.status.error},children:["-",y.deletions]})]},x))})})]})]})]})});function wl({title:t,children:e,className:n=""}){return k.jsxs("div",{className:n,children:[k.jsx("h4",{className:"text-[10px] font-semibold uppercase tracking-wider mb-2",style:{color:F.text.muted},children:t}),e]})}function Of({icon:t,label:e,color:n,onClick:r}){return k.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-colors hover:bg-white/5 border",style:{borderColor:n+"30",color:n},children:[t,e]})}function Pq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function T1(t){return"nodeType"in t}function lr(t){var e,n;return t?yc(t)?t:T1(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function E1(t){const{Document:e}=lr(t);return t instanceof e}function qh(t){return yc(t)?!1:t instanceof lr(t).HTMLElement}function aL(t){return t instanceof lr(t).SVGElement}function xc(t){return t?yc(t)?t.document:T1(t)?E1(t)?t:qh(t)||aL(t)?t.ownerDocument:document:document:document}const Ci=Ug?A.useLayoutEffect:A.useEffect;function Wg(t){const e=A.useRef(t);return Ci(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Fq(){const t=A.useRef(null),e=A.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=A.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function fh(t,e){e===void 0&&(e=[t]);const n=A.useRef(t);return Ci(()=>{n.current!==t&&(n.current=t)},e),n}function Uh(t,e){const n=A.useRef();return A.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function $p(t){const e=Wg(t),n=A.useRef(null),r=A.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function zp(t){const e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}let vx={};function Wh(t,e){return A.useMemo(()=>{if(e)return e;const n=vx[t]==null?0:vx[t]+1;return vx[t]=n,t+"-"+n},[t,e])}function sL(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const c=Object.entries(o);for(const[u,h]of c){const d=s[u];d!=null&&(s[u]=d+t*h)}return s},{...e})}}const Fl=sL(1),Pp=sL(-1);function Iq(t){return"clientX"in t&&"clientY"in t}function Yg(t){if(!t)return!1;const{KeyboardEvent:e}=lr(t.target);return e&&t instanceof e}function Hq(t){if(!t)return!1;const{TouchEvent:e}=lr(t.target);return e&&t instanceof e}function Fp(t){if(Hq(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Iq(t)?{x:t.clientX,y:t.clientY}:null}const Ss=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Ss.Translate.toString(t),Ss.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),_T="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Vq(t){return t.matches(_T)?t:t.querySelector(_T)}const qq={display:"none"};function Uq(t){let{id:e,value:n}=t;return re.createElement("div",{id:e,style:qq},n)}function Wq(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return re.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function Yq(){const[t,e]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const oL=A.createContext(null);function Gq(t){const e=A.useContext(oL);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Xq(){const[t]=A.useState(()=>new Set),e=A.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[A.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var c;return(c=o[i])==null?void 0:c.call(o,s)})},[t]),e]}const Zq={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Kq={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Qq(t){let{announcements:e=Kq,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Zq}=t;const{announce:s,announcement:o}=Yq(),c=Wh("DndLiveRegion"),[u,h]=A.useState(!1);if(A.useEffect(()=>{h(!0)},[]),Gq(A.useMemo(()=>({onDragStart(p){let{active:m}=p;s(e.onDragStart({active:m}))},onDragMove(p){let{active:m,over:y}=p;e.onDragMove&&s(e.onDragMove({active:m,over:y}))},onDragOver(p){let{active:m,over:y}=p;s(e.onDragOver({active:m,over:y}))},onDragEnd(p){let{active:m,over:y}=p;s(e.onDragEnd({active:m,over:y}))},onDragCancel(p){let{active:m,over:y}=p;s(e.onDragCancel({active:m,over:y}))}}),[s,e])),!u)return null;const d=re.createElement(re.Fragment,null,re.createElement(Uq,{id:r,value:i.draggable}),re.createElement(Wq,{id:c,announcement:o}));return n?oo.createPortal(d,n):d}var vn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(vn||(vn={}));function Ip(){}function Jq(t,e){return A.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function tU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const _i=Object.freeze({x:0,y:0});function eU(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function nU(t,e){const n=Fp(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function rU(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function iU(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function kT(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function aU(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}const sU=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=kT(e),s=[];for(const o of r){const{id:c}=o,u=n.get(c);if(u){const h=kT(u),d=i.reduce((m,y,x)=>m+eU(h[x],y),0),p=Number((d/4).toFixed(4));s.push({id:c,data:{droppableContainer:o,value:p}})}}return s.sort(rU)};function oU(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,c=s-n;if(r<i&&n<s){const u=e.width*e.height,h=t.width*t.height,d=o*c,p=d/(u+h-d);return Number(p.toFixed(4))}return 0}const lU=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,c=n.get(o);if(c){const u=oU(c,e);u>0&&i.push({id:o,data:{droppableContainer:s,value:u}})}}return i.sort(iU)};function cU(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function lL(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:_i}function uU(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,c)=>({...o,top:o.top+t*c.y,bottom:o.bottom+t*c.y,left:o.left+t*c.x,right:o.right+t*c.x}),{...n})}}const hU=uU(1);function cL(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function dU(t,e,n){const r=cL(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:c}=r,u=t.left-o-(1-i)*parseFloat(n),h=t.top-c-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,p=s?t.height/s:t.height;return{width:d,height:p,top:h,right:u+d,bottom:h+p,left:u}}const fU={ignoreTransform:!1};function bc(t,e){e===void 0&&(e=fU);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:d}=lr(t).getComputedStyle(t);h&&(n=dU(n,h,d))}const{top:r,left:i,width:s,height:o,bottom:c,right:u}=n;return{top:r,left:i,width:s,height:o,bottom:c,right:u}}function TT(t){return bc(t,{ignoreTransform:!0})}function pU(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function gU(t,e){return e===void 0&&(e=lr(t).getComputedStyle(t)),e.position==="fixed"}function mU(t,e){e===void 0&&(e=lr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function A1(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(E1(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!qh(i)||aL(i)||n.includes(i))return n;const s=lr(t).getComputedStyle(i);return i!==t&&mU(i,s)&&n.push(i),gU(i,s)?n:r(i.parentNode)}return t?r(t):n}function uL(t){const[e]=A1(t,1);return e??null}function wx(t){return!Ug||!t?null:yc(t)?t:T1(t)?E1(t)||t===xc(t).scrollingElement?window:qh(t)?t:null:null}function hL(t){return yc(t)?t.scrollX:t.scrollLeft}function dL(t){return yc(t)?t.scrollY:t.scrollTop}function Ob(t){return{x:hL(t),y:dL(t)}}var An;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(An||(An={}));function fL(t){return!Ug||!t?!1:t===document.scrollingElement}function pL(t){const e={x:0,y:0},n=fL(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,c=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:c,maxScroll:r,minScroll:e}}const yU={x:.2,y:.2};function xU(t,e,n,r,i){let{top:s,left:o,right:c,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=yU);const{isTop:h,isBottom:d,isLeft:p,isRight:m}=pL(t),y={x:0,y:0},x={x:0,y:0},b={height:e.height*i.y,width:e.width*i.x};return!h&&s<=e.top+b.height?(y.y=An.Backward,x.y=r*Math.abs((e.top+b.height-s)/b.height)):!d&&u>=e.bottom-b.height&&(y.y=An.Forward,x.y=r*Math.abs((e.bottom-b.height-u)/b.height)),!m&&c>=e.right-b.width?(y.x=An.Forward,x.x=r*Math.abs((e.right-b.width-c)/b.width)):!p&&o<=e.left+b.width&&(y.x=An.Backward,x.x=r*Math.abs((e.left+b.width-o)/b.width)),{direction:y,speed:x}}function bU(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function gL(t){return t.reduce((e,n)=>Fl(e,Ob(n)),_i)}function vU(t){return t.reduce((e,n)=>e+hL(n),0)}function wU(t){return t.reduce((e,n)=>e+dL(n),0)}function mL(t,e){if(e===void 0&&(e=bc),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);uL(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const SU=[["x",["left","right"],vU],["y",["top","bottom"],wU]];class M1{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=A1(n),i=gL(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,c]of SU)for(const u of o)Object.defineProperty(this,u,{get:()=>{const h=c(r),d=i[s]-h;return this.rect[u]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Wu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function CU(t){const{EventTarget:e}=lr(t);return t instanceof e?t:xc(t)}function Sx(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Qr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Qr||(Qr={}));function ET(t){t.preventDefault()}function _U(t){t.stopPropagation()}var pe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(pe||(pe={}));const yL={start:[pe.Space,pe.Enter],cancel:[pe.Esc],end:[pe.Space,pe.Enter,pe.Tab]},kU=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case pe.Right:return{...n,x:n.x+25};case pe.Left:return{...n,x:n.x-25};case pe.Down:return{...n,y:n.y+25};case pe.Up:return{...n,y:n.y-25}}};class xL{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Wu(xc(n)),this.windowListeners=new Wu(lr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Qr.Resize,this.handleCancel),this.windowListeners.add(Qr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Qr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&mL(r),n(_i)}handleKeyDown(e){if(Yg(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=yL,coordinateGetter:o=kU,scrollBehavior:c="smooth"}=i,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:h}=r.current,d=h?{x:h.left,y:h.top}:_i;this.referenceCoordinates||(this.referenceCoordinates=d);const p=o(e,{active:n,context:r.current,currentCoordinates:d});if(p){const m=Pp(p,d),y={x:0,y:0},{scrollableAncestors:x}=r.current;for(const b of x){const S=e.code,{isTop:_,isRight:T,isLeft:w,isBottom:E,maxScroll:M,minScroll:L}=pL(b),N=bU(b),$={x:Math.min(S===pe.Right?N.right-N.width/2:N.right,Math.max(S===pe.Right?N.left:N.left+N.width/2,p.x)),y:Math.min(S===pe.Down?N.bottom-N.height/2:N.bottom,Math.max(S===pe.Down?N.top:N.top+N.height/2,p.y))},z=S===pe.Right&&!T||S===pe.Left&&!w,P=S===pe.Down&&!E||S===pe.Up&&!_;if(z&&$.x!==p.x){const j=b.scrollLeft+m.x,W=S===pe.Right&&j<=M.x||S===pe.Left&&j>=L.x;if(W&&!m.y){b.scrollTo({left:j,behavior:c});return}W?y.x=b.scrollLeft-j:y.x=S===pe.Right?b.scrollLeft-M.x:b.scrollLeft-L.x,y.x&&b.scrollBy({left:-y.x,behavior:c});break}else if(P&&$.y!==p.y){const j=b.scrollTop+m.y,W=S===pe.Down&&j<=M.y||S===pe.Up&&j>=L.y;if(W&&!m.x){b.scrollTo({top:j,behavior:c});return}W?y.y=b.scrollTop-j:y.y=S===pe.Down?b.scrollTop-M.y:b.scrollTop-L.y,y.y&&b.scrollBy({top:-y.y,behavior:c});break}}this.handleMove(e,Fl(Pp(p,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}xL.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=yL,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const c=s.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function AT(t){return!!(t&&"distance"in t)}function MT(t){return!!(t&&"delay"in t)}class D1{constructor(e,n,r){var i;r===void 0&&(r=CU(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=xc(o),this.documentListeners=new Wu(this.document),this.listeners=new Wu(r),this.windowListeners=new Wu(lr(o)),this.initialCoordinates=(i=Fp(s))!=null?i:_i,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Qr.Resize,this.handleCancel),this.windowListeners.add(Qr.DragStart,ET),this.windowListeners.add(Qr.VisibilityChange,this.handleCancel),this.windowListeners.add(Qr.ContextMenu,ET),this.documentListeners.add(Qr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(MT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(AT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Qr.Click,_U,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Qr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:c}}=s;if(!i)return;const u=(n=Fp(e))!=null?n:_i,h=Pp(i,u);if(!r&&c){if(AT(c)){if(c.tolerance!=null&&Sx(h,c.tolerance))return this.handleCancel();if(Sx(h,c.distance))return this.handleStart()}if(MT(c)&&Sx(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),o(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===pe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const TU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class N1 extends D1{constructor(e){const{event:n}=e,r=xc(n.target);super(e,TU,r)}}N1.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const EU={move:{name:"mousemove"},end:{name:"mouseup"}};var Rb;(function(t){t[t.RightClick=2]="RightClick"})(Rb||(Rb={}));class AU extends D1{constructor(e){super(e,EU,xc(e.event.target))}}AU.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Rb.RightClick?!1:(r?.({event:n}),!0)}}];const Cx={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class MU extends D1{constructor(e){super(e,Cx)}static setup(){return window.addEventListener(Cx.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Cx.move.name,e)};function e(){}}}MU.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Yu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Yu||(Yu={}));var Hp;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Hp||(Hp={}));function DU(t){let{acceleration:e,activator:n=Yu.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:c=Hp.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:d,delta:p,threshold:m}=t;const y=LU({delta:p,disabled:!s}),[x,b]=Fq(),S=A.useRef({x:0,y:0}),_=A.useRef({x:0,y:0}),T=A.useMemo(()=>{switch(n){case Yu.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Yu.DraggableRect:return i}},[n,i,u]),w=A.useRef(null),E=A.useCallback(()=>{const L=w.current;if(!L)return;const N=S.current.x*_.current.x,$=S.current.y*_.current.y;L.scrollBy(N,$)},[]),M=A.useMemo(()=>c===Hp.TreeOrder?[...h].reverse():h,[c,h]);A.useEffect(()=>{if(!s||!h.length||!T){b();return}for(const L of M){if(r?.(L)===!1)continue;const N=h.indexOf(L),$=d[N];if(!$)continue;const{direction:z,speed:P}=xU(L,$,T,e,m);for(const j of["x","y"])y[j][z[j]]||(P[j]=0,z[j]=0);if(P.x>0||P.y>0){b(),w.current=L,x(E,o),S.current=P,_.current=z;return}}S.current={x:0,y:0},_.current={x:0,y:0},b()},[e,E,r,b,s,o,JSON.stringify(T),JSON.stringify(y),x,h,M,d,JSON.stringify(m)])}const NU={x:{[An.Backward]:!1,[An.Forward]:!1},y:{[An.Backward]:!1,[An.Forward]:!1}};function LU(t){let{delta:e,disabled:n}=t;const r=zp(e);return Uh(i=>{if(n||!r||!i)return NU;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[An.Backward]:i.x[An.Backward]||s.x===-1,[An.Forward]:i.x[An.Forward]||s.x===1},y:{[An.Backward]:i.y[An.Backward]||s.y===-1,[An.Forward]:i.y[An.Forward]||s.y===1}}},[n,e,r])}function OU(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Uh(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function RU(t,e){return A.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var ph;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(ph||(ph={}));var Bb;(function(t){t.Optimized="optimized"})(Bb||(Bb={}));const DT=new Map;function BU(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=A.useState(null),{frequency:c,measure:u,strategy:h}=i,d=A.useRef(t),p=S(),m=fh(p),y=A.useCallback(function(_){_===void 0&&(_=[]),!m.current&&o(T=>T===null?_:T.concat(_.filter(w=>!T.includes(w))))},[m]),x=A.useRef(null),b=Uh(_=>{if(p&&!n)return DT;if(!_||_===DT||d.current!==t||s!=null){const T=new Map;for(let w of t){if(!w)continue;if(s&&s.length>0&&!s.includes(w.id)&&w.rect.current){T.set(w.id,w.rect.current);continue}const E=w.node.current,M=E?new M1(u(E),E):null;w.rect.current=M,M&&T.set(w.id,M)}return T}return _},[t,s,n,p,u]);return A.useEffect(()=>{d.current=t},[t]),A.useEffect(()=>{p||y()},[n,p]),A.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),A.useEffect(()=>{p||typeof c!="number"||x.current!==null||(x.current=setTimeout(()=>{y(),x.current=null},c))},[c,p,y,...r]),{droppableRects:b,measureDroppableContainers:y,measuringScheduled:s!=null};function S(){switch(h){case ph.Always:return!1;case ph.BeforeDragging:return n;default:return!n}}}function L1(t,e){return Uh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function jU(t,e){return L1(t,e)}function $U(t){let{callback:e,disabled:n}=t;const r=Wg(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return A.useEffect(()=>()=>i?.disconnect(),[i]),i}function Gg(t){let{callback:e,disabled:n}=t;const r=Wg(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return A.useEffect(()=>()=>i?.disconnect(),[i]),i}function zU(t){return new M1(bc(t),t)}function NT(t,e,n){e===void 0&&(e=zU);const[r,i]=A.useState(null);function s(){i(u=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=u??n)!=null?h:null}const d=e(t);return JSON.stringify(u)===JSON.stringify(d)?u:d})}const o=$U({callback(u){if(t)for(const h of u){const{type:d,target:p}=h;if(d==="childList"&&p instanceof HTMLElement&&p.contains(t)){s();break}}}}),c=Gg({callback:s});return Ci(()=>{s(),t?(c?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),o?.disconnect())},[t]),r}function PU(t){const e=L1(t);return lL(t,e)}const LT=[];function FU(t){const e=A.useRef(t),n=Uh(r=>t?r&&r!==LT&&t&&e.current&&t.parentNode===e.current.parentNode?r:A1(t):LT,[t]);return A.useEffect(()=>{e.current=t},[t]),n}function IU(t){const[e,n]=A.useState(null),r=A.useRef(t),i=A.useCallback(s=>{const o=wx(s.target);o&&n(c=>c?(c.set(o,Ob(o)),new Map(c)):null)},[]);return A.useEffect(()=>{const s=r.current;if(t!==s){o(s);const c=t.map(u=>{const h=wx(u);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,Ob(h)]):null}).filter(u=>u!=null);n(c.length?new Map(c):null),r.current=t}return()=>{o(t),o(s)};function o(c){c.forEach(u=>{const h=wx(u);h?.removeEventListener("scroll",i)})}},[i,t]),A.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Fl(s,o),_i):gL(t):_i,[t,e])}function OT(t,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const r=t!==_i;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Pp(t,n.current):_i}function HU(t){A.useEffect(()=>{if(!Ug)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function VU(t,e){return A.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function bL(t){return A.useMemo(()=>t?pU(t):null,[t])}const RT=[];function qU(t,e){e===void 0&&(e=bc);const[n]=t,r=bL(n?lr(n):null),[i,s]=A.useState(RT);function o(){s(()=>t.length?t.map(u=>fL(u)?r:new M1(e(u),u)):RT)}const c=Gg({callback:o});return Ci(()=>{c?.disconnect(),o(),t.forEach(u=>c?.observe(u))},[t]),i}function vL(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return qh(e)?e:t}function UU(t){let{measure:e}=t;const[n,r]=A.useState(null),i=A.useCallback(h=>{for(const{target:d}of h)if(qh(d)){r(p=>{const m=e(d);return p?{...p,width:m.width,height:m.height}:m});break}},[e]),s=Gg({callback:i}),o=A.useCallback(h=>{const d=vL(h);s?.disconnect(),d&&s?.observe(d),r(d?e(d):null)},[e,s]),[c,u]=$p(o);return A.useMemo(()=>({nodeRef:c,rect:n,setRef:u}),[n,c,u])}const WU=[{sensor:N1,options:{}},{sensor:xL,options:{}}],YU={current:{}},up={draggable:{measure:TT},droppable:{measure:TT,strategy:ph.WhileDragging,frequency:Bb.Optimized},dragOverlay:{measure:bc}};class Gu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const GU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Gu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ip},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:up,measureDroppableContainers:Ip,windowRect:null,measuringScheduled:!1},wL={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ip,draggableNodes:new Map,over:null,measureDroppableContainers:Ip},Yh=A.createContext(wL),SL=A.createContext(GU);function XU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Gu}}}function ZU(t,e){switch(e.type){case vn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case vn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case vn.DragEnd:case vn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case vn.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Gu(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case vn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new Gu(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case vn.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Gu(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function KU(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=A.useContext(Yh),s=zp(r),o=zp(n?.id);return A.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!Yg(s)||document.activeElement===s.target)return;const c=i.get(o);if(!c)return;const{activatorNode:u,node:h}=c;if(!u.current&&!h.current)return;requestAnimationFrame(()=>{for(const d of[u.current,h.current]){if(!d)continue;const p=Vq(d);if(p){p.focus();break}}})}},[r,e,i,o,s]),null}function CL(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function QU(t){return A.useMemo(()=>({draggable:{...up.draggable,...t?.draggable},droppable:{...up.droppable,...t?.droppable},dragOverlay:{...up.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function JU(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=A.useRef(!1),{x:o,y:c}=typeof i=="boolean"?{x:i,y:i}:i;Ci(()=>{if(!o&&!c||!e){s.current=!1;return}if(s.current||!r)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const d=n(h),p=lL(d,r);if(o||(p.x=0),c||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const m=uL(h);m&&m.scrollBy({top:p.y,left:p.x})}},[e,o,c,r,n])}const Xg=A.createContext({..._i,scaleX:1,scaleY:1});var us;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(us||(us={}));const tW=A.memo(function(e){var n,r,i,s;let{id:o,accessibility:c,autoScroll:u=!0,children:h,sensors:d=WU,collisionDetection:p=lU,measuring:m,modifiers:y,...x}=e;const b=A.useReducer(ZU,void 0,XU),[S,_]=b,[T,w]=Xq(),[E,M]=A.useState(us.Uninitialized),L=E===us.Initialized,{draggable:{active:N,nodes:$,translate:z},droppable:{containers:P}}=S,j=N!=null?$.get(N):null,W=A.useRef({initial:null,translated:null}),G=A.useMemo(()=>{var xe;return N!=null?{id:N,data:(xe=j?.data)!=null?xe:YU,rect:W}:null},[N,j]),B=A.useRef(null),[H,R]=A.useState(null),[I,U]=A.useState(null),Z=fh(x,Object.values(x)),nt=Wh("DndDescribedBy",o),q=A.useMemo(()=>P.getEnabled(),[P]),V=QU(m),{droppableRects:K,measureDroppableContainers:et,measuringScheduled:X}=BU(q,{dragging:L,dependencies:[z.x,z.y],config:V.droppable}),Q=OU($,N),tt=A.useMemo(()=>I?Fp(I):null,[I]),at=Mi(),ut=jU(Q,V.draggable.measure);JU({activeNode:N!=null?$.get(N):null,config:at.layoutShiftCompensation,initialRect:ut,measure:V.draggable.measure});const pt=NT(Q,V.draggable.measure,ut),vt=NT(Q?Q.parentElement:null),bt=A.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),kt=P.getNodeFor((n=bt.current.over)==null?void 0:n.id),_t=UU({measure:V.dragOverlay.measure}),Pt=(r=_t.nodeRef.current)!=null?r:Q,Yt=L?(i=_t.rect)!=null?i:pt:null,de=!!(_t.nodeRef.current&&_t.rect),Ye=PU(de?null:pt),Ge=bL(Pt?lr(Pt):null),qe=FU(L?kt??Q:null),Dn=qU(qe),cr=CL(y,{transform:{x:z.x-Ye.x,y:z.y-Ye.y,scaleX:1,scaleY:1},activatorEvent:I,active:G,activeNodeRect:pt,containerNodeRect:vt,draggingNodeRect:Yt,over:bt.current.over,overlayNodeRect:_t.rect,scrollableAncestors:qe,scrollableAncestorRects:Dn,windowRect:Ge}),ur=tt?Fl(tt,z):null,Me=IU(qe),Kn=OT(Me),_n=OT(Me,[pt]),kn=Fl(cr,Kn),Nn=Yt?hU(Yt,cr):null,Fr=G&&Nn?p({active:G,collisionRect:Nn,droppableRects:K,droppableContainers:q,pointerCoordinates:ur}):null,Er=aU(Fr,"id"),[Qn,ii]=A.useState(null),hr=de?cr:Fl(cr,_n),Ee=cU(hr,(s=Qn?.rect)!=null?s:null,pt),tn=A.useRef(null),Xe=A.useCallback((xe,Le)=>{let{sensor:Ze,options:ie}=Le;if(B.current==null)return;const Ue=$.get(B.current);if(!Ue)return;const an=xe.nativeEvent,pn=new Ze({active:B.current,activeNode:Ue,event:an,options:ie,context:bt,onAbort(Pe){if(!$.get(Pe))return;const{onDragAbort:Ln}=Z.current,Oe={id:Pe};Ln?.(Oe),T({type:"onDragAbort",event:Oe})},onPending(Pe,In,Ln,Oe){if(!$.get(Pe))return;const{onDragPending:dr}=Z.current,Hn={id:Pe,constraint:In,initialCoordinates:Ln,offset:Oe};dr?.(Hn),T({type:"onDragPending",event:Hn})},onStart(Pe){const In=B.current;if(In==null)return;const Ln=$.get(In);if(!Ln)return;const{onDragStart:Oe}=Z.current,gn={activatorEvent:an,active:{id:In,data:Ln.data,rect:W}};oo.unstable_batchedUpdates(()=>{Oe?.(gn),M(us.Initializing),_({type:vn.DragStart,initialCoordinates:Pe,active:In}),T({type:"onDragStart",event:gn}),R(tn.current),U(an)})},onMove(Pe){_({type:vn.DragMove,coordinates:Pe})},onEnd:Tn(vn.DragEnd),onCancel:Tn(vn.DragCancel)});tn.current=pn;function Tn(Pe){return async function(){const{active:Ln,collisions:Oe,over:gn,scrollAdjustedTranslate:dr}=bt.current;let Hn=null;if(Ln&&dr){const{cancelDrop:fr}=Z.current;Hn={activatorEvent:an,active:Ln,collisions:Oe,delta:dr,over:gn},Pe===vn.DragEnd&&typeof fr=="function"&&await Promise.resolve(fr(Hn))&&(Pe=vn.DragCancel)}B.current=null,oo.unstable_batchedUpdates(()=>{_({type:Pe}),M(us.Uninitialized),ii(null),R(null),U(null),tn.current=null;const fr=Pe===vn.DragEnd?"onDragEnd":"onDragCancel";if(Hn){const On=Z.current[fr];On?.(Hn),T({type:fr,event:Hn})}})}}},[$]),Zi=A.useCallback((xe,Le)=>(Ze,ie)=>{const Ue=Ze.nativeEvent,an=$.get(ie);if(B.current!==null||!an||Ue.dndKit||Ue.defaultPrevented)return;const pn={active:an};xe(Ze,Le.options,pn)===!0&&(Ue.dndKit={capturedBy:Le.sensor},B.current=ie,Xe(Ze,Le))},[$,Xe]),Oa=RU(d,Zi);HU(d),Ci(()=>{pt&&E===us.Initializing&&M(us.Initialized)},[pt,E]),A.useEffect(()=>{const{onDragMove:xe}=Z.current,{active:Le,activatorEvent:Ze,collisions:ie,over:Ue}=bt.current;if(!Le||!Ze)return;const an={active:Le,activatorEvent:Ze,collisions:ie,delta:{x:kn.x,y:kn.y},over:Ue};oo.unstable_batchedUpdates(()=>{xe?.(an),T({type:"onDragMove",event:an})})},[kn.x,kn.y]),A.useEffect(()=>{const{active:xe,activatorEvent:Le,collisions:Ze,droppableContainers:ie,scrollAdjustedTranslate:Ue}=bt.current;if(!xe||B.current==null||!Le||!Ue)return;const{onDragOver:an}=Z.current,pn=ie.get(Er),Tn=pn&&pn.rect.current?{id:pn.id,rect:pn.rect.current,data:pn.data,disabled:pn.disabled}:null,Pe={active:xe,activatorEvent:Le,collisions:Ze,delta:{x:Ue.x,y:Ue.y},over:Tn};oo.unstable_batchedUpdates(()=>{ii(Tn),an?.(Pe),T({type:"onDragOver",event:Pe})})},[Er]),Ci(()=>{bt.current={activatorEvent:I,active:G,activeNode:Q,collisionRect:Nn,collisions:Fr,droppableRects:K,draggableNodes:$,draggingNode:Pt,draggingNodeRect:Yt,droppableContainers:P,over:Qn,scrollableAncestors:qe,scrollAdjustedTranslate:kn},W.current={initial:Yt,translated:Nn}},[G,Q,Fr,Nn,$,Pt,Yt,K,P,Qn,qe,kn]),DU({...at,delta:z,draggingRect:Nn,pointerCoordinates:ur,scrollableAncestors:qe,scrollableAncestorRects:Dn});const Ai=A.useMemo(()=>({active:G,activeNode:Q,activeNodeRect:pt,activatorEvent:I,collisions:Fr,containerNodeRect:vt,dragOverlay:_t,draggableNodes:$,droppableContainers:P,droppableRects:K,over:Qn,measureDroppableContainers:et,scrollableAncestors:qe,scrollableAncestorRects:Dn,measuringConfiguration:V,measuringScheduled:X,windowRect:Ge}),[G,Q,pt,I,Fr,vt,_t,$,P,K,Qn,et,qe,Dn,V,X,Ge]),Ar=A.useMemo(()=>({activatorEvent:I,activators:Oa,active:G,activeNodeRect:pt,ariaDescribedById:{draggable:nt},dispatch:_,draggableNodes:$,over:Qn,measureDroppableContainers:et}),[I,Oa,G,pt,_,nt,$,Qn,et]);return re.createElement(oL.Provider,{value:w},re.createElement(Yh.Provider,{value:Ar},re.createElement(SL.Provider,{value:Ai},re.createElement(Xg.Provider,{value:Ee},h)),re.createElement(KU,{disabled:c?.restoreFocus===!1})),re.createElement(Qq,{...c,hiddenTextDescribedById:nt}));function Mi(){const xe=H?.autoScrollEnabled===!1,Le=typeof u=="object"?u.enabled===!1:u===!1,Ze=L&&!xe&&!Le;return typeof u=="object"?{...u,enabled:Ze}:{enabled:Ze}}}),eW=A.createContext(null),BT="button",nW="Draggable";function rW(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Wh(nW),{activators:o,activatorEvent:c,active:u,activeNodeRect:h,ariaDescribedById:d,draggableNodes:p,over:m}=A.useContext(Yh),{role:y=BT,roleDescription:x="draggable",tabIndex:b=0}=i??{},S=u?.id===e,_=A.useContext(S?Xg:eW),[T,w]=$p(),[E,M]=$p(),L=VU(o,e),N=fh(n);Ci(()=>(p.set(e,{id:e,key:s,node:T,activatorNode:E,data:N}),()=>{const z=p.get(e);z&&z.key===s&&p.delete(e)}),[p,e]);const $=A.useMemo(()=>({role:y,tabIndex:b,"aria-disabled":r,"aria-pressed":S&&y===BT?!0:void 0,"aria-roledescription":x,"aria-describedby":d.draggable}),[r,y,b,S,x,d.draggable]);return{active:u,activatorEvent:c,activeNodeRect:h,attributes:$,isDragging:S,listeners:r?void 0:L,node:T,over:m,setNodeRef:w,setActivatorNodeRef:M,transform:_}}function _L(){return A.useContext(SL)}const iW="Droppable",aW={timeout:25};function kL(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Wh(iW),{active:o,dispatch:c,over:u,measureDroppableContainers:h}=A.useContext(Yh),d=A.useRef({disabled:n}),p=A.useRef(!1),m=A.useRef(null),y=A.useRef(null),{disabled:x,updateMeasurementsFor:b,timeout:S}={...aW,...i},_=fh(b??r),T=A.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{h(Array.isArray(_.current)?_.current:[_.current]),y.current=null},S)},[S]),w=Gg({callback:T,disabled:x||!o}),E=A.useCallback(($,z)=>{w&&(z&&(w.unobserve(z),p.current=!1),$&&w.observe($))},[w]),[M,L]=$p(E),N=fh(e);return A.useEffect(()=>{!w||!M.current||(w.disconnect(),p.current=!1,w.observe(M.current))},[M,w]),A.useEffect(()=>(c({type:vn.RegisterDroppable,element:{id:r,key:s,disabled:n,node:M,rect:m,data:N}}),()=>c({type:vn.UnregisterDroppable,key:s,id:r})),[r]),A.useEffect(()=>{n!==d.current.disabled&&(c({type:vn.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,c]),{active:o,rect:m,isOver:u?.id===r,node:M,over:u,setNodeRef:L}}function sW(t){let{animation:e,children:n}=t;const[r,i]=A.useState(null),[s,o]=A.useState(null),c=zp(n);return!n&&!r&&c&&i(c),Ci(()=>{if(!s)return;const u=r?.key,h=r?.props.id;if(u==null||h==null){i(null);return}Promise.resolve(e(h,s)).then(()=>{i(null)})},[e,r,s]),re.createElement(re.Fragment,null,n,r?A.cloneElement(r,{ref:o}):null)}const oW={x:0,y:0,scaleX:1,scaleY:1};function lW(t){let{children:e}=t;return re.createElement(Yh.Provider,{value:wL},re.createElement(Xg.Provider,{value:oW},e))}const cW={position:"fixed",touchAction:"none"},uW=t=>Yg(t)?"transform 250ms ease":void 0,hW=A.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:o,rect:c,style:u,transform:h,transition:d=uW}=t;if(!c)return null;const p=i?h:{...h,scaleX:1,scaleY:1},m={...cW,width:c.width,height:c.height,top:c.top,left:c.left,transform:Ss.Transform.toString(p),transformOrigin:i&&r?nU(r,c):void 0,transition:typeof d=="function"?d(r):d,...u};return re.createElement(n,{className:o,style:m,ref:e},s)}),dW=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:s,className:o}=t;if(s!=null&&s.active)for(const[c,u]of Object.entries(s.active))u!==void 0&&(i[c]=n.node.style.getPropertyValue(c),n.node.style.setProperty(c,u));if(s!=null&&s.dragOverlay)for(const[c,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(c,u);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[u,h]of Object.entries(i))n.node.style.setProperty(u,h);o!=null&&o.active&&n.node.classList.remove(o.active)}},fW=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Ss.Transform.toString(e)},{transform:Ss.Transform.toString(n)}]},pW={duration:250,easing:"ease",keyframes:fW,sideEffects:dW({styles:{active:{opacity:"0"}}})};function gW(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return Wg((s,o)=>{if(e===null)return;const c=n.get(s);if(!c)return;const u=c.node.current;if(!u)return;const h=vL(o);if(!h)return;const{transform:d}=lr(o).getComputedStyle(o),p=cL(d);if(!p)return;const m=typeof e=="function"?e:mW(e);return mL(u,i.draggable.measure),m({active:{id:s,data:c.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(h)},droppableContainers:r,measuringConfiguration:i,transform:p})})}function mW(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...pW,...t};return s=>{let{active:o,dragOverlay:c,transform:u,...h}=s;if(!e)return;const d={x:c.rect.left-o.rect.left,y:c.rect.top-o.rect.top},p={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/c.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/c.rect.height:1},m={x:u.x-d.x,y:u.y-d.y,...p},y=i({...h,active:o,dragOverlay:c,transform:{initial:u,final:m}}),[x]=y,b=y[y.length-1];if(JSON.stringify(x)===JSON.stringify(b))return;const S=r?.({active:o,dragOverlay:c,...h}),_=c.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(T=>{_.onfinish=()=>{S?.(),T()}})}}let jT=0;function yW(t){return A.useMemo(()=>{if(t!=null)return jT++,jT},[t])}const xW=re.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:o,wrapperElement:c="div",className:u,zIndex:h=999}=t;const{activatorEvent:d,active:p,activeNodeRect:m,containerNodeRect:y,draggableNodes:x,droppableContainers:b,dragOverlay:S,over:_,measuringConfiguration:T,scrollableAncestors:w,scrollableAncestorRects:E,windowRect:M}=_L(),L=A.useContext(Xg),N=yW(p?.id),$=CL(o,{activatorEvent:d,active:p,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:S.rect,over:_,overlayNodeRect:S.rect,scrollableAncestors:w,scrollableAncestorRects:E,transform:L,windowRect:M}),z=L1(m),P=gW({config:r,draggableNodes:x,droppableContainers:b,measuringConfiguration:T}),j=z?S.setRef:void 0;return re.createElement(lW,null,re.createElement(sW,{animation:P},p&&N?re.createElement(hW,{key:N,id:p.id,ref:j,as:c,activatorEvent:d,adjustScale:e,className:u,transition:s,rect:z,style:{zIndex:h,...i},transform:$},n):null))});function TL(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function bW(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Rf(t){return t!==null&&t>=0}function vW(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function wW(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const EL=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=TL(e,r,n),o=e[i],c=s[i];return!c||!o?null:{x:c.left-o.left,y:c.top-o.top,scaleX:c.width/o.width,scaleY:c.height/o.height}},Bf={scaleX:1,scaleY:1},SW=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const c=(e=s[n])!=null?e:r;if(!c)return null;if(i===n){const h=s[o];return h?{x:0,y:n<o?h.top+h.height-(c.top+c.height):h.top-c.top,...Bf}:null}const u=CW(s,i,n);return i>n&&i<=o?{x:0,y:-c.height-u,...Bf}:i<n&&i>=o?{x:0,y:c.height+u,...Bf}:{x:0,y:0,...Bf}};function CW(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const AL="Sortable",ML=re.createContext({activeIndex:-1,containerId:AL,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:EL,disabled:{draggable:!1,droppable:!1}});function _W(t){let{children:e,id:n,items:r,strategy:i=EL,disabled:s=!1}=t;const{active:o,dragOverlay:c,droppableRects:u,over:h,measureDroppableContainers:d}=_L(),p=Wh(AL,n),m=c.rect!==null,y=A.useMemo(()=>r.map(L=>typeof L=="object"&&"id"in L?L.id:L),[r]),x=o!=null,b=o?y.indexOf(o.id):-1,S=h?y.indexOf(h.id):-1,_=A.useRef(y),T=!vW(y,_.current),w=S!==-1&&b===-1||T,E=wW(s);Ci(()=>{T&&x&&d(y)},[T,y,x,d]),A.useEffect(()=>{_.current=y},[y]);const M=A.useMemo(()=>({activeIndex:b,containerId:p,disabled:E,disableTransforms:w,items:y,overIndex:S,useDragOverlay:m,sortedRects:bW(y,u),strategy:i}),[b,p,E.draggable,E.droppable,w,y,S,u,m,i]);return re.createElement(ML.Provider,{value:M},e)}const kW=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return TL(n,r,i).indexOf(e)},TW=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:c,previousContainerId:u,transition:h}=t;return!h||!r||c!==s&&i===o?!1:n?!0:o!==i&&e===u},EW={duration:200,easing:"ease"},DL="transform",AW=Ss.Transition.toString({property:DL,duration:0,easing:"linear"}),MW={roleDescription:"sortable"};function DW(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=A.useState(null),c=A.useRef(n);return Ci(()=>{if(!e&&n!==c.current&&r.current){const u=i.current;if(u){const h=bc(r.current,{ignoreTransform:!0}),d={x:u.left-h.left,y:u.top-h.top,scaleX:u.width/h.width,scaleY:u.height/h.height};(d.x||d.y)&&o(d)}}n!==c.current&&(c.current=n)},[e,n,r,i]),A.useEffect(()=>{s&&o(null)},[s]),s}function NW(t){let{animateLayoutChanges:e=TW,attributes:n,disabled:r,data:i,getNewIndex:s=kW,id:o,strategy:c,resizeObserverConfig:u,transition:h=EW}=t;const{items:d,containerId:p,activeIndex:m,disabled:y,disableTransforms:x,sortedRects:b,overIndex:S,useDragOverlay:_,strategy:T}=A.useContext(ML),w=LW(r,y),E=d.indexOf(o),M=A.useMemo(()=>({sortable:{containerId:p,index:E,items:d},...i}),[p,i,E,d]),L=A.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:N,node:$,isOver:z,setNodeRef:P}=kL({id:o,data:M,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:L,...u}}),{active:j,activatorEvent:W,activeNodeRect:G,attributes:B,setNodeRef:H,listeners:R,isDragging:I,over:U,setActivatorNodeRef:Z,transform:nt}=rW({id:o,data:M,attributes:{...MW,...n},disabled:w.draggable}),q=Pq(P,H),V=!!j,K=V&&!x&&Rf(m)&&Rf(S),et=!_&&I,X=et&&K?nt:null,tt=K?X??(c??T)({rects:b,activeNodeRect:G,activeIndex:m,overIndex:S,index:E}):null,at=Rf(m)&&Rf(S)?s({id:o,items:d,activeIndex:m,overIndex:S}):E,ut=j?.id,pt=A.useRef({activeId:ut,items:d,newIndex:at,containerId:p}),vt=d!==pt.current.items,bt=e({active:j,containerId:p,isDragging:I,isSorting:V,id:o,index:E,items:d,newIndex:pt.current.newIndex,previousItems:pt.current.items,previousContainerId:pt.current.containerId,transition:h,wasDragging:pt.current.activeId!=null}),kt=DW({disabled:!bt,index:E,node:$,rect:N});return A.useEffect(()=>{V&&pt.current.newIndex!==at&&(pt.current.newIndex=at),p!==pt.current.containerId&&(pt.current.containerId=p),d!==pt.current.items&&(pt.current.items=d)},[V,at,p,d]),A.useEffect(()=>{if(ut===pt.current.activeId)return;if(ut!=null&&pt.current.activeId==null){pt.current.activeId=ut;return}const Pt=setTimeout(()=>{pt.current.activeId=ut},50);return()=>clearTimeout(Pt)},[ut]),{active:j,activeIndex:m,attributes:B,data:M,rect:N,index:E,newIndex:at,items:d,isOver:z,isSorting:V,isDragging:I,listeners:R,node:$,overIndex:S,over:U,setNodeRef:q,setActivatorNodeRef:Z,setDroppableNodeRef:P,setDraggableNodeRef:H,transform:kt??tt,transition:_t()};function _t(){if(kt||vt&&pt.current.newIndex===E)return AW;if(!(et&&!Yg(W)||!h)&&(V||bt))return Ss.Transition.toString({...h,property:DL})}}function LW(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}pe.Down,pe.Right,pe.Up,pe.Left;const $T=[{id:"backlog",label:"Backlog",icon:""},{id:"in_progress",label:"In Progress",icon:""},{id:"review",label:"Review",icon:""},{id:"done",label:"Done",icon:""}],OW=A.memo(function(){const{agents:e,agentMetas:n}=Mn(),[r,i]=A.useState(null),[s,o]=A.useState({}),c=tU(Jq(N1,{activationConstraint:{distance:5}})),u=n.map(_=>{const T=e[_.id];if(!T)return null;const w=T.status==="done"?"done":T.status==="working"?"in_progress":T.status==="paused"?"review":"backlog";return{id:_.id,title:T.currentTask||_.role,agentId:_.id,status:w,progress:T.progress||0}}).filter(Boolean),h=[];n.forEach(_=>{const T=e[_.id];T?.checklist?.length&&T.checklist.forEach((w,E)=>{h.push({id:`${_.id}-check-${E}`,title:w.text,agentId:_.id,status:w.done?"done":T.status==="working"?"in_progress":"backlog",progress:w.done?100:0})})});const d=[...u,...h],p=d.filter(_=>_.status==="done").length,m=A.useCallback(_=>s[_.id]||_.status,[s]),y=A.useCallback(_=>d.filter(T=>m(T)===_),[d,m]),x=r?d.find(_=>_.id===r):null,b=_=>{i(String(_.active.id))},S=_=>{const{active:T,over:w}=_;if(i(null),!w)return;const E=String(T.id);let M=null;if($T.map(z=>z.id).includes(String(w.id)))M=String(w.id);else{const z=d.find(P=>P.id===String(w.id));z&&(M=m(z))}if(!M)return;const N=d.find(z=>z.id===E);if(!(!N||m(N)===M)&&(o(z=>({...z,[E]:M})),N.agentId)){const z={backlog:"idle",in_progress:"working",review:"paused",done:"done"};fetch(`/api/agents/${N.agentId}/state`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:z[M]})}).catch(()=>{o(P=>{const j={...P};return delete j[E],j})})}};return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden p-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-6",children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Pipeline"}),k.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:F.text.secondary},children:[k.jsxs("span",{children:["Total: ",d.length]}),k.jsxs("span",{children:["Done: ",p]}),k.jsxs("span",{children:["Velocity: ",(p/Math.max(1,d.length)*100).toFixed(0),"%"]})]})]}),k.jsxs(tW,{sensors:c,collisionDetection:sU,onDragStart:b,onDragEnd:S,children:[k.jsx("div",{className:"flex-1 flex gap-4 overflow-x-auto",children:$T.map(_=>{const T=y(_.id);return k.jsxs(RW,{id:_.id,label:_.label,icon:_.icon,count:T.length,children:[k.jsx(_W,{items:T.map(w=>w.id),strategy:SW,children:T.map(w=>k.jsx(BW,{task:w},w.id))}),T.length===0&&k.jsx("p",{className:"text-[10px] text-center py-4",style:{color:F.text.muted},children:"No tasks"})]},_.id)})}),k.jsx(xW,{children:x?k.jsx(NL,{task:x,isDragging:!0}):null})]})]})});function RW({id:t,label:e,icon:n,count:r,children:i}){const{setNodeRef:s,isOver:o}=kL({id:t});return k.jsxs("div",{className:"flex-1 min-w-[220px] flex flex-col",ref:s,children:[k.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-t-lg border-b",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},children:[k.jsxs("span",{className:"text-xs font-semibold",style:{color:F.text.primary},children:[n," ",e]}),k.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full",style:{backgroundColor:F.bg.surfaceHover,color:F.text.secondary},children:r})]}),k.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 p-2 rounded-b-lg border border-t-0 transition-colors",style:{backgroundColor:o?F.accent+"08":F.bg.primary+"80",borderColor:o?F.accent+"40":F.bg.border},children:i})]})}function BW({task:t}){const{attributes:e,listeners:n,setNodeRef:r,transform:i,transition:s,isDragging:o}=NW({id:t.id}),c={transform:Ss.Transform.toString(i),transition:s,opacity:o?.3:1};return k.jsx("div",{ref:r,style:c,children:k.jsx(NL,{task:t,dragHandleProps:{...e,...n}})})}function NL({task:t,isDragging:e,dragHandleProps:n}){const{agentMetas:r}=Mn(),i=t.agentId?Fh(t.agentId,r):null,s=i?qi(i.squad):null;return k.jsxs(Ne.div,{className:"rounded-lg border p-2.5 flex items-start gap-2",style:{backgroundColor:e?F.bg.surfaceActive:F.bg.surface,borderColor:e?F.accent+"60":F.bg.border,boxShadow:e?`0 8px 24px ${F.accent}20`:"none"},whileHover:e?void 0:{borderColor:s?.main+"40"||F.bg.borderLight},layout:!e,children:[n&&k.jsx("div",{className:"flex-shrink-0 cursor-grab active:cursor-grabbing pt-0.5 opacity-40 hover:opacity-80 transition-opacity",...n,children:k.jsx(eH,{size:14,style:{color:F.text.muted}})}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsx("p",{className:"text-xs font-medium mb-1.5 line-clamp-2",style:{color:F.text.primary},children:t.title}),k.jsxs("div",{className:"flex items-center justify-between",children:[i&&k.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:s?.bg,color:s?.main},children:[i.icon," ",i.shortName]}),t.progress>0&&t.progress<100&&k.jsx("div",{className:"w-12 h-1 rounded-full overflow-hidden",style:{backgroundColor:F.bg.border},children:k.jsx("div",{className:"h-full rounded-full",style:{backgroundColor:s?.main||F.accent,width:`${t.progress}%`}})})]})]})]})}function fn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=fn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var jW={value:()=>{}};function Zg(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new hp(n)}function hp(t){this._=t}function $W(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}hp.prototype=Zg.prototype={constructor:hp,on:function(t,e){var n=this._,r=$W(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=zW(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=zT(n[i],t.name,e);else if(e==null)for(i in n)n[i]=zT(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new hp(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function zW(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function zT(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=jW,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var jb="http://www.w3.org/1999/xhtml";const PT={svg:"http://www.w3.org/2000/svg",xhtml:jb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kg(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),PT.hasOwnProperty(e)?{space:PT[e],local:t}:t}function PW(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===jb&&e.documentElement.namespaceURI===jb?e.createElement(t):e.createElementNS(n,t)}}function FW(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function LL(t){var e=Kg(t);return(e.local?FW:PW)(e)}function IW(){}function O1(t){return t==null?IW:function(){return this.querySelector(t)}}function HW(t){typeof t!="function"&&(t=O1(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,c=r[i]=new Array(o),u,h,d=0;d<o;++d)(u=s[d])&&(h=t.call(u,u.__data__,d,s))&&("__data__"in u&&(h.__data__=u.__data__),c[d]=h);return new Pr(r,this._parents)}function VW(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function qW(){return[]}function OL(t){return t==null?qW:function(){return this.querySelectorAll(t)}}function UW(t){return function(){return VW(t.apply(this,arguments))}}function WW(t){typeof t=="function"?t=UW(t):t=OL(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],c=o.length,u,h=0;h<c;++h)(u=o[h])&&(r.push(t.call(u,u.__data__,h,o)),i.push(u));return new Pr(r,i)}function RL(t){return function(){return this.matches(t)}}function BL(t){return function(e){return e.matches(t)}}var YW=Array.prototype.find;function GW(t){return function(){return YW.call(this.children,t)}}function XW(){return this.firstElementChild}function ZW(t){return this.select(t==null?XW:GW(typeof t=="function"?t:BL(t)))}var KW=Array.prototype.filter;function QW(){return Array.from(this.children)}function JW(t){return function(){return KW.call(this.children,t)}}function tY(t){return this.selectAll(t==null?QW:JW(typeof t=="function"?t:BL(t)))}function eY(t){typeof t!="function"&&(t=RL(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,c=r[i]=[],u,h=0;h<o;++h)(u=s[h])&&t.call(u,u.__data__,h,s)&&c.push(u);return new Pr(r,this._parents)}function jL(t){return new Array(t.length)}function nY(){return new Pr(this._enter||this._groups.map(jL),this._parents)}function Vp(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Vp.prototype={constructor:Vp,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function rY(t){return function(){return t}}function iY(t,e,n,r,i,s){for(var o=0,c,u=e.length,h=s.length;o<h;++o)(c=e[o])?(c.__data__=s[o],r[o]=c):n[o]=new Vp(t,s[o]);for(;o<u;++o)(c=e[o])&&(i[o]=c)}function aY(t,e,n,r,i,s,o){var c,u,h=new Map,d=e.length,p=s.length,m=new Array(d),y;for(c=0;c<d;++c)(u=e[c])&&(m[c]=y=o.call(u,u.__data__,c,e)+"",h.has(y)?i[c]=u:h.set(y,u));for(c=0;c<p;++c)y=o.call(t,s[c],c,s)+"",(u=h.get(y))?(r[c]=u,u.__data__=s[c],h.delete(y)):n[c]=new Vp(t,s[c]);for(c=0;c<d;++c)(u=e[c])&&h.get(m[c])===u&&(i[c]=u)}function sY(t){return t.__data__}function oY(t,e){if(!arguments.length)return Array.from(this,sY);var n=e?aY:iY,r=this._parents,i=this._groups;typeof t!="function"&&(t=rY(t));for(var s=i.length,o=new Array(s),c=new Array(s),u=new Array(s),h=0;h<s;++h){var d=r[h],p=i[h],m=p.length,y=lY(t.call(d,d&&d.__data__,h,r)),x=y.length,b=c[h]=new Array(x),S=o[h]=new Array(x),_=u[h]=new Array(m);n(d,p,b,S,_,y,e);for(var T=0,w=0,E,M;T<x;++T)if(E=b[T]){for(T>=w&&(w=T+1);!(M=S[w])&&++w<x;);E._next=M||null}}return o=new Pr(o,r),o._enter=c,o._exit=u,o}function lY(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cY(){return new Pr(this._exit||this._groups.map(jL),this._parents)}function uY(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function hY(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),c=new Array(i),u=0;u<o;++u)for(var h=n[u],d=r[u],p=h.length,m=c[u]=new Array(p),y,x=0;x<p;++x)(y=h[x]||d[x])&&(m[x]=y);for(;u<i;++u)c[u]=n[u];return new Pr(c,this._parents)}function dY(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function fY(t){t||(t=pY);function e(p,m){return p&&m?t(p.__data__,m.__data__):!p-!m}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],c=o.length,u=i[s]=new Array(c),h,d=0;d<c;++d)(h=o[d])&&(u[d]=h);u.sort(e)}return new Pr(i,this._parents).order()}function pY(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gY(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function mY(){return Array.from(this)}function yY(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function xY(){let t=0;for(const e of this)++t;return t}function bY(){return!this.node()}function vY(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,c;s<o;++s)(c=i[s])&&t.call(c,c.__data__,s,i);return this}function wY(t){return function(){this.removeAttribute(t)}}function SY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function CY(t,e){return function(){this.setAttribute(t,e)}}function _Y(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function kY(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function TY(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function EY(t,e){var n=Kg(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?SY:wY:typeof e=="function"?n.local?TY:kY:n.local?_Y:CY)(n,e))}function $L(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function AY(t){return function(){this.style.removeProperty(t)}}function MY(t,e,n){return function(){this.style.setProperty(t,e,n)}}function DY(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function NY(t,e,n){return arguments.length>1?this.each((e==null?AY:typeof e=="function"?DY:MY)(t,e,n??"")):tc(this.node(),t)}function tc(t,e){return t.style.getPropertyValue(e)||$L(t).getComputedStyle(t,null).getPropertyValue(e)}function LY(t){return function(){delete this[t]}}function OY(t,e){return function(){this[t]=e}}function RY(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function BY(t,e){return arguments.length>1?this.each((e==null?LY:typeof e=="function"?RY:OY)(t,e)):this.node()[t]}function zL(t){return t.trim().split(/^|\s+/)}function R1(t){return t.classList||new PL(t)}function PL(t){this._node=t,this._names=zL(t.getAttribute("class")||"")}PL.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function FL(t,e){for(var n=R1(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function IL(t,e){for(var n=R1(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function jY(t){return function(){FL(this,t)}}function $Y(t){return function(){IL(this,t)}}function zY(t,e){return function(){(e.apply(this,arguments)?FL:IL)(this,t)}}function PY(t,e){var n=zL(t+"");if(arguments.length<2){for(var r=R1(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?zY:e?jY:$Y)(n,e))}function FY(){this.textContent=""}function IY(t){return function(){this.textContent=t}}function HY(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function VY(t){return arguments.length?this.each(t==null?FY:(typeof t=="function"?HY:IY)(t)):this.node().textContent}function qY(){this.innerHTML=""}function UY(t){return function(){this.innerHTML=t}}function WY(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function YY(t){return arguments.length?this.each(t==null?qY:(typeof t=="function"?WY:UY)(t)):this.node().innerHTML}function GY(){this.nextSibling&&this.parentNode.appendChild(this)}function XY(){return this.each(GY)}function ZY(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function KY(){return this.each(ZY)}function QY(t){var e=typeof t=="function"?t:LL(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function JY(){return null}function tG(t,e){var n=typeof t=="function"?t:LL(t),r=e==null?JY:typeof e=="function"?e:O1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function eG(){var t=this.parentNode;t&&t.removeChild(this)}function nG(){return this.each(eG)}function rG(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function iG(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function aG(t){return this.select(t?iG:rG)}function sG(t){return arguments.length?this.property("__data__",t):this.node().__data__}function oG(t){return function(e){t.call(this,e,this.__data__)}}function lG(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function cG(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function uG(t,e,n){return function(){var r=this.__on,i,s=oG(e);if(r){for(var o=0,c=r.length;o<c;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function hG(t,e,n){var r=lG(t+""),i,s=r.length,o;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,h=c.length,d;u<h;++u)for(i=0,d=c[u];i<s;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(c=e?uG:cG,i=0;i<s;++i)this.each(c(r[i],e,n));return this}function HL(t,e,n){var r=$L(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function dG(t,e){return function(){return HL(this,t,e)}}function fG(t,e){return function(){return HL(this,t,e.apply(this,arguments))}}function pG(t,e){return this.each((typeof e=="function"?fG:dG)(t,e))}function*gG(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var VL=[null];function Pr(t,e){this._groups=t,this._parents=e}function Gh(){return new Pr([[document.documentElement]],VL)}function mG(){return this}Pr.prototype=Gh.prototype={constructor:Pr,select:HW,selectAll:WW,selectChild:ZW,selectChildren:tY,filter:eY,data:oY,enter:nY,exit:cY,join:uY,merge:hY,selection:mG,order:dY,sort:fY,call:gY,nodes:mY,node:yY,size:xY,empty:bY,each:vY,attr:EY,style:NY,property:BY,classed:PY,text:VY,html:YY,raise:XY,lower:KY,append:QY,insert:tG,remove:nG,clone:aG,datum:sG,on:hG,dispatch:pG,[Symbol.iterator]:gG};function Wt(t){return typeof t=="string"?new Pr([[document.querySelector(t)]],[document.documentElement]):new Pr([[t]],VL)}function yG(t){let e;for(;e=t.sourceEvent;)t=e;return t}function fi(t,e){if(t=yG(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const xG={passive:!1},gh={capture:!0,passive:!1};function _x(t){t.stopImmediatePropagation()}function Il(t){t.preventDefault(),t.stopImmediatePropagation()}function qL(t){var e=t.document.documentElement,n=Wt(t).on("dragstart.drag",Il,gh);"onselectstart"in e?n.on("selectstart.drag",Il,gh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function UL(t,e){var n=t.document.documentElement,r=Wt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Il,gh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const jf=t=>()=>t;function $b(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:c,dx:u,dy:h,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:d}})}$b.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function bG(t){return!t.ctrlKey&&!t.button}function vG(){return this.parentNode}function wG(t,e){return e??{x:t.x,y:t.y}}function SG(){return navigator.maxTouchPoints||"ontouchstart"in this}function WL(){var t=bG,e=vG,n=wG,r=SG,i={},s=Zg("start","drag","end"),o=0,c,u,h,d,p=0;function m(E){E.on("mousedown.drag",y).filter(r).on("touchstart.drag",S).on("touchmove.drag",_,xG).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(E,M){if(!(d||!t.call(this,E,M))){var L=w(this,e.call(this,E,M),E,M,"mouse");L&&(Wt(E.view).on("mousemove.drag",x,gh).on("mouseup.drag",b,gh),qL(E.view),_x(E),h=!1,c=E.clientX,u=E.clientY,L("start",E))}}function x(E){if(Il(E),!h){var M=E.clientX-c,L=E.clientY-u;h=M*M+L*L>p}i.mouse("drag",E)}function b(E){Wt(E.view).on("mousemove.drag mouseup.drag",null),UL(E.view,h),Il(E),i.mouse("end",E)}function S(E,M){if(t.call(this,E,M)){var L=E.changedTouches,N=e.call(this,E,M),$=L.length,z,P;for(z=0;z<$;++z)(P=w(this,N,E,M,L[z].identifier,L[z]))&&(_x(E),P("start",E,L[z]))}}function _(E){var M=E.changedTouches,L=M.length,N,$;for(N=0;N<L;++N)($=i[M[N].identifier])&&(Il(E),$("drag",E,M[N]))}function T(E){var M=E.changedTouches,L=M.length,N,$;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<L;++N)($=i[M[N].identifier])&&(_x(E),$("end",E,M[N]))}function w(E,M,L,N,$,z){var P=s.copy(),j=fi(z||L,M),W,G,B;if((B=n.call(E,new $b("beforestart",{sourceEvent:L,target:m,identifier:$,active:o,x:j[0],y:j[1],dx:0,dy:0,dispatch:P}),N))!=null)return W=B.x-j[0]||0,G=B.y-j[1]||0,function H(R,I,U){var Z=j,nt;switch(R){case"start":i[$]=H,nt=o++;break;case"end":delete i[$],--o;case"drag":j=fi(U||I,M),nt=o;break}P.call(R,E,new $b(R,{sourceEvent:I,subject:B,target:m,identifier:$,active:nt,x:j[0]+W,y:j[1]+G,dx:j[0]-Z[0],dy:j[1]-Z[1],dispatch:P}),N)}}return m.filter=function(E){return arguments.length?(t=typeof E=="function"?E:jf(!!E),m):t},m.container=function(E){return arguments.length?(e=typeof E=="function"?E:jf(E),m):e},m.subject=function(E){return arguments.length?(n=typeof E=="function"?E:jf(E),m):n},m.touchable=function(E){return arguments.length?(r=typeof E=="function"?E:jf(!!E),m):r},m.on=function(){var E=s.on.apply(s,arguments);return E===s?m:E},m.clickDistance=function(E){return arguments.length?(p=(E=+E)*E,m):Math.sqrt(p)},m}function B1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function YL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xh(){}var mh=.7,qp=1/mh,Hl="\\s*([+-]?\\d+)\\s*",yh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CG=/^#([0-9a-f]{3,8})$/,_G=new RegExp(`^rgb\\(${Hl},${Hl},${Hl}\\)$`),kG=new RegExp(`^rgb\\(${Hi},${Hi},${Hi}\\)$`),TG=new RegExp(`^rgba\\(${Hl},${Hl},${Hl},${yh}\\)$`),EG=new RegExp(`^rgba\\(${Hi},${Hi},${Hi},${yh}\\)$`),AG=new RegExp(`^hsl\\(${yh},${Hi},${Hi}\\)$`),MG=new RegExp(`^hsla\\(${yh},${Hi},${Hi},${yh}\\)$`),FT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B1(Xh,vo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:IT,formatHex:IT,formatHex8:DG,formatHsl:NG,formatRgb:HT,toString:HT});function IT(){return this.rgb().formatHex()}function DG(){return this.rgb().formatHex8()}function NG(){return GL(this).formatHsl()}function HT(){return this.rgb().formatRgb()}function vo(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=CG.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?VT(e):n===3?new Tr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$f(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$f(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_G.exec(t))?new Tr(e[1],e[2],e[3],1):(e=kG.exec(t))?new Tr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=TG.exec(t))?$f(e[1],e[2],e[3],e[4]):(e=EG.exec(t))?$f(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=AG.exec(t))?WT(e[1],e[2]/100,e[3]/100,1):(e=MG.exec(t))?WT(e[1],e[2]/100,e[3]/100,e[4]):FT.hasOwnProperty(t)?VT(FT[t]):t==="transparent"?new Tr(NaN,NaN,NaN,0):null}function VT(t){return new Tr(t>>16&255,t>>8&255,t&255,1)}function $f(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tr(t,e,n,r)}function LG(t){return t instanceof Xh||(t=vo(t)),t?(t=t.rgb(),new Tr(t.r,t.g,t.b,t.opacity)):new Tr}function zb(t,e,n,r){return arguments.length===1?LG(t):new Tr(t,e,n,r??1)}function Tr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}B1(Tr,zb,YL(Xh,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mh:Math.pow(mh,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tr(go(this.r),go(this.g),go(this.b),Up(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qT,formatHex:qT,formatHex8:OG,formatRgb:UT,toString:UT}));function qT(){return`#${lo(this.r)}${lo(this.g)}${lo(this.b)}`}function OG(){return`#${lo(this.r)}${lo(this.g)}${lo(this.b)}${lo((isNaN(this.opacity)?1:this.opacity)*255)}`}function UT(){const t=Up(this.opacity);return`${t===1?"rgb(":"rgba("}${go(this.r)}, ${go(this.g)}, ${go(this.b)}${t===1?")":`, ${t})`}`}function Up(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function go(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function lo(t){return t=go(t),(t<16?"0":"")+t.toString(16)}function WT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mi(t,e,n,r)}function GL(t){if(t instanceof mi)return new mi(t.h,t.s,t.l,t.opacity);if(t instanceof Xh||(t=vo(t)),!t)return new mi;if(t instanceof mi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,c=s-i,u=(s+i)/2;return c?(e===s?o=(n-r)/c+(n<r)*6:n===s?o=(r-e)/c+2:o=(e-n)/c+4,c/=u<.5?s+i:2-s-i,o*=60):c=u>0&&u<1?0:o,new mi(o,c,u,t.opacity)}function RG(t,e,n,r){return arguments.length===1?GL(t):new mi(t,e,n,r??1)}function mi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}B1(mi,RG,YL(Xh,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mh:Math.pow(mh,t),new mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tr(kx(t>=240?t-240:t+120,i,r),kx(t,i,r),kx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new mi(YT(this.h),zf(this.s),zf(this.l),Up(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Up(this.opacity);return`${t===1?"hsl(":"hsla("}${YT(this.h)}, ${zf(this.s)*100}%, ${zf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function YT(t){return t=(t||0)%360,t<0?t+360:t}function zf(t){return Math.max(0,Math.min(1,t||0))}function kx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Qg=t=>()=>t;function XL(t,e){return function(n){return t+n*e}}function BG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Nft(t,e){var n=e-t;return n?XL(t,n>180||n<-180?n-360*Math.round(n/360):n):Qg(isNaN(t)?e:t)}function jG(t){return(t=+t)==1?ZL:function(e,n){return n-e?BG(e,n,t):Qg(isNaN(e)?n:e)}}function ZL(t,e){var n=e-t;return n?XL(t,n):Qg(isNaN(t)?e:t)}const Wp=(function t(e){var n=jG(e);function r(i,s){var o=n((i=zb(i)).r,(s=zb(s)).r),c=n(i.g,s.g),u=n(i.b,s.b),h=ZL(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=c(d),i.b=u(d),i.opacity=h(d),i+""}}return r.gamma=t,r})(1);function $G(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function zG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Xu(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(c){for(o=0;o<r;++o)s[o]=i[o](c);return s}}function FG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function IG(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Xu(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Pb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tx=new RegExp(Pb.source,"g");function HG(t){return function(){return t}}function VG(t){return function(e){return t(e)+""}}function KL(t,e){var n=Pb.lastIndex=Tx.lastIndex=0,r,i,s,o=-1,c=[],u=[];for(t=t+"",e=e+"";(r=Pb.exec(t))&&(i=Tx.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[o]?c[o]+=s:c[++o]=s),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:Pi(r,i)})),n=Tx.lastIndex;return n<e.length&&(s=e.slice(n),c[o]?c[o]+=s:c[++o]=s),c.length<2?u[0]?VG(u[0].x):HG(e):(e=u.length,function(h){for(var d=0,p;d<e;++d)c[(p=u[d]).i]=p.x(h);return c.join("")})}function Xu(t,e){var n=typeof e,r;return e==null||n==="boolean"?Qg(e):(n==="number"?Pi:n==="string"?(r=vo(e))?(e=r,Wp):KL:e instanceof vo?Wp:e instanceof Date?FG:zG(e)?$G:Array.isArray(e)?PG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?IG:Pi)(t,e)}var GT=180/Math.PI,Fb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function QL(t,e,n,r,i,s){var o,c,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*GT,skewX:Math.atan(u)*GT,scaleX:o,scaleY:c}}var Pf;function qG(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Fb:QL(e.a,e.b,e.c,e.d,e.e,e.f)}function UG(t){return t==null||(Pf||(Pf=document.createElementNS("http://www.w3.org/2000/svg","g")),Pf.setAttribute("transform",t),!(t=Pf.transform.baseVal.consolidate()))?Fb:(t=t.matrix,QL(t.a,t.b,t.c,t.d,t.e,t.f))}function JL(t,e,n,r){function i(h){return h.length?h.pop()+" ":""}function s(h,d,p,m,y,x){if(h!==p||d!==m){var b=y.push("translate(",null,e,null,n);x.push({i:b-4,x:Pi(h,p)},{i:b-2,x:Pi(d,m)})}else(p||m)&&y.push("translate("+p+e+m+n)}function o(h,d,p,m){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),m.push({i:p.push(i(p)+"rotate(",null,r)-2,x:Pi(h,d)})):d&&p.push(i(p)+"rotate("+d+r)}function c(h,d,p,m){h!==d?m.push({i:p.push(i(p)+"skewX(",null,r)-2,x:Pi(h,d)}):d&&p.push(i(p)+"skewX("+d+r)}function u(h,d,p,m,y,x){if(h!==p||d!==m){var b=y.push(i(y)+"scale(",null,",",null,")");x.push({i:b-4,x:Pi(h,p)},{i:b-2,x:Pi(d,m)})}else(p!==1||m!==1)&&y.push(i(y)+"scale("+p+","+m+")")}return function(h,d){var p=[],m=[];return h=t(h),d=t(d),s(h.translateX,h.translateY,d.translateX,d.translateY,p,m),o(h.rotate,d.rotate,p,m),c(h.skewX,d.skewX,p,m),u(h.scaleX,h.scaleY,d.scaleX,d.scaleY,p,m),h=d=null,function(y){for(var x=-1,b=m.length,S;++x<b;)p[(S=m[x]).i]=S.x(y);return p.join("")}}}var WG=JL(qG,"px, ","px)","deg)"),YG=JL(UG,", ",")",")"),GG=1e-12;function XT(t){return((t=Math.exp(t))+1/t)/2}function XG(t){return((t=Math.exp(t))-1/t)/2}function ZG(t){return((t=Math.exp(2*t))-1)/(t+1)}const dp=(function t(e,n,r){function i(s,o){var c=s[0],u=s[1],h=s[2],d=o[0],p=o[1],m=o[2],y=d-c,x=p-u,b=y*y+x*x,S,_;if(b<GG)_=Math.log(m/h)/e,S=function(N){return[c+N*y,u+N*x,h*Math.exp(e*N*_)]};else{var T=Math.sqrt(b),w=(m*m-h*h+r*b)/(2*h*n*T),E=(m*m-h*h-r*b)/(2*m*n*T),M=Math.log(Math.sqrt(w*w+1)-w),L=Math.log(Math.sqrt(E*E+1)-E);_=(L-M)/e,S=function(N){var $=N*_,z=XT(M),P=h/(n*T)*(z*ZG(e*$+M)-XG(M));return[c+P*y,u+P*x,h*z/XT(e*$+M)]}}return S.duration=_*1e3*e/Math.SQRT2,S}return i.rho=function(s){var o=Math.max(.001,+s),c=o*o,u=c*c;return t(o,c,u)},i})(Math.SQRT2,2,4);var ec=0,Ou=0,bu=0,t3=1e3,Yp,Ru,Gp=0,wo=0,Jg=0,xh=typeof performance=="object"&&performance.now?performance:Date,e3=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function j1(){return wo||(e3(KG),wo=xh.now()+Jg)}function KG(){wo=0}function Xp(){this._call=this._time=this._next=null}Xp.prototype=n3.prototype={constructor:Xp,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?j1():+n)+(e==null?0:+e),!this._next&&Ru!==this&&(Ru?Ru._next=this:Yp=this,Ru=this),this._call=t,this._time=n,Ib()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ib())}};function n3(t,e,n){var r=new Xp;return r.restart(t,e,n),r}function QG(){j1(),++ec;for(var t=Yp,e;t;)(e=wo-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ec}function ZT(){wo=(Gp=xh.now())+Jg,ec=Ou=0;try{QG()}finally{ec=0,tX(),wo=0}}function JG(){var t=xh.now(),e=t-Gp;e>t3&&(Jg-=e,Gp=t)}function tX(){for(var t,e=Yp,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Yp=n);Ru=t,Ib(r)}function Ib(t){if(!ec){Ou&&(Ou=clearTimeout(Ou));var e=t-wo;e>24?(t<1/0&&(Ou=setTimeout(ZT,t-xh.now()-Jg)),bu&&(bu=clearInterval(bu))):(bu||(Gp=xh.now(),bu=setInterval(JG,t3)),ec=1,e3(ZT))}}function KT(t,e,n){var r=new Xp;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var eX=Zg("start","end","cancel","interrupt"),nX=[],r3=0,QT=1,Hb=2,fp=3,JT=4,Vb=5,pp=6;function tm(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;rX(t,n,{name:e,index:r,group:i,on:eX,tween:nX,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:r3})}function $1(t,e){var n=Ei(t,e);if(n.state>r3)throw new Error("too late; already scheduled");return n}function Gi(t,e){var n=Ei(t,e);if(n.state>fp)throw new Error("too late; already running");return n}function Ei(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function rX(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=n3(s,0,n.time);function s(h){n.state=QT,n.timer.restart(o,n.delay,n.time),n.delay<=h&&o(h-n.delay)}function o(h){var d,p,m,y;if(n.state!==QT)return u();for(d in r)if(y=r[d],y.name===n.name){if(y.state===fp)return KT(o);y.state===JT?(y.state=pp,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[d]):+d<e&&(y.state=pp,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[d])}if(KT(function(){n.state===fp&&(n.state=JT,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=Hb,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Hb){for(n.state=fp,i=new Array(m=n.tween.length),d=0,p=-1;d<m;++d)(y=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=y);i.length=p+1}}function c(h){for(var d=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(u),n.state=Vb,1),p=-1,m=i.length;++p<m;)i[p].call(t,d);n.state===Vb&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=pp,n.timer.stop(),delete r[e];for(var h in r)return;delete t.__transition}}function gp(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Hb&&r.state<Vb,r.state=pp,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function iX(t){return this.each(function(){gp(this,t)})}function aX(t,e){var n,r;return function(){var i=Gi(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,c=r.length;o<c;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function sX(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Gi(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var c={name:e,value:n},u=0,h=i.length;u<h;++u)if(i[u].name===e){i[u]=c;break}u===h&&i.push(c)}s.tween=i}}function oX(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ei(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?aX:sX)(n,t,e))}function z1(t,e,n){var r=t._id;return t.each(function(){var i=Gi(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ei(i,r).value[e]}}function i3(t,e){var n;return(typeof e=="number"?Pi:e instanceof vo?Wp:(n=vo(e))?(e=n,Wp):KL)(t,e)}function lX(t){return function(){this.removeAttribute(t)}}function cX(t){return function(){this.removeAttributeNS(t.space,t.local)}}function uX(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function hX(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function dX(t,e,n){var r,i,s;return function(){var o,c=n(this),u;return c==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=c+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,c)))}}function fX(t,e,n){var r,i,s;return function(){var o,c=n(this),u;return c==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=c+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,c)))}}function pX(t,e){var n=Kg(t),r=n==="transform"?YG:i3;return this.attrTween(t,typeof e=="function"?(n.local?fX:dX)(n,r,z1(this,"attr."+t,e)):e==null?(n.local?cX:lX)(n):(n.local?hX:uX)(n,r,e))}function gX(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function mX(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function yX(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&mX(t,s)),n}return i._value=e,i}function xX(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&gX(t,s)),n}return i._value=e,i}function bX(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Kg(t);return this.tween(n,(r.local?yX:xX)(r,e))}function vX(t,e){return function(){$1(this,t).delay=+e.apply(this,arguments)}}function wX(t,e){return e=+e,function(){$1(this,t).delay=e}}function SX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vX:wX)(e,t)):Ei(this.node(),e).delay}function CX(t,e){return function(){Gi(this,t).duration=+e.apply(this,arguments)}}function _X(t,e){return e=+e,function(){Gi(this,t).duration=e}}function kX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?CX:_X)(e,t)):Ei(this.node(),e).duration}function TX(t,e){if(typeof e!="function")throw new Error;return function(){Gi(this,t).ease=e}}function EX(t){var e=this._id;return arguments.length?this.each(TX(e,t)):Ei(this.node(),e).ease}function AX(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Gi(this,t).ease=n}}function MX(t){if(typeof t!="function")throw new Error;return this.each(AX(this._id,t))}function DX(t){typeof t!="function"&&(t=RL(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,c=r[i]=[],u,h=0;h<o;++h)(u=s[h])&&t.call(u,u.__data__,h,s)&&c.push(u);return new Aa(r,this._parents,this._name,this._id)}function NX(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),c=0;c<s;++c)for(var u=e[c],h=n[c],d=u.length,p=o[c]=new Array(d),m,y=0;y<d;++y)(m=u[y]||h[y])&&(p[y]=m);for(;c<r;++c)o[c]=e[c];return new Aa(o,this._parents,this._name,this._id)}function LX(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function OX(t,e,n){var r,i,s=LX(e)?$1:Gi;return function(){var o=s(this,t),c=o.on;c!==r&&(i=(r=c).copy()).on(e,n),o.on=i}}function RX(t,e){var n=this._id;return arguments.length<2?Ei(this.node(),n).on.on(t):this.each(OX(n,t,e))}function BX(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function jX(){return this.on("end.remove",BX(this._id))}function $X(t){var e=this._name,n=this._id;typeof t!="function"&&(t=O1(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var c=r[o],u=c.length,h=s[o]=new Array(u),d,p,m=0;m<u;++m)(d=c[m])&&(p=t.call(d,d.__data__,m,c))&&("__data__"in d&&(p.__data__=d.__data__),h[m]=p,tm(h[m],e,n,m,h,Ei(d,n)));return new Aa(s,this._parents,e,n)}function zX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=OL(t));for(var r=this._groups,i=r.length,s=[],o=[],c=0;c<i;++c)for(var u=r[c],h=u.length,d,p=0;p<h;++p)if(d=u[p]){for(var m=t.call(d,d.__data__,p,u),y,x=Ei(d,n),b=0,S=m.length;b<S;++b)(y=m[b])&&tm(y,e,n,b,m,x);s.push(m),o.push(d)}return new Aa(s,o,e,n)}var PX=Gh.prototype.constructor;function FX(){return new PX(this._groups,this._parents)}function IX(t,e){var n,r,i;return function(){var s=tc(this,t),o=(this.style.removeProperty(t),tc(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function a3(t){return function(){this.style.removeProperty(t)}}function HX(t,e,n){var r,i=n+"",s;return function(){var o=tc(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function VX(t,e,n){var r,i,s;return function(){var o=tc(this,t),c=n(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(t),tc(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,c))}}function qX(t,e){var n,r,i,s="style."+e,o="end."+s,c;return function(){var u=Gi(this,t),h=u.on,d=u.value[s]==null?c||(c=a3(e)):void 0;(h!==n||i!==d)&&(r=(n=h).copy()).on(o,i=d),u.on=r}}function UX(t,e,n){var r=(t+="")=="transform"?WG:i3;return e==null?this.styleTween(t,IX(t,r)).on("end.style."+t,a3(t)):typeof e=="function"?this.styleTween(t,VX(t,r,z1(this,"style."+t,e))).each(qX(this._id,t)):this.styleTween(t,HX(t,r,e),n).on("end.style."+t,null)}function WX(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function YX(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&WX(t,o,n)),r}return s._value=e,s}function GX(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,YX(t,e,n??""))}function XX(t){return function(){this.textContent=t}}function ZX(t){return function(){var e=t(this);this.textContent=e??""}}function KX(t){return this.tween("text",typeof t=="function"?ZX(z1(this,"text",t)):XX(t==null?"":t+""))}function QX(t){return function(e){this.textContent=t.call(this,e)}}function JX(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&QX(i)),e}return r._value=t,r}function tZ(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,JX(t))}function eZ(){for(var t=this._name,e=this._id,n=s3(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],c=o.length,u,h=0;h<c;++h)if(u=o[h]){var d=Ei(u,e);tm(u,t,n,h,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Aa(r,this._parents,t,n)}function nZ(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var c={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var h=Gi(this,r),d=h.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(u)),h.on=e}),i===0&&s()})}var rZ=0;function Aa(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function s3(){return++rZ}var ma=Gh.prototype;Aa.prototype={constructor:Aa,select:$X,selectAll:zX,selectChild:ma.selectChild,selectChildren:ma.selectChildren,filter:DX,merge:NX,selection:FX,transition:eZ,call:ma.call,nodes:ma.nodes,node:ma.node,size:ma.size,empty:ma.empty,each:ma.each,on:RX,attr:pX,attrTween:bX,style:UX,styleTween:GX,text:KX,textTween:tZ,remove:jX,tween:oX,delay:SX,duration:kX,ease:EX,easeVarying:MX,end:nZ,[Symbol.iterator]:ma[Symbol.iterator]};function iZ(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var aZ={time:null,delay:0,duration:250,ease:iZ};function sZ(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function oZ(t){var e,n;t instanceof Aa?(e=t._id,t=t._name):(e=s3(),(n=aZ).time=j1(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],c=o.length,u,h=0;h<c;++h)(u=o[h])&&tm(u,t,e,h,o,n||sZ(u,e));return new Aa(r,this._parents,t,e)}Gh.prototype.interrupt=iX;Gh.prototype.transition=oZ;const Ff=t=>()=>t;function lZ(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function wa(t,e,n){this.k=t,this.x=e,this.y=n}wa.prototype={constructor:wa,scale:function(t){return t===1?this:new wa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new wa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var em=new wa(1,0,0);o3.prototype=wa.prototype;function o3(t){for(;!t.__zoom;)if(!(t=t.parentNode))return em;return t.__zoom}function Ex(t){t.stopImmediatePropagation()}function vu(t){t.preventDefault(),t.stopImmediatePropagation()}function cZ(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function uZ(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function tE(){return this.__zoom||em}function hZ(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function dZ(){return navigator.maxTouchPoints||"ontouchstart"in this}function fZ(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function l3(){var t=cZ,e=uZ,n=fZ,r=hZ,i=dZ,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],c=250,u=dp,h=Zg("start","zoom","end"),d,p,m,y=500,x=150,b=0,S=10;function _(B){B.property("__zoom",tE).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",P).filter(i).on("touchstart.zoom",j).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(B,H,R,I){var U=B.selection?B.selection():B;U.property("__zoom",tE),B!==U?M(B,H,R,I):U.interrupt().each(function(){L(this,arguments).event(I).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},_.scaleBy=function(B,H,R,I){_.scaleTo(B,function(){var U=this.__zoom.k,Z=typeof H=="function"?H.apply(this,arguments):H;return U*Z},R,I)},_.scaleTo=function(B,H,R,I){_.transform(B,function(){var U=e.apply(this,arguments),Z=this.__zoom,nt=R==null?E(U):typeof R=="function"?R.apply(this,arguments):R,q=Z.invert(nt),V=typeof H=="function"?H.apply(this,arguments):H;return n(w(T(Z,V),nt,q),U,o)},R,I)},_.translateBy=function(B,H,R,I){_.transform(B,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof R=="function"?R.apply(this,arguments):R),e.apply(this,arguments),o)},null,I)},_.translateTo=function(B,H,R,I,U){_.transform(B,function(){var Z=e.apply(this,arguments),nt=this.__zoom,q=I==null?E(Z):typeof I=="function"?I.apply(this,arguments):I;return n(em.translate(q[0],q[1]).scale(nt.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof R=="function"?-R.apply(this,arguments):-R),Z,o)},I,U)};function T(B,H){return H=Math.max(s[0],Math.min(s[1],H)),H===B.k?B:new wa(H,B.x,B.y)}function w(B,H,R){var I=H[0]-R[0]*B.k,U=H[1]-R[1]*B.k;return I===B.x&&U===B.y?B:new wa(B.k,I,U)}function E(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function M(B,H,R,I){B.on("start.zoom",function(){L(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(I).end()}).tween("zoom",function(){var U=this,Z=arguments,nt=L(U,Z).event(I),q=e.apply(U,Z),V=R==null?E(q):typeof R=="function"?R.apply(U,Z):R,K=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),et=U.__zoom,X=typeof H=="function"?H.apply(U,Z):H,Q=u(et.invert(V).concat(K/et.k),X.invert(V).concat(K/X.k));return function(tt){if(tt===1)tt=X;else{var at=Q(tt),ut=K/at[2];tt=new wa(ut,V[0]-at[0]*ut,V[1]-at[1]*ut)}nt.zoom(null,tt)}})}function L(B,H,R){return!R&&B.__zooming||new N(B,H)}function N(B,H){this.that=B,this.args=H,this.active=0,this.sourceEvent=null,this.extent=e.apply(B,H),this.taps=0}N.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,H){return this.mouse&&B!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var H=Wt(this.that).datum();h.call(B,this.that,new lZ(B,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:h}),H)}};function $(B,...H){if(!t.apply(this,arguments))return;var R=L(this,H).event(B),I=this.__zoom,U=Math.max(s[0],Math.min(s[1],I.k*Math.pow(2,r.apply(this,arguments)))),Z=fi(B);if(R.wheel)(R.mouse[0][0]!==Z[0]||R.mouse[0][1]!==Z[1])&&(R.mouse[1]=I.invert(R.mouse[0]=Z)),clearTimeout(R.wheel);else{if(I.k===U)return;R.mouse=[Z,I.invert(Z)],gp(this),R.start()}vu(B),R.wheel=setTimeout(nt,x),R.zoom("mouse",n(w(T(I,U),R.mouse[0],R.mouse[1]),R.extent,o));function nt(){R.wheel=null,R.end()}}function z(B,...H){if(m||!t.apply(this,arguments))return;var R=B.currentTarget,I=L(this,H,!0).event(B),U=Wt(B.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",K,!0),Z=fi(B,R),nt=B.clientX,q=B.clientY;qL(B.view),Ex(B),I.mouse=[Z,this.__zoom.invert(Z)],gp(this),I.start();function V(et){if(vu(et),!I.moved){var X=et.clientX-nt,Q=et.clientY-q;I.moved=X*X+Q*Q>b}I.event(et).zoom("mouse",n(w(I.that.__zoom,I.mouse[0]=fi(et,R),I.mouse[1]),I.extent,o))}function K(et){U.on("mousemove.zoom mouseup.zoom",null),UL(et.view,I.moved),vu(et),I.event(et).end()}}function P(B,...H){if(t.apply(this,arguments)){var R=this.__zoom,I=fi(B.changedTouches?B.changedTouches[0]:B,this),U=R.invert(I),Z=R.k*(B.shiftKey?.5:2),nt=n(w(T(R,Z),I,U),e.apply(this,H),o);vu(B),c>0?Wt(this).transition().duration(c).call(M,nt,I,B):Wt(this).call(_.transform,nt,I,B)}}function j(B,...H){if(t.apply(this,arguments)){var R=B.touches,I=R.length,U=L(this,H,B.changedTouches.length===I).event(B),Z,nt,q,V;for(Ex(B),nt=0;nt<I;++nt)q=R[nt],V=fi(q,this),V=[V,this.__zoom.invert(V),q.identifier],U.touch0?!U.touch1&&U.touch0[2]!==V[2]&&(U.touch1=V,U.taps=0):(U.touch0=V,Z=!0,U.taps=1+!!d);d&&(d=clearTimeout(d)),Z&&(U.taps<2&&(p=V[0],d=setTimeout(function(){d=null},y)),gp(this),U.start())}}function W(B,...H){if(this.__zooming){var R=L(this,H).event(B),I=B.changedTouches,U=I.length,Z,nt,q,V;for(vu(B),Z=0;Z<U;++Z)nt=I[Z],q=fi(nt,this),R.touch0&&R.touch0[2]===nt.identifier?R.touch0[0]=q:R.touch1&&R.touch1[2]===nt.identifier&&(R.touch1[0]=q);if(nt=R.that.__zoom,R.touch1){var K=R.touch0[0],et=R.touch0[1],X=R.touch1[0],Q=R.touch1[1],tt=(tt=X[0]-K[0])*tt+(tt=X[1]-K[1])*tt,at=(at=Q[0]-et[0])*at+(at=Q[1]-et[1])*at;nt=T(nt,Math.sqrt(tt/at)),q=[(K[0]+X[0])/2,(K[1]+X[1])/2],V=[(et[0]+Q[0])/2,(et[1]+Q[1])/2]}else if(R.touch0)q=R.touch0[0],V=R.touch0[1];else return;R.zoom("touch",n(w(nt,q,V),R.extent,o))}}function G(B,...H){if(this.__zooming){var R=L(this,H).event(B),I=B.changedTouches,U=I.length,Z,nt;for(Ex(B),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),Z=0;Z<U;++Z)nt=I[Z],R.touch0&&R.touch0[2]===nt.identifier?delete R.touch0:R.touch1&&R.touch1[2]===nt.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(nt=fi(nt,this),Math.hypot(p[0]-nt[0],p[1]-nt[1])<S)){var q=Wt(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return _.wheelDelta=function(B){return arguments.length?(r=typeof B=="function"?B:Ff(+B),_):r},_.filter=function(B){return arguments.length?(t=typeof B=="function"?B:Ff(!!B),_):t},_.touchable=function(B){return arguments.length?(i=typeof B=="function"?B:Ff(!!B),_):i},_.extent=function(B){return arguments.length?(e=typeof B=="function"?B:Ff([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),_):e},_.scaleExtent=function(B){return arguments.length?(s[0]=+B[0],s[1]=+B[1],_):[s[0],s[1]]},_.translateExtent=function(B){return arguments.length?(o[0][0]=+B[0][0],o[1][0]=+B[1][0],o[0][1]=+B[0][1],o[1][1]=+B[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(B){return arguments.length?(n=B,_):n},_.duration=function(B){return arguments.length?(c=+B,_):c},_.interpolate=function(B){return arguments.length?(u=B,_):u},_.on=function(){var B=h.on.apply(h,arguments);return B===h?_:B},_.clickDistance=function(B){return arguments.length?(b=(B=+B)*B,_):Math.sqrt(b)},_.tapDistance=function(B){return arguments.length?(S=+B,_):S},_}const Ui={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},bh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],c3=["Enter"," ","Escape"],u3={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var nc;(function(t){t.Strict="strict",t.Loose="loose"})(nc||(nc={}));var mo;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(mo||(mo={}));var vh;(function(t){t.Partial="partial",t.Full="full"})(vh||(vh={}));const h3={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var hs;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(hs||(hs={}));var Zp;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Zp||(Zp={}));var Bt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Bt||(Bt={}));const eE={[Bt.Left]:Bt.Right,[Bt.Right]:Bt.Left,[Bt.Top]:Bt.Bottom,[Bt.Bottom]:Bt.Top};function d3(t){return t===null?null:t?"valid":"invalid"}const f3=t=>"id"in t&&"source"in t&&"target"in t,pZ=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),P1=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Zh=(t,e=[0,0])=>{const{width:n,height:r}=Na(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},gZ=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):P1(i)?i:e.nodeLookup.get(i.id));const c=o?Kp(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return nm(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return rm(n)},Kh=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=nm(n,Kp(i)),r=!0)}),r?rm(n):{x:0,y:0,width:0,height:0}},F1=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const c={...Jh(e,[n,r,i]),width:e.width/i,height:e.height/i},u=[];for(const h of t.values()){const{measured:d,selectable:p=!0,hidden:m=!1}=h;if(o&&!p||m)continue;const y=d.width??h.width??h.initialWidth??null,x=d.height??h.height??h.initialHeight??null,b=wh(c,ic(h)),S=(y??0)*(x??0),_=s&&b>0;(!h.internals.handleBounds||_||b>=S||h.dragging)&&u.push(h)}return u},mZ=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function yZ(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function xZ({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!0);const c=yZ(t,o),u=Kh(c),h=I1(u,e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(h,{duration:o?.duration,ease:o?.ease,interpolate:o?.interpolate}),Promise.resolve(!0)}function p3({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),c=o.parentId?n.get(o.parentId):void 0,{x:u,y:h}=c?c.internals.positionAbsolute:{x:0,y:0},d=o.origin??r;let p=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!c)s?.("005",Ui.error005());else{const y=c.measured.width,x=c.measured.height;y&&x&&(p=[[u,h],[u+y,h+x]])}else c&&ac(o.extent)&&(p=[[o.extent[0][0]+u,o.extent[0][1]+h],[o.extent[1][0]+u,o.extent[1][1]+h]]);const m=ac(p)?So(e,p,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&s?.("015",Ui.error015()),{position:{x:m.x-u+(o.measured.width??0)*d[0],y:m.y-h+(o.measured.height??0)*d[1]},positionAbsolute:m}}async function bZ({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(m=>m.id)),o=[];for(const m of n){if(m.deletable===!1)continue;const y=s.has(m.id),x=!y&&m.parentId&&o.find(b=>b.id===m.parentId);(y||x)&&o.push(m)}const c=new Set(e.map(m=>m.id)),u=r.filter(m=>m.deletable!==!1),d=mZ(o,u);for(const m of u)c.has(m.id)&&!d.find(x=>x.id===m.id)&&d.push(m);if(!i)return{edges:d,nodes:o};const p=await i({nodes:o,edges:d});return typeof p=="boolean"?p?{edges:d,nodes:o}:{edges:[],nodes:[]}:p}const rc=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),So=(t={x:0,y:0},e,n)=>({x:rc(t.x,e[0][0],e[1][0]-(n?.width??0)),y:rc(t.y,e[0][1],e[1][1]-(n?.height??0))});function g3(t,e,n){const{width:r,height:i}=Na(n),{x:s,y:o}=n.internals.positionAbsolute;return So(t,[[s,o],[s+r,o+i]],e)}const nE=(t,e,n)=>t<e?rc(Math.abs(t-e),1,e)/e:t>n?-rc(Math.abs(t-n),1,e)/e:0,m3=(t,e,n=15,r=40)=>{const i=nE(t.x,r,e.width-r)*n,s=nE(t.y,r,e.height-r)*n;return[i,s]},nm=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),qb=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),rm=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),ic=(t,e=[0,0])=>{const{x:n,y:r}=P1(t)?t.internals.positionAbsolute:Zh(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Kp=(t,e=[0,0])=>{const{x:n,y:r}=P1(t)?t.internals.positionAbsolute:Zh(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},y3=(t,e)=>rm(nm(qb(t),qb(e))),wh=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},rE=t=>xi(t.width)&&xi(t.height)&&xi(t.x)&&xi(t.y),xi=t=>!isNaN(t)&&isFinite(t),vZ=(t,e)=>{},Qh=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Jh=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const c={x:(t-n)/i,y:(e-r)/i};return s?Qh(c,o):c},Qp=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Sl(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function wZ(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Sl(t,n),i=Sl(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Sl(t.top??t.y??0,n),i=Sl(t.bottom??t.y??0,n),s=Sl(t.left??t.x??0,e),o=Sl(t.right??t.x??0,e);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function SZ(t,e,n,r,i,s){const{x:o,y:c}=Qp(t,[e,n,r]),{x:u,y:h}=Qp({x:t.x+t.width,y:t.y+t.height},[e,n,r]),d=i-u,p=s-h;return{left:Math.floor(o),top:Math.floor(c),right:Math.floor(d),bottom:Math.floor(p)}}const I1=(t,e,n,r,i,s)=>{const o=wZ(s,e,n),c=(e-o.x)/t.width,u=(n-o.y)/t.height,h=Math.min(c,u),d=rc(h,r,i),p=t.x+t.width/2,m=t.y+t.height/2,y=e/2-p*d,x=n/2-m*d,b=SZ(t,y,x,d,e,n),S={left:Math.min(b.left-o.left,0),top:Math.min(b.top-o.top,0),right:Math.min(b.right-o.right,0),bottom:Math.min(b.bottom-o.bottom,0)};return{x:y-S.left+S.right,y:x-S.top+S.bottom,zoom:d}},Sh=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function ac(t){return t!=null&&t!=="parent"}function Na(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function x3(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function b3(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const c=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*c[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*c[1]}return s}function iE(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function CZ(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function _Z(t){return{...u3,...t||{}}}function Zu(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=bi(t),c=Jh({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:u,y:h}=n?Qh(c,e):c;return{xSnapped:u,ySnapped:h,...c}}const H1=t=>({width:t.offsetWidth,height:t.offsetHeight}),v3=t=>t?.getRootNode?.()||window?.document,kZ=["INPUT","SELECT","TEXTAREA"];function w3(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:kZ.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const S3=t=>"clientX"in t,bi=(t,e)=>{const n=S3(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},aE=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const c=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...H1(o)}})};function C3({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:c}){const u=t*.125+i*.375+o*.375+n*.125,h=e*.125+s*.375+c*.375+r*.125,d=Math.abs(u-t),p=Math.abs(h-e);return[u,h,d,p]}function If(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function sE({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Bt.Left:return[e-If(e-r,s),n];case Bt.Right:return[e+If(r-e,s),n];case Bt.Top:return[e,n-If(n-i,s)];case Bt.Bottom:return[e,n+If(i-n,s)]}}function _3({sourceX:t,sourceY:e,sourcePosition:n=Bt.Bottom,targetX:r,targetY:i,targetPosition:s=Bt.Top,curvature:o=.25}){const[c,u]=sE({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[h,d]=sE({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[p,m,y,x]=C3({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:c,sourceControlY:u,targetControlX:h,targetControlY:d});return[`M${t},${e} C${c},${u} ${h},${d} ${r},${i}`,p,m,y,x]}function k3({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,c=r<e?r+o:r-o;return[s,c,i,o]}function TZ({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:s="basic"}){if(s==="manual")return r;const o=i&&n?r+1e3:r,c=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return o+c}function EZ({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=nm(Kp(t),Kp(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return wh(o,rm(s))>0}const AZ=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,MZ=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),DZ=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||AZ;let i;return f3(t)?i={...t}:i={...t,id:r(t)},MZ(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function T3({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,c]=k3({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,c]}const oE={[Bt.Left]:{x:-1,y:0},[Bt.Right]:{x:1,y:0},[Bt.Top]:{x:0,y:-1},[Bt.Bottom]:{x:0,y:1}},NZ=({source:t,sourcePosition:e=Bt.Bottom,target:n})=>e===Bt.Left||e===Bt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},lE=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function LZ({source:t,sourcePosition:e=Bt.Bottom,target:n,targetPosition:r=Bt.Top,center:i,offset:s,stepPosition:o}){const c=oE[e],u=oE[r],h={x:t.x+c.x*s,y:t.y+c.y*s},d={x:n.x+u.x*s,y:n.y+u.y*s},p=NZ({source:h,sourcePosition:e,target:d}),m=p.x!==0?"x":"y",y=p[m];let x=[],b,S;const _={x:0,y:0},T={x:0,y:0},[,,w,E]=k3({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[m]*u[m]===-1){m==="x"?(b=i.x??h.x+(d.x-h.x)*o,S=i.y??(h.y+d.y)/2):(b=i.x??(h.x+d.x)/2,S=i.y??h.y+(d.y-h.y)*o);const L=[{x:b,y:h.y},{x:b,y:d.y}],N=[{x:h.x,y:S},{x:d.x,y:S}];c[m]===y?x=m==="x"?L:N:x=m==="x"?N:L}else{const L=[{x:h.x,y:d.y}],N=[{x:d.x,y:h.y}];if(m==="x"?x=c.x===y?N:L:x=c.y===y?L:N,e===r){const W=Math.abs(t[m]-n[m]);if(W<=s){const G=Math.min(s-1,s-W);c[m]===y?_[m]=(h[m]>t[m]?-1:1)*G:T[m]=(d[m]>n[m]?-1:1)*G}}if(e!==r){const W=m==="x"?"y":"x",G=c[m]===u[W],B=h[W]>d[W],H=h[W]<d[W];(c[m]===1&&(!G&&B||G&&H)||c[m]!==1&&(!G&&H||G&&B))&&(x=m==="x"?L:N)}const $={x:h.x+_.x,y:h.y+_.y},z={x:d.x+T.x,y:d.y+T.y},P=Math.max(Math.abs($.x-x[0].x),Math.abs(z.x-x[0].x)),j=Math.max(Math.abs($.y-x[0].y),Math.abs(z.y-x[0].y));P>=j?(b=($.x+z.x)/2,S=x[0].y):(b=x[0].x,S=($.y+z.y)/2)}return[[t,{x:h.x+_.x,y:h.y+_.y},...x,{x:d.x+T.x,y:d.y+T.y},n],b,S,w,E]}function OZ(t,e,n,r){const i=Math.min(lE(t,e)/2,lE(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const h=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${s+i*h},${o}Q ${s},${o} ${s},${o+i*d}`}const c=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${s},${o+i*u}Q ${s},${o} ${s+i*c},${o}`}function Ub({sourceX:t,sourceY:e,sourcePosition:n=Bt.Bottom,targetX:r,targetY:i,targetPosition:s=Bt.Top,borderRadius:o=5,centerX:c,centerY:u,offset:h=20,stepPosition:d=.5}){const[p,m,y,x,b]=LZ({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:c,y:u},offset:h,stepPosition:d});return[p.reduce((_,T,w)=>{let E="";return w>0&&w<p.length-1?E=OZ(p[w-1],T,p[w+1],o):E=`${w===0?"M":"L"}${T.x} ${T.y}`,_+=E,_},""),m,y,x,b]}function cE(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function RZ(t){const{sourceNode:e,targetNode:n}=t;if(!cE(e)||!cE(n))return null;const r=e.internals.handleBounds||uE(e.handles),i=n.internals.handleBounds||uE(n.handles),s=hE(r?.source??[],t.sourceHandle),o=hE(t.connectionMode===nc.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!o)return t.onError?.("008",Ui.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const c=s?.position||Bt.Bottom,u=o?.position||Bt.Top,h=Co(e,s,c),d=Co(n,o,u);return{sourceX:h.x,sourceY:h.y,targetX:d.x,targetY:d.y,sourcePosition:c,targetPosition:u}}function uE(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Co(t,e,n=Bt.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:c}=e??Na(t);if(r)return{x:i+o/2,y:s+c/2};switch(e?.position??n){case Bt.Top:return{x:i+o/2,y:s};case Bt.Right:return{x:i+o,y:s+c/2};case Bt.Bottom:return{x:i+o/2,y:s+c};case Bt.Left:return{x:i,y:s+c/2}}}function hE(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Wb(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function BZ(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,c)=>([c.markerStart||r,c.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const h=Wb(u,e);s.has(h)||(o.push({id:h,color:u.color||n,...u}),s.add(h))}}),o),[]).sort((o,c)=>o.id.localeCompare(c.id))}const E3=1e3,jZ=10,V1={nodeOrigin:[0,0],nodeExtent:bh,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},$Z={...V1,checkEquality:!0};function q1(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function zZ(t,e,n){const r=q1(V1,n);for(const i of t.values())if(i.parentId)W1(i,t,e,r);else{const s=Zh(i,r.nodeOrigin),o=ac(i.extent)?i.extent:r.nodeExtent,c=So(s,o,Na(i));i.internals.positionAbsolute=c}}function PZ(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function U1(t){return t==="manual"}function Yb(t,e,n,r={}){const i=q1($Z,r),s={i:0},o=new Map(e),c=i?.elevateNodesOnSelect&&!U1(i.zIndexMode)?E3:0;let u=t.length>0;e.clear(),n.clear();for(const h of t){let d=o.get(h.id);if(i.checkEquality&&h===d?.internals.userNode)e.set(h.id,d);else{const p=Zh(h,i.nodeOrigin),m=ac(h.extent)?h.extent:i.nodeExtent,y=So(p,m,Na(h));d={...i.defaults,...h,measured:{width:h.measured?.width,height:h.measured?.height},internals:{positionAbsolute:y,handleBounds:PZ(h,d),z:A3(h,c,i.zIndexMode),userNode:h}},e.set(h.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(u=!1),h.parentId&&W1(d,e,n,r,s)}return u}function FZ(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function W1(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:c,zIndexMode:u}=q1(V1,r),h=t.parentId,d=e.get(h);if(!d){console.warn(`Parent node ${h} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}FZ(t,n),i&&!d.parentId&&d.internals.rootParentIndex===void 0&&u==="auto"&&(d.internals.rootParentIndex=++i.i,d.internals.z=d.internals.z+i.i*jZ),i&&d.internals.rootParentIndex!==void 0&&(i.i=d.internals.rootParentIndex);const p=s&&!U1(u)?E3:0,{x:m,y,z:x}=IZ(t,d,o,c,p,u),{positionAbsolute:b}=t.internals,S=m!==b.x||y!==b.y;(S||x!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:S?{x:m,y}:b,z:x}})}function A3(t,e,n){const r=xi(t.zIndex)?t.zIndex:0;return U1(n)?r:r+(t.selected?e:0)}function IZ(t,e,n,r,i,s){const{x:o,y:c}=e.internals.positionAbsolute,u=Na(t),h=Zh(t,n),d=ac(t.extent)?So(h,t.extent,u):h;let p=So({x:o+d.x,y:c+d.y},r,u);t.extent==="parent"&&(p=g3(p,u,e));const m=A3(t,i,s),y=e.internals.z??0;return{x:p.x,y:p.y,z:y>=m?y+1:m}}function Y1(t,e,n,r=[0,0]){const i=[],s=new Map;for(const o of t){const c=e.get(o.parentId);if(!c)continue;const u=s.get(o.parentId)?.expandedRect??ic(c),h=y3(u,o.rect);s.set(o.parentId,{expandedRect:h,parent:c})}return s.size>0&&s.forEach(({expandedRect:o,parent:c},u)=>{const h=c.internals.positionAbsolute,d=Na(c),p=c.origin??r,m=o.x<h.x?Math.round(Math.abs(h.x-o.x)):0,y=o.y<h.y?Math.round(Math.abs(h.y-o.y)):0,x=Math.max(d.width,Math.round(o.width)),b=Math.max(d.height,Math.round(o.height)),S=(x-d.width)*p[0],_=(b-d.height)*p[1];(m>0||y>0||S||_)&&(i.push({id:u,type:"position",position:{x:c.position.x-m+S,y:c.position.y-y+_}}),n.get(u)?.forEach(T=>{t.some(w=>w.id===T.id)||i.push({id:T.id,type:"position",position:{x:T.position.x+m,y:T.position.y+y}})})),(d.width<o.width||d.height<o.height||m||y)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(m?p[0]*m-S:0),height:b+(y?p[1]*y-_:0)}})}),i}function HZ(t,e,n,r,i,s,o){const c=r?.querySelector(".xyflow__viewport");let u=!1;if(!c)return{changes:[],updatedInternals:u};const h=[],d=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(d.transform),m=[];for(const y of t.values()){const x=e.get(y.id);if(!x)continue;if(x.hidden){e.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),u=!0;continue}const b=H1(y.nodeElement),S=x.measured.width!==b.width||x.measured.height!==b.height;if(!!(b.width&&b.height&&(S||!x.internals.handleBounds||y.force))){const T=y.nodeElement.getBoundingClientRect(),w=ac(x.extent)?x.extent:s;let{positionAbsolute:E}=x.internals;x.parentId&&x.extent==="parent"?E=g3(E,b,e.get(x.parentId)):w&&(E=So(E,w,b));const M={...x,measured:b,internals:{...x.internals,positionAbsolute:E,handleBounds:{source:aE("source",y.nodeElement,T,p,x.id),target:aE("target",y.nodeElement,T,p,x.id)}}};e.set(x.id,M),x.parentId&&W1(M,e,n,{nodeOrigin:i,zIndexMode:o}),u=!0,S&&(h.push({id:x.id,type:"dimensions",dimensions:b}),x.expandParent&&x.parentId&&m.push({id:x.id,parentId:x.parentId,rect:ic(M,i)}))}}if(m.length>0){const y=Y1(m,e,n,i);h.push(...y)}return{changes:h,updatedInternals:u}}async function VZ({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),c=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(c)}function dE(t,e,n,r,i,s){let o=i;const c=r.get(o)||new Map;r.set(o,c.set(n,e)),o=`${i}-${t}`;const u=r.get(o)||new Map;if(r.set(o,u.set(n,e)),s){o=`${i}-${t}-${s}`;const h=r.get(o)||new Map;r.set(o,h.set(n,e))}}function M3(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:c=null}=r,u={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:c},h=`${i}-${o}--${s}-${c}`,d=`${s}-${c}--${i}-${o}`;dE("source",u,d,t,i,o),dE("target",u,h,t,s,c),e.set(r.id,r)}}function D3(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:D3(n,e):!1}function fE(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function qZ(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!D3(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const c=t.get(s);c&&i.set(s,{id:s,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return i}function Ax({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,c]of e){const u=n.get(o)?.internals.userNode;u&&i.push({...u,position:c.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function UZ({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},o=Qh(s,e);return{x:o.x-s.x,y:o.y-s.y}}function WZ({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,c=new Map,u=!1,h={x:0,y:0},d=null,p=!1,m=null,y=!1,x=!1,b=null;function S({noDragClassName:T,handleSelector:w,domNode:E,isSelectable:M,nodeId:L,nodeClickDistance:N=0}){m=Wt(E);function $({x:W,y:G}){const{nodeLookup:B,nodeExtent:H,snapGrid:R,snapToGrid:I,nodeOrigin:U,onNodeDrag:Z,onSelectionDrag:nt,onError:q,updateNodePositions:V}=e();s={x:W,y:G};let K=!1;const et=c.size>1,X=et&&H?qb(Kh(c)):null,Q=et&&I?UZ({dragItems:c,snapGrid:R,x:W,y:G}):null;for(const[tt,at]of c){if(!B.has(tt))continue;let ut={x:W-at.distance.x,y:G-at.distance.y};I&&(ut=Q?{x:Math.round(ut.x+Q.x),y:Math.round(ut.y+Q.y)}:Qh(ut,R));let pt=null;if(et&&H&&!at.extent&&X){const{positionAbsolute:kt}=at.internals,_t=kt.x-X.x+H[0][0],Pt=kt.x+at.measured.width-X.x2+H[1][0],Yt=kt.y-X.y+H[0][1],de=kt.y+at.measured.height-X.y2+H[1][1];pt=[[_t,Yt],[Pt,de]]}const{position:vt,positionAbsolute:bt}=p3({nodeId:tt,nextPosition:ut,nodeLookup:B,nodeExtent:pt||H,nodeOrigin:U,onError:q});K=K||at.position.x!==vt.x||at.position.y!==vt.y,at.position=vt,at.internals.positionAbsolute=bt}if(x=x||K,!!K&&(V(c,!0),b&&(r||Z||!L&&nt))){const[tt,at]=Ax({nodeId:L,dragItems:c,nodeLookup:B});r?.(b,c,tt,at),Z?.(b,tt,at),L||nt?.(b,at)}}async function z(){if(!d)return;const{transform:W,panBy:G,autoPanSpeed:B,autoPanOnNodeDrag:H}=e();if(!H){u=!1,cancelAnimationFrame(o);return}const[R,I]=m3(h,d,B);(R!==0||I!==0)&&(s.x=(s.x??0)-R/W[2],s.y=(s.y??0)-I/W[2],await G({x:R,y:I})&&$(s)),o=requestAnimationFrame(z)}function P(W){const{nodeLookup:G,multiSelectionActive:B,nodesDraggable:H,transform:R,snapGrid:I,snapToGrid:U,selectNodesOnDrag:Z,onNodeDragStart:nt,onSelectionDragStart:q,unselectNodesAndEdges:V}=e();p=!0,(!Z||!M)&&!B&&L&&(G.get(L)?.selected||V()),M&&Z&&L&&t?.(L);const K=Zu(W.sourceEvent,{transform:R,snapGrid:I,snapToGrid:U,containerBounds:d});if(s=K,c=qZ(G,H,K,L),c.size>0&&(n||nt||!L&&q)){const[et,X]=Ax({nodeId:L,dragItems:c,nodeLookup:G});n?.(W.sourceEvent,c,et,X),nt?.(W.sourceEvent,et,X),L||q?.(W.sourceEvent,X)}}const j=WL().clickDistance(N).on("start",W=>{const{domNode:G,nodeDragThreshold:B,transform:H,snapGrid:R,snapToGrid:I}=e();d=G?.getBoundingClientRect()||null,y=!1,x=!1,b=W.sourceEvent,B===0&&P(W),s=Zu(W.sourceEvent,{transform:H,snapGrid:R,snapToGrid:I,containerBounds:d}),h=bi(W.sourceEvent,d)}).on("drag",W=>{const{autoPanOnNodeDrag:G,transform:B,snapGrid:H,snapToGrid:R,nodeDragThreshold:I,nodeLookup:U}=e(),Z=Zu(W.sourceEvent,{transform:B,snapGrid:H,snapToGrid:R,containerBounds:d});if(b=W.sourceEvent,(W.sourceEvent.type==="touchmove"&&W.sourceEvent.touches.length>1||L&&!U.has(L))&&(y=!0),!y){if(!u&&G&&p&&(u=!0,z()),!p){const nt=bi(W.sourceEvent,d),q=nt.x-h.x,V=nt.y-h.y;Math.sqrt(q*q+V*V)>I&&P(W)}(s.x!==Z.xSnapped||s.y!==Z.ySnapped)&&c&&p&&(h=bi(W.sourceEvent,d),$(Z))}}).on("end",W=>{if(!(!p||y)&&(u=!1,p=!1,cancelAnimationFrame(o),c.size>0)){const{nodeLookup:G,updateNodePositions:B,onNodeDragStop:H,onSelectionDragStop:R}=e();if(x&&(B(c,!1),x=!1),i||H||!L&&R){const[I,U]=Ax({nodeId:L,dragItems:c,nodeLookup:G,dragging:!1});i?.(W.sourceEvent,c,I,U),H?.(W.sourceEvent,I,U),L||R?.(W.sourceEvent,U)}}}).filter(W=>{const G=W.target;return!W.button&&(!T||!fE(G,`.${T}`,E))&&(!w||fE(G,w,E))});m.call(j)}function _(){m?.on(".drag",null)}return{update:S,destroy:_}}function YZ(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())wh(i,ic(s))>0&&r.push(s);return r}const GZ=250;function XZ(t,e,n,r){let i=[],s=1/0;const o=YZ(t,n,e+GZ);for(const c of o){const u=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const h of u){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:d,y:p}=Co(c,h,h.position,!0),m=Math.sqrt(Math.pow(d-t.x,2)+Math.pow(p-t.y,2));m>e||(m<s?(i=[{...h,x:d,y:p}],s=m):m===s&&i.push({...h,x:d,y:p}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(u=>u.type===c)??i[0]}return i[0]}function N3(t,e,n,r,i,s=!1){const o=r.get(t);if(!o)return null;const c=i==="strict"?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],u=(n?c?.find(h=>h.id===n):c?.[0])??null;return u&&s?{...u,...Co(o,u,u.position,!0)}:u}function L3(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function ZZ(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const O3=()=>!0;function KZ(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:c,nodeLookup:u,lib:h,autoPanOnConnect:d,flowId:p,panBy:m,cancelConnection:y,onConnectStart:x,onConnect:b,onConnectEnd:S,isValidConnection:_=O3,onReconnectEnd:T,updateConnection:w,getTransform:E,getFromHandle:M,autoPanSpeed:L,dragThreshold:N=1,handleDomNode:$}){const z=v3(t.target);let P=0,j;const{x:W,y:G}=bi(t),B=L3(s,$),H=c?.getBoundingClientRect();let R=!1;if(!H||!B)return;const I=N3(i,B,r,u,e);if(!I)return;let U=bi(t,H),Z=!1,nt=null,q=!1,V=null;function K(){if(!d||!H)return;const[vt,bt]=m3(U,H,L);m({x:vt,y:bt}),P=requestAnimationFrame(K)}const et={...I,nodeId:i,type:B,position:I.position},X=u.get(i);let tt={inProgress:!0,isValid:null,from:Co(X,et,Bt.Left,!0),fromHandle:et,fromPosition:et.position,fromNode:X,to:U,toHandle:null,toPosition:eE[et.position],toNode:null,pointer:U};function at(){R=!0,w(tt),x?.(t,{nodeId:i,handleId:r,handleType:B})}N===0&&at();function ut(vt){if(!R){const{x:de,y:Ye}=bi(vt),Ge=de-W,qe=Ye-G;if(!(Ge*Ge+qe*qe>N*N))return;at()}if(!M()||!et){pt(vt);return}const bt=E();U=bi(vt,H),j=XZ(Jh(U,bt,!1,[1,1]),n,u,et),Z||(K(),Z=!0);const kt=R3(vt,{handle:j,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:_,doc:z,lib:h,flowId:p,nodeLookup:u});V=kt.handleDomNode,nt=kt.connection,q=ZZ(!!j,kt.isValid);const _t=u.get(i),Pt=_t?Co(_t,et,Bt.Left,!0):tt.from,Yt={...tt,from:Pt,isValid:q,to:kt.toHandle&&q?Qp({x:kt.toHandle.x,y:kt.toHandle.y},bt):U,toHandle:kt.toHandle,toPosition:q&&kt.toHandle?kt.toHandle.position:eE[et.position],toNode:kt.toHandle?u.get(kt.toHandle.nodeId):null,pointer:U};w(Yt),tt=Yt}function pt(vt){if(!("touches"in vt&&vt.touches.length>0)){if(R){(j||V)&&nt&&q&&b?.(nt);const{inProgress:bt,...kt}=tt,_t={...kt,toPosition:tt.toHandle?tt.toPosition:null};S?.(vt,_t),s&&T?.(vt,_t)}y(),cancelAnimationFrame(P),Z=!1,q=!1,nt=null,V=null,z.removeEventListener("mousemove",ut),z.removeEventListener("mouseup",pt),z.removeEventListener("touchmove",ut),z.removeEventListener("touchend",pt)}}z.addEventListener("mousemove",ut),z.addEventListener("mouseup",pt),z.addEventListener("touchmove",ut),z.addEventListener("touchend",pt)}function R3(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:c,flowId:u,isValidConnection:h=O3,nodeLookup:d}){const p=s==="target",m=e?o.querySelector(`.${c}-flow__handle[data-id="${u}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:y,y:x}=bi(t),b=o.elementFromPoint(y,x),S=b?.classList.contains(`${c}-flow__handle`)?b:m,_={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const T=L3(void 0,S),w=S.getAttribute("data-nodeid"),E=S.getAttribute("data-handleid"),M=S.classList.contains("connectable"),L=S.classList.contains("connectableend");if(!w||!T)return _;const N={source:p?w:r,sourceHandle:p?E:i,target:p?r:w,targetHandle:p?i:E};_.connection=N;const z=M&&L&&(n===nc.Strict?p&&T==="source"||!p&&T==="target":w!==r||E!==i);_.isValid=z&&h(N),_.toHandle=N3(w,T,E,d,n,!0)}return _}const Gb={onPointerDown:KZ,isValid:R3};function QZ({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Wt(t);function s({translateExtent:c,width:u,height:h,zoomStep:d=1,pannable:p=!0,zoomable:m=!0,inversePan:y=!1}){const x=w=>{if(w.sourceEvent.type!=="wheel"||!e)return;const E=n(),M=w.sourceEvent.ctrlKey&&Sh()?10:1,L=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*d,N=E[2]*Math.pow(2,L*M);e.scaleTo(N)};let b=[0,0];const S=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(b=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},_=w=>{const E=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!e)return;const M=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],L=[M[0]-b[0],M[1]-b[1]];b=M;const N=r()*Math.max(E[2],Math.log(E[2]))*(y?-1:1),$={x:E[0]-L[0]*N,y:E[1]-L[1]*N},z=[[0,0],[u,h]];e.setViewportConstrained({x:$.x,y:$.y,zoom:E[2]},z,c)},T=l3().on("start",S).on("zoom",p?_:null).on("zoom.wheel",m?x:null);i.call(T,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:fi}}const im=t=>({x:t.x,y:t.y,zoom:t.k}),Mx=({x:t,y:e,zoom:n})=>em.translate(t,e).scale(n),Rl=(t,e)=>t.target.closest(`.${e}`),B3=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),JZ=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Dx=(t,e=0,n=JZ,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},j3=t=>{const e=t.ctrlKey&&Sh()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function tK({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:h}){return d=>{if(Rl(d,e))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(d.ctrlKey&&o){const S=fi(d),_=j3(d),T=p*Math.pow(2,_);r.scaleTo(n,T,S,d);return}const m=d.deltaMode===1?20:1;let y=i===mo.Vertical?0:d.deltaX*m,x=i===mo.Horizontal?0:d.deltaY*m;!Sh()&&d.shiftKey&&i!==mo.Vertical&&(y=d.deltaY*m,x=0),r.translateBy(n,-(y/p)*s,-(x/p)*s,{internal:!0});const b=im(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(u?.(d,b),t.panScrollTimeout=setTimeout(()=>{h?.(d,b),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,c?.(d,b))}}function eK({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!e&&s&&!r.ctrlKey,c=Rl(r,t);if(r.ctrlKey&&s&&c&&r.preventDefault(),o||c)return null;r.preventDefault(),n.call(this,r,i)}}function nK({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=im(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function rK({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&B3(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,im(s.transform))}}function iK({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&B3(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const c=im(o.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,c)},n?150:0)}}}function aK({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:c,noPanClassName:u,lib:h,connectionInProgress:d}){return p=>{const m=t||e,y=n&&p.ctrlKey,x=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Rl(p,`${h}-flow__node`)||Rl(p,`${h}-flow__edge`)))return!0;if(!r&&!m&&!i&&!s&&!n||o||d&&!x||Rl(p,c)&&x||Rl(p,u)&&(!x||i&&x&&!t)||!n&&p.ctrlKey&&x)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!m&&!i&&!y&&x||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||x)&&b}}function sK({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:c,onDraggingChange:u}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),p=l3().scaleExtent([e,n]).translateExtent(r),m=Wt(t).call(p);T({x:i.x,y:i.y,zoom:rc(i.zoom,e,n)},[[0,0],[d.width,d.height]],r);const y=m.on("wheel.zoom"),x=m.on("dblclick.zoom");p.wheelDelta(j3);function b(j,W){return m?new Promise(G=>{p?.interpolate(W?.interpolate==="linear"?Xu:dp).transform(Dx(m,W?.duration,W?.ease,()=>G(!0)),j)}):Promise.resolve(!1)}function S({noWheelClassName:j,noPanClassName:W,onPaneContextMenu:G,userSelectionActive:B,panOnScroll:H,panOnDrag:R,panOnScrollMode:I,panOnScrollSpeed:U,preventScrolling:Z,zoomOnPinch:nt,zoomOnScroll:q,zoomOnDoubleClick:V,zoomActivationKeyPressed:K,lib:et,onTransformChange:X,connectionInProgress:Q,paneClickDistance:tt,selectionOnDrag:at}){B&&!h.isZoomingOrPanning&&_();const ut=H&&!K&&!B;p.clickDistance(at?1/0:!xi(tt)||tt<0?0:tt);const pt=ut?tK({zoomPanValues:h,noWheelClassName:j,d3Selection:m,d3Zoom:p,panOnScrollMode:I,panOnScrollSpeed:U,zoomOnPinch:nt,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:c}):eK({noWheelClassName:j,preventScrolling:Z,d3ZoomHandler:y});if(m.on("wheel.zoom",pt,{passive:!1}),!B){const bt=nK({zoomPanValues:h,onDraggingChange:u,onPanZoomStart:o});p.on("start",bt);const kt=rK({zoomPanValues:h,panOnDrag:R,onPaneContextMenu:!!G,onPanZoom:s,onTransformChange:X});p.on("zoom",kt);const _t=iK({zoomPanValues:h,panOnDrag:R,panOnScroll:H,onPaneContextMenu:G,onPanZoomEnd:c,onDraggingChange:u});p.on("end",_t)}const vt=aK({zoomActivationKeyPressed:K,panOnDrag:R,zoomOnScroll:q,panOnScroll:H,zoomOnDoubleClick:V,zoomOnPinch:nt,userSelectionActive:B,noPanClassName:W,noWheelClassName:j,lib:et,connectionInProgress:Q});p.filter(vt),V?m.on("dblclick.zoom",x):m.on("dblclick.zoom",null)}function _(){p.on("zoom",null)}async function T(j,W,G){const B=Mx(j),H=p?.constrain()(B,W,G);return H&&await b(H),new Promise(R=>R(H))}async function w(j,W){const G=Mx(j);return await b(G,W),new Promise(B=>B(G))}function E(j){if(m){const W=Mx(j),G=m.property("__zoom");(G.k!==j.zoom||G.x!==j.x||G.y!==j.y)&&p?.transform(m,W,null,{sync:!0})}}function M(){const j=m?o3(m.node()):{x:0,y:0,k:1};return{x:j.x,y:j.y,zoom:j.k}}function L(j,W){return m?new Promise(G=>{p?.interpolate(W?.interpolate==="linear"?Xu:dp).scaleTo(Dx(m,W?.duration,W?.ease,()=>G(!0)),j)}):Promise.resolve(!1)}function N(j,W){return m?new Promise(G=>{p?.interpolate(W?.interpolate==="linear"?Xu:dp).scaleBy(Dx(m,W?.duration,W?.ease,()=>G(!0)),j)}):Promise.resolve(!1)}function $(j){p?.scaleExtent(j)}function z(j){p?.translateExtent(j)}function P(j){const W=!xi(j)||j<0?0:j;p?.clickDistance(W)}return{update:S,destroy:_,setViewport:w,setViewportConstrained:T,getViewport:M,scaleTo:L,scaleBy:N,setScaleExtent:$,setTranslateExtent:z,syncViewport:E,setClickDistance:P}}var sc;(function(t){t.Line="line",t.Handle="handle"})(sc||(sc={}));function oK({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,c=n-r,u=[o>0?1:o<0?-1:0,c>0?1:c<0?-1:0];return o&&i&&(u[0]=u[0]*-1),c&&s&&(u[1]=u[1]*-1),u}function pE(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function is(t,e){return Math.max(0,e-t)}function as(t,e){return Math.max(0,t-e)}function Hf(t,e,n){return Math.max(0,e-t,t-n)}function gE(t,e){return t?!e:e}function lK(t,e,n,r,i,s,o,c){let{affectsX:u,affectsY:h}=e;const{isHorizontal:d,isVertical:p}=e,m=d&&p,{xSnapped:y,ySnapped:x}=n,{minWidth:b,maxWidth:S,minHeight:_,maxHeight:T}=r,{x:w,y:E,width:M,height:L,aspectRatio:N}=t;let $=Math.floor(d?y-t.pointerX:0),z=Math.floor(p?x-t.pointerY:0);const P=M+(u?-$:$),j=L+(h?-z:z),W=-s[0]*M,G=-s[1]*L;let B=Hf(P,b,S),H=Hf(j,_,T);if(o){let U=0,Z=0;u&&$<0?U=is(w+$+W,o[0][0]):!u&&$>0&&(U=as(w+P+W,o[1][0])),h&&z<0?Z=is(E+z+G,o[0][1]):!h&&z>0&&(Z=as(E+j+G,o[1][1])),B=Math.max(B,U),H=Math.max(H,Z)}if(c){let U=0,Z=0;u&&$>0?U=as(w+$,c[0][0]):!u&&$<0&&(U=is(w+P,c[1][0])),h&&z>0?Z=as(E+z,c[0][1]):!h&&z<0&&(Z=is(E+j,c[1][1])),B=Math.max(B,U),H=Math.max(H,Z)}if(i){if(d){const U=Hf(P/N,_,T)*N;if(B=Math.max(B,U),o){let Z=0;!u&&!h||u&&!h&&m?Z=as(E+G+P/N,o[1][1])*N:Z=is(E+G+(u?$:-$)/N,o[0][1])*N,B=Math.max(B,Z)}if(c){let Z=0;!u&&!h||u&&!h&&m?Z=is(E+P/N,c[1][1])*N:Z=as(E+(u?$:-$)/N,c[0][1])*N,B=Math.max(B,Z)}}if(p){const U=Hf(j*N,b,S)/N;if(H=Math.max(H,U),o){let Z=0;!u&&!h||h&&!u&&m?Z=as(w+j*N+W,o[1][0])/N:Z=is(w+(h?z:-z)*N+W,o[0][0])/N,H=Math.max(H,Z)}if(c){let Z=0;!u&&!h||h&&!u&&m?Z=is(w+j*N,c[1][0])/N:Z=as(w+(h?z:-z)*N,c[0][0])/N,H=Math.max(H,Z)}}}z=z+(z<0?H:-H),$=$+($<0?B:-B),i&&(m?P>j*N?z=(gE(u,h)?-$:$)/N:$=(gE(u,h)?-z:z)*N:d?(z=$/N,h=u):($=z*N,u=h));const R=u?w+$:w,I=h?E+z:E;return{width:M+(u?-$:$),height:L+(h?-z:z),x:s[0]*$*(u?-1:1)+R,y:s[1]*z*(h?-1:1)+I}}const $3={width:0,height:0,x:0,y:0},cK={...$3,pointerX:0,pointerY:0,aspectRatio:1};function uK(t){return[[0,0],[t.measured.width,t.measured.height]]}function hK(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,c=n[0]*s,u=n[1]*o;return[[r-c,i-u],[r+s-c,i+o-u]]}function dK({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Wt(t);let o={controlDirection:pE("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:h,boundaries:d,keepAspectRatio:p,resizeDirection:m,onResizeStart:y,onResize:x,onResizeEnd:b,shouldResize:S}){let _={...$3},T={...cK};o={boundaries:d,resizeDirection:m,keepAspectRatio:p,controlDirection:pE(h)};let w,E=null,M=[],L,N,$,z=!1;const P=WL().on("start",j=>{const{nodeLookup:W,transform:G,snapGrid:B,snapToGrid:H,nodeOrigin:R,paneDomNode:I}=n();if(w=W.get(e),!w)return;E=I?.getBoundingClientRect()??null;const{xSnapped:U,ySnapped:Z}=Zu(j.sourceEvent,{transform:G,snapGrid:B,snapToGrid:H,containerBounds:E});_={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},T={..._,pointerX:U,pointerY:Z,aspectRatio:_.width/_.height},L=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(L=W.get(w.parentId),N=L&&w.extent==="parent"?uK(L):void 0),M=[],$=void 0;for(const[nt,q]of W)if(q.parentId===e&&(M.push({id:nt,position:{...q.position},extent:q.extent}),q.extent==="parent"||q.expandParent)){const V=hK(q,w,q.origin??R);$?$=[[Math.min(V[0][0],$[0][0]),Math.min(V[0][1],$[0][1])],[Math.max(V[1][0],$[1][0]),Math.max(V[1][1],$[1][1])]]:$=V}y?.(j,{..._})}).on("drag",j=>{const{transform:W,snapGrid:G,snapToGrid:B,nodeOrigin:H}=n(),R=Zu(j.sourceEvent,{transform:W,snapGrid:G,snapToGrid:B,containerBounds:E}),I=[];if(!w)return;const{x:U,y:Z,width:nt,height:q}=_,V={},K=w.origin??H,{width:et,height:X,x:Q,y:tt}=lK(T,o.controlDirection,R,o.boundaries,o.keepAspectRatio,K,N,$),at=et!==nt,ut=X!==q,pt=Q!==U&&at,vt=tt!==Z&&ut;if(!pt&&!vt&&!at&&!ut)return;if((pt||vt||K[0]===1||K[1]===1)&&(V.x=pt?Q:_.x,V.y=vt?tt:_.y,_.x=V.x,_.y=V.y,M.length>0)){const Pt=Q-U,Yt=tt-Z;for(const de of M)de.position={x:de.position.x-Pt+K[0]*(et-nt),y:de.position.y-Yt+K[1]*(X-q)},I.push(de)}if((at||ut)&&(V.width=at&&(!o.resizeDirection||o.resizeDirection==="horizontal")?et:_.width,V.height=ut&&(!o.resizeDirection||o.resizeDirection==="vertical")?X:_.height,_.width=V.width,_.height=V.height),L&&w.expandParent){const Pt=K[0]*(V.width??0);V.x&&V.x<Pt&&(_.x=Pt,T.x=T.x-(V.x-Pt));const Yt=K[1]*(V.height??0);V.y&&V.y<Yt&&(_.y=Yt,T.y=T.y-(V.y-Yt))}const bt=oK({width:_.width,prevWidth:nt,height:_.height,prevHeight:q,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),kt={..._,direction:bt};S?.(j,kt)!==!1&&(z=!0,x?.(j,kt),r(V,I))}).on("end",j=>{z&&(b?.(j,{..._}),i?.({..._}),z=!1)});s.call(P)}function u(){s.on(".drag",null)}return{update:c,destroy:u}}var Nx={exports:{}},Lx={},Ox={exports:{}},Rx={};var mE;function fK(){if(mE)return Rx;mE=1;var t=Bh();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function c(p,m){var y=m(),x=r({inst:{value:y,getSnapshot:m}}),b=x[0].inst,S=x[1];return s(function(){b.value=y,b.getSnapshot=m,u(b)&&S({inst:b})},[p,y,m]),i(function(){return u(b)&&S({inst:b}),p(function(){u(b)&&S({inst:b})})},[p]),o(y),y}function u(p){var m=p.getSnapshot;p=p.value;try{var y=m();return!n(p,y)}catch{return!0}}function h(p,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Rx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Rx}var yE;function pK(){return yE||(yE=1,Ox.exports=fK()),Ox.exports}var xE;function gK(){if(xE)return Lx;xE=1;var t=Bh(),e=pK();function n(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,c=t.useMemo,u=t.useDebugValue;return Lx.useSyncExternalStoreWithSelector=function(h,d,p,m,y){var x=s(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=c(function(){function _(L){if(!T){if(T=!0,w=L,L=m(L),y!==void 0&&b.hasValue){var N=b.value;if(y(N,L))return E=N}return E=L}if(N=E,r(w,L))return N;var $=m(L);return y!==void 0&&y(N,$)?(w=L,N):(w=L,E=$)}var T=!1,w,E,M=p===void 0?null:p;return[function(){return _(d())},M===null?void 0:function(){return _(M())}]},[d,p,m,y]);var S=i(h,x[0],x[1]);return o(function(){b.hasValue=!0,b.value=S},[S]),u(S),S},Lx}var bE;function mK(){return bE||(bE=1,Nx.exports=gK()),Nx.exports}var yK=mK();const xK=Rh(yK),bK={},vE=t=>{let e;const n=new Set,r=(d,p)=>{const m=typeof d=="function"?d(e):d;if(!Object.is(m,e)){const y=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(x=>x(e,y))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>h,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(bK?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=e=t(r,i,u);return u},vK=t=>t?vE(t):vE,{useDebugValue:wK}=re,{useSyncExternalStoreWithSelector:SK}=xK,CK=t=>t;function z3(t,e=CK,n){const r=SK(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return wK(r),r}const wE=(t,e)=>{const n=vK(t),r=(i,s=e)=>z3(n,i,s);return Object.assign(r,n),r},_K=(t,e)=>t?wE(t,e):wE;function He(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const am=A.createContext(null),kK=am.Provider,P3=Ui.error001();function oe(t,e){const n=A.useContext(am);if(n===null)throw new Error(P3);return z3(n,t,e)}function Ve(){const t=A.useContext(am);if(t===null)throw new Error(P3);return A.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const SE={display:"none"},TK={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},F3="react-flow__node-desc",I3="react-flow__edge-desc",EK="react-flow__aria-live",AK=t=>t.ariaLiveMessage,MK=t=>t.ariaLabelConfig;function DK({rfId:t}){const e=oe(AK);return k.jsx("div",{id:`${EK}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:TK,children:e})}function NK({rfId:t,disableKeyboardA11y:e}){const n=oe(MK);return k.jsxs(k.Fragment,{children:[k.jsx("div",{id:`${F3}-${t}`,style:SE,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),k.jsx("div",{id:`${I3}-${t}`,style:SE,children:n["edge.a11yDescription.default"]}),!e&&k.jsx(DK,{rfId:t})]})}const sm=A.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=`${t}`.split("-");return k.jsx("div",{className:fn(["react-flow__panel",n,...o]),style:r,ref:s,...i,children:e})});sm.displayName="Panel";function LK({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:k.jsx(sm,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:k.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const OK=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Vf=t=>t.id;function RK(t,e){return He(t.selectedNodes.map(Vf),e.selectedNodes.map(Vf))&&He(t.selectedEdges.map(Vf),e.selectedEdges.map(Vf))}function BK({onSelectionChange:t}){const e=Ve(),{selectedNodes:n,selectedEdges:r}=oe(OK,RK);return A.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const jK=t=>!!t.onSelectionChangeHandlers;function $K({onSelectionChange:t}){const e=oe(jK);return t||e?k.jsx(BK,{onSelectionChange:t}):null}const H3=[0,0],zK={x:0,y:0,zoom:1},PK=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],CE=[...PK,"rfId"],FK=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),_E={translateExtent:bh,nodeOrigin:H3,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function IK(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:c,setDefaultNodesAndEdges:u}=oe(FK,He),h=Ve();A.useEffect(()=>(u(t.defaultNodes,t.defaultEdges),()=>{d.current=_E,c()}),[]);const d=A.useRef(_E);return A.useEffect(()=>{for(const p of CE){const m=t[p],y=d.current[p];m!==y&&(typeof t[p]>"u"||(p==="nodes"?e(m):p==="edges"?n(m):p==="minZoom"?r(m):p==="maxZoom"?i(m):p==="translateExtent"?s(m):p==="nodeExtent"?o(m):p==="ariaLabelConfig"?h.setState({ariaLabelConfig:_Z(m)}):p==="fitView"?h.setState({fitViewQueued:m}):p==="fitViewOptions"?h.setState({fitViewOptions:m}):h.setState({[p]:m})))}d.current=t},CE.map(p=>t[p])),null}function kE(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function HK(t){const[e,n]=A.useState(t==="system"?null:t);return A.useEffect(()=>{if(t!=="system"){n(t);return}const r=kE(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:kE()?.matches?"dark":"light"}const TE=typeof document<"u"?document:null;function Ch(t=null,e={target:TE,actInsideInputWithModifier:!0}){const[n,r]=A.useState(!1),i=A.useRef(!1),s=A.useRef(new Set([])),[o,c]=A.useMemo(()=>{if(t!==null){const h=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=h.reduce((p,m)=>p.concat(...m),[]);return[h,d]}return[[],[]]},[t]);return A.useEffect(()=>{const u=e?.target??TE,h=e?.actInsideInputWithModifier??!0;if(t!==null){const d=y=>{if(i.current=y.ctrlKey||y.metaKey||y.shiftKey||y.altKey,(!i.current||i.current&&!h)&&w3(y))return!1;const b=AE(y.code,c);if(s.current.add(y[b]),EE(o,s.current,!1)){const S=y.composedPath?.()?.[0]||y.target,_=S?.nodeName==="BUTTON"||S?.nodeName==="A";e.preventDefault!==!1&&(i.current||!_)&&y.preventDefault(),r(!0)}},p=y=>{const x=AE(y.code,c);EE(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(y[x]),y.key==="Meta"&&s.current.clear(),i.current=!1},m=()=>{s.current.clear(),r(!1)};return u?.addEventListener("keydown",d),u?.addEventListener("keyup",p),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{u?.removeEventListener("keydown",d),u?.removeEventListener("keyup",p),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[t,r]),n}function EE(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function AE(t,e){return e.includes(t)?"code":"key"}const VK=()=>{const t=Ve();return A.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:c}=t.getState(),u=I1(e,r,i,s,o,n?.padding??.1);return c?(await c.setViewport(u,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:c,y:u}=o.getBoundingClientRect(),h={x:e.x-c,y:e.y-u},d=n.snapGrid??i,p=n.snapToGrid??s;return Jh(h,r,p,d)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=Qp(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function V3(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const c={...s};for(const u of o)qK(u,c);n.push(c)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function qK(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function q3(t,e){return V3(t,e)}function U3(t,e){return V3(t,e)}function eo(t,e){return{id:t,type:"select",selected:e}}function Bl(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(eo(s.id,o)))}return r}function ME({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const o=e.get(s.id),c=o?.internals?.userNode??o;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function DE(t){return{id:t.id,type:"remove"}}const NE=t=>pZ(t),UK=t=>f3(t);function W3(t){return A.forwardRef(t)}const WK=typeof window<"u"?A.useLayoutEffect:A.useEffect;function LE(t){const[e,n]=A.useState(BigInt(0)),[r]=A.useState(()=>YK(()=>n(i=>i+BigInt(1))));return WK(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function YK(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const Y3=A.createContext(null);function GK({children:t}){const e=Ve(),n=A.useCallback(c=>{const{nodes:u=[],setNodes:h,hasDefaultNodes:d,onNodesChange:p,nodeLookup:m,fitViewQueued:y,onNodesChangeMiddlewareMap:x}=e.getState();let b=u;for(const _ of c)b=typeof _=="function"?_(b):_;let S=ME({items:b,lookup:m});for(const _ of x.values())S=_(S);d&&h(b),S.length>0?p?.(S):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:T,setNodes:w}=e.getState();_&&w(T)})},[]),r=LE(n),i=A.useCallback(c=>{const{edges:u=[],setEdges:h,hasDefaultEdges:d,onEdgesChange:p,edgeLookup:m}=e.getState();let y=u;for(const x of c)y=typeof x=="function"?x(y):x;d?h(y):p&&p(ME({items:y,lookup:m}))},[]),s=LE(i),o=A.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return k.jsx(Y3.Provider,{value:o,children:t})}function XK(){const t=A.useContext(Y3);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const ZK=t=>!!t.panZoom;function G1(){const t=VK(),e=Ve(),n=XK(),r=oe(ZK),i=A.useMemo(()=>{const s=p=>e.getState().nodeLookup.get(p),o=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},u=p=>{const{nodeLookup:m,nodeOrigin:y}=e.getState(),x=NE(p)?p:m.get(p.id),b=x.parentId?b3(x.position,x.measured,x.parentId,m,y):x.position,S={...x,position:b,width:x.measured?.width??x.width,height:x.measured?.height??x.height};return ic(S)},h=(p,m,y={replace:!1})=>{o(x=>x.map(b=>{if(b.id===p){const S=typeof m=="function"?m(b):m;return y.replace&&NE(S)?S:{...b,...S}}return b}))},d=(p,m,y={replace:!1})=>{c(x=>x.map(b=>{if(b.id===p){const S=typeof m=="function"?m(b):m;return y.replace&&UK(S)?S:{...b,...S}}return b}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>s(p)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(m=>({...m}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:o,setEdges:c,addNodes:p=>{const m=Array.isArray(p)?p:[p];n.nodeQueue.push(y=>[...y,...m])},addEdges:p=>{const m=Array.isArray(p)?p:[p];n.edgeQueue.push(y=>[...y,...m])},toObject:()=>{const{nodes:p=[],edges:m=[],transform:y}=e.getState(),[x,b,S]=y;return{nodes:p.map(_=>({..._})),edges:m.map(_=>({..._})),viewport:{x,y:b,zoom:S}}},deleteElements:async({nodes:p=[],edges:m=[]})=>{const{nodes:y,edges:x,onNodesDelete:b,onEdgesDelete:S,triggerNodeChanges:_,triggerEdgeChanges:T,onDelete:w,onBeforeDelete:E}=e.getState(),{nodes:M,edges:L}=await bZ({nodesToRemove:p,edgesToRemove:m,nodes:y,edges:x,onBeforeDelete:E}),N=L.length>0,$=M.length>0;if(N){const z=L.map(DE);S?.(L),T(z)}if($){const z=M.map(DE);b?.(M),_(z)}return($||N)&&w?.({nodes:M,edges:L}),{deletedNodes:M,deletedEdges:L}},getIntersectingNodes:(p,m=!0,y)=>{const x=rE(p),b=x?p:u(p),S=y!==void 0;return b?(y||e.getState().nodes).filter(_=>{const T=e.getState().nodeLookup.get(_.id);if(T&&!x&&(_.id===p.id||!T.internals.positionAbsolute))return!1;const w=ic(S?_:T),E=wh(w,b);return m&&E>0||E>=w.width*w.height||E>=b.width*b.height}):[]},isNodeIntersecting:(p,m,y=!0)=>{const b=rE(p)?p:u(p);if(!b)return!1;const S=wh(b,m);return y&&S>0||S>=m.width*m.height||S>=b.width*b.height},updateNode:h,updateNodeData:(p,m,y={replace:!1})=>{h(p,x=>{const b=typeof m=="function"?m(x):m;return y.replace?{...x,data:b}:{...x,data:{...x.data,...b}}},y)},updateEdge:d,updateEdgeData:(p,m,y={replace:!1})=>{d(p,x=>{const b=typeof m=="function"?m(x):m;return y.replace?{...x,data:b}:{...x,data:{...x.data,...b}}},y)},getNodesBounds:p=>{const{nodeLookup:m,nodeOrigin:y}=e.getState();return gZ(p,{nodeLookup:m,nodeOrigin:y})},getHandleConnections:({type:p,id:m,nodeId:y})=>Array.from(e.getState().connectionLookup.get(`${y}-${p}${m?`-${m}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:m,nodeId:y})=>Array.from(e.getState().connectionLookup.get(`${y}${p?m?`-${p}-${m}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const m=e.getState().fitViewResolver??CZ();return e.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:m}),n.nodeQueue.push(y=>[...y]),m.promise}}},[]);return A.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const OE=t=>t.selected,KK=typeof window<"u"?window:void 0;function QK({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Ve(),{deleteElements:r}=G1(),i=Ch(t,{actInsideInputWithModifier:!1}),s=Ch(e,{target:KK});A.useEffect(()=>{if(i){const{edges:o,nodes:c}=n.getState();r({nodes:c.filter(OE),edges:o.filter(OE)}),n.setState({nodesSelectionActive:!1})}},[i]),A.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function JK(t){const e=Ve();A.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=H1(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",Ui.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const om={position:"absolute",width:"100%",height:"100%",top:0,left:0},tQ=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function eQ({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=mo.Free,zoomOnDoubleClick:o=!0,panOnDrag:c=!0,defaultViewport:u,translateExtent:h,minZoom:d,maxZoom:p,zoomActivationKeyCode:m,preventScrolling:y=!0,children:x,noWheelClassName:b,noPanClassName:S,onViewportChange:_,isControlledViewport:T,paneClickDistance:w,selectionOnDrag:E}){const M=Ve(),L=A.useRef(null),{userSelectionActive:N,lib:$,connectionInProgress:z}=oe(tQ,He),P=Ch(m),j=A.useRef();JK(L);const W=A.useCallback(G=>{_?.({x:G[0],y:G[1],zoom:G[2]}),T||M.setState({transform:G})},[_,T]);return A.useEffect(()=>{if(L.current){j.current=sK({domNode:L.current,minZoom:d,maxZoom:p,translateExtent:h,viewport:u,onDraggingChange:R=>M.setState({paneDragging:R}),onPanZoomStart:(R,I)=>{const{onViewportChangeStart:U,onMoveStart:Z}=M.getState();Z?.(R,I),U?.(I)},onPanZoom:(R,I)=>{const{onViewportChange:U,onMove:Z}=M.getState();Z?.(R,I),U?.(I)},onPanZoomEnd:(R,I)=>{const{onViewportChangeEnd:U,onMoveEnd:Z}=M.getState();Z?.(R,I),U?.(I)}});const{x:G,y:B,zoom:H}=j.current.getViewport();return M.setState({panZoom:j.current,transform:[G,B,H],domNode:L.current.closest(".react-flow")}),()=>{j.current?.destroy()}}},[]),A.useEffect(()=>{j.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:c,zoomActivationKeyPressed:P,preventScrolling:y,noPanClassName:S,userSelectionActive:N,noWheelClassName:b,lib:$,onTransformChange:W,connectionInProgress:z,selectionOnDrag:E,paneClickDistance:w})},[t,e,n,r,i,s,o,c,P,y,S,N,b,$,W,z,E,w]),k.jsx("div",{className:"react-flow__renderer",ref:L,style:om,children:x})}const nQ=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function rQ(){const{userSelectionActive:t,userSelectionRect:e}=oe(nQ,He);return t&&e?k.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const Bx=(t,e)=>n=>{n.target===e.current&&t?.(n)},iQ=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function aQ({isSelecting:t,selectionKeyPressed:e,selectionMode:n=vh.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:c,onPaneClick:u,onPaneContextMenu:h,onPaneScroll:d,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:y,children:x}){const b=Ve(),{userSelectionActive:S,elementsSelectable:_,dragging:T,connectionInProgress:w}=oe(iQ,He),E=_&&(t||S),M=A.useRef(null),L=A.useRef(),N=A.useRef(new Set),$=A.useRef(new Set),z=A.useRef(!1),P=U=>{if(z.current||w){z.current=!1;return}u?.(U),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},j=U=>{if(Array.isArray(r)&&r?.includes(2)){U.preventDefault();return}h?.(U)},W=d?U=>d(U):void 0,G=U=>{z.current&&(U.stopPropagation(),z.current=!1)},B=U=>{const{domNode:Z}=b.getState();if(L.current=Z?.getBoundingClientRect(),!L.current)return;const nt=U.target===M.current;if(!nt&&!!U.target.closest(".nokey")||!t||!(s&&nt||e)||U.button!==0||!U.isPrimary)return;U.target?.setPointerCapture?.(U.pointerId),z.current=!1;const{x:K,y:et}=bi(U.nativeEvent,L.current);b.setState({userSelectionRect:{width:0,height:0,startX:K,startY:et,x:K,y:et}}),nt||(U.stopPropagation(),U.preventDefault())},H=U=>{const{userSelectionRect:Z,transform:nt,nodeLookup:q,edgeLookup:V,connectionLookup:K,triggerNodeChanges:et,triggerEdgeChanges:X,defaultEdgeOptions:Q,resetSelectedElements:tt}=b.getState();if(!L.current||!Z)return;const{x:at,y:ut}=bi(U.nativeEvent,L.current),{startX:pt,startY:vt}=Z;if(!z.current){const Yt=e?0:i;if(Math.hypot(at-pt,ut-vt)<=Yt)return;tt(),o?.(U)}z.current=!0;const bt={startX:pt,startY:vt,x:at<pt?at:pt,y:ut<vt?ut:vt,width:Math.abs(at-pt),height:Math.abs(ut-vt)},kt=N.current,_t=$.current;N.current=new Set(F1(q,bt,nt,n===vh.Partial,!0).map(Yt=>Yt.id)),$.current=new Set;const Pt=Q?.selectable??!0;for(const Yt of N.current){const de=K.get(Yt);if(de)for(const{edgeId:Ye}of de.values()){const Ge=V.get(Ye);Ge&&(Ge.selectable??Pt)&&$.current.add(Ye)}}if(!iE(kt,N.current)){const Yt=Bl(q,N.current,!0);et(Yt)}if(!iE(_t,$.current)){const Yt=Bl(V,$.current);X(Yt)}b.setState({userSelectionRect:bt,userSelectionActive:!0,nodesSelectionActive:!1})},R=U=>{U.button===0&&(U.target?.releasePointerCapture?.(U.pointerId),!S&&U.target===M.current&&b.getState().userSelectionRect&&P?.(U),b.setState({userSelectionActive:!1,userSelectionRect:null}),z.current&&(c?.(U),b.setState({nodesSelectionActive:N.current.size>0})))},I=r===!0||Array.isArray(r)&&r.includes(0);return k.jsxs("div",{className:fn(["react-flow__pane",{draggable:I,dragging:T,selection:t}]),onClick:E?void 0:Bx(P,M),onContextMenu:Bx(j,M),onWheel:Bx(W,M),onPointerEnter:E?void 0:p,onPointerMove:E?H:m,onPointerUp:E?R:void 0,onPointerDownCapture:E?B:void 0,onClickCapture:E?G:void 0,onPointerLeave:y,ref:M,style:om,children:[x,k.jsx(rQ,{})]})}function Xb({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:c,onError:u}=e.getState(),h=c.get(t);if(!h){u?.("012",Ui.error012(t));return}e.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&o)&&(s({nodes:[h],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function G3({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const c=Ve(),[u,h]=A.useState(!1),d=A.useRef();return A.useEffect(()=>{d.current=WZ({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{Xb({id:p,store:c,nodeRef:t})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),A.useEffect(()=>{if(e)d.current?.destroy();else if(t.current)return d.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{d.current?.destroy()}},[n,r,e,s,t,i]),u}const sQ=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function X3(){const t=Ve();return A.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:c,updateNodePositions:u,nodeLookup:h,nodeOrigin:d}=t.getState(),p=new Map,m=sQ(o),y=i?s[0]:5,x=i?s[1]:5,b=n.direction.x*y*n.factor,S=n.direction.y*x*n.factor;for(const[,_]of h){if(!m(_))continue;let T={x:_.internals.positionAbsolute.x+b,y:_.internals.positionAbsolute.y+S};i&&(T=Qh(T,s));const{position:w,positionAbsolute:E}=p3({nodeId:_.id,nextPosition:T,nodeLookup:h,nodeExtent:r,nodeOrigin:d,onError:c});_.position=w,_.internals.positionAbsolute=E,p.set(_.id,_)}u(p)},[])}const X1=A.createContext(null),oQ=X1.Provider;X1.Consumer;const Z3=()=>A.useContext(X1),lQ=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),cQ=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:c,toHandle:u,isValid:h}=o,d=u?.nodeId===t&&u?.id===e&&u?.type===n;return{connectingFrom:c?.nodeId===t&&c?.id===e&&c?.type===n,connectingTo:d,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===nc.Strict?c?.type!==n:t!==c?.nodeId||e!==c?.id,connectionInProcess:!!c,clickConnectionInProcess:!!i,valid:d&&h}};function uQ({type:t="source",position:e=Bt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:c,children:u,className:h,onMouseDown:d,onTouchStart:p,...m},y){const x=o||null,b=t==="target",S=Ve(),_=Z3(),{connectOnClick:T,noPanClassName:w,rfId:E}=oe(lQ,He),{connectingFrom:M,connectingTo:L,clickConnecting:N,isPossibleEndHandle:$,connectionInProcess:z,clickConnectionInProcess:P,valid:j}=oe(cQ(_,x,t),He);_||S.getState().onError?.("010",Ui.error010());const W=H=>{const{defaultEdgeOptions:R,onConnect:I,hasDefaultEdges:U}=S.getState(),Z={...R,...H};if(U){const{edges:nt,setEdges:q}=S.getState();q(DZ(Z,nt))}I?.(Z),c?.(Z)},G=H=>{if(!_)return;const R=S3(H.nativeEvent);if(i&&(R&&H.button===0||!R)){const I=S.getState();Gb.onPointerDown(H.nativeEvent,{handleDomNode:H.currentTarget,autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:b,handleId:x,nodeId:_,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:W,isValidConnection:n||I.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed,dragThreshold:I.connectionDragThreshold})}R?d?.(H):p?.(H)},B=H=>{const{onClickConnectStart:R,onClickConnectEnd:I,connectionClickStartHandle:U,connectionMode:Z,isValidConnection:nt,lib:q,rfId:V,nodeLookup:K,connection:et}=S.getState();if(!_||!U&&!i)return;if(!U){R?.(H.nativeEvent,{nodeId:_,handleId:x,handleType:t}),S.setState({connectionClickStartHandle:{nodeId:_,type:t,id:x}});return}const X=v3(H.target),Q=n||nt,{connection:tt,isValid:at}=Gb.isValid(H.nativeEvent,{handle:{nodeId:_,id:x,type:t},connectionMode:Z,fromNodeId:U.nodeId,fromHandleId:U.id||null,fromType:U.type,isValidConnection:Q,flowId:V,doc:X,lib:q,nodeLookup:K});at&&tt&&W(tt);const ut=structuredClone(et);delete ut.inProgress,ut.toPosition=ut.toHandle?ut.toHandle.position:null,I?.(H,ut),S.setState({connectionClickStartHandle:null})};return k.jsx("div",{"data-handleid":x,"data-nodeid":_,"data-handlepos":e,"data-id":`${E}-${_}-${x}-${t}`,className:fn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",w,h,{source:!b,target:b,connectable:r,connectablestart:i,connectableend:s,clickconnecting:N,connectingfrom:M,connectingto:L,valid:j,connectionindicator:r&&(!z||$)&&(z||P?s:i)}]),onMouseDown:G,onTouchStart:G,onClick:T?B:void 0,ref:y,...m,children:u})}const Jp=A.memo(W3(uQ));function hQ({data:t,isConnectable:e,sourcePosition:n=Bt.Bottom}){return k.jsxs(k.Fragment,{children:[t?.label,k.jsx(Jp,{type:"source",position:n,isConnectable:e})]})}function dQ({data:t,isConnectable:e,targetPosition:n=Bt.Top,sourcePosition:r=Bt.Bottom}){return k.jsxs(k.Fragment,{children:[k.jsx(Jp,{type:"target",position:n,isConnectable:e}),t?.label,k.jsx(Jp,{type:"source",position:r,isConnectable:e})]})}function fQ(){return null}function pQ({data:t,isConnectable:e,targetPosition:n=Bt.Top}){return k.jsxs(k.Fragment,{children:[k.jsx(Jp,{type:"target",position:n,isConnectable:e}),t?.label]})}const tg={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},RE={input:hQ,default:dQ,output:pQ,group:fQ};function gQ(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const mQ=t=>{const{width:e,height:n,x:r,y:i}=Kh(t.nodeLookup,{filter:s=>!!s.selected});return{width:xi(e)?e:null,height:xi(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function yQ({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Ve(),{width:i,height:s,transformString:o,userSelectionActive:c}=oe(mQ,He),u=X3(),h=A.useRef(null);if(A.useEffect(()=>{n||h.current?.focus({preventScroll:!0})},[n]),G3({nodeRef:h}),c||!i||!s)return null;const d=t?m=>{const y=r.getState().nodes.filter(x=>x.selected);t(m,y)}:void 0,p=m=>{Object.prototype.hasOwnProperty.call(tg,m.key)&&(m.preventDefault(),u({direction:tg[m.key],factor:m.shiftKey?4:1}))};return k.jsx("div",{className:fn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:k.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:s}})})}const BE=typeof window<"u"?window:void 0,xQ=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function K3({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:c,deleteKeyCode:u,selectionKeyCode:h,selectionOnDrag:d,selectionMode:p,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:x,panActivationKeyCode:b,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:T,zoomOnPinch:w,panOnScroll:E,panOnScrollSpeed:M,panOnScrollMode:L,zoomOnDoubleClick:N,panOnDrag:$,defaultViewport:z,translateExtent:P,minZoom:j,maxZoom:W,preventScrolling:G,onSelectionContextMenu:B,noWheelClassName:H,noPanClassName:R,disableKeyboardA11y:I,onViewportChange:U,isControlledViewport:Z}){const{nodesSelectionActive:nt,userSelectionActive:q}=oe(xQ,He),V=Ch(h,{target:BE}),K=Ch(b,{target:BE}),et=K||$,X=K||E,Q=d&&et!==!0,tt=V||q||Q;return QK({deleteKeyCode:u,multiSelectionKeyCode:x}),k.jsx(eQ,{onPaneContextMenu:s,elementsSelectable:_,zoomOnScroll:T,zoomOnPinch:w,panOnScroll:X,panOnScrollSpeed:M,panOnScrollMode:L,zoomOnDoubleClick:N,panOnDrag:!V&&et,defaultViewport:z,translateExtent:P,minZoom:j,maxZoom:W,zoomActivationKeyCode:S,preventScrolling:G,noWheelClassName:H,noPanClassName:R,onViewportChange:U,isControlledViewport:Z,paneClickDistance:c,selectionOnDrag:Q,children:k.jsxs(aQ,{onSelectionStart:m,onSelectionEnd:y,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:et,isSelecting:!!tt,selectionMode:p,selectionKeyPressed:V,paneClickDistance:c,selectionOnDrag:Q,children:[t,nt&&k.jsx(yQ,{onSelectionContextMenu:B,noPanClassName:R,disableKeyboardA11y:I})]})})}K3.displayName="FlowRenderer";const bQ=A.memo(K3),vQ=t=>e=>t?F1(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function wQ(t){return oe(A.useCallback(vQ(t),[t]),He)}const SQ=t=>t.updateNodeInternals;function CQ(){const t=oe(SQ),[e]=A.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return A.useEffect(()=>()=>{e?.disconnect()},[e]),e}function _Q({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Ve(),s=A.useRef(null),o=A.useRef(null),c=A.useRef(t.sourcePosition),u=A.useRef(t.targetPosition),h=A.useRef(e),d=n&&!!t.internals.handleBounds;return A.useEffect(()=>{s.current&&!t.hidden&&(!d||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[d,t.hidden]),A.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),A.useEffect(()=>{if(s.current){const p=h.current!==e,m=c.current!==t.sourcePosition,y=u.current!==t.targetPosition;(p||m||y)&&(h.current=e,c.current=t.sourcePosition,u.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function kQ({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:c,elementsSelectable:u,nodesConnectable:h,nodesFocusable:d,resizeObserver:p,noDragClassName:m,noPanClassName:y,disableKeyboardA11y:x,rfId:b,nodeTypes:S,nodeClickDistance:_,onError:T}){const{node:w,internals:E,isParent:M}=oe(at=>{const ut=at.nodeLookup.get(t),pt=at.parentLookup.has(t);return{node:ut,internals:ut.internals,isParent:pt}},He);let L=w.type||"default",N=S?.[L]||RE[L];N===void 0&&(T?.("003",Ui.error003(L)),L="default",N=S?.default||RE.default);const $=!!(w.draggable||c&&typeof w.draggable>"u"),z=!!(w.selectable||u&&typeof w.selectable>"u"),P=!!(w.connectable||h&&typeof w.connectable>"u"),j=!!(w.focusable||d&&typeof w.focusable>"u"),W=Ve(),G=x3(w),B=_Q({node:w,nodeType:L,hasDimensions:G,resizeObserver:p}),H=G3({nodeRef:B,disabled:w.hidden||!$,noDragClassName:m,handleSelector:w.dragHandle,nodeId:t,isSelectable:z,nodeClickDistance:_}),R=X3();if(w.hidden)return null;const I=Na(w),U=gQ(w),Z=z||$||e||n||r||i,nt=n?at=>n(at,{...E.userNode}):void 0,q=r?at=>r(at,{...E.userNode}):void 0,V=i?at=>i(at,{...E.userNode}):void 0,K=s?at=>s(at,{...E.userNode}):void 0,et=o?at=>o(at,{...E.userNode}):void 0,X=at=>{const{selectNodesOnDrag:ut,nodeDragThreshold:pt}=W.getState();z&&(!ut||!$||pt>0)&&Xb({id:t,store:W,nodeRef:B}),e&&e(at,{...E.userNode})},Q=at=>{if(!(w3(at.nativeEvent)||x)){if(c3.includes(at.key)&&z){const ut=at.key==="Escape";Xb({id:t,store:W,unselect:ut,nodeRef:B})}else if($&&w.selected&&Object.prototype.hasOwnProperty.call(tg,at.key)){at.preventDefault();const{ariaLabelConfig:ut}=W.getState();W.setState({ariaLiveMessage:ut["node.a11yDescription.ariaLiveMessage"]({direction:at.key.replace("Arrow","").toLowerCase(),x:~~E.positionAbsolute.x,y:~~E.positionAbsolute.y})}),R({direction:tg[at.key],factor:at.shiftKey?4:1})}}},tt=()=>{if(x||!B.current?.matches(":focus-visible"))return;const{transform:at,width:ut,height:pt,autoPanOnNodeFocus:vt,setCenter:bt}=W.getState();if(!vt)return;F1(new Map([[t,w]]),{x:0,y:0,width:ut,height:pt},at,!0).length>0||bt(w.position.x+I.width/2,w.position.y+I.height/2,{zoom:at[2]})};return k.jsx("div",{className:fn(["react-flow__node",`react-flow__node-${L}`,{[y]:$},w.className,{selected:w.selected,selectable:z,parent:M,draggable:$,dragging:H}]),ref:B,style:{zIndex:E.z,transform:`translate(${E.positionAbsolute.x}px,${E.positionAbsolute.y}px)`,pointerEvents:Z?"all":"none",visibility:G?"visible":"hidden",...w.style,...U},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:nt,onMouseMove:q,onMouseLeave:V,onContextMenu:K,onClick:X,onDoubleClick:et,onKeyDown:j?Q:void 0,tabIndex:j?0:void 0,onFocus:j?tt:void 0,role:w.ariaRole??(j?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${F3}-${b}`,"aria-label":w.ariaLabel,...w.domAttributes,children:k.jsx(oQ,{value:t,children:k.jsx(N,{id:t,data:w.data,type:L,positionAbsoluteX:E.positionAbsolute.x,positionAbsoluteY:E.positionAbsolute.y,selected:w.selected??!1,selectable:z,draggable:$,deletable:w.deletable??!0,isConnectable:P,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:H,dragHandle:w.dragHandle,zIndex:E.z,parentId:w.parentId,...I})})})}var TQ=A.memo(kQ);const EQ=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Q3(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=oe(EQ,He),o=wQ(t.onlyRenderVisibleElements),c=CQ();return k.jsx("div",{className:"react-flow__nodes",style:om,children:o.map(u=>k.jsx(TQ,{id:u,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:c,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},u))})}Q3.displayName="NodeRenderer";const AQ=A.memo(Q3);function MQ(t){return oe(A.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&EZ({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),He)}const DQ=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return k.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},NQ=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return k.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},jE={[Zp.Arrow]:DQ,[Zp.ArrowClosed]:NQ};function LQ(t){const e=Ve();return A.useMemo(()=>Object.prototype.hasOwnProperty.call(jE,t)?jE[t]:(e.getState().onError?.("009",Ui.error009(t)),null),[t])}const OQ=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:c="auto-start-reverse"})=>{const u=LQ(e);return u?k.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0",children:k.jsx(u,{color:n,strokeWidth:o})}):null},J3=({defaultColor:t,rfId:e})=>{const n=oe(s=>s.edges),r=oe(s=>s.defaultEdgeOptions),i=A.useMemo(()=>BZ(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?k.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:k.jsx("defs",{children:i.map(s=>k.jsx(OQ,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};J3.displayName="MarkerDefinitions";var RQ=A.memo(J3);function tO({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:c=2,children:u,className:h,...d}){const[p,m]=A.useState({x:1,y:0,width:0,height:0}),y=fn(["react-flow__edge-textwrapper",h]),x=A.useRef(null);return A.useEffect(()=>{if(x.current){const b=x.current.getBBox();m({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),n?k.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...d,children:[i&&k.jsx("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),k.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:x,style:r,children:n}),u]}):null}tO.displayName="EdgeText";const BQ=A.memo(tO);function lm({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,interactionWidth:h=20,...d}){return k.jsxs(k.Fragment,{children:[k.jsx("path",{...d,d:t,fill:"none",className:fn(["react-flow__edge-path",d.className])}),h?k.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,r&&xi(e)&&xi(n)?k.jsx(BQ,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u}):null]})}function $E({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Bt.Left||t===Bt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function eO({sourceX:t,sourceY:e,sourcePosition:n=Bt.Bottom,targetX:r,targetY:i,targetPosition:s=Bt.Top}){const[o,c]=$E({pos:n,x1:t,y1:e,x2:r,y2:i}),[u,h]=$E({pos:s,x1:r,y1:i,x2:t,y2:e}),[d,p,m,y]=C3({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:h});return[`M${t},${e} C${o},${c} ${u},${h} ${r},${i}`,d,p,m,y]}function nO(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:c,label:u,labelStyle:h,labelShowBg:d,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:S,interactionWidth:_})=>{const[T,w,E]=eO({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:c}),M=t.isInternal?void 0:e;return k.jsx(lm,{id:M,path:T,labelX:w,labelY:E,label:u,labelStyle:h,labelShowBg:d,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:S,interactionWidth:_})})}const jQ=nO({isInternal:!1}),rO=nO({isInternal:!0});jQ.displayName="SimpleBezierEdge";rO.displayName="SimpleBezierEdgeInternal";function iO(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:d,labelBgBorderRadius:p,style:m,sourcePosition:y=Bt.Bottom,targetPosition:x=Bt.Top,markerEnd:b,markerStart:S,pathOptions:_,interactionWidth:T})=>{const[w,E,M]=Ub({sourceX:n,sourceY:r,sourcePosition:y,targetX:i,targetY:s,targetPosition:x,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),L=t.isInternal?void 0:e;return k.jsx(lm,{id:L,path:w,labelX:E,labelY:M,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:b,markerStart:S,interactionWidth:T})})}const aO=iO({isInternal:!1}),sO=iO({isInternal:!0});aO.displayName="SmoothStepEdge";sO.displayName="SmoothStepEdgeInternal";function oO(t){return A.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return k.jsx(aO,{...n,id:r,pathOptions:A.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const $Q=oO({isInternal:!1}),lO=oO({isInternal:!0});$Q.displayName="StepEdge";lO.displayName="StepEdgeInternal";function cO(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:b})=>{const[S,_,T]=T3({sourceX:n,sourceY:r,targetX:i,targetY:s}),w=t.isInternal?void 0:e;return k.jsx(lm,{id:w,path:S,labelX:_,labelY:T,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:d,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:b})})}const zQ=cO({isInternal:!1}),uO=cO({isInternal:!0});zQ.displayName="StraightEdge";uO.displayName="StraightEdgeInternal";function hO(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Bt.Bottom,targetPosition:c=Bt.Top,label:u,labelStyle:h,labelShowBg:d,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:S,pathOptions:_,interactionWidth:T})=>{const[w,E,M]=_3({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:c,curvature:_?.curvature}),L=t.isInternal?void 0:e;return k.jsx(lm,{id:L,path:w,labelX:E,labelY:M,label:u,labelStyle:h,labelShowBg:d,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:S,interactionWidth:T})})}const PQ=hO({isInternal:!1}),dO=hO({isInternal:!0});PQ.displayName="BezierEdge";dO.displayName="BezierEdgeInternal";const zE={default:dO,straight:uO,step:lO,smoothstep:sO,simplebezier:rO},PE={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},FQ=(t,e,n)=>n===Bt.Left?t-e:n===Bt.Right?t+e:t,IQ=(t,e,n)=>n===Bt.Top?t-e:n===Bt.Bottom?t+e:t,FE="react-flow__edgeupdater";function IE({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:c}){return k.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:fn([FE,`${FE}-${c}`]),cx:FQ(e,r,t),cy:IQ(n,r,t),r,stroke:"transparent",fill:"transparent"})}function HQ({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:c,targetPosition:u,onReconnect:h,onReconnectStart:d,onReconnectEnd:p,setReconnecting:m,setUpdateHover:y}){const x=Ve(),b=(E,M)=>{if(E.button!==0)return;const{autoPanOnConnect:L,domNode:N,isValidConnection:$,connectionMode:z,connectionRadius:P,lib:j,onConnectStart:W,onConnectEnd:G,cancelConnection:B,nodeLookup:H,rfId:R,panBy:I,updateConnection:U}=x.getState(),Z=M.type==="target",nt=(K,et)=>{m(!1),p?.(K,n,M.type,et)},q=K=>h?.(n,K),V=(K,et)=>{m(!0),d?.(E,n,M.type),W?.(K,et)};Gb.onPointerDown(E.nativeEvent,{autoPanOnConnect:L,connectionMode:z,connectionRadius:P,domNode:N,handleId:M.id,nodeId:M.nodeId,nodeLookup:H,isTarget:Z,edgeUpdaterType:M.type,lib:j,flowId:R,cancelConnection:B,panBy:I,isValidConnection:$,onConnect:q,onConnectStart:V,onConnectEnd:G,onReconnectEnd:nt,updateConnection:U,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:E.currentTarget})},S=E=>b(E,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),_=E=>b(E,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),T=()=>y(!0),w=()=>y(!1);return k.jsxs(k.Fragment,{children:[(t===!0||t==="source")&&k.jsx(IE,{position:c,centerX:r,centerY:i,radius:e,onMouseDown:S,onMouseEnter:T,onMouseOut:w,type:"source"}),(t===!0||t==="target")&&k.jsx(IE,{position:u,centerX:s,centerY:o,radius:e,onMouseDown:_,onMouseEnter:T,onMouseOut:w,type:"target"})]})}function VQ({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:c,onMouseMove:u,onMouseLeave:h,reconnectRadius:d,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,rfId:x,edgeTypes:b,noPanClassName:S,onError:_,disableKeyboardA11y:T}){let w=oe(bt=>bt.edgeLookup.get(t));const E=oe(bt=>bt.defaultEdgeOptions);w=E?{...E,...w}:w;let M=w.type||"default",L=b?.[M]||zE[M];L===void 0&&(_?.("011",Ui.error011(M)),M="default",L=b?.default||zE.default);const N=!!(w.focusable||e&&typeof w.focusable>"u"),$=typeof p<"u"&&(w.reconnectable||n&&typeof w.reconnectable>"u"),z=!!(w.selectable||r&&typeof w.selectable>"u"),P=A.useRef(null),[j,W]=A.useState(!1),[G,B]=A.useState(!1),H=Ve(),{zIndex:R,sourceX:I,sourceY:U,targetX:Z,targetY:nt,sourcePosition:q,targetPosition:V}=oe(A.useCallback(bt=>{const kt=bt.nodeLookup.get(w.source),_t=bt.nodeLookup.get(w.target);if(!kt||!_t)return{zIndex:w.zIndex,...PE};const Pt=RZ({id:t,sourceNode:kt,targetNode:_t,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:bt.connectionMode,onError:_});return{zIndex:TZ({selected:w.selected,zIndex:w.zIndex,sourceNode:kt,targetNode:_t,elevateOnSelect:bt.elevateEdgesOnSelect,zIndexMode:bt.zIndexMode}),...Pt||PE}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),He),K=A.useMemo(()=>w.markerStart?`url('#${Wb(w.markerStart,x)}')`:void 0,[w.markerStart,x]),et=A.useMemo(()=>w.markerEnd?`url('#${Wb(w.markerEnd,x)}')`:void 0,[w.markerEnd,x]);if(w.hidden||I===null||U===null||Z===null||nt===null)return null;const X=bt=>{const{addSelectedEdges:kt,unselectNodesAndEdges:_t,multiSelectionActive:Pt}=H.getState();z&&(H.setState({nodesSelectionActive:!1}),w.selected&&Pt?(_t({nodes:[],edges:[w]}),P.current?.blur()):kt([t])),i&&i(bt,w)},Q=s?bt=>{s(bt,{...w})}:void 0,tt=o?bt=>{o(bt,{...w})}:void 0,at=c?bt=>{c(bt,{...w})}:void 0,ut=u?bt=>{u(bt,{...w})}:void 0,pt=h?bt=>{h(bt,{...w})}:void 0,vt=bt=>{if(!T&&c3.includes(bt.key)&&z){const{unselectNodesAndEdges:kt,addSelectedEdges:_t}=H.getState();bt.key==="Escape"?(P.current?.blur(),kt({edges:[w]})):_t([t])}};return k.jsx("svg",{style:{zIndex:R},children:k.jsxs("g",{className:fn(["react-flow__edge",`react-flow__edge-${M}`,w.className,S,{selected:w.selected,animated:w.animated,inactive:!z&&!i,updating:j,selectable:z}]),onClick:X,onDoubleClick:Q,onContextMenu:tt,onMouseEnter:at,onMouseMove:ut,onMouseLeave:pt,onKeyDown:N?vt:void 0,tabIndex:N?0:void 0,role:w.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":N?`${I3}-${x}`:void 0,ref:P,...w.domAttributes,children:[!G&&k.jsx(L,{id:t,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:z,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:I,sourceY:U,targetX:Z,targetY:nt,sourcePosition:q,targetPosition:V,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:K,markerEnd:et,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),$&&k.jsx(HQ,{edge:w,isReconnectable:$,reconnectRadius:d,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,sourceX:I,sourceY:U,targetX:Z,targetY:nt,sourcePosition:q,targetPosition:V,setUpdateHover:W,setReconnecting:B})]})})}var qQ=A.memo(VQ);const UQ=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function fO({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:h,onEdgeClick:d,reconnectRadius:p,onEdgeDoubleClick:m,onReconnectStart:y,onReconnectEnd:x,disableKeyboardA11y:b}){const{edgesFocusable:S,edgesReconnectable:_,elementsSelectable:T,onError:w}=oe(UQ,He),E=MQ(e);return k.jsxs("div",{className:"react-flow__edges",children:[k.jsx(RQ,{defaultColor:t,rfId:n}),E.map(M=>k.jsx(qQ,{id:M,edgesFocusable:S,edgesReconnectable:_,elementsSelectable:T,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:c,onMouseMove:u,onMouseLeave:h,onClick:d,reconnectRadius:p,onDoubleClick:m,onReconnectStart:y,onReconnectEnd:x,rfId:n,onError:w,edgeTypes:r,disableKeyboardA11y:b},M))]})}fO.displayName="EdgeRenderer";const WQ=A.memo(fO),YQ=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function GQ({children:t}){const e=oe(YQ);return k.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function XQ(t){const e=G1(),n=A.useRef(!1);A.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const ZQ=t=>t.panZoom?.syncViewport;function KQ(t){const e=oe(ZQ),n=Ve();return A.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function QQ(t){return t.connection.inProgress?{...t.connection,to:Jh(t.connection.to,t.transform)}:{...t.connection}}function JQ(t){return QQ}function tJ(t){const e=JQ();return oe(e,He)}const eJ=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function nJ({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:c,inProgress:u}=oe(eJ,He);return!(s&&i&&u)?null:k.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:k.jsx("g",{className:fn(["react-flow__connection",d3(c)]),children:k.jsx(pO,{style:e,type:n,CustomComponent:r,isValid:c})})})}const pO=({style:t,type:e=hs.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:c,fromPosition:u,to:h,toNode:d,toHandle:p,toPosition:m,pointer:y}=tJ();if(!i)return;if(n)return k.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:c,fromX:s.x,fromY:s.y,toX:h.x,toY:h.y,fromPosition:u,toPosition:m,connectionStatus:d3(r),toNode:d,toHandle:p,pointer:y});let x="";const b={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:h.x,targetY:h.y,targetPosition:m};switch(e){case hs.Bezier:[x]=_3(b);break;case hs.SimpleBezier:[x]=eO(b);break;case hs.Step:[x]=Ub({...b,borderRadius:0});break;case hs.SmoothStep:[x]=Ub(b);break;default:[x]=T3(b)}return k.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};pO.displayName="ConnectionLine";const rJ={};function HE(t=rJ){A.useRef(t),Ve(),A.useEffect(()=>{},[t])}function iJ(){Ve(),A.useRef(!1),A.useEffect(()=>{},[])}function gO({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:h,onNodeContextMenu:d,onSelectionContextMenu:p,onSelectionStart:m,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:b,connectionLineComponent:S,connectionLineContainerStyle:_,selectionKeyCode:T,selectionOnDrag:w,selectionMode:E,multiSelectionKeyCode:M,panActivationKeyCode:L,zoomActivationKeyCode:N,deleteKeyCode:$,onlyRenderVisibleElements:z,elementsSelectable:P,defaultViewport:j,translateExtent:W,minZoom:G,maxZoom:B,preventScrolling:H,defaultMarkerColor:R,zoomOnScroll:I,zoomOnPinch:U,panOnScroll:Z,panOnScrollSpeed:nt,panOnScrollMode:q,zoomOnDoubleClick:V,panOnDrag:K,onPaneClick:et,onPaneMouseEnter:X,onPaneMouseMove:Q,onPaneMouseLeave:tt,onPaneScroll:at,onPaneContextMenu:ut,paneClickDistance:pt,nodeClickDistance:vt,onEdgeContextMenu:bt,onEdgeMouseEnter:kt,onEdgeMouseMove:_t,onEdgeMouseLeave:Pt,reconnectRadius:Yt,onReconnect:de,onReconnectStart:Ye,onReconnectEnd:Ge,noDragClassName:qe,noWheelClassName:Dn,noPanClassName:cr,disableKeyboardA11y:ur,nodeExtent:Me,rfId:Kn,viewport:_n,onViewportChange:kn}){return HE(t),HE(e),iJ(),XQ(n),KQ(_n),k.jsx(bQ,{onPaneClick:et,onPaneMouseEnter:X,onPaneMouseMove:Q,onPaneMouseLeave:tt,onPaneContextMenu:ut,onPaneScroll:at,paneClickDistance:pt,deleteKeyCode:$,selectionKeyCode:T,selectionOnDrag:w,selectionMode:E,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:M,panActivationKeyCode:L,zoomActivationKeyCode:N,elementsSelectable:P,zoomOnScroll:I,zoomOnPinch:U,zoomOnDoubleClick:V,panOnScroll:Z,panOnScrollSpeed:nt,panOnScrollMode:q,panOnDrag:K,defaultViewport:j,translateExtent:W,minZoom:G,maxZoom:B,onSelectionContextMenu:p,preventScrolling:H,noDragClassName:qe,noWheelClassName:Dn,noPanClassName:cr,disableKeyboardA11y:ur,onViewportChange:kn,isControlledViewport:!!_n,children:k.jsxs(GQ,{children:[k.jsx(WQ,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:de,onReconnectStart:Ye,onReconnectEnd:Ge,onlyRenderVisibleElements:z,onEdgeContextMenu:bt,onEdgeMouseEnter:kt,onEdgeMouseMove:_t,onEdgeMouseLeave:Pt,reconnectRadius:Yt,defaultMarkerColor:R,noPanClassName:cr,disableKeyboardA11y:ur,rfId:Kn}),k.jsx(nJ,{style:b,type:x,component:S,containerStyle:_}),k.jsx("div",{className:"react-flow__edgelabel-renderer"}),k.jsx(AQ,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:h,onNodeContextMenu:d,nodeClickDistance:vt,onlyRenderVisibleElements:z,noPanClassName:cr,noDragClassName:qe,disableKeyboardA11y:ur,nodeExtent:Me,rfId:Kn}),k.jsx("div",{className:"react-flow__viewport-portal"})]})})}gO.displayName="GraphView";const aJ=A.memo(gO),VE=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:c,minZoom:u=.5,maxZoom:h=2,nodeOrigin:d,nodeExtent:p,zIndexMode:m="basic"}={})=>{const y=new Map,x=new Map,b=new Map,S=new Map,_=r??e??[],T=n??t??[],w=d??[0,0],E=p??bh;M3(b,S,_);const M=Yb(T,y,x,{nodeOrigin:w,nodeExtent:E,zIndexMode:m});let L=[0,0,1];if(o&&i&&s){const N=Kh(y,{filter:j=>!!((j.width||j.initialWidth)&&(j.height||j.initialHeight))}),{x:$,y:z,zoom:P}=I1(N,i,s,u,h,c?.padding??.1);L=[$,z,P]}return{rfId:"1",width:i??0,height:s??0,transform:L,nodes:T,nodesInitialized:M,nodeLookup:y,parentLookup:x,edges:_,edgeLookup:S,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:h,translateExtent:bh,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:nc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:c,fitViewResolver:null,connection:{...h3},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:vZ,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:u3,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},sJ=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:c,minZoom:u,maxZoom:h,nodeOrigin:d,nodeExtent:p,zIndexMode:m})=>_K((y,x)=>{async function b(){const{nodeLookup:S,panZoom:_,fitViewOptions:T,fitViewResolver:w,width:E,height:M,minZoom:L,maxZoom:N}=x();_&&(await xZ({nodes:S,width:E,height:M,panZoom:_,minZoom:L,maxZoom:N},T),w?.resolve(!0),y({fitViewResolver:null}))}return{...VE({nodes:t,edges:e,width:i,height:s,fitView:o,fitViewOptions:c,minZoom:u,maxZoom:h,nodeOrigin:d,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:m}),setNodes:S=>{const{nodeLookup:_,parentLookup:T,nodeOrigin:w,elevateNodesOnSelect:E,fitViewQueued:M,zIndexMode:L}=x(),N=Yb(S,_,T,{nodeOrigin:w,nodeExtent:p,elevateNodesOnSelect:E,checkEquality:!0,zIndexMode:L});M&&N?(b(),y({nodes:S,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:S,nodesInitialized:N})},setEdges:S=>{const{connectionLookup:_,edgeLookup:T}=x();M3(_,T,S),y({edges:S})},setDefaultNodesAndEdges:(S,_)=>{if(S){const{setNodes:T}=x();T(S),y({hasDefaultNodes:!0})}if(_){const{setEdges:T}=x();T(_),y({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:_,nodeLookup:T,parentLookup:w,domNode:E,nodeOrigin:M,nodeExtent:L,debug:N,fitViewQueued:$,zIndexMode:z}=x(),{changes:P,updatedInternals:j}=HZ(S,T,w,E,M,L,z);j&&(zZ(T,w,{nodeOrigin:M,nodeExtent:L,zIndexMode:z}),$?(b(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),P?.length>0&&(N&&console.log("React Flow: trigger node changes",P),_?.(P)))},updateNodePositions:(S,_=!1)=>{const T=[];let w=[];const{nodeLookup:E,triggerNodeChanges:M,connection:L,updateConnection:N,onNodesChangeMiddlewareMap:$}=x();for(const[z,P]of S){const j=E.get(z),W=!!(j?.expandParent&&j?.parentId&&P?.position),G={id:z,type:"position",position:W?{x:Math.max(0,P.position.x),y:Math.max(0,P.position.y)}:P.position,dragging:_};if(j&&L.inProgress&&L.fromNode.id===j.id){const B=Co(j,L.fromHandle,Bt.Left,!0);N({...L,from:B})}W&&j.parentId&&T.push({id:z,parentId:j.parentId,rect:{...P.internals.positionAbsolute,width:P.measured.width??0,height:P.measured.height??0}}),w.push(G)}if(T.length>0){const{parentLookup:z,nodeOrigin:P}=x(),j=Y1(T,E,z,P);w.push(...j)}for(const z of $.values())w=z(w);M(w)},triggerNodeChanges:S=>{const{onNodesChange:_,setNodes:T,nodes:w,hasDefaultNodes:E,debug:M}=x();if(S?.length){if(E){const L=q3(S,w);T(L)}M&&console.log("React Flow: trigger node changes",S),_?.(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:_,setEdges:T,edges:w,hasDefaultEdges:E,debug:M}=x();if(S?.length){if(E){const L=U3(S,w);T(L)}M&&console.log("React Flow: trigger edge changes",S),_?.(S)}},addSelectedNodes:S=>{const{multiSelectionActive:_,edgeLookup:T,nodeLookup:w,triggerNodeChanges:E,triggerEdgeChanges:M}=x();if(_){const L=S.map(N=>eo(N,!0));E(L);return}E(Bl(w,new Set([...S]),!0)),M(Bl(T))},addSelectedEdges:S=>{const{multiSelectionActive:_,edgeLookup:T,nodeLookup:w,triggerNodeChanges:E,triggerEdgeChanges:M}=x();if(_){const L=S.map(N=>eo(N,!0));M(L);return}M(Bl(T,new Set([...S]))),E(Bl(w,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:_}={})=>{const{edges:T,nodes:w,nodeLookup:E,triggerNodeChanges:M,triggerEdgeChanges:L}=x(),N=S||w,$=_||T,z=N.map(j=>{const W=E.get(j.id);return W&&(W.selected=!1),eo(j.id,!1)}),P=$.map(j=>eo(j.id,!1));M(z),L(P)},setMinZoom:S=>{const{panZoom:_,maxZoom:T}=x();_?.setScaleExtent([S,T]),y({minZoom:S})},setMaxZoom:S=>{const{panZoom:_,minZoom:T}=x();_?.setScaleExtent([T,S]),y({maxZoom:S})},setTranslateExtent:S=>{x().panZoom?.setTranslateExtent(S),y({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:_,triggerNodeChanges:T,triggerEdgeChanges:w,elementsSelectable:E}=x();if(!E)return;const M=_.reduce((N,$)=>$.selected?[...N,eo($.id,!1)]:N,[]),L=S.reduce((N,$)=>$.selected?[...N,eo($.id,!1)]:N,[]);T(M),w(L)},setNodeExtent:S=>{const{nodes:_,nodeLookup:T,parentLookup:w,nodeOrigin:E,elevateNodesOnSelect:M,nodeExtent:L,zIndexMode:N}=x();S[0][0]===L[0][0]&&S[0][1]===L[0][1]&&S[1][0]===L[1][0]&&S[1][1]===L[1][1]||(Yb(_,T,w,{nodeOrigin:E,nodeExtent:S,elevateNodesOnSelect:M,checkEquality:!1,zIndexMode:N}),y({nodeExtent:S}))},panBy:S=>{const{transform:_,width:T,height:w,panZoom:E,translateExtent:M}=x();return VZ({delta:S,panZoom:E,transform:_,translateExtent:M,width:T,height:w})},setCenter:async(S,_,T)=>{const{width:w,height:E,maxZoom:M,panZoom:L}=x();if(!L)return Promise.resolve(!1);const N=typeof T?.zoom<"u"?T.zoom:M;return await L.setViewport({x:w/2-S*N,y:E/2-_*N,zoom:N},{duration:T?.duration,ease:T?.ease,interpolate:T?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...h3}})},updateConnection:S=>{y({connection:S})},reset:()=>y({...VE()})}},Object.is);function oJ({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:c,initialFitViewOptions:u,fitView:h,nodeOrigin:d,nodeExtent:p,zIndexMode:m,children:y}){const[x]=A.useState(()=>sJ({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:h,minZoom:o,maxZoom:c,fitViewOptions:u,nodeOrigin:d,nodeExtent:p,zIndexMode:m}));return k.jsx(kK,{value:x,children:k.jsx(GK,{children:y})})}function lJ({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:c,fitViewOptions:u,minZoom:h,maxZoom:d,nodeOrigin:p,nodeExtent:m,zIndexMode:y}){return A.useContext(am)?k.jsx(k.Fragment,{children:t}):k.jsx(oJ,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:c,initialFitViewOptions:u,initialMinZoom:h,initialMaxZoom:d,nodeOrigin:p,nodeExtent:m,zIndexMode:y,children:t})}const cJ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function uJ({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:c,onEdgeClick:u,onInit:h,onMove:d,onMoveStart:p,onMoveEnd:m,onConnect:y,onConnectStart:x,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:_,onNodeMouseEnter:T,onNodeMouseMove:w,onNodeMouseLeave:E,onNodeContextMenu:M,onNodeDoubleClick:L,onNodeDragStart:N,onNodeDrag:$,onNodeDragStop:z,onNodesDelete:P,onEdgesDelete:j,onDelete:W,onSelectionChange:G,onSelectionDragStart:B,onSelectionDrag:H,onSelectionDragStop:R,onSelectionContextMenu:I,onSelectionStart:U,onSelectionEnd:Z,onBeforeDelete:nt,connectionMode:q,connectionLineType:V=hs.Bezier,connectionLineStyle:K,connectionLineComponent:et,connectionLineContainerStyle:X,deleteKeyCode:Q="Backspace",selectionKeyCode:tt="Shift",selectionOnDrag:at=!1,selectionMode:ut=vh.Full,panActivationKeyCode:pt="Space",multiSelectionKeyCode:vt=Sh()?"Meta":"Control",zoomActivationKeyCode:bt=Sh()?"Meta":"Control",snapToGrid:kt,snapGrid:_t,onlyRenderVisibleElements:Pt=!1,selectNodesOnDrag:Yt,nodesDraggable:de,autoPanOnNodeFocus:Ye,nodesConnectable:Ge,nodesFocusable:qe,nodeOrigin:Dn=H3,edgesFocusable:cr,edgesReconnectable:ur,elementsSelectable:Me=!0,defaultViewport:Kn=zK,minZoom:_n=.5,maxZoom:kn=2,translateExtent:Nn=bh,preventScrolling:Fr=!0,nodeExtent:Er,defaultMarkerColor:Qn="#b1b1b7",zoomOnScroll:ii=!0,zoomOnPinch:hr=!0,panOnScroll:Ee=!1,panOnScrollSpeed:tn=.5,panOnScrollMode:Xe=mo.Free,zoomOnDoubleClick:Zi=!0,panOnDrag:Oa=!0,onPaneClick:Ai,onPaneMouseEnter:Ar,onPaneMouseMove:Mi,onPaneMouseLeave:xe,onPaneScroll:Le,onPaneContextMenu:Ze,paneClickDistance:ie=1,nodeClickDistance:Ue=0,children:an,onReconnect:pn,onReconnectStart:Tn,onReconnectEnd:Pe,onEdgeContextMenu:In,onEdgeDoubleClick:Ln,onEdgeMouseEnter:Oe,onEdgeMouseMove:gn,onEdgeMouseLeave:dr,reconnectRadius:Hn=10,onNodesChange:fr,onEdgesChange:On,noDragClassName:be="nodrag",noWheelClassName:mn="nowheel",noPanClassName:Ir="nopan",fitView:Ki,fitViewOptions:Os,connectOnClick:Tc,attributionPosition:Rt,proOptions:rt,defaultEdgeOptions:xt,elevateNodesOnSelect:Ct=!0,elevateEdgesOnSelect:le=!1,disableKeyboardA11y:Re=!1,autoPanOnConnect:ve,autoPanOnNodeDrag:ae,autoPanSpeed:pr,connectionRadius:ai,isValidConnection:Mr,onError:De,style:jo,id:Ra,nodeDragThreshold:cd,connectionDragThreshold:Rm,viewport:$o,onViewportChange:zo,width:si,height:gr,colorMode:ud="light",debug:Bm,onScroll:Po,ariaLabelConfig:hd,zIndexMode:Rs="basic",...jm},mr){const Bs=Ra||"1",dd=HK(ud),Ec=A.useCallback(Qi=>{Qi.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Po?.(Qi)},[Po]);return k.jsx("div",{"data-testid":"rf__wrapper",...jm,onScroll:Ec,style:{...jo,...cJ},ref:mr,className:fn(["react-flow",i,dd]),id:Ra,role:"application",children:k.jsxs(lJ,{nodes:t,edges:e,width:si,height:gr,fitView:Ki,fitViewOptions:Os,minZoom:_n,maxZoom:kn,nodeOrigin:Dn,nodeExtent:Er,zIndexMode:Rs,children:[k.jsx(aJ,{onInit:h,onNodeClick:c,onEdgeClick:u,onNodeMouseEnter:T,onNodeMouseMove:w,onNodeMouseLeave:E,onNodeContextMenu:M,onNodeDoubleClick:L,nodeTypes:s,edgeTypes:o,connectionLineType:V,connectionLineStyle:K,connectionLineComponent:et,connectionLineContainerStyle:X,selectionKeyCode:tt,selectionOnDrag:at,selectionMode:ut,deleteKeyCode:Q,multiSelectionKeyCode:vt,panActivationKeyCode:pt,zoomActivationKeyCode:bt,onlyRenderVisibleElements:Pt,defaultViewport:Kn,translateExtent:Nn,minZoom:_n,maxZoom:kn,preventScrolling:Fr,zoomOnScroll:ii,zoomOnPinch:hr,zoomOnDoubleClick:Zi,panOnScroll:Ee,panOnScrollSpeed:tn,panOnScrollMode:Xe,panOnDrag:Oa,onPaneClick:Ai,onPaneMouseEnter:Ar,onPaneMouseMove:Mi,onPaneMouseLeave:xe,onPaneScroll:Le,onPaneContextMenu:Ze,paneClickDistance:ie,nodeClickDistance:Ue,onSelectionContextMenu:I,onSelectionStart:U,onSelectionEnd:Z,onReconnect:pn,onReconnectStart:Tn,onReconnectEnd:Pe,onEdgeContextMenu:In,onEdgeDoubleClick:Ln,onEdgeMouseEnter:Oe,onEdgeMouseMove:gn,onEdgeMouseLeave:dr,reconnectRadius:Hn,defaultMarkerColor:Qn,noDragClassName:be,noWheelClassName:mn,noPanClassName:Ir,rfId:Bs,disableKeyboardA11y:Re,nodeExtent:Er,viewport:$o,onViewportChange:zo}),k.jsx(IK,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:x,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:_,nodesDraggable:de,autoPanOnNodeFocus:Ye,nodesConnectable:Ge,nodesFocusable:qe,edgesFocusable:cr,edgesReconnectable:ur,elementsSelectable:Me,elevateNodesOnSelect:Ct,elevateEdgesOnSelect:le,minZoom:_n,maxZoom:kn,nodeExtent:Er,onNodesChange:fr,onEdgesChange:On,snapToGrid:kt,snapGrid:_t,connectionMode:q,translateExtent:Nn,connectOnClick:Tc,defaultEdgeOptions:xt,fitView:Ki,fitViewOptions:Os,onNodesDelete:P,onEdgesDelete:j,onDelete:W,onNodeDragStart:N,onNodeDrag:$,onNodeDragStop:z,onSelectionDrag:H,onSelectionDragStart:B,onSelectionDragStop:R,onMove:d,onMoveStart:p,onMoveEnd:m,noPanClassName:Ir,nodeOrigin:Dn,rfId:Bs,autoPanOnConnect:ve,autoPanOnNodeDrag:ae,autoPanSpeed:pr,onError:De,connectionRadius:ai,isValidConnection:Mr,selectNodesOnDrag:Yt,nodeDragThreshold:cd,connectionDragThreshold:Rm,onBeforeDelete:nt,debug:Bm,ariaLabelConfig:hd,zIndexMode:Rs}),k.jsx($K,{onSelectionChange:G}),an,k.jsx(LK,{proOptions:rt,position:Rt}),k.jsx(NK,{rfId:Bs,disableKeyboardA11y:Re})]})})}var hJ=W3(uJ);function dJ(t){const[e,n]=A.useState(t),r=A.useCallback(i=>n(s=>q3(i,s)),[]);return[e,n,r]}function fJ(t){const[e,n]=A.useState(t),r=A.useCallback(i=>n(s=>U3(i,s)),[]);return[e,n,r]}function pJ({dimensions:t,lineWidth:e,variant:n,className:r}){return k.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:fn(["react-flow__background-pattern",n,r])})}function gJ({radius:t,className:e}){return k.jsx("circle",{cx:t,cy:t,r:t,className:fn(["react-flow__background-pattern","dots",e])})}var gs;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(gs||(gs={}));const mJ={[gs.Dots]:1,[gs.Lines]:1,[gs.Cross]:6},yJ=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function mO({id:t,variant:e=gs.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:c,style:u,className:h,patternClassName:d}){const p=A.useRef(null),{transform:m,patternId:y}=oe(yJ,He),x=r||mJ[e],b=e===gs.Dots,S=e===gs.Cross,_=Array.isArray(n)?n:[n,n],T=[_[0]*m[2]||1,_[1]*m[2]||1],w=x*m[2],E=Array.isArray(s)?s:[s,s],M=S?[w,w]:T,L=[E[0]*m[2]||1+M[0]/2,E[1]*m[2]||1+M[1]/2],N=`${y}${t||""}`;return k.jsxs("svg",{className:fn(["react-flow__background",h]),style:{...u,...om,"--xy-background-color-props":c,"--xy-background-pattern-color-props":o},ref:p,"data-testid":"rf__background",children:[k.jsx("pattern",{id:N,x:m[0]%T[0],y:m[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:b?k.jsx(gJ,{radius:w/2,className:d}):k.jsx(pJ,{dimensions:M,lineWidth:i,variant:e,className:d})}),k.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}mO.displayName="Background";const xJ=A.memo(mO);function bJ(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:k.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function vJ(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:k.jsx("path",{d:"M0 0h32v4.2H0z"})})}function wJ(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:k.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function SJ(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function CJ(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function qf({children:t,className:e,...n}){return k.jsx("button",{type:"button",className:fn(["react-flow__controls-button",e]),...n,children:t})}const _J=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function yO({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:c,onInteractiveChange:u,className:h,children:d,position:p="bottom-left",orientation:m="vertical","aria-label":y}){const x=Ve(),{isInteractive:b,minZoomReached:S,maxZoomReached:_,ariaLabelConfig:T}=oe(_J,He),{zoomIn:w,zoomOut:E,fitView:M}=G1(),L=()=>{w(),s?.()},N=()=>{E(),o?.()},$=()=>{M(i),c?.()},z=()=>{x.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),u?.(!b)},P=m==="horizontal"?"horizontal":"vertical";return k.jsxs(sm,{className:fn(["react-flow__controls",P,h]),position:p,style:t,"data-testid":"rf__controls","aria-label":y??T["controls.ariaLabel"],children:[e&&k.jsxs(k.Fragment,{children:[k.jsx(qf,{onClick:L,className:"react-flow__controls-zoomin",title:T["controls.zoomIn.ariaLabel"],"aria-label":T["controls.zoomIn.ariaLabel"],disabled:_,children:k.jsx(bJ,{})}),k.jsx(qf,{onClick:N,className:"react-flow__controls-zoomout",title:T["controls.zoomOut.ariaLabel"],"aria-label":T["controls.zoomOut.ariaLabel"],disabled:S,children:k.jsx(vJ,{})})]}),n&&k.jsx(qf,{className:"react-flow__controls-fitview",onClick:$,title:T["controls.fitView.ariaLabel"],"aria-label":T["controls.fitView.ariaLabel"],children:k.jsx(wJ,{})}),r&&k.jsx(qf,{className:"react-flow__controls-interactive",onClick:z,title:T["controls.interactive.ariaLabel"],"aria-label":T["controls.interactive.ariaLabel"],children:b?k.jsx(CJ,{}):k.jsx(SJ,{})}),d]})}yO.displayName="Controls";const kJ=A.memo(yO);function TJ({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:c,strokeWidth:u,className:h,borderRadius:d,shapeRendering:p,selected:m,onClick:y}){const{background:x,backgroundColor:b}=s||{},S=o||x||b;return k.jsx("rect",{className:fn(["react-flow__minimap-node",{selected:m},h]),x:e,y:n,rx:d,ry:d,width:r,height:i,style:{fill:S,stroke:c,strokeWidth:u},shapeRendering:p,onClick:y?_=>y(_,t):void 0})}const EJ=A.memo(TJ),AJ=t=>t.nodes.map(e=>e.id),jx=t=>t instanceof Function?t:()=>t;function MJ({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=EJ,onClick:o}){const c=oe(AJ,He),u=jx(e),h=jx(t),d=jx(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return k.jsx(k.Fragment,{children:c.map(m=>k.jsx(NJ,{id:m,nodeColorFunc:u,nodeStrokeColorFunc:h,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:p},m))})}function DJ({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:c,onClick:u}){const{node:h,x:d,y:p,width:m,height:y}=oe(x=>{const{internals:b}=x.nodeLookup.get(t),S=b.userNode,{x:_,y:T}=b.positionAbsolute,{width:w,height:E}=Na(S);return{node:S,x:_,y:T,width:w,height:E}},He);return!h||h.hidden||!x3(h)?null:k.jsx(c,{x:d,y:p,width:m,height:y,style:h.style,selected:!!h.selected,className:r(h),color:e(h),borderRadius:i,strokeColor:n(h),strokeWidth:s,shapeRendering:o,onClick:u,id:h.id})}const NJ=A.memo(DJ);var LJ=A.memo(MJ);const OJ=200,RJ=150,BJ=t=>!t.hidden,jJ=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?y3(Kh(t.nodeLookup,{filter:BJ}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},$J="react-flow__minimap-desc";function xO({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:c,bgColor:u,maskColor:h,maskStrokeColor:d,maskStrokeWidth:p,position:m="bottom-right",onClick:y,onNodeClick:x,pannable:b=!1,zoomable:S=!1,ariaLabel:_,inversePan:T,zoomStep:w=1,offsetScale:E=5}){const M=Ve(),L=A.useRef(null),{boundingRect:N,viewBB:$,rfId:z,panZoom:P,translateExtent:j,flowWidth:W,flowHeight:G,ariaLabelConfig:B}=oe(jJ,He),H=t?.width??OJ,R=t?.height??RJ,I=N.width/H,U=N.height/R,Z=Math.max(I,U),nt=Z*H,q=Z*R,V=E*Z,K=N.x-(nt-N.width)/2-V,et=N.y-(q-N.height)/2-V,X=nt+V*2,Q=q+V*2,tt=`${$J}-${z}`,at=A.useRef(0),ut=A.useRef();at.current=Z,A.useEffect(()=>{if(L.current&&P)return ut.current=QZ({domNode:L.current,panZoom:P,getTransform:()=>M.getState().transform,getViewScale:()=>at.current}),()=>{ut.current?.destroy()}},[P]),A.useEffect(()=>{ut.current?.update({translateExtent:j,width:W,height:G,inversePan:T,pannable:b,zoomStep:w,zoomable:S})},[b,S,T,w,j,W,G]);const pt=y?kt=>{const[_t,Pt]=ut.current?.pointer(kt)||[0,0];y(kt,{x:_t,y:Pt})}:void 0,vt=x?A.useCallback((kt,_t)=>{const Pt=M.getState().nodeLookup.get(_t).internals.userNode;x(kt,Pt)},[]):void 0,bt=_??B["minimap.ariaLabel"];return k.jsx(sm,{position:m,style:{...t,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*Z:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:fn(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:k.jsxs("svg",{width:H,height:R,viewBox:`${K} ${et} ${X} ${Q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":tt,ref:L,onClick:pt,children:[bt&&k.jsx("title",{id:tt,children:bt}),k.jsx(LJ,{onClick:vt,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:c}),k.jsx("path",{className:"react-flow__minimap-mask",d:`M${K-V},${et-V}h${X+V*2}v${Q+V*2}h${-X-V*2}z
        M${$.x},${$.y}h${$.width}v${$.height}h${-$.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}xO.displayName="MiniMap";A.memo(xO);const zJ=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,PJ={[sc.Line]:"right",[sc.Handle]:"bottom-right"};function FJ({nodeId:t,position:e,variant:n=sc.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:c=10,minHeight:u=10,maxWidth:h=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:m,autoScale:y=!0,shouldResize:x,onResizeStart:b,onResize:S,onResizeEnd:_}){const T=Z3(),w=typeof t=="string"?t:T,E=Ve(),M=A.useRef(null),L=n===sc.Handle,N=oe(A.useCallback(zJ(L&&y),[L,y]),He),$=A.useRef(null),z=e??PJ[n];A.useEffect(()=>{if(!(!M.current||!w))return $.current||($.current=dK({domNode:M.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:j,transform:W,snapGrid:G,snapToGrid:B,nodeOrigin:H,domNode:R}=E.getState();return{nodeLookup:j,transform:W,snapGrid:G,snapToGrid:B,nodeOrigin:H,paneDomNode:R}},onChange:(j,W)=>{const{triggerNodeChanges:G,nodeLookup:B,parentLookup:H,nodeOrigin:R}=E.getState(),I=[],U={x:j.x,y:j.y},Z=B.get(w);if(Z&&Z.expandParent&&Z.parentId){const nt=Z.origin??R,q=j.width??Z.measured.width??0,V=j.height??Z.measured.height??0,K={id:Z.id,parentId:Z.parentId,rect:{width:q,height:V,...b3({x:j.x??Z.position.x,y:j.y??Z.position.y},{width:q,height:V},Z.parentId,B,nt)}},et=Y1([K],B,H,R);I.push(...et),U.x=j.x?Math.max(nt[0]*q,j.x):void 0,U.y=j.y?Math.max(nt[1]*V,j.y):void 0}if(U.x!==void 0&&U.y!==void 0){const nt={id:w,type:"position",position:{...U}};I.push(nt)}if(j.width!==void 0&&j.height!==void 0){const q={id:w,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:j.width,height:j.height}};I.push(q)}for(const nt of W){const q={...nt,type:"position"};I.push(q)}G(I)},onEnd:({width:j,height:W})=>{const G={id:w,type:"dimensions",resizing:!1,dimensions:{width:j,height:W}};E.getState().triggerNodeChanges([G])}})),$.current.update({controlPosition:z,boundaries:{minWidth:c,minHeight:u,maxWidth:h,maxHeight:d},keepAspectRatio:p,resizeDirection:m,onResizeStart:b,onResize:S,onResizeEnd:_,shouldResize:x}),()=>{$.current?.destroy()}},[z,c,u,h,d,p,b,S,_,x]);const P=z.split("-");return k.jsx("div",{className:fn(["react-flow__resize-control","nodrag",...P,n,r]),ref:M,style:{...i,scale:N,...o&&{[L?"backgroundColor":"borderColor"]:o}},children:s})}A.memo(FJ);function Cl(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ki=(t=>typeof Cl<"u"?Cl:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof Cl<"u"?Cl:e)[n]}):t)(function(t){if(typeof Cl<"u")return Cl.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),Te=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),IJ=Te((t,e)=>{var n=class{constructor(){let s={};s._next=s._prev=s,this._sentinel=s}dequeue(){let s=this._sentinel,o=s._prev;if(o!==s)return r(o),o}enqueue(s){let o=this._sentinel;s._prev&&s._next&&r(s),s._next=o._next,o._next._prev=s,o._next=s,s._prev=o}toString(){let s=[],o=this._sentinel,c=o._prev;for(;c!==o;)s.push(JSON.stringify(c,i)),c=c._prev;return"["+s.join(", ")+"]"}};function r(s){s._prev._next=s._next,s._next._prev=s._prev,delete s._next,delete s._prev}function i(s,o){if(s!=="_next"&&s!=="_prev")return o}e.exports=n}),HJ=Te((t,e)=>{var n=ki("@dagrejs/graphlib").Graph,r=IJ();e.exports=s;var i=()=>1;function s(p,m){if(p.nodeCount()<=1)return[];let y=u(p,m||i);return o(y.graph,y.buckets,y.zeroIdx).flatMap(x=>p.outEdges(x.v,x.w))}function o(p,m,y){let x=[],b=m[m.length-1],S=m[0],_;for(;p.nodeCount();){for(;_=S.dequeue();)c(p,m,y,_);for(;_=b.dequeue();)c(p,m,y,_);if(p.nodeCount()){for(let T=m.length-2;T>0;--T)if(_=m[T].dequeue(),_){x=x.concat(c(p,m,y,_,!0));break}}}return x}function c(p,m,y,x,b){let S=b?[]:void 0;return p.inEdges(x.v).forEach(_=>{let T=p.edge(_),w=p.node(_.v);b&&S.push({v:_.v,w:_.w}),w.out-=T,h(m,y,w)}),p.outEdges(x.v).forEach(_=>{let T=p.edge(_),w=_.w,E=p.node(w);E.in-=T,h(m,y,E)}),p.removeNode(x.v),S}function u(p,m){let y=new n,x=0,b=0;p.nodes().forEach(T=>{y.setNode(T,{v:T,in:0,out:0})}),p.edges().forEach(T=>{let w=y.edge(T.v,T.w)||0,E=m(T),M=w+E;y.setEdge(T.v,T.w,M),b=Math.max(b,y.node(T.v).out+=E),x=Math.max(x,y.node(T.w).in+=E)});let S=d(b+x+3).map(()=>new r),_=x+1;return y.nodes().forEach(T=>{h(S,_,y.node(T))}),{graph:y,buckets:S,zeroIdx:_}}function h(p,m,y){y.out?y.in?p[y.out-y.in+m].enqueue(y):p[p.length-1].enqueue(y):p[0].enqueue(y)}function d(p){let m=[];for(let y=0;y<p;y++)m.push(y);return m}}),dn=Te((t,e)=>{var n=ki("@dagrejs/graphlib").Graph;e.exports={addBorderNode:m,addDummyNode:r,applyWithChunking:b,asNonCompoundGraph:s,buildLayerMatrix:h,intersectRect:u,mapValues:$,maxRank:S,normalizeRanks:d,notime:w,partition:_,pick:N,predecessorWeights:c,range:L,removeEmptyRanks:p,simplify:i,successorWeights:o,time:T,uniqueId:M,zipObject:z};function r(P,j,W,G){for(var B=G;P.hasNode(B);)B=M(G);return W.dummy=j,P.setNode(B,W),B}function i(P){let j=new n().setGraph(P.graph());return P.nodes().forEach(W=>j.setNode(W,P.node(W))),P.edges().forEach(W=>{let G=j.edge(W.v,W.w)||{weight:0,minlen:1},B=P.edge(W);j.setEdge(W.v,W.w,{weight:G.weight+B.weight,minlen:Math.max(G.minlen,B.minlen)})}),j}function s(P){let j=new n({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(W=>{P.children(W).length||j.setNode(W,P.node(W))}),P.edges().forEach(W=>{j.setEdge(W,P.edge(W))}),j}function o(P){let j=P.nodes().map(W=>{let G={};return P.outEdges(W).forEach(B=>{G[B.w]=(G[B.w]||0)+P.edge(B).weight}),G});return z(P.nodes(),j)}function c(P){let j=P.nodes().map(W=>{let G={};return P.inEdges(W).forEach(B=>{G[B.v]=(G[B.v]||0)+P.edge(B).weight}),G});return z(P.nodes(),j)}function u(P,j){let W=P.x,G=P.y,B=j.x-W,H=j.y-G,R=P.width/2,I=P.height/2;if(!B&&!H)throw new Error("Not possible to find intersection inside of the rectangle");let U,Z;return Math.abs(H)*R>Math.abs(B)*I?(H<0&&(I=-I),U=I*B/H,Z=I):(B<0&&(R=-R),U=R,Z=R*H/B),{x:W+U,y:G+Z}}function h(P){let j=L(S(P)+1).map(()=>[]);return P.nodes().forEach(W=>{let G=P.node(W),B=G.rank;B!==void 0&&(j[B][G.order]=W)}),j}function d(P){let j=P.nodes().map(G=>{let B=P.node(G).rank;return B===void 0?Number.MAX_VALUE:B}),W=b(Math.min,j);P.nodes().forEach(G=>{let B=P.node(G);Object.hasOwn(B,"rank")&&(B.rank-=W)})}function p(P){let j=P.nodes().map(R=>P.node(R).rank).filter(R=>R!==void 0),W=b(Math.min,j),G=[];P.nodes().forEach(R=>{let I=P.node(R).rank-W;G[I]||(G[I]=[]),G[I].push(R)});let B=0,H=P.graph().nodeRankFactor;Array.from(G).forEach((R,I)=>{R===void 0&&I%H!==0?--B:R!==void 0&&B&&R.forEach(U=>P.node(U).rank+=B)})}function m(P,j,W,G){let B={width:0,height:0};return arguments.length>=4&&(B.rank=W,B.order=G),r(P,"border",B,j)}function y(P,j=x){let W=[];for(let G=0;G<P.length;G+=j){let B=P.slice(G,G+j);W.push(B)}return W}var x=65535;function b(P,j){if(j.length>x){let W=y(j);return P.apply(null,W.map(G=>P.apply(null,G)))}else return P.apply(null,j)}function S(P){let j=P.nodes().map(W=>{let G=P.node(W).rank;return G===void 0?Number.MIN_VALUE:G});return b(Math.max,j)}function _(P,j){let W={lhs:[],rhs:[]};return P.forEach(G=>{j(G)?W.lhs.push(G):W.rhs.push(G)}),W}function T(P,j){let W=Date.now();try{return j()}finally{console.log(P+" time: "+(Date.now()-W)+"ms")}}function w(P,j){return j()}var E=0;function M(P){var j=++E;return P+(""+j)}function L(P,j,W=1){j==null&&(j=P,P=0);let G=H=>H<j;W<0&&(G=H=>j<H);let B=[];for(let H=P;G(H);H+=W)B.push(H);return B}function N(P,j){let W={};for(let G of j)P[G]!==void 0&&(W[G]=P[G]);return W}function $(P,j){let W=j;return typeof j=="string"&&(W=G=>G[j]),Object.entries(P).reduce((G,[B,H])=>(G[B]=W(H,B),G),{})}function z(P,j){return P.reduce((W,G,B)=>(W[G]=j[B],W),{})}}),VJ=Te((t,e)=>{var n=HJ(),r=dn().uniqueId;e.exports={run:i,undo:o};function i(c){(c.graph().acyclicer==="greedy"?n(c,u(c)):s(c)).forEach(h=>{let d=c.edge(h);c.removeEdge(h),d.forwardName=h.name,d.reversed=!0,c.setEdge(h.w,h.v,d,r("rev"))});function u(h){return d=>h.edge(d).weight}}function s(c){let u=[],h={},d={};function p(m){Object.hasOwn(d,m)||(d[m]=!0,h[m]=!0,c.outEdges(m).forEach(y=>{Object.hasOwn(h,y.w)?u.push(y):p(y.w)}),delete h[m])}return c.nodes().forEach(p),u}function o(c){c.edges().forEach(u=>{let h=c.edge(u);if(h.reversed){c.removeEdge(u);let d=h.forwardName;delete h.reversed,delete h.forwardName,c.setEdge(u.w,u.v,h,d)}})}}),qJ=Te((t,e)=>{var n=dn();e.exports={run:r,undo:s};function r(o){o.graph().dummyChains=[],o.edges().forEach(c=>i(o,c))}function i(o,c){let u=c.v,h=o.node(u).rank,d=c.w,p=o.node(d).rank,m=c.name,y=o.edge(c),x=y.labelRank;if(p===h+1)return;o.removeEdge(c);let b,S,_;for(_=0,++h;h<p;++_,++h)y.points=[],S={width:0,height:0,edgeLabel:y,edgeObj:c,rank:h},b=n.addDummyNode(o,"edge",S,"_d"),h===x&&(S.width=y.width,S.height=y.height,S.dummy="edge-label",S.labelpos=y.labelpos),o.setEdge(u,b,{weight:y.weight},m),_===0&&o.graph().dummyChains.push(b),u=b;o.setEdge(u,d,{weight:y.weight},m)}function s(o){o.graph().dummyChains.forEach(c=>{let u=o.node(c),h=u.edgeLabel,d;for(o.setEdge(u.edgeObj,h);u.dummy;)d=o.successors(c)[0],o.removeNode(c),h.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(h.x=u.x,h.y=u.y,h.width=u.width,h.height=u.height),c=d,u=o.node(c)})}}),eg=Te((t,e)=>{var{applyWithChunking:n}=dn();e.exports={longestPath:r,slack:i};function r(s){var o={};function c(u){var h=s.node(u);if(Object.hasOwn(o,u))return h.rank;o[u]=!0;let d=s.outEdges(u).map(m=>m==null?Number.POSITIVE_INFINITY:c(m.w)-s.edge(m).minlen);var p=n(Math.min,d);return p===Number.POSITIVE_INFINITY&&(p=0),h.rank=p}s.sources().forEach(c)}function i(s,o){return s.node(o.w).rank-s.node(o.v).rank-s.edge(o).minlen}}),bO=Te((t,e)=>{var n=ki("@dagrejs/graphlib").Graph,r=eg().slack;e.exports=i;function i(u){var h=new n({directed:!1}),d=u.nodes()[0],p=u.nodeCount();h.setNode(d,{});for(var m,y;s(h,u)<p;)m=o(h,u),y=h.hasNode(m.v)?r(u,m):-r(u,m),c(h,u,y);return h}function s(u,h){function d(p){h.nodeEdges(p).forEach(m=>{var y=m.v,x=p===y?m.w:y;!u.hasNode(x)&&!r(h,m)&&(u.setNode(x,{}),u.setEdge(p,x,{}),d(x))})}return u.nodes().forEach(d),u.nodeCount()}function o(u,h){return h.edges().reduce((d,p)=>{let m=Number.POSITIVE_INFINITY;return u.hasNode(p.v)!==u.hasNode(p.w)&&(m=r(h,p)),m<d[0]?[m,p]:d},[Number.POSITIVE_INFINITY,null])[1]}function c(u,h,d){u.nodes().forEach(p=>h.node(p).rank+=d)}}),UJ=Te((t,e)=>{var n=bO(),r=eg().slack,i=eg().longestPath,s=ki("@dagrejs/graphlib").alg.preorder,o=ki("@dagrejs/graphlib").alg.postorder,c=dn().simplify;e.exports=u,u.initLowLimValues=m,u.initCutValues=h,u.calcCutValue=p,u.leaveEdge=x,u.enterEdge=b,u.exchangeEdges=S;function u(E){E=c(E),i(E);var M=n(E);m(M),h(M,E);for(var L,N;L=x(M);)N=b(M,E,L),S(M,E,L,N)}function h(E,M){var L=o(E,E.nodes());L=L.slice(0,L.length-1),L.forEach(N=>d(E,M,N))}function d(E,M,L){var N=E.node(L),$=N.parent;E.edge(L,$).cutvalue=p(E,M,L)}function p(E,M,L){var N=E.node(L),$=N.parent,z=!0,P=M.edge(L,$),j=0;return P||(z=!1,P=M.edge($,L)),j=P.weight,M.nodeEdges(L).forEach(W=>{var G=W.v===L,B=G?W.w:W.v;if(B!==$){var H=G===z,R=M.edge(W).weight;if(j+=H?R:-R,T(E,L,B)){var I=E.edge(L,B).cutvalue;j+=H?-I:I}}}),j}function m(E,M){arguments.length<2&&(M=E.nodes()[0]),y(E,{},1,M)}function y(E,M,L,N,$){var z=L,P=E.node(N);return M[N]=!0,E.neighbors(N).forEach(j=>{Object.hasOwn(M,j)||(L=y(E,M,L,j,N))}),P.low=z,P.lim=L++,$?P.parent=$:delete P.parent,L}function x(E){return E.edges().find(M=>E.edge(M).cutvalue<0)}function b(E,M,L){var N=L.v,$=L.w;M.hasEdge(N,$)||(N=L.w,$=L.v);var z=E.node(N),P=E.node($),j=z,W=!1;z.lim>P.lim&&(j=P,W=!0);var G=M.edges().filter(B=>W===w(E,E.node(B.v),j)&&W!==w(E,E.node(B.w),j));return G.reduce((B,H)=>r(M,H)<r(M,B)?H:B)}function S(E,M,L,N){var $=L.v,z=L.w;E.removeEdge($,z),E.setEdge(N.v,N.w,{}),m(E),h(E,M),_(E,M)}function _(E,M){var L=E.nodes().find($=>!M.node($).parent),N=s(E,L);N=N.slice(1),N.forEach($=>{var z=E.node($).parent,P=M.edge($,z),j=!1;P||(P=M.edge(z,$),j=!0),M.node($).rank=M.node(z).rank+(j?P.minlen:-P.minlen)})}function T(E,M,L){return E.hasEdge(M,L)}function w(E,M,L){return L.low<=M.lim&&M.lim<=L.lim}}),WJ=Te((t,e)=>{var n=eg(),r=n.longestPath,i=bO(),s=UJ();e.exports=o;function o(d){var p=d.graph().ranker;if(p instanceof Function)return p(d);switch(d.graph().ranker){case"network-simplex":h(d);break;case"tight-tree":u(d);break;case"longest-path":c(d);break;case"none":break;default:h(d)}}var c=r;function u(d){r(d),i(d)}function h(d){s(d)}}),YJ=Te((t,e)=>{e.exports=n;function n(s){let o=i(s);s.graph().dummyChains.forEach(c=>{let u=s.node(c),h=u.edgeObj,d=r(s,o,h.v,h.w),p=d.path,m=d.lca,y=0,x=p[y],b=!0;for(;c!==h.w;){if(u=s.node(c),b){for(;(x=p[y])!==m&&s.node(x).maxRank<u.rank;)y++;x===m&&(b=!1)}if(!b){for(;y<p.length-1&&s.node(x=p[y+1]).minRank<=u.rank;)y++;x=p[y]}s.setParent(c,x),c=s.successors(c)[0]}})}function r(s,o,c,u){let h=[],d=[],p=Math.min(o[c].low,o[u].low),m=Math.max(o[c].lim,o[u].lim),y,x;y=c;do y=s.parent(y),h.push(y);while(y&&(o[y].low>p||m>o[y].lim));for(x=y,y=u;(y=s.parent(y))!==x;)d.push(y);return{path:h.concat(d.reverse()),lca:x}}function i(s){let o={},c=0;function u(h){let d=c;s.children(h).forEach(u),o[h]={low:d,lim:c++}}return s.children().forEach(u),o}}),GJ=Te((t,e)=>{var n=dn();e.exports={run:r,cleanup:c};function r(u){let h=n.addDummyNode(u,"root",{},"_root"),d=s(u),p=Object.values(d),m=n.applyWithChunking(Math.max,p)-1,y=2*m+1;u.graph().nestingRoot=h,u.edges().forEach(b=>u.edge(b).minlen*=y);let x=o(u)+1;u.children().forEach(b=>i(u,h,y,x,m,d,b)),u.graph().nodeRankFactor=y}function i(u,h,d,p,m,y,x){let b=u.children(x);if(!b.length){x!==h&&u.setEdge(h,x,{weight:0,minlen:d});return}let S=n.addBorderNode(u,"_bt"),_=n.addBorderNode(u,"_bb"),T=u.node(x);u.setParent(S,x),T.borderTop=S,u.setParent(_,x),T.borderBottom=_,b.forEach(w=>{i(u,h,d,p,m,y,w);let E=u.node(w),M=E.borderTop?E.borderTop:w,L=E.borderBottom?E.borderBottom:w,N=E.borderTop?p:2*p,$=M!==L?1:m-y[x]+1;u.setEdge(S,M,{weight:N,minlen:$,nestingEdge:!0}),u.setEdge(L,_,{weight:N,minlen:$,nestingEdge:!0})}),u.parent(x)||u.setEdge(h,S,{weight:0,minlen:m+y[x]})}function s(u){var h={};function d(p,m){var y=u.children(p);y&&y.length&&y.forEach(x=>d(x,m+1)),h[p]=m}return u.children().forEach(p=>d(p,1)),h}function o(u){return u.edges().reduce((h,d)=>h+u.edge(d).weight,0)}function c(u){var h=u.graph();u.removeNode(h.nestingRoot),delete h.nestingRoot,u.edges().forEach(d=>{var p=u.edge(d);p.nestingEdge&&u.removeEdge(d)})}}),XJ=Te((t,e)=>{var n=dn();e.exports=r;function r(s){function o(c){let u=s.children(c),h=s.node(c);if(u.length&&u.forEach(o),Object.hasOwn(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(let d=h.minRank,p=h.maxRank+1;d<p;++d)i(s,"borderLeft","_bl",c,h,d),i(s,"borderRight","_br",c,h,d)}}s.children().forEach(o)}function i(s,o,c,u,h,d){let p={width:0,height:0,rank:d,borderType:o},m=h[o][d-1],y=n.addDummyNode(s,"border",p,c);h[o][d]=y,s.setParent(y,u),m&&s.setEdge(m,y,{weight:1})}}),ZJ=Te((t,e)=>{e.exports={adjust:n,undo:r};function n(d){let p=d.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&i(d)}function r(d){let p=d.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&o(d),(p==="lr"||p==="rl")&&(u(d),i(d))}function i(d){d.nodes().forEach(p=>s(d.node(p))),d.edges().forEach(p=>s(d.edge(p)))}function s(d){let p=d.width;d.width=d.height,d.height=p}function o(d){d.nodes().forEach(p=>c(d.node(p))),d.edges().forEach(p=>{let m=d.edge(p);m.points.forEach(c),Object.hasOwn(m,"y")&&c(m)})}function c(d){d.y=-d.y}function u(d){d.nodes().forEach(p=>h(d.node(p))),d.edges().forEach(p=>{let m=d.edge(p);m.points.forEach(h),Object.hasOwn(m,"x")&&h(m)})}function h(d){let p=d.x;d.x=d.y,d.y=p}}),KJ=Te((t,e)=>{var n=dn();e.exports=r;function r(i){let s={},o=i.nodes().filter(p=>!i.children(p).length),c=o.map(p=>i.node(p).rank),u=n.applyWithChunking(Math.max,c),h=n.range(u+1).map(()=>[]);function d(p){if(s[p])return;s[p]=!0;let m=i.node(p);h[m.rank].push(p),i.successors(p).forEach(d)}return o.sort((p,m)=>i.node(p).rank-i.node(m).rank).forEach(d),h}}),QJ=Te((t,e)=>{var n=dn().zipObject;e.exports=r;function r(s,o){let c=0;for(let u=1;u<o.length;++u)c+=i(s,o[u-1],o[u]);return c}function i(s,o,c){let u=n(c,c.map((x,b)=>b)),h=o.flatMap(x=>s.outEdges(x).map(b=>({pos:u[b.w],weight:s.edge(b).weight})).sort((b,S)=>b.pos-S.pos)),d=1;for(;d<c.length;)d<<=1;let p=2*d-1;d-=1;let m=new Array(p).fill(0),y=0;return h.forEach(x=>{let b=x.pos+d;m[b]+=x.weight;let S=0;for(;b>0;)b%2&&(S+=m[b+1]),b=b-1>>1,m[b]+=x.weight;y+=x.weight*S}),y}}),JJ=Te((t,e)=>{e.exports=n;function n(r,i=[]){return i.map(s=>{let o=r.inEdges(s);if(o.length){let c=o.reduce((u,h)=>{let d=r.edge(h),p=r.node(h.v);return{sum:u.sum+d.weight*p.order,weight:u.weight+d.weight}},{sum:0,weight:0});return{v:s,barycenter:c.sum/c.weight,weight:c.weight}}else return{v:s}})}}),ttt=Te((t,e)=>{var n=dn();e.exports=r;function r(o,c){let u={};o.forEach((d,p)=>{let m=u[d.v]={indegree:0,in:[],out:[],vs:[d.v],i:p};d.barycenter!==void 0&&(m.barycenter=d.barycenter,m.weight=d.weight)}),c.edges().forEach(d=>{let p=u[d.v],m=u[d.w];p!==void 0&&m!==void 0&&(m.indegree++,p.out.push(u[d.w]))});let h=Object.values(u).filter(d=>!d.indegree);return i(h)}function i(o){let c=[];function u(d){return p=>{p.merged||(p.barycenter===void 0||d.barycenter===void 0||p.barycenter>=d.barycenter)&&s(d,p)}}function h(d){return p=>{p.in.push(d),--p.indegree===0&&o.push(p)}}for(;o.length;){let d=o.pop();c.push(d),d.in.reverse().forEach(u(d)),d.out.forEach(h(d))}return c.filter(d=>!d.merged).map(d=>n.pick(d,["vs","i","barycenter","weight"]))}function s(o,c){let u=0,h=0;o.weight&&(u+=o.barycenter*o.weight,h+=o.weight),c.weight&&(u+=c.barycenter*c.weight,h+=c.weight),o.vs=c.vs.concat(o.vs),o.barycenter=u/h,o.weight=h,o.i=Math.min(c.i,o.i),c.merged=!0}}),ett=Te((t,e)=>{var n=dn();e.exports=r;function r(o,c){let u=n.partition(o,S=>Object.hasOwn(S,"barycenter")),h=u.lhs,d=u.rhs.sort((S,_)=>_.i-S.i),p=[],m=0,y=0,x=0;h.sort(s(!!c)),x=i(p,d,x),h.forEach(S=>{x+=S.vs.length,p.push(S.vs),m+=S.barycenter*S.weight,y+=S.weight,x=i(p,d,x)});let b={vs:p.flat(!0)};return y&&(b.barycenter=m/y,b.weight=y),b}function i(o,c,u){let h;for(;c.length&&(h=c[c.length-1]).i<=u;)c.pop(),o.push(h.vs),u++;return u}function s(o){return(c,u)=>c.barycenter<u.barycenter?-1:c.barycenter>u.barycenter?1:o?u.i-c.i:c.i-u.i}}),ntt=Te((t,e)=>{var n=JJ(),r=ttt(),i=ett();e.exports=s;function s(u,h,d,p){let m=u.children(h),y=u.node(h),x=y?y.borderLeft:void 0,b=y?y.borderRight:void 0,S={};x&&(m=m.filter(E=>E!==x&&E!==b));let _=n(u,m);_.forEach(E=>{if(u.children(E.v).length){let M=s(u,E.v,d,p);S[E.v]=M,Object.hasOwn(M,"barycenter")&&c(E,M)}});let T=r(_,d);o(T,S);let w=i(T,p);if(x&&(w.vs=[x,w.vs,b].flat(!0),u.predecessors(x).length)){let E=u.node(u.predecessors(x)[0]),M=u.node(u.predecessors(b)[0]);Object.hasOwn(w,"barycenter")||(w.barycenter=0,w.weight=0),w.barycenter=(w.barycenter*w.weight+E.order+M.order)/(w.weight+2),w.weight+=2}return w}function o(u,h){u.forEach(d=>{d.vs=d.vs.flatMap(p=>h[p]?h[p].vs:p)})}function c(u,h){u.barycenter!==void 0?(u.barycenter=(u.barycenter*u.weight+h.barycenter*h.weight)/(u.weight+h.weight),u.weight+=h.weight):(u.barycenter=h.barycenter,u.weight=h.weight)}}),rtt=Te((t,e)=>{var n=ki("@dagrejs/graphlib").Graph,r=dn();e.exports=i;function i(o,c,u,h){h||(h=o.nodes());let d=s(o),p=new n({compound:!0}).setGraph({root:d}).setDefaultNodeLabel(m=>o.node(m));return h.forEach(m=>{let y=o.node(m),x=o.parent(m);(y.rank===c||y.minRank<=c&&c<=y.maxRank)&&(p.setNode(m),p.setParent(m,x||d),o[u](m).forEach(b=>{let S=b.v===m?b.w:b.v,_=p.edge(S,m),T=_!==void 0?_.weight:0;p.setEdge(S,m,{weight:o.edge(b).weight+T})}),Object.hasOwn(y,"minRank")&&p.setNode(m,{borderLeft:y.borderLeft[c],borderRight:y.borderRight[c]}))}),p}function s(o){for(var c;o.hasNode(c=r.uniqueId("_root")););return c}}),itt=Te((t,e)=>{e.exports=n;function n(r,i,s){let o={},c;s.forEach(u=>{let h=r.parent(u),d,p;for(;h;){if(d=r.parent(h),d?(p=o[d],o[d]=h):(p=c,c=h),p&&p!==h){i.setEdge(p,h);return}h=d}})}}),att=Te((t,e)=>{var n=KJ(),r=QJ(),i=ntt(),s=rtt(),o=itt(),c=ki("@dagrejs/graphlib").Graph,u=dn();e.exports=h;function h(y,x={}){if(typeof x.customOrder=="function"){x.customOrder(y,h);return}let b=u.maxRank(y),S=d(y,u.range(1,b+1),"inEdges"),_=d(y,u.range(b-1,-1,-1),"outEdges"),T=n(y);if(m(y,T),x.disableOptimalOrderHeuristic)return;let w=Number.POSITIVE_INFINITY,E,M=x.constraints||[];for(let L=0,N=0;N<4;++L,++N){p(L%2?S:_,L%4>=2,M),T=u.buildLayerMatrix(y);let $=r(y,T);$<w?(N=0,E=Object.assign({},T),w=$):$===w&&(E=structuredClone(T))}m(y,E)}function d(y,x,b){let S=new Map,_=(T,w)=>{S.has(T)||S.set(T,[]),S.get(T).push(w)};for(let T of y.nodes()){let w=y.node(T);if(typeof w.rank=="number"&&_(w.rank,T),typeof w.minRank=="number"&&typeof w.maxRank=="number")for(let E=w.minRank;E<=w.maxRank;E++)E!==w.rank&&_(E,T)}return x.map(function(T){return s(y,T,b,S.get(T)||[])})}function p(y,x,b){let S=new c;y.forEach(function(_){b.forEach(E=>S.setEdge(E.left,E.right));let T=_.graph().root,w=i(_,T,S,x);w.vs.forEach((E,M)=>_.node(E).order=M),o(_,S,w.vs)})}function m(y,x){Object.values(x).forEach(b=>b.forEach((S,_)=>y.node(S).order=_))}}),stt=Te((t,e)=>{var n=ki("@dagrejs/graphlib").Graph,r=dn();e.exports={positionX:b,findType1Conflicts:i,findType2Conflicts:s,addConflict:c,hasConflict:u,verticalAlignment:h,horizontalCompaction:d,alignCoordinates:y,findSmallestWidthAlignment:m,balance:x};function i(T,w){let E={};function M(L,N){let $=0,z=0,P=L.length,j=N[N.length-1];return N.forEach((W,G)=>{let B=o(T,W),H=B?T.node(B).order:P;(B||W===j)&&(N.slice(z,G+1).forEach(R=>{T.predecessors(R).forEach(I=>{let U=T.node(I),Z=U.order;(Z<$||H<Z)&&!(U.dummy&&T.node(R).dummy)&&c(E,I,R)})}),z=G+1,$=H)}),N}return w.length&&w.reduce(M),E}function s(T,w){let E={};function M(N,$,z,P,j){let W;r.range($,z).forEach(G=>{W=N[G],T.node(W).dummy&&T.predecessors(W).forEach(B=>{let H=T.node(B);H.dummy&&(H.order<P||H.order>j)&&c(E,B,W)})})}function L(N,$){let z=-1,P,j=0;return $.forEach((W,G)=>{if(T.node(W).dummy==="border"){let B=T.predecessors(W);B.length&&(P=T.node(B[0]).order,M($,j,G,z,P),j=G,z=P)}M($,j,$.length,P,N.length)}),$}return w.length&&w.reduce(L),E}function o(T,w){if(T.node(w).dummy)return T.predecessors(w).find(E=>T.node(E).dummy)}function c(T,w,E){if(w>E){let L=w;w=E,E=L}let M=T[w];M||(T[w]=M={}),M[E]=!0}function u(T,w,E){if(w>E){let M=w;w=E,E=M}return!!T[w]&&Object.hasOwn(T[w],E)}function h(T,w,E,M){let L={},N={},$={};return w.forEach(z=>{z.forEach((P,j)=>{L[P]=P,N[P]=P,$[P]=j})}),w.forEach(z=>{let P=-1;z.forEach(j=>{let W=M(j);if(W.length){W=W.sort((B,H)=>$[B]-$[H]);let G=(W.length-1)/2;for(let B=Math.floor(G),H=Math.ceil(G);B<=H;++B){let R=W[B];N[j]===j&&P<$[R]&&!u(E,j,R)&&(N[R]=j,N[j]=L[j]=L[R],P=$[R])}}})}),{root:L,align:N}}function d(T,w,E,M,L){let N={},$=p(T,w,E,L),z=L?"borderLeft":"borderRight";function P(G,B){let H=$.nodes().slice(),R={},I=H.pop();for(;I;){if(R[I])G(I);else{R[I]=!0,H.push(I);for(let U of B(I))H.push(U)}I=H.pop()}}function j(G){N[G]=$.inEdges(G).reduce((B,H)=>Math.max(B,N[H.v]+$.edge(H)),0)}function W(G){let B=$.outEdges(G).reduce((R,I)=>Math.min(R,N[I.w]-$.edge(I)),Number.POSITIVE_INFINITY),H=T.node(G);B!==Number.POSITIVE_INFINITY&&H.borderType!==z&&(N[G]=Math.max(N[G],B))}return P(j,$.predecessors.bind($)),P(W,$.successors.bind($)),Object.keys(M).forEach(G=>N[G]=N[E[G]]),N}function p(T,w,E,M){let L=new n,N=T.graph(),$=S(N.nodesep,N.edgesep,M);return w.forEach(z=>{let P;z.forEach(j=>{let W=E[j];if(L.setNode(W),P){var G=E[P],B=L.edge(G,W);L.setEdge(G,W,Math.max($(T,j,P),B||0))}P=j})}),L}function m(T,w){return Object.values(w).reduce((E,M)=>{let L=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;Object.entries(M).forEach(([z,P])=>{let j=_(T,z)/2;L=Math.max(P+j,L),N=Math.min(P-j,N)});let $=L-N;return $<E[0]&&(E=[$,M]),E},[Number.POSITIVE_INFINITY,null])[1]}function y(T,w){let E=Object.values(w),M=r.applyWithChunking(Math.min,E),L=r.applyWithChunking(Math.max,E);["u","d"].forEach(N=>{["l","r"].forEach($=>{let z=N+$,P=T[z];if(P===w)return;let j=Object.values(P),W=M-r.applyWithChunking(Math.min,j);$!=="l"&&(W=L-r.applyWithChunking(Math.max,j)),W&&(T[z]=r.mapValues(P,G=>G+W))})})}function x(T,w){return r.mapValues(T.ul,(E,M)=>{if(w)return T[w.toLowerCase()][M];{let L=Object.values(T).map(N=>N[M]).sort((N,$)=>N-$);return(L[1]+L[2])/2}})}function b(T){let w=r.buildLayerMatrix(T),E=Object.assign(i(T,w),s(T,w)),M={},L;["u","d"].forEach($=>{L=$==="u"?w:Object.values(w).reverse(),["l","r"].forEach(z=>{z==="r"&&(L=L.map(G=>Object.values(G).reverse()));let P=($==="u"?T.predecessors:T.successors).bind(T),j=h(T,L,E,P),W=d(T,L,j.root,j.align,z==="r");z==="r"&&(W=r.mapValues(W,G=>-G)),M[$+z]=W})});let N=m(T,M);return y(M,N),x(M,T.graph().align)}function S(T,w,E){return(M,L,N)=>{let $=M.node(L),z=M.node(N),P=0,j;if(P+=$.width/2,Object.hasOwn($,"labelpos"))switch($.labelpos.toLowerCase()){case"l":j=-$.width/2;break;case"r":j=$.width/2;break}if(j&&(P+=E?j:-j),j=0,P+=($.dummy?w:T)/2,P+=(z.dummy?w:T)/2,P+=z.width/2,Object.hasOwn(z,"labelpos"))switch(z.labelpos.toLowerCase()){case"l":j=z.width/2;break;case"r":j=-z.width/2;break}return j&&(P+=E?j:-j),j=0,P}}function _(T,w){return T.node(w).width}}),ott=Te((t,e)=>{var n=dn(),r=stt().positionX;e.exports=i;function i(o){o=n.asNonCompoundGraph(o),s(o),Object.entries(r(o)).forEach(([c,u])=>o.node(c).x=u)}function s(o){let c=n.buildLayerMatrix(o),u=o.graph().ranksep,h=0;c.forEach(d=>{let p=d.reduce((m,y)=>{let x=o.node(y).height;return m>x?m:x},0);d.forEach(m=>o.node(m).y=h+p/2),h+=p+u})}}),ltt=Te((t,e)=>{var n=VJ(),r=qJ(),i=WJ(),s=dn().normalizeRanks,o=YJ(),c=dn().removeEmptyRanks,u=GJ(),h=XJ(),d=ZJ(),p=att(),m=ott(),y=dn(),x=ki("@dagrejs/graphlib").Graph;e.exports=b;function b(X,Q={}){let tt=Q.debugTiming?y.time:y.notime;return tt("layout",()=>{let at=tt("  buildLayoutGraph",()=>P(X));return tt("  runLayout",()=>S(at,tt,Q)),tt("  updateInputGraph",()=>_(X,at)),at})}function S(X,Q,tt){Q("    makeSpaceForEdgeLabels",()=>j(X)),Q("    removeSelfEdges",()=>nt(X)),Q("    acyclic",()=>n.run(X)),Q("    nestingGraph.run",()=>u.run(X)),Q("    rank",()=>i(y.asNonCompoundGraph(X))),Q("    injectEdgeLabelProxies",()=>W(X)),Q("    removeEmptyRanks",()=>c(X)),Q("    nestingGraph.cleanup",()=>u.cleanup(X)),Q("    normalizeRanks",()=>s(X)),Q("    assignRankMinMax",()=>G(X)),Q("    removeEdgeLabelProxies",()=>B(X)),Q("    normalize.run",()=>r.run(X)),Q("    parentDummyChains",()=>o(X)),Q("    addBorderSegments",()=>h(X)),Q("    order",()=>p(X,tt)),Q("    insertSelfEdges",()=>q(X)),Q("    adjustCoordinateSystem",()=>d.adjust(X)),Q("    position",()=>m(X)),Q("    positionSelfEdges",()=>V(X)),Q("    removeBorderNodes",()=>Z(X)),Q("    normalize.undo",()=>r.undo(X)),Q("    fixupEdgeLabelCoords",()=>I(X)),Q("    undoCoordinateSystem",()=>d.undo(X)),Q("    translateGraph",()=>H(X)),Q("    assignNodeIntersects",()=>R(X)),Q("    reversePoints",()=>U(X)),Q("    acyclic.undo",()=>n.undo(X))}function _(X,Q){X.nodes().forEach(tt=>{let at=X.node(tt),ut=Q.node(tt);at&&(at.x=ut.x,at.y=ut.y,at.order=ut.order,at.rank=ut.rank,Q.children(tt).length&&(at.width=ut.width,at.height=ut.height))}),X.edges().forEach(tt=>{let at=X.edge(tt),ut=Q.edge(tt);at.points=ut.points,Object.hasOwn(ut,"x")&&(at.x=ut.x,at.y=ut.y)}),X.graph().width=Q.graph().width,X.graph().height=Q.graph().height}var T=["nodesep","edgesep","ranksep","marginx","marginy"],w={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],M=["width","height","rank"],L={width:0,height:0},N=["minlen","weight","width","height","labeloffset"],$={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},z=["labelpos"];function P(X){let Q=new x({multigraph:!0,compound:!0}),tt=et(X.graph());return Q.setGraph(Object.assign({},w,K(tt,T),y.pick(tt,E))),X.nodes().forEach(at=>{let ut=et(X.node(at)),pt=K(ut,M);Object.keys(L).forEach(vt=>{pt[vt]===void 0&&(pt[vt]=L[vt])}),Q.setNode(at,pt),Q.setParent(at,X.parent(at))}),X.edges().forEach(at=>{let ut=et(X.edge(at));Q.setEdge(at,Object.assign({},$,K(ut,N),y.pick(ut,z)))}),Q}function j(X){let Q=X.graph();Q.ranksep/=2,X.edges().forEach(tt=>{let at=X.edge(tt);at.minlen*=2,at.labelpos.toLowerCase()!=="c"&&(Q.rankdir==="TB"||Q.rankdir==="BT"?at.width+=at.labeloffset:at.height+=at.labeloffset)})}function W(X){X.edges().forEach(Q=>{let tt=X.edge(Q);if(tt.width&&tt.height){let at=X.node(Q.v),ut={rank:(X.node(Q.w).rank-at.rank)/2+at.rank,e:Q};y.addDummyNode(X,"edge-proxy",ut,"_ep")}})}function G(X){let Q=0;X.nodes().forEach(tt=>{let at=X.node(tt);at.borderTop&&(at.minRank=X.node(at.borderTop).rank,at.maxRank=X.node(at.borderBottom).rank,Q=Math.max(Q,at.maxRank))}),X.graph().maxRank=Q}function B(X){X.nodes().forEach(Q=>{let tt=X.node(Q);tt.dummy==="edge-proxy"&&(X.edge(tt.e).labelRank=tt.rank,X.removeNode(Q))})}function H(X){let Q=Number.POSITIVE_INFINITY,tt=0,at=Number.POSITIVE_INFINITY,ut=0,pt=X.graph(),vt=pt.marginx||0,bt=pt.marginy||0;function kt(_t){let Pt=_t.x,Yt=_t.y,de=_t.width,Ye=_t.height;Q=Math.min(Q,Pt-de/2),tt=Math.max(tt,Pt+de/2),at=Math.min(at,Yt-Ye/2),ut=Math.max(ut,Yt+Ye/2)}X.nodes().forEach(_t=>kt(X.node(_t))),X.edges().forEach(_t=>{let Pt=X.edge(_t);Object.hasOwn(Pt,"x")&&kt(Pt)}),Q-=vt,at-=bt,X.nodes().forEach(_t=>{let Pt=X.node(_t);Pt.x-=Q,Pt.y-=at}),X.edges().forEach(_t=>{let Pt=X.edge(_t);Pt.points.forEach(Yt=>{Yt.x-=Q,Yt.y-=at}),Object.hasOwn(Pt,"x")&&(Pt.x-=Q),Object.hasOwn(Pt,"y")&&(Pt.y-=at)}),pt.width=tt-Q+vt,pt.height=ut-at+bt}function R(X){X.edges().forEach(Q=>{let tt=X.edge(Q),at=X.node(Q.v),ut=X.node(Q.w),pt,vt;tt.points?(pt=tt.points[0],vt=tt.points[tt.points.length-1]):(tt.points=[],pt=ut,vt=at),tt.points.unshift(y.intersectRect(at,pt)),tt.points.push(y.intersectRect(ut,vt))})}function I(X){X.edges().forEach(Q=>{let tt=X.edge(Q);if(Object.hasOwn(tt,"x"))switch((tt.labelpos==="l"||tt.labelpos==="r")&&(tt.width-=tt.labeloffset),tt.labelpos){case"l":tt.x-=tt.width/2+tt.labeloffset;break;case"r":tt.x+=tt.width/2+tt.labeloffset;break}})}function U(X){X.edges().forEach(Q=>{let tt=X.edge(Q);tt.reversed&&tt.points.reverse()})}function Z(X){X.nodes().forEach(Q=>{if(X.children(Q).length){let tt=X.node(Q),at=X.node(tt.borderTop),ut=X.node(tt.borderBottom),pt=X.node(tt.borderLeft[tt.borderLeft.length-1]),vt=X.node(tt.borderRight[tt.borderRight.length-1]);tt.width=Math.abs(vt.x-pt.x),tt.height=Math.abs(ut.y-at.y),tt.x=pt.x+tt.width/2,tt.y=at.y+tt.height/2}}),X.nodes().forEach(Q=>{X.node(Q).dummy==="border"&&X.removeNode(Q)})}function nt(X){X.edges().forEach(Q=>{if(Q.v===Q.w){var tt=X.node(Q.v);tt.selfEdges||(tt.selfEdges=[]),tt.selfEdges.push({e:Q,label:X.edge(Q)}),X.removeEdge(Q)}})}function q(X){var Q=y.buildLayerMatrix(X);Q.forEach(tt=>{var at=0;tt.forEach((ut,pt)=>{var vt=X.node(ut);vt.order=pt+at,(vt.selfEdges||[]).forEach(bt=>{y.addDummyNode(X,"selfedge",{width:bt.label.width,height:bt.label.height,rank:vt.rank,order:pt+ ++at,e:bt.e,label:bt.label},"_se")}),delete vt.selfEdges})})}function V(X){X.nodes().forEach(Q=>{var tt=X.node(Q);if(tt.dummy==="selfedge"){var at=X.node(tt.e.v),ut=at.x+at.width/2,pt=at.y,vt=tt.x-ut,bt=at.height/2;X.setEdge(tt.e,tt.label),X.removeNode(Q),tt.label.points=[{x:ut+2*vt/3,y:pt-bt},{x:ut+5*vt/6,y:pt-bt},{x:ut+vt,y:pt},{x:ut+5*vt/6,y:pt+bt},{x:ut+2*vt/3,y:pt+bt}],tt.label.x=tt.x,tt.label.y=tt.y}})}function K(X,Q){return y.mapValues(y.pick(X,Q),Number)}function et(X){var Q={};return X&&Object.entries(X).forEach(([tt,at])=>{typeof tt=="string"&&(tt=tt.toLowerCase()),Q[tt]=at}),Q}}),ctt=Te((t,e)=>{var n=dn(),r=ki("@dagrejs/graphlib").Graph;e.exports={debugOrdering:i};function i(s){let o=n.buildLayerMatrix(s),c=new r({compound:!0,multigraph:!0}).setGraph({});return s.nodes().forEach(u=>{c.setNode(u,{label:u}),c.setParent(u,"layer"+s.node(u).rank)}),s.edges().forEach(u=>c.setEdge(u.v,u.w,{},u.name)),o.forEach((u,h)=>{let d="layer"+h;c.setNode(d,{rank:"same"}),u.reduce((p,m)=>(c.setEdge(p,m,{style:"invis"}),m))}),c}}),utt=Te((t,e)=>{e.exports="2.0.3"}),htt=Te((t,e)=>{e.exports={graphlib:ki("@dagrejs/graphlib"),layout:ltt(),debug:ctt(),util:{time:dn().time,notime:dn().notime},version:utt()}});const qE=htt();const UE=140,WE=50;function dtt(t,e){const n=new qE.graphlib.Graph;return n.setDefaultEdgeLabel(()=>({})),n.setGraph({rankdir:"TB",ranksep:80,nodesep:40}),t.forEach(r=>{n.setNode(r.id,{width:UE,height:WE})}),e.forEach(r=>{n.setEdge(r.source,r.target)}),qE.layout(n),t.map(r=>{const i=n.node(r.id);return{...r,position:{x:i.x-UE/2,y:i.y-WE/2}}})}function ftt(t,e,n){const r=[],i=[];r.push({id:"project",position:{x:0,y:0},data:{label:" Project"},style:{backgroundColor:F.bg.surfaceHover,color:F.text.primary,border:`2px solid ${F.accent}`,borderRadius:"12px",padding:"12px 20px",fontSize:"14px",fontWeight:600},sourcePosition:Bt.Bottom}),Object.entries(n).forEach(([c,u])=>{const h=qi(c);r.push({id:`squad-${c}`,position:{x:0,y:0},data:{label:`${u.icon} ${u.label}`},style:{backgroundColor:h.bg,color:h.main,border:`1.5px solid ${h.main}40`,borderRadius:"10px",padding:"8px 16px",fontSize:"12px",fontWeight:600},sourcePosition:Bt.Bottom,targetPosition:Bt.Top}),i.push({id:`project-${c}`,source:"project",target:`squad-${c}`,style:{stroke:h.main+"40",strokeWidth:1.5},animated:!1})}),e.forEach(c=>{const u=qi(c.squad),h=t[c.id],d=h?.status==="working",p=h?.status==="done";r.push({id:`agent-${c.id}`,position:{x:0,y:0},data:{label:`${c.icon} ${c.shortName}
${h?.status||"idle"}`,agentId:c.id},style:{backgroundColor:d?u.bg:F.bg.surface,color:d?u.main:p?F.status.complete:F.text.secondary,border:`1.5px solid ${d?u.main:p?F.status.complete+"40":F.bg.border}`,borderRadius:"8px",padding:"6px 12px",fontSize:"10px",fontWeight:500,textAlign:"center",whiteSpace:"pre-line",cursor:"pointer"},targetPosition:Bt.Top,sourcePosition:Bt.Bottom}),i.push({id:`squad-${c.squad}-agent-${c.id}`,source:`squad-${c.squad}`,target:`agent-${c.id}`,style:{stroke:d?u.main:F.bg.border,strokeWidth:d?2:1},animated:d})});const s=e.filter(c=>t[c.id]?.status==="working");for(let c=0;c<s.length;c++)for(let u=c+1;u<s.length;u++)s[c].squad!==s[u].squad&&i.push({id:`collab-${s[c].id}-${s[u].id}`,source:`agent-${s[c].id}`,target:`agent-${s[u].id}`,style:{stroke:F.status.blocked+"40",strokeWidth:1,strokeDasharray:"4"},label:"collaborating",labelStyle:{fontSize:9,fill:F.text.muted}});return{nodes:dtt(r,i),edges:i}}const ptt=A.memo(function(){const{agents:e,agentMetas:n,squads:r}=Mn(),{selectAgent:i}=Si(),{nodes:s,edges:o}=A.useMemo(()=>ftt(e,n,r),[e,n,r]),[c,,u]=dJ(s),[h,,d]=fJ(o),p=Object.values(e).filter(S=>S.status==="working").length,m=Object.values(e).filter(S=>S.status==="done").length,y=Object.values(e).filter(S=>S.status==="error").length,x=Object.values(e).filter(S=>S.status==="error"||S.status==="paused").length,b=(S,_)=>{const T=_.data?.agentId;T&&i(T)};return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Emergence Map"}),k.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:F.text.secondary},children:[k.jsxs("span",{children:[" ",p," active"]}),k.jsxs("span",{children:[" ",m," done"]}),y>0&&k.jsxs("span",{style:{color:F.status.error},children:[" ",y," errors"]}),x>0&&k.jsxs("span",{style:{color:F.status.blocked},children:[" ",x," blocked"]})]})]}),k.jsx("div",{className:"flex-1",style:{backgroundColor:F.bg.primary},children:k.jsxs(hJ,{nodes:c,edges:h,onNodesChange:u,onEdgesChange:d,onNodeClick:b,fitView:!0,proOptions:{hideAttribution:!0},style:{background:F.bg.primary},children:[k.jsx(xJ,{color:F.bg.border,gap:20,size:1}),k.jsx(kJ,{})]})}),k.jsxs("div",{className:"px-6 py-3 border-t",style:{borderColor:F.bg.border},children:[k.jsx("h4",{className:"text-[10px] font-semibold uppercase tracking-wider mb-2",style:{color:F.text.muted},children:"Patterns Detected"}),k.jsxs("div",{className:"flex gap-4 text-xs",style:{color:F.text.secondary},children:[p>2&&k.jsxs("span",{children:[" High activity: ",p," agents working simultaneously"]}),m>6&&k.jsxs("span",{children:[" Good progress: ",m,"/",n.length," agents completed"]}),y>0&&k.jsxs("span",{children:[" Attention: ",y," agent(s) with errors"]}),x>0&&k.jsxs("span",{children:[" Bottleneck: ",x," agent(s) blocked  may be holding up dependencies"]}),p===0&&m===0&&k.jsx("span",{children:" All agents idle  click an agent node to inspect, or start a task"})]})]})]})}),gtt={exec:"",write:"",read:"",thinking:"",result:"",error:"",system:"",inject:""},mtt={exec:"#60A5FA",write:"#34D399",read:"#A78BFA",thinking:"#8B8B8E",result:"#10B981",error:"#EF4444",system:"#EAB308",inject:"#F59E0B"},YE={status:"idle",currentTask:null,checklist:[]},ytt=A.memo(function(){const{selectedAgentId:e,selectAgent:n,setView:r}=Si(),{agents:i,agentMetas:s}=Mn(),[o,c]=A.useState([]),[u,h]=A.useState(""),[d,p]=A.useState(!0),m=A.useRef(null),y=A.useRef(null),x=e?Fh(e,s):null,b=e&&i[e]||YE,S=x?qi(x.squad):{main:"#666"};A.useEffect(()=>{if(!e)return;const w=new EventSource(`/api/agents/${e}/stream`);return w.onmessage=E=>{try{const M=JSON.parse(E.data),L={id:`${Date.now()}-${Math.random().toString(36).slice(2,6)}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:M.type||"system",content:M.content||M.message||JSON.stringify(M),detail:M.detail};c(N=>[...N.slice(-500),L])}catch{}},w.onerror=()=>{},()=>w.close()},[e]),A.useEffect(()=>{if(!e||!b)return;const w=[];b.output&&w.push({id:"output-0",timestamp:"--:--:--",type:"result",content:b.output}),b.checklist?.forEach((E,M)=>{E.done&&w.push({id:`check-${M}`,timestamp:"--:--:--",type:"result",content:` ${E.text}`})}),b.status==="working"&&b.currentTask&&w.push({id:"current",timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:"system",content:`Working on: ${b.currentTask}`}),w.length>0&&c(w)},[e]),A.useEffect(()=>{d&&m.current&&m.current.scrollTo({top:m.current.scrollHeight,behavior:"smooth"})},[o,d]);const _=async()=>{if(!u.trim()||!e)return;const w=u.trim();h(""),c(E=>[...E,{id:`inject-${Date.now()}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:"inject",content:`[YOU]  ${w}`}]);try{await fetch(`/api/agents/${e}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:w})})}catch{c(E=>[...E,{id:`err-${Date.now()}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:"error",content:"Failed to inject command"}])}},T=async w=>{if(e)try{await fetch(`/api/agents/${e}/${w}`,{method:"POST"})}catch{}};return!x||!e?k.jsx("div",{className:"flex-1 flex items-center justify-center",style:{color:F.text.muted},children:"Select an agent to view terminal"}):k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("button",{onClick:()=>n(null),className:"p-1 rounded hover:bg-white/5",style:{color:F.text.secondary},children:k.jsx(aN,{size:16})}),k.jsx(bN,{size:16,style:{color:S.main}}),k.jsxs("span",{className:"text-sm font-semibold",style:{color:F.text.primary},children:[x.icon," ",x.name]}),k.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full",style:{backgroundColor:b.status==="working"?S.main+"15":F.bg.surfaceHover,color:b.status==="working"?S.main:F.text.secondary},children:b.status})]}),k.jsxs("div",{className:"flex items-center gap-1.5",children:[b.status==="working"?k.jsx(Uf,{icon:k.jsx(dN,{size:12}),label:"Pause",onClick:()=>T("pause")}):k.jsx(Uf,{icon:k.jsx(fN,{size:12}),label:"Resume",onClick:()=>T("resume")}),k.jsx(Uf,{icon:k.jsx(LH,{size:12}),label:"Redirect",onClick:()=>T("redirect")}),k.jsx(Uf,{icon:k.jsx(vN,{size:12}),label:"Clear",onClick:()=>c([])})]})]}),k.jsxs("div",{ref:m,className:"flex-1 overflow-y-auto font-mono text-xs p-4 space-y-0.5",style:{backgroundColor:"#050506"},onScroll:()=>{if(!m.current)return;const{scrollTop:w,scrollHeight:E,clientHeight:M}=m.current;p(E-w-M<50)},children:[o.length===0&&k.jsx("p",{className:"text-center py-12",style:{color:F.text.muted},children:b.status==="working"?" Waiting for agent activity...":`Agent is ${b.status}. Start a task to see activity here.`}),o.map(w=>k.jsxs("div",{className:"flex items-start gap-2 leading-relaxed py-0.5",children:[k.jsxs("span",{style:{color:F.text.muted},className:"flex-shrink-0 select-none",children:["[",w.timestamp,"]"]}),k.jsx("span",{className:"flex-shrink-0",style:{color:mtt[w.type]},children:gtt[w.type]}),k.jsx("span",{style:{color:w.type==="error"?F.status.error:F.text.primary},children:w.content})]},w.id)),b.status==="working"&&k.jsx(Ne.div,{className:"flex items-center gap-1 pt-1",animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0},children:k.jsx("span",{style:{color:S.main},children:""})})]}),k.jsx("div",{className:"border-t p-3",style:{borderColor:F.bg.border,backgroundColor:F.bg.surface},children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"text-xs font-mono",style:{color:S.main},children:"$"}),k.jsx("input",{ref:y,value:u,onChange:w=>h(w.target.value),onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),_())},placeholder:"Intervene: redirect agent, inject command, or send instruction...",className:"flex-1 bg-transparent text-xs font-mono outline-none",style:{color:F.text.primary}}),k.jsx("button",{onClick:_,disabled:!u.trim(),className:"p-1.5 rounded transition-colors disabled:opacity-20",style:{color:S.main},children:k.jsx(xN,{size:14})})]})})]})});function Uf({icon:t,label:e,onClick:n}){return k.jsxs("button",{onClick:n,className:"flex items-center gap-1 px-2 py-1 rounded text-[10px] transition-colors hover:bg-white/5",style:{color:F.text.secondary},title:e,children:[t,k.jsx("span",{className:"hidden sm:inline",children:e})]})}const xtt={status:"idle",progress:0},btt=[{id:"brief",agentId:"analyst",label:"Project Brief",startDay:0,duration:2,dependencies:[]},{id:"prd",agentId:"pm",label:"PRD",startDay:2,duration:3,dependencies:["brief"]},{id:"ux-spec",agentId:"ux-design-expert",label:"UX Spec",startDay:3,duration:3,dependencies:["prd"]},{id:"architecture",agentId:"architect",label:"Architecture",startDay:4,duration:3,dependencies:["prd"]},{id:"validation",agentId:"po",label:"PO Validation",startDay:7,duration:1,dependencies:["prd","ux-spec","architecture"]},{id:"sharding",agentId:"sm",label:"Task Sharding",startDay:8,duration:2,dependencies:["validation"]},{id:"db-design",agentId:"data-engineer",label:"Database Design",startDay:8,duration:2,dependencies:["architecture"]},{id:"dev-sprint",agentId:"dev",label:"Development Sprint",startDay:10,duration:5,dependencies:["sharding","db-design"]},{id:"qa-review",agentId:"qa",label:"QA & Testing",startDay:12,duration:3,dependencies:["dev-sprint"]},{id:"devops-deploy",agentId:"devops",label:"CI/CD & Deploy",startDay:14,duration:2,dependencies:["qa-review"]}];function vtt(t,e){return e.map(n=>{const r=t[n.agentId]||xtt,i=r.status==="done",s=r.status==="working",o=r.status==="error",c=n.dependencies.every(u=>{const h=e.find(p=>p.id===u);return h?t[h.agentId]?.status==="done":!0});return{...n,progress:i?100:r.progress||0,status:i?"done":o?"blocked":s?"active":c?"waiting":"blocked"}})}function wtt(t){const e=new Map(t.map(s=>[s.id,s])),n=new Map;function r(s){if(n.has(s))return n.get(s);const o=e.get(s);if(!o)return{length:0,path:[]};if(o.dependencies.length===0){const h={length:o.duration,path:[o.id]};return n.set(s,h),h}let c={length:0,path:[]};for(const h of o.dependencies){const d=r(h);d.length>c.length&&(c=d)}const u={length:c.length+o.duration,path:[...c.path,o.id]};return n.set(s,u),u}let i={length:0,path:[]};for(const s of t){const o=r(s.id);o.length>i.length&&(i=o)}return i.path}function Stt({tasks:t,dayWidth:e,labelWidth:n,agentMetas:r}){const i=new Map(t.map((c,u)=>[c.id,{task:c,index:u}])),s=36,o=[];return t.forEach((c,u)=>{c.dependencies.forEach(h=>{const d=i.get(h);if(!d)return;const p=(d.task.startDay+d.task.duration)*e,m=d.index*s+s/2,y=c.startDay*e,x=u*s+s/2,b=Fh(c.agentId,r),S=b?qi(b.squad):{main:"#666"};o.push({x1:p,y1:m,x2:y,y2:x,color:S.main+"50"})})}),o.length===0?null:k.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none",style:{left:`${n}px`,width:`calc(100% - ${n}px)`,height:t.length*s},children:[k.jsx("defs",{children:k.jsx("marker",{id:"arrow-head",markerWidth:"6",markerHeight:"4",refX:"6",refY:"2",orient:"auto",children:k.jsx("polygon",{points:"0 0, 6 2, 0 4",fill:F.text.muted,opacity:.5})})}),o.map((c,u)=>{const h=(c.x1+c.x2)/2;return k.jsx("path",{d:`M ${c.x1}% ${c.y1} C ${h}% ${c.y1}, ${h}% ${c.y2}, ${c.x2}% ${c.y2}`,fill:"none",stroke:c.color,strokeWidth:1.5,strokeDasharray:"4 2",markerEnd:"url(#arrow-head)"},u)})]})}const Ctt=A.memo(function(){const{agents:e,agentMetas:n}=Mn(),{selectAgent:r}=Si(),[i,s]=A.useState(null),[o,c]=A.useState(""),[u,h]=A.useState(btt);A.useEffect(()=>{fetch("/api/gantt/tasks").then(w=>w.ok?w.json():null).then(w=>{w?.tasks&&Array.isArray(w.tasks)&&w.tasks.length>0&&h(w.tasks)}).catch(()=>{})},[]);const d=A.useMemo(()=>vtt(e,u),[e,u]),p=Math.max(...d.map(w=>w.startDay+w.duration),16),m=100/p,y=d.filter(w=>w.status==="done").length,x=d.filter(w=>w.status==="blocked").length,b=A.useMemo(()=>wtt(d),[d]),S=b.map(w=>d.find(E=>E.id===w)?.label).filter(Boolean),_=async w=>{if(!o.trim()){s(null);return}const E=d.find(M=>M.id===w);if(E){try{await fetch(`/api/agents/${E.agentId}/directive`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({directive:o})})}catch{}s(null),c("")}},T=160;return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden p-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Gantt  Dynamic Timeline"}),k.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:F.text.secondary},children:[k.jsxs("span",{children:[" ",y,"/",d.length," done"]}),x>0&&k.jsxs("span",{style:{color:F.status.blocked},children:[k.jsx(w1,{size:12,className:"inline mr-1"}),x," blocked"]}),k.jsxs("span",{children:[k.jsx(q9,{size:12,className:"inline mr-1"}),"ETA: ",p," days"]})]})]}),k.jsx("div",{className:"flex items-end mb-1",style:{paddingLeft:`${T}px`},children:Array.from({length:p},(w,E)=>k.jsxs("div",{className:"text-center text-[9px] flex-shrink-0",style:{width:`${m}%`,color:F.text.muted},children:["D",E+1]},E))}),k.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[k.jsx(Stt,{tasks:d,dayWidth:m,labelWidth:T,agentMetas:n}),k.jsx("div",{className:"space-y-1 relative z-10",children:d.map(w=>{const E=Fh(w.agentId,n),M=E?qi(E.squad):{main:"#666"},L=b.includes(w.id),N=w.status==="done"?F.status.complete:w.status==="active"?M.main:w.status==="blocked"?F.status.blocked:F.text.muted;return k.jsxs("div",{className:"flex items-center group",children:[k.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 pr-3 cursor-pointer hover:opacity-80",style:{width:`${T}px`},onClick:()=>r(w.agentId),children:[k.jsx("span",{className:"text-xs",children:E?.icon}),k.jsxs("div",{className:"min-w-0",children:[k.jsxs("p",{className:"text-[11px] font-medium truncate",style:{color:L?F.accent:F.text.primary},children:[w.label,L&&k.jsx("span",{className:"ml-1 text-[8px]",title:"On critical path",children:""})]}),k.jsxs("p",{className:"text-[9px] truncate",style:{color:F.text.muted},children:[E?.shortName,"  ",w.status]})]})]}),k.jsxs("div",{className:"flex-1 relative h-8 flex items-center",children:[Array.from({length:p},($,z)=>k.jsx("div",{className:"absolute top-0 bottom-0 border-l",style:{left:`${z*m}%`,borderColor:F.bg.border+"40"}},z)),k.jsxs(Ne.div,{className:"absolute h-5 rounded-md flex items-center px-1.5 cursor-pointer",style:{left:`${w.startDay*m}%`,width:`${w.duration*m}%`,backgroundColor:N+"20",border:`1px solid ${N}40`,boxShadow:L?`0 0 8px ${F.accent}30`:void 0},whileHover:{backgroundColor:N+"30"},onClick:()=>{s(w.id),c(w.directive||`Direct ${E?.name||"agent"}: `)},children:[k.jsx(Ne.div,{className:"absolute inset-0 rounded-md",style:{backgroundColor:N+"30",originX:0},animate:{scaleX:w.progress/100},transition:{duration:.5}}),k.jsx("span",{className:"relative text-[9px] font-medium truncate",style:{color:N},children:w.progress>0&&w.progress<100?`${w.progress}%`:""})]}),k.jsx("button",{className:"absolute opacity-0 group-hover:opacity-100 transition-opacity",style:{left:`${(w.startDay+w.duration)*m+.5}%`,color:F.text.secondary},onClick:()=>{s(w.id),c("")},title:"Edit directive",children:k.jsx(ch,{size:10})})]})]},w.id)})})]}),i&&k.jsxs(Ne.div,{className:"border-t p-4",style:{borderColor:F.bg.border,backgroundColor:F.bg.surface},initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},children:[k.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[k.jsx(ch,{size:14,style:{color:F.accent}}),k.jsxs("span",{className:"text-xs font-semibold",style:{color:F.text.primary},children:["Edit Directive  ",d.find(w=>w.id===i)?.label]})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("input",{value:o,onChange:w=>c(w.target.value),onKeyDown:w=>{w.key==="Enter"&&_(i),w.key==="Escape"&&s(null)},placeholder:"Enter new directive for this agent...",className:"flex-1 rounded-lg px-3 py-2 text-xs outline-none border",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},autoFocus:!0}),k.jsx("button",{onClick:()=>_(i),className:"rounded-lg px-4 py-2 text-xs font-medium",style:{backgroundColor:F.accent,color:"#fff"},children:"Apply"}),k.jsx("button",{onClick:()=>s(null),className:"rounded-lg px-3 py-2 text-xs",style:{color:F.text.secondary},children:"Cancel"})]})]}),k.jsx("div",{className:"mt-3 px-1",children:k.jsxs("p",{className:"text-[10px]",style:{color:F.text.muted},children:[" Critical Path: ",S.length>0?S.join("  "):"All done!"]})})]})}),_tt={status:"idle"},ktt=A.memo(function(){const{agents:e,agentMetas:n}=Mn(),[r,i]=A.useState(""),[s,o]=A.useState(""),[c,u]=A.useState({}),[h,d]=A.useState(null),[p,m]=A.useState(""),[y,x]=A.useState(null),[b,S]=A.useState(!1);A.useEffect(()=>{fetch("/api/strategy").then(w=>w.json()).then(w=>{w.vision&&i(w.vision),w.guardrails&&o(w.guardrails),w.directives&&u(w.directives)}).catch(()=>{i("Define your project vision here..."),o(` Stack constraints
 Quality requirements
 Security policies`)})},[]);const _=async w=>{const E=c[w],M={agentId:w,text:p,history:[...E?.history||[],{text:E?.text||"",timestamp:Date.now()}].slice(-10)};u(L=>({...L,[w]:M})),d(null);try{await fetch(`/api/agents/${w}/directive`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({directive:p})})}catch{}},T=async()=>{try{await fetch("/api/strategy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vision:r,guardrails:s,directives:c})}),S(!0),setTimeout(()=>S(!1),2e3)}catch{}};return k.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:k.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Strategy Canvas"}),k.jsxs("div",{className:"flex items-center gap-2",children:[b&&k.jsx(Ne.span,{className:"text-xs",style:{color:F.status.complete},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:" Saved"}),k.jsxs("button",{onClick:T,className:"flex items-center gap-1.5 rounded-lg px-4 py-2 text-xs font-medium",style:{backgroundColor:F.accent,color:"#fff"},children:[k.jsx(mN,{size:14}),"Apply Changes"]})]})]}),k.jsx($x,{title:" Project Vision",icon:k.jsx(lN,{size:14}),children:k.jsx("textarea",{value:r,onChange:w=>i(w.target.value),className:"w-full rounded-lg p-3 text-sm outline-none border resize-none min-h-[80px]",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},placeholder:"Define the project vision that guides all agents..."})}),k.jsx($x,{title:" Agent Directives",icon:k.jsx(ch,{size:14}),children:k.jsx("div",{className:"space-y-3",children:n.map(w=>{const E=e[w.id]||_tt,M=c[w.id],L=qi(w.squad),N=h===w.id;return k.jsxs("div",{className:"rounded-lg border p-3",style:{backgroundColor:F.bg.surface,borderColor:E.status==="working"?L.main+"40":F.bg.border},children:[k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{children:w.icon}),k.jsx("span",{className:"text-sm font-medium",style:{color:F.text.primary},children:w.name}),k.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full",style:{backgroundColor:E.status==="working"?L.main+"15":F.bg.surfaceHover,color:E.status==="working"?L.main:F.text.muted},children:E.status})]}),k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx("button",{onClick:()=>{N?d(null):(d(w.id),m(M?.text||""))},className:"p-1 rounded hover:bg-white/5",style:{color:F.text.secondary},title:"Edit directive",children:k.jsx(ch,{size:12})}),M?.history?.length?k.jsx("button",{onClick:()=>x(y===w.id?null:w.id),className:"p-1 rounded hover:bg-white/5",style:{color:F.text.secondary},title:"View history",children:k.jsx(rH,{size:12})}):null]})]}),N?k.jsxs("div",{className:"space-y-2",children:[k.jsx("textarea",{value:p,onChange:$=>m($.target.value),className:"w-full rounded-md p-2 text-xs outline-none border resize-none min-h-[60px]",style:{backgroundColor:F.bg.primary,borderColor:L.main+"40",color:F.text.primary},autoFocus:!0,placeholder:`Direct ${w.name}: focus, priorities, constraints...`}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:()=>_(w.id),className:"text-[10px] px-3 py-1 rounded font-medium",style:{backgroundColor:L.main+"20",color:L.main},children:"Save & Apply"}),k.jsx("button",{onClick:()=>d(null),className:"text-[10px] px-3 py-1 rounded",style:{color:F.text.secondary},children:"Cancel"})]})]}):k.jsx("p",{className:"text-xs leading-relaxed",style:{color:M?.text?F.text.secondary:F.text.muted},children:M?.text||`No directive set. Click edit to guide ${w.name}.`}),k.jsx(Ea,{children:y===w.id&&M?.history?.length?k.jsxs(Ne.div,{className:"mt-2 space-y-1 border-t pt-2",style:{borderColor:F.bg.border},initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:[k.jsx("span",{className:"text-[9px] font-semibold uppercase",style:{color:F.text.muted},children:"Previous Directives"}),M.history.filter($=>$.text).map(($,z)=>k.jsxs("div",{className:"flex items-start gap-2 text-[10px]",style:{color:F.text.muted},children:[k.jsx("span",{className:"flex-shrink-0",children:new Date($.timestamp).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})}),k.jsx("span",{children:$.text}),k.jsx("button",{onClick:()=>{d(w.id),m($.text)},className:"flex-shrink-0 hover:opacity-70",title:"Restore this directive",children:k.jsx(gN,{size:10})})]},z))]}):null})]},w.id)})})}),k.jsx($x,{title:" Guardrails (apply to all agents)",icon:k.jsx(DH,{size:14}),children:k.jsx("textarea",{value:s,onChange:w=>o(w.target.value),className:"w-full rounded-lg p-3 text-xs outline-none border resize-none min-h-[100px] font-mono",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},placeholder:"Global rules all agents must follow..."})})]})})});function $x({title:t,icon:e,children:n}){return k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[k.jsx("span",{style:{color:F.accent},children:e}),k.jsx("h3",{className:"text-sm font-semibold",style:{color:F.text.primary},children:t})]}),n]})}function GE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ttt(t){if(Array.isArray(t))return t}function Ett(t,e,n){return(e=Rtt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Att(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,c=[],u=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(d){h=!0,i=d}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Mtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(n),!0).forEach(function(r){Ett(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dtt(t,e){if(t==null)return{};var n,r,i=Ntt(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ntt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ltt(t,e){return Ttt(t)||Att(t,e)||Btt(t,e)||Mtt()}function Ott(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rtt(t){var e=Ott(t,"string");return typeof e=="symbol"?e:e+""}function Btt(t,e){if(t){if(typeof t=="string")return GE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GE(t,e):void 0}}function jtt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(n),!0).forEach(function(r){jtt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function Bu(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return e.apply(n,[].concat(i,c))}}}function ng(t){return{}.toString.call(t).includes("Object")}function ztt(t){return!Object.keys(t).length}function _h(t){return typeof t=="function"}function Ptt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ftt(t,e){return ng(e)||ms("changeType"),Object.keys(e).some(function(n){return!Ptt(t,n)})&&ms("changeField"),e}function Itt(t){_h(t)||ms("selectorType")}function Htt(t){_h(t)||ng(t)||ms("handlerType"),ng(t)&&Object.values(t).some(function(e){return!_h(e)})&&ms("handlersType")}function Vtt(t){t||ms("initialIsRequired"),ng(t)||ms("initialType"),ztt(t)&&ms("initialContent")}function qtt(t,e){throw new Error(t[e]||t.default)}var Utt={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ms=Bu(qtt)(Utt),Wf={changes:Ftt,selector:Itt,handler:Htt,initial:Vtt};function Wtt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Wf.initial(t),Wf.handler(e);var n={current:t},r=Bu(Xtt)(n,e),i=Bu(Gtt)(n),s=Bu(Wf.changes)(t),o=Bu(Ytt)(n);function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return Wf.selector(h),h(n.current)}function u(h){$tt(r,i,s,o)(h)}return[c,u]}function Ytt(t,e){return _h(e)?e(t.current):e}function Gtt(t,e){return t.current=QE(QE({},t.current),e),e}function Xtt(t,e,n){return _h(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var Ztt={create:Wtt},Ktt={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Qtt(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return e.apply(n,[].concat(i,c))}}}function Jtt(t){return{}.toString.call(t).includes("Object")}function tet(t){return t||JE("configIsRequired"),Jtt(t)||JE("configType"),t.urls?(eet(),{paths:{vs:t.urls.monacoBase}}):t}function eet(){console.warn(vO.deprecation)}function net(t,e){throw new Error(t[e]||t.default)}var vO={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},JE=Qtt(net)(vO),ret={config:tet},iet=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,o){return o(s)},i)}};function wO(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],wO(t[n],e[n]))}),ZE(ZE({},t),e)}var aet={type:"cancelation",msg:"operation is manually canceled"};function zx(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(aet):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var set=["monaco"],oet=Ztt.create({config:Ktt,isInitialized:!1,resolve:null,reject:null,monaco:null}),SO=Ltt(oet,2),td=SO[0],cm=SO[1];function cet(t){var e=ret.config(t),n=e.monaco,r=Dtt(e,set);cm(function(i){return{config:wO(i.config,r),monaco:n}})}function uet(){var t=td(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(cm({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),zx(Px);if(window.monaco&&window.monaco.editor)return CO(window.monaco),t.resolve(window.monaco),zx(Px);iet(het,fet)(pet)}return zx(Px)}function het(t){return document.body.appendChild(t)}function det(t){var e=document.createElement("script");return t&&(e.src=t),e}function fet(t){var e=td(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=det("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function pet(){var t=td(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){var r=n.m||n;CO(r),t.resolve(r)},function(n){t.reject(n)})}function CO(t){td().monaco||cm({monaco:t})}function get(){return td(function(t){var e=t.monaco;return e})}var Px=new Promise(function(t,e){return cm({resolve:t,reject:e})}),_O={config:cet,init:uet,__getMonacoInstance:get},met={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Fx=met,yet={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},xet=yet;function bet({children:t}){return re.createElement("div",{style:xet.container},t)}var vet=bet,wet=vet;function Cet({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:o}){return re.createElement("section",{style:{...Fx.wrapper,width:t,height:e},...o},!n&&re.createElement(wet,null,r),re.createElement("div",{ref:i,style:{...Fx.fullWidth,...!n&&Fx.hide},className:s}))}var _et=Cet,kO=A.memo(_et);function ket(t){A.useEffect(t,[])}var TO=ket;function Tet(t,e,n=!0){let r=A.useRef(!0);A.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var zr=Tet;function Ku(){}function jl(t,e,n,r){return Eet(t,r)||Aet(t,e,n,r)}function Eet(t,e){return t.editor.getModel(EO(t,e))}function Aet(t,e,n,r){return t.editor.createModel(e,n,r?EO(t,r):void 0)}function EO(t,e){return t.Uri.parse(e)}function Met({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:h="light",loading:d="Loading...",options:p={},height:m="100%",width:y="100%",className:x,wrapperProps:b={},beforeMount:S=Ku,onMount:_=Ku}){let[T,w]=A.useState(!1),[E,M]=A.useState(!0),L=A.useRef(null),N=A.useRef(null),$=A.useRef(null),z=A.useRef(_),P=A.useRef(S),j=A.useRef(!1);TO(()=>{let H=_O.init();return H.then(R=>(N.current=R)&&M(!1)).catch(R=>R?.type!=="cancelation"&&console.error("Monaco initialization: error:",R)),()=>L.current?B():H.cancel()}),zr(()=>{if(L.current&&N.current){let H=L.current.getOriginalEditor(),R=jl(N.current,t||"",r||n||"text",s||"");R!==H.getModel()&&H.setModel(R)}},[s],T),zr(()=>{if(L.current&&N.current){let H=L.current.getModifiedEditor(),R=jl(N.current,e||"",i||n||"text",o||"");R!==H.getModel()&&H.setModel(R)}},[o],T),zr(()=>{let H=L.current.getModifiedEditor();H.getOption(N.current.editor.EditorOption.readOnly)?H.setValue(e||""):e!==H.getValue()&&(H.executeEdits("",[{range:H.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),H.pushUndoStop())},[e],T),zr(()=>{L.current?.getModel()?.original.setValue(t||"")},[t],T),zr(()=>{let{original:H,modified:R}=L.current.getModel();N.current.editor.setModelLanguage(H,r||n||"text"),N.current.editor.setModelLanguage(R,i||n||"text")},[n,r,i],T),zr(()=>{N.current?.editor.setTheme(h)},[h],T),zr(()=>{L.current?.updateOptions(p)},[p],T);let W=A.useCallback(()=>{if(!N.current)return;P.current(N.current);let H=jl(N.current,t||"",r||n||"text",s||""),R=jl(N.current,e||"",i||n||"text",o||"");L.current?.setModel({original:H,modified:R})},[n,e,i,t,r,s,o]),G=A.useCallback(()=>{!j.current&&$.current&&(L.current=N.current.editor.createDiffEditor($.current,{automaticLayout:!0,...p}),W(),N.current?.editor.setTheme(h),w(!0),j.current=!0)},[p,h,W]);A.useEffect(()=>{T&&z.current(L.current,N.current)},[T]),A.useEffect(()=>{!E&&!T&&G()},[E,T,G]);function B(){let H=L.current?.getModel();c||H?.original?.dispose(),u||H?.modified?.dispose(),L.current?.dispose()}return re.createElement(kO,{width:y,height:m,isEditorReady:T,loading:d,_ref:$,className:x,wrapperProps:b})}var Det=Met;A.memo(Det);function Net(t){let e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}var Let=Net,Yf=new Map;function Oet({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:o="light",line:c,loading:u="Loading...",options:h={},overrideServices:d={},saveViewState:p=!0,keepCurrentModel:m=!1,width:y="100%",height:x="100%",className:b,wrapperProps:S={},beforeMount:_=Ku,onMount:T=Ku,onChange:w,onValidate:E=Ku}){let[M,L]=A.useState(!1),[N,$]=A.useState(!0),z=A.useRef(null),P=A.useRef(null),j=A.useRef(null),W=A.useRef(T),G=A.useRef(_),B=A.useRef(),H=A.useRef(r),R=Let(s),I=A.useRef(!1),U=A.useRef(!1);TO(()=>{let q=_O.init();return q.then(V=>(z.current=V)&&$(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>P.current?nt():q.cancel()}),zr(()=>{let q=jl(z.current,t||r||"",e||i||"",s||n||"");q!==P.current?.getModel()&&(p&&Yf.set(R,P.current?.saveViewState()),P.current?.setModel(q),p&&P.current?.restoreViewState(Yf.get(s)))},[s],M),zr(()=>{P.current?.updateOptions(h)},[h],M),zr(()=>{!P.current||r===void 0||(P.current.getOption(z.current.editor.EditorOption.readOnly)?P.current.setValue(r):r!==P.current.getValue()&&(U.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),P.current.pushUndoStop(),U.current=!1))},[r],M),zr(()=>{let q=P.current?.getModel();q&&i&&z.current?.editor.setModelLanguage(q,i)},[i],M),zr(()=>{c!==void 0&&P.current?.revealLine(c)},[c],M),zr(()=>{z.current?.editor.setTheme(o)},[o],M);let Z=A.useCallback(()=>{if(!(!j.current||!z.current)&&!I.current){G.current(z.current);let q=s||n,V=jl(z.current,r||t||"",e||i||"",q||"");P.current=z.current?.editor.create(j.current,{model:V,automaticLayout:!0,...h},d),p&&P.current.restoreViewState(Yf.get(q)),z.current.editor.setTheme(o),c!==void 0&&P.current.revealLine(c),L(!0),I.current=!0}},[t,e,n,r,i,s,h,d,p,o,c]);A.useEffect(()=>{M&&W.current(P.current,z.current)},[M]),A.useEffect(()=>{!N&&!M&&Z()},[N,M,Z]),H.current=r,A.useEffect(()=>{M&&w&&(B.current?.dispose(),B.current=P.current?.onDidChangeModelContent(q=>{U.current||w(P.current.getValue(),q)}))},[M,w]),A.useEffect(()=>{if(M){let q=z.current.editor.onDidChangeMarkers(V=>{let K=P.current.getModel()?.uri;if(K&&V.find(et=>et.path===K.path)){let et=z.current.editor.getModelMarkers({resource:K});E?.(et)}});return()=>{q?.dispose()}}return()=>{}},[M,E]);function nt(){B.current?.dispose(),m?p&&Yf.set(s,P.current.saveViewState()):P.current.getModel()?.dispose(),P.current.dispose()}return re.createElement(kO,{width:y,height:x,isEditorReady:M,loading:u,_ref:j,className:b,wrapperProps:S})}var Ret=Oet,Bet=A.memo(Ret),jet=Bet;const $et=A.memo(function(){const[e,n]=A.useState([]),[r,i]=A.useState(null),[s,o]=A.useState(""),[c,u]=A.useState(""),[h,d]=A.useState(!1),[p,m]=A.useState(!1),[y,x]=A.useState(new Set),b=A.useCallback(async()=>{try{const M=await fetch("/api/docs");if(!M.ok)throw new Error("Failed to fetch docs");const L=await M.json();if(L.groups)n(L.groups);else if(L.files||Array.isArray(L)){const N=L.files||L,$=new Map;for(const z of N){const P=z.path?.includes("/")?z.path.split("/")[0]:"root";$.has(P)||$.set(P,[]),$.get(P).push(z)}n(Array.from($.entries()).map(([z,P])=>({category:z,files:P})))}}catch{n([{category:"docs",files:[{name:"README.md",path:"docs/README.md",type:"file"}]}])}},[]);A.useEffect(()=>{b()},[b]);const S=A.useCallback(async M=>{d(!0),i(M);try{const L=await fetch(`/api/docs/file?path=${encodeURIComponent(M)}`);if(!L.ok)throw new Error("Failed to load file");const N=await L.json();o(N.content||""),u(N.content||"")}catch{o(`// Could not load ${M}`),u("")}finally{d(!1)}},[]),_=A.useCallback(async()=>{if(r){m(!0);try{await fetch("/api/docs/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:r,content:s})}),u(s)}catch{}finally{m(!1)}}},[r,s]),T=M=>{x(L=>{const N=new Set(L);return N.has(M)?N.delete(M):N.add(M),N})},w=s!==c,E=r?.endsWith(".yaml")||r?.endsWith(".yml")?"yaml":r?.endsWith(".json")?"json":r?.endsWith(".ts")||r?.endsWith(".tsx")?"typescript":r?.endsWith(".js")||r?.endsWith(".jsx")?"javascript":"markdown";return k.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[k.jsxs("aside",{className:"w-64 flex-shrink-0 border-r flex flex-col overflow-hidden",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",style:{borderColor:F.bg.border},children:[k.jsx("span",{className:"text-xs font-semibold",style:{color:F.text.primary},children:" Documents"}),k.jsx("button",{onClick:b,className:"p-1 rounded hover:bg-white/5 transition-colors",title:"Refresh",children:k.jsx(pN,{size:12,style:{color:F.text.secondary}})})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto py-1",children:[e.map(M=>k.jsxs("div",{children:[k.jsxs("button",{onClick:()=>T(M.category),className:"w-full flex items-center gap-1.5 px-3 py-1.5 text-[11px] font-medium hover:bg-white/5 transition-colors",style:{color:F.text.secondary},children:[y.has(M.category)?k.jsx(v1,{size:12}):k.jsx($g,{size:12}),k.jsx(hN,{size:12,style:{color:F.accent}}),M.category,k.jsx("span",{className:"ml-auto text-[9px]",style:{color:F.text.muted},children:M.files.length})]}),!y.has(M.category)&&k.jsx("div",{children:M.files.map(L=>k.jsx(AO,{file:L,selectedFile:r,onSelect:S,depth:1},L.path))})]},M.category)),e.length===0&&k.jsx("p",{className:"text-[10px] text-center py-8",style:{color:F.text.muted},children:"No documents found"})]})]}),k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b flex-shrink-0",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-2",children:[r?k.jsx("span",{className:"text-xs font-mono",style:{color:F.text.primary},children:r}):k.jsx("span",{className:"text-xs",style:{color:F.text.muted},children:"Select a file to edit"}),w&&k.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full font-medium",style:{backgroundColor:F.status.blocked+"20",color:F.status.blocked},children:"Modified"})]}),r&&k.jsxs("button",{onClick:_,disabled:p||!w,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-md text-[11px] font-medium transition-all disabled:opacity-40",style:{backgroundColor:w?F.accent:F.bg.surfaceHover,color:w?"#fff":F.text.secondary},children:[k.jsx(mN,{size:12}),p?"Saving...":"Save"]})]}),k.jsx("div",{className:"flex-1 overflow-hidden",children:r?h?k.jsx("div",{className:"flex items-center justify-center h-full",children:k.jsx("span",{className:"text-xs animate-pulse",style:{color:F.text.muted},children:"Loading..."})}):k.jsx(jet,{height:"100%",language:E,value:s,onChange:M=>o(M||""),theme:"vs-dark",options:{fontSize:13,fontFamily:"JetBrains Mono, Fira Code, monospace",minimap:{enabled:!1},lineNumbers:"on",wordWrap:"on",padding:{top:12},scrollBeyondLastLine:!1,renderLineHighlight:"gutter",bracketPairColorization:{enabled:!0},smoothScrolling:!0}}):k.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-3",children:[k.jsx(uN,{size:40,style:{color:F.text.muted}}),k.jsx("p",{className:"text-sm",style:{color:F.text.muted},children:"Select a document from the sidebar"}),k.jsx("p",{className:"text-[11px]",style:{color:F.text.muted},children:"Supports Markdown, YAML, JSON, and code files"})]})})]})]})});function AO({file:t,selectedFile:e,onSelect:n,depth:r}){const[i,s]=A.useState(!1),o=e===t.path,c=12+r*16;return t.type==="directory"?k.jsxs("div",{children:[k.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center gap-1.5 py-1 text-[11px] hover:bg-white/5 transition-colors",style:{paddingLeft:c,color:F.text.secondary},children:[i?k.jsx($g,{size:10}):k.jsx(v1,{size:10}),k.jsx(hN,{size:11,style:{color:F.accent}}),t.name]}),i&&t.children&&k.jsx("div",{children:t.children.map(u=>k.jsx(AO,{file:u,selectedFile:e,onSelect:n,depth:r+1},u.path))})]}):k.jsxs("button",{onClick:()=>n(t.path),className:"w-full flex items-center gap-1.5 py-1 text-[11px] hover:bg-white/5 transition-colors",style:{paddingLeft:c,color:o?F.text.primary:F.text.secondary,backgroundColor:o?F.bg.surfaceActive:"transparent"},children:[k.jsx(uN,{size:11,style:{color:o?F.accent:F.text.muted}}),t.name]})}const zet="modulepreload",Pet=function(t){return"/"+t},tA={},ye=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=u(n.map(h=>{if(h=Pet(h),h in tA)return;tA[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":zet,d||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((y,x)=>{m.addEventListener("load",y),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};var eA={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},mp={exports:{}},Fet=mp.exports,nA;function Iet(){return nA||(nA=1,(function(t,e){(function(n,r){t.exports=r()})(Fet,(function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",c="minute",u="hour",h="day",d="week",p="month",m="quarter",y="year",x="date",b="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var H=["th","st","nd","rd"],R=B%100;return"["+B+(H[(R-20)%10]||H[R]||H[0])+"]"}},w=function(B,H,R){var I=String(B);return!I||I.length>=H?B:""+Array(H+1-I.length).join(R)+B},E={s:w,z:function(B){var H=-B.utcOffset(),R=Math.abs(H),I=Math.floor(R/60),U=R%60;return(H<=0?"+":"-")+w(I,2,"0")+":"+w(U,2,"0")},m:function B(H,R){if(H.date()<R.date())return-B(R,H);var I=12*(R.year()-H.year())+(R.month()-H.month()),U=H.clone().add(I,p),Z=R-U<0,nt=H.clone().add(I+(Z?-1:1),p);return+(-(I+(R-U)/(Z?U-nt:nt-U))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:p,y,w:d,d:h,D:x,h:u,m:c,s:o,ms:s,Q:m}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},M="en",L={};L[M]=T;var N="$isDayjsObject",$=function(B){return B instanceof W||!(!B||!B[N])},z=function B(H,R,I){var U;if(!H)return M;if(typeof H=="string"){var Z=H.toLowerCase();L[Z]&&(U=Z),R&&(L[Z]=R,U=Z);var nt=H.split("-");if(!U&&nt.length>1)return B(nt[0])}else{var q=H.name;L[q]=H,U=q}return!I&&U&&(M=U),U||!I&&M},P=function(B,H){if($(B))return B.clone();var R=typeof H=="object"?H:{};return R.date=B,R.args=arguments,new W(R)},j=E;j.l=z,j.i=$,j.w=function(B,H){return P(B,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var W=(function(){function B(R){this.$L=z(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[N]=!0}var H=B.prototype;return H.parse=function(R){this.$d=(function(I){var U=I.date,Z=I.utc;if(U===null)return new Date(NaN);if(j.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var nt=U.match(S);if(nt){var q=nt[2]-1||0,V=(nt[7]||"0").substring(0,3);return Z?new Date(Date.UTC(nt[1],q,nt[3]||1,nt[4]||0,nt[5]||0,nt[6]||0,V)):new Date(nt[1],q,nt[3]||1,nt[4]||0,nt[5]||0,nt[6]||0,V)}}return new Date(U)})(R),this.init()},H.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},H.$utils=function(){return j},H.isValid=function(){return this.$d.toString()!==b},H.isSame=function(R,I){var U=P(R);return this.startOf(I)<=U&&U<=this.endOf(I)},H.isAfter=function(R,I){return P(R)<this.startOf(I)},H.isBefore=function(R,I){return this.endOf(I)<P(R)},H.$g=function(R,I,U){return j.u(R)?this[I]:this.set(U,R)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(R,I){var U=this,Z=!!j.u(I)||I,nt=j.p(R),q=function(ut,pt){var vt=j.w(U.$u?Date.UTC(U.$y,pt,ut):new Date(U.$y,pt,ut),U);return Z?vt:vt.endOf(h)},V=function(ut,pt){return j.w(U.toDate()[ut].apply(U.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(pt)),U)},K=this.$W,et=this.$M,X=this.$D,Q="set"+(this.$u?"UTC":"");switch(nt){case y:return Z?q(1,0):q(31,11);case p:return Z?q(1,et):q(0,et+1);case d:var tt=this.$locale().weekStart||0,at=(K<tt?K+7:K)-tt;return q(Z?X-at:X+(6-at),et);case h:case x:return V(Q+"Hours",0);case u:return V(Q+"Minutes",1);case c:return V(Q+"Seconds",2);case o:return V(Q+"Milliseconds",3);default:return this.clone()}},H.endOf=function(R){return this.startOf(R,!1)},H.$set=function(R,I){var U,Z=j.p(R),nt="set"+(this.$u?"UTC":""),q=(U={},U[h]=nt+"Date",U[x]=nt+"Date",U[p]=nt+"Month",U[y]=nt+"FullYear",U[u]=nt+"Hours",U[c]=nt+"Minutes",U[o]=nt+"Seconds",U[s]=nt+"Milliseconds",U)[Z],V=Z===h?this.$D+(I-this.$W):I;if(Z===p||Z===y){var K=this.clone().set(x,1);K.$d[q](V),K.init(),this.$d=K.set(x,Math.min(this.$D,K.daysInMonth())).$d}else q&&this.$d[q](V);return this.init(),this},H.set=function(R,I){return this.clone().$set(R,I)},H.get=function(R){return this[j.p(R)]()},H.add=function(R,I){var U,Z=this;R=Number(R);var nt=j.p(I),q=function(et){var X=P(Z);return j.w(X.date(X.date()+Math.round(et*R)),Z)};if(nt===p)return this.set(p,this.$M+R);if(nt===y)return this.set(y,this.$y+R);if(nt===h)return q(1);if(nt===d)return q(7);var V=(U={},U[c]=r,U[u]=i,U[o]=n,U)[nt]||1,K=this.$d.getTime()+R*V;return j.w(K,this)},H.subtract=function(R,I){return this.add(-1*R,I)},H.format=function(R){var I=this,U=this.$locale();if(!this.isValid())return U.invalidDate||b;var Z=R||"YYYY-MM-DDTHH:mm:ssZ",nt=j.z(this),q=this.$H,V=this.$m,K=this.$M,et=U.weekdays,X=U.months,Q=U.meridiem,tt=function(pt,vt,bt,kt){return pt&&(pt[vt]||pt(I,Z))||bt[vt].slice(0,kt)},at=function(pt){return j.s(q%12||12,pt,"0")},ut=Q||function(pt,vt,bt){var kt=pt<12?"AM":"PM";return bt?kt.toLowerCase():kt};return Z.replace(_,(function(pt,vt){return vt||(function(bt){switch(bt){case"YY":return String(I.$y).slice(-2);case"YYYY":return j.s(I.$y,4,"0");case"M":return K+1;case"MM":return j.s(K+1,2,"0");case"MMM":return tt(U.monthsShort,K,X,3);case"MMMM":return tt(X,K);case"D":return I.$D;case"DD":return j.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return tt(U.weekdaysMin,I.$W,et,2);case"ddd":return tt(U.weekdaysShort,I.$W,et,3);case"dddd":return et[I.$W];case"H":return String(q);case"HH":return j.s(q,2,"0");case"h":return at(1);case"hh":return at(2);case"a":return ut(q,V,!0);case"A":return ut(q,V,!1);case"m":return String(V);case"mm":return j.s(V,2,"0");case"s":return String(I.$s);case"ss":return j.s(I.$s,2,"0");case"SSS":return j.s(I.$ms,3,"0");case"Z":return nt}return null})(pt)||nt.replace(":","")}))},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(R,I,U){var Z,nt=this,q=j.p(I),V=P(R),K=(V.utcOffset()-this.utcOffset())*r,et=this-V,X=function(){return j.m(nt,V)};switch(q){case y:Z=X()/12;break;case p:Z=X();break;case m:Z=X()/3;break;case d:Z=(et-K)/6048e5;break;case h:Z=(et-K)/864e5;break;case u:Z=et/i;break;case c:Z=et/r;break;case o:Z=et/n;break;default:Z=et}return U?Z:j.a(Z)},H.daysInMonth=function(){return this.endOf(p).$D},H.$locale=function(){return L[this.$L]},H.locale=function(R,I){if(!R)return this.$L;var U=this.clone(),Z=z(R,I,!0);return Z&&(U.$L=Z),U},H.clone=function(){return j.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},B})(),G=W.prototype;return P.prototype=G,[["$ms",s],["$s",o],["$m",c],["$H",u],["$W",h],["$M",p],["$y",y],["$D",x]].forEach((function(B){G[B[1]]=function(H){return this.$g(H,B[0],B[1])}})),P.extend=function(B,H){return B.$i||(B(H,W,P),B.$i=!0),P},P.locale=z,P.isDayjs=$,P.unix=function(B){return P(1e3*B)},P.en=L[M],P.Ls=L,P.p={},P}))})(mp)),mp.exports}var Het=Iet();const Vet=Rh(Het);var MO=Object.defineProperty,D=(t,e)=>MO(t,"name",{value:e,configurable:!0}),qet=(t,e)=>{for(var n in e)MO(t,n,{get:e[n],enumerable:!0})},ya={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},yt={trace:D((...t)=>{},"trace"),debug:D((...t)=>{},"debug"),info:D((...t)=>{},"info"),warn:D((...t)=>{},"warn"),error:D((...t)=>{},"error"),fatal:D((...t)=>{},"fatal")},Z1=D(function(t="fatal"){let e=ya.fatal;typeof t=="string"?t.toLowerCase()in ya&&(e=ya[t]):typeof t=="number"&&(e=t),yt.trace=()=>{},yt.debug=()=>{},yt.info=()=>{},yt.warn=()=>{},yt.error=()=>{},yt.fatal=()=>{},e<=ya.fatal&&(yt.fatal=console.error?console.error.bind(console,Zr("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Zr("FATAL"))),e<=ya.error&&(yt.error=console.error?console.error.bind(console,Zr("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Zr("ERROR"))),e<=ya.warn&&(yt.warn=console.warn?console.warn.bind(console,Zr("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Zr("WARN"))),e<=ya.info&&(yt.info=console.info?console.info.bind(console,Zr("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Zr("INFO"))),e<=ya.debug&&(yt.debug=console.debug?console.debug.bind(console,Zr("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Zr("DEBUG"))),e<=ya.trace&&(yt.trace=console.debug?console.debug.bind(console,Zr("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Zr("TRACE")))},"setLogLevel"),Zr=D(t=>`%c${Vet().format("ss.SSS")} : ${t} : `,"format");const yp={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,s=2*n-i;switch(r){case"r":return yp.hue2rgb(s,i,t+1/3)*255;case"g":return yp.hue2rgb(s,i,t)*255;case"b":return yp.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n),o=(i+s)/2;if(r==="l")return o*100;if(i===s)return 0;const c=i-s,u=o>.5?c/(2-i-s):c/(i+s);if(r==="s")return u*100;switch(i){case t:return((e-n)/c+(e<n?6:0))*60;case e:return((n-t)/c+2)*60;case n:return((t-e)/c+4)*60;default:return-1}}},Uet={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},Wet={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Ut={channel:yp,lang:Uet,unit:Wet},cs={};for(let t=0;t<=255;t++)cs[t]=Ut.unit.dec2hex(t);const qn={ALL:0,RGB:1,HSL:2};class Yet{constructor(){this.type=qn.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=qn.ALL}is(e){return this.type===e}}class Get{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new Yet}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=qn.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=Ut.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=Ut.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Ut.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=Ut.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=Ut.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Ut.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(qn.HSL)&&n!==void 0?n:(this._ensureHSL(),Ut.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(qn.HSL)&&n!==void 0?n:(this._ensureHSL(),Ut.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(qn.HSL)&&n!==void 0?n:(this._ensureHSL(),Ut.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(qn.RGB)&&n!==void 0?n:(this._ensureRGB(),Ut.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(qn.RGB)&&n!==void 0?n:(this._ensureRGB(),Ut.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(qn.RGB)&&n!==void 0?n:(this._ensureRGB(),Ut.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(qn.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(qn.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(qn.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(qn.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(qn.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(qn.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const um=new Get({r:0,g:0,b:0,a:0},"transparent"),Vl={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(Vl.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,s=i%4===0,o=i>4,c=o?1:17,u=o?8:4,h=s?0:-1,d=o?255:15;return um.set({r:(r>>u*(h+3)&d)*c,g:(r>>u*(h+2)&d)*c,b:(r>>u*(h+1)&d)*c,a:s?(r&d)*c/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${cs[Math.round(e)]}${cs[Math.round(n)]}${cs[Math.round(r)]}${cs[Math.round(i*255)]}`:`#${cs[Math.round(e)]}${cs[Math.round(n)]}${cs[Math.round(r)]}`}},co={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(co.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return Ut.channel.clamp.h(parseFloat(n)*.9);case"rad":return Ut.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Ut.channel.clamp.h(parseFloat(n)*360)}}return Ut.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(co.re);if(!n)return;const[,r,i,s,o,c]=n;return um.set({h:co._hue2deg(r),s:Ut.channel.clamp.s(parseFloat(i)),l:Ut.channel.clamp.l(parseFloat(s)),a:o?Ut.channel.clamp.a(c?parseFloat(o)/100:parseFloat(o)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${Ut.lang.round(e)}, ${Ut.lang.round(n)}%, ${Ut.lang.round(r)}%, ${i})`:`hsl(${Ut.lang.round(e)}, ${Ut.lang.round(n)}%, ${Ut.lang.round(r)}%)`}},Qu={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Qu.colors[t];if(e)return Vl.parse(e)},stringify:t=>{const e=Vl.stringify(t);for(const n in Qu.colors)if(Qu.colors[n]===e)return n}},ju={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(ju.re);if(!n)return;const[,r,i,s,o,c,u,h,d]=n;return um.set({r:Ut.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:Ut.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:Ut.channel.clamp.b(u?parseFloat(c)*2.55:parseFloat(c)),a:h?Ut.channel.clamp.a(d?parseFloat(h)/100:parseFloat(h)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${Ut.lang.round(e)}, ${Ut.lang.round(n)}, ${Ut.lang.round(r)}, ${Ut.lang.round(i)})`:`rgb(${Ut.lang.round(e)}, ${Ut.lang.round(n)}, ${Ut.lang.round(r)})`}},Wi={format:{keyword:Qu,hex:Vl,rgb:ju,rgba:ju,hsl:co,hsla:co},parse:t=>{if(typeof t!="string")return t;const e=Vl.parse(t)||ju.parse(t)||co.parse(t)||Qu.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(qn.HSL)||t.data.r===void 0?co.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?ju.stringify(t):Vl.stringify(t)},DO=(t,e)=>{const n=Wi.parse(t);for(const r in e)n[r]=Ut.channel.clamp[r](e[r]);return Wi.stringify(n)},Ju=(t,e,n=0,r=1)=>{if(typeof t!="number")return DO(t,{a:e});const i=um.set({r:Ut.channel.clamp.r(t),g:Ut.channel.clamp.g(e),b:Ut.channel.clamp.b(n),a:Ut.channel.clamp.a(r)});return Wi.stringify(i)},Xet=t=>{const{r:e,g:n,b:r}=Wi.parse(t),i=.2126*Ut.channel.toLinear(e)+.7152*Ut.channel.toLinear(n)+.0722*Ut.channel.toLinear(r);return Ut.lang.round(i)},Zet=t=>Xet(t)>=.5,ed=t=>!Zet(t),NO=(t,e,n)=>{const r=Wi.parse(t),i=r[e],s=Ut.channel.clamp[e](i+n);return i!==s&&(r[e]=s),Wi.stringify(r)},At=(t,e)=>NO(t,"l",e),zt=(t,e)=>NO(t,"l",-e),ot=(t,e)=>{const n=Wi.parse(t),r={};for(const i in e)e[i]&&(r[i]=n[i]+e[i]);return DO(t,r)},Ket=(t,e,n=50)=>{const{r,g:i,b:s,a:o}=Wi.parse(t),{r:c,g:u,b:h,a:d}=Wi.parse(e),p=n/100,m=p*2-1,y=o-d,b=((m*y===-1?m:(m+y)/(1+m*y))+1)/2,S=1-b,_=r*b+c*S,T=i*b+u*S,w=s*b+h*S,E=o*p+d*(1-p);return Ju(_,T,w,E)},wt=(t,e=100)=>{const n=Wi.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,Ket(n,t,e)};const{entries:LO,setPrototypeOf:rA,isFrozen:Qet,getPrototypeOf:Jet,getOwnPropertyDescriptor:tnt}=Object;let{freeze:sr,seal:ei,create:OO}=Object,{apply:Zb,construct:Kb}=typeof Reflect<"u"&&Reflect;sr||(sr=function(e){return e});ei||(ei=function(e){return e});Zb||(Zb=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});Kb||(Kb=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const Gf=or(Array.prototype.forEach),ent=or(Array.prototype.lastIndexOf),iA=or(Array.prototype.pop),wu=or(Array.prototype.push),nnt=or(Array.prototype.splice),xp=or(String.prototype.toLowerCase),Ix=or(String.prototype.toString),Hx=or(String.prototype.match),Su=or(String.prototype.replace),rnt=or(String.prototype.indexOf),int=or(String.prototype.trim),di=or(Object.prototype.hasOwnProperty),tr=or(RegExp.prototype.test),Cu=ant(TypeError);function or(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Zb(t,e,r)}}function ant(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Kb(t,n)}}function Jt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xp;rA&&rA(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(Qet(e)||(e[r]=s),i=s)}t[i]=!0}return t}function snt(t){for(let e=0;e<t.length;e++)di(t,e)||(t[e]=null);return t}function xa(t){const e=OO(null);for(const[n,r]of LO(t))di(t,n)&&(Array.isArray(r)?e[n]=snt(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=xa(r):e[n]=r);return e}function _u(t,e){for(;t!==null;){const r=tnt(t,e);if(r){if(r.get)return or(r.get);if(typeof r.value=="function")return or(r.value)}t=Jet(t)}function n(){return null}return n}const aA=sr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Vx=sr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qx=sr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ont=sr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ux=sr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),lnt=sr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sA=sr(["#text"]),oA=sr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Wx=sr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),lA=sr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xf=sr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cnt=ei(/\{\{[\w\W]*|[\w\W]*\}\}/gm),unt=ei(/<%[\w\W]*|[\w\W]*%>/gm),hnt=ei(/\$\{[\w\W]*/gm),dnt=ei(/^data-[\-\w.\u00B7-\uFFFF]+$/),fnt=ei(/^aria-[\-\w]+$/),RO=ei(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),pnt=ei(/^(?:\w+script|data):/i),gnt=ei(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),BO=ei(/^html$/i),mnt=ei(/^[a-z][.\w]*(-[.\w]+)+$/i);var cA=Object.freeze({__proto__:null,ARIA_ATTR:fnt,ATTR_WHITESPACE:gnt,CUSTOM_ELEMENT:mnt,DATA_ATTR:dnt,DOCTYPE_NAME:BO,ERB_EXPR:unt,IS_ALLOWED_URI:RO,IS_SCRIPT_OR_DATA:pnt,MUSTACHE_EXPR:cnt,TMPLIT_EXPR:hnt});const ku={element:1,text:3,progressingInstruction:7,comment:8,document:9},ynt=function(){return typeof window>"u"?null:window},xnt=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},uA=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function jO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ynt();const e=Rt=>jO(Rt);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==ku.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:c,Element:u,NodeFilter:h,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:m,trustedTypes:y}=t,x=u.prototype,b=_u(x,"cloneNode"),S=_u(x,"remove"),_=_u(x,"nextSibling"),T=_u(x,"childNodes"),w=_u(x,"parentNode");if(typeof o=="function"){const Rt=n.createElement("template");Rt.content&&Rt.content.ownerDocument&&(n=Rt.content.ownerDocument)}let E,M="";const{implementation:L,createNodeIterator:N,createDocumentFragment:$,getElementsByTagName:z}=n,{importNode:P}=r;let j=uA();e.isSupported=typeof LO=="function"&&typeof w=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:W,ERB_EXPR:G,TMPLIT_EXPR:B,DATA_ATTR:H,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:U,CUSTOM_ELEMENT:Z}=cA;let{IS_ALLOWED_URI:nt}=cA,q=null;const V=Jt({},[...aA,...Vx,...qx,...Ux,...sA]);let K=null;const et=Jt({},[...oA,...Wx,...lA,...Xf]);let X=Object.seal(OO(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,tt=null,at=!0,ut=!0,pt=!1,vt=!0,bt=!1,kt=!0,_t=!1,Pt=!1,Yt=!1,de=!1,Ye=!1,Ge=!1,qe=!0,Dn=!1;const cr="user-content-";let ur=!0,Me=!1,Kn={},_n=null;const kn=Jt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Nn=null;const Fr=Jt({},["audio","video","img","source","image","track"]);let Er=null;const Qn=Jt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ii="http://www.w3.org/1998/Math/MathML",hr="http://www.w3.org/2000/svg",Ee="http://www.w3.org/1999/xhtml";let tn=Ee,Xe=!1,Zi=null;const Oa=Jt({},[ii,hr,Ee],Ix);let Ai=Jt({},["mi","mo","mn","ms","mtext"]),Ar=Jt({},["annotation-xml"]);const Mi=Jt({},["title","style","font","a","script"]);let xe=null;const Le=["application/xhtml+xml","text/html"],Ze="text/html";let ie=null,Ue=null;const an=n.createElement("form"),pn=function(rt){return rt instanceof RegExp||rt instanceof Function},Tn=function(){let rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ue&&Ue===rt)){if((!rt||typeof rt!="object")&&(rt={}),rt=xa(rt),xe=Le.indexOf(rt.PARSER_MEDIA_TYPE)===-1?Ze:rt.PARSER_MEDIA_TYPE,ie=xe==="application/xhtml+xml"?Ix:xp,q=di(rt,"ALLOWED_TAGS")?Jt({},rt.ALLOWED_TAGS,ie):V,K=di(rt,"ALLOWED_ATTR")?Jt({},rt.ALLOWED_ATTR,ie):et,Zi=di(rt,"ALLOWED_NAMESPACES")?Jt({},rt.ALLOWED_NAMESPACES,Ix):Oa,Er=di(rt,"ADD_URI_SAFE_ATTR")?Jt(xa(Qn),rt.ADD_URI_SAFE_ATTR,ie):Qn,Nn=di(rt,"ADD_DATA_URI_TAGS")?Jt(xa(Fr),rt.ADD_DATA_URI_TAGS,ie):Fr,_n=di(rt,"FORBID_CONTENTS")?Jt({},rt.FORBID_CONTENTS,ie):kn,Q=di(rt,"FORBID_TAGS")?Jt({},rt.FORBID_TAGS,ie):xa({}),tt=di(rt,"FORBID_ATTR")?Jt({},rt.FORBID_ATTR,ie):xa({}),Kn=di(rt,"USE_PROFILES")?rt.USE_PROFILES:!1,at=rt.ALLOW_ARIA_ATTR!==!1,ut=rt.ALLOW_DATA_ATTR!==!1,pt=rt.ALLOW_UNKNOWN_PROTOCOLS||!1,vt=rt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,bt=rt.SAFE_FOR_TEMPLATES||!1,kt=rt.SAFE_FOR_XML!==!1,_t=rt.WHOLE_DOCUMENT||!1,de=rt.RETURN_DOM||!1,Ye=rt.RETURN_DOM_FRAGMENT||!1,Ge=rt.RETURN_TRUSTED_TYPE||!1,Yt=rt.FORCE_BODY||!1,qe=rt.SANITIZE_DOM!==!1,Dn=rt.SANITIZE_NAMED_PROPS||!1,ur=rt.KEEP_CONTENT!==!1,Me=rt.IN_PLACE||!1,nt=rt.ALLOWED_URI_REGEXP||RO,tn=rt.NAMESPACE||Ee,Ai=rt.MATHML_TEXT_INTEGRATION_POINTS||Ai,Ar=rt.HTML_INTEGRATION_POINTS||Ar,X=rt.CUSTOM_ELEMENT_HANDLING||{},rt.CUSTOM_ELEMENT_HANDLING&&pn(rt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=rt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),rt.CUSTOM_ELEMENT_HANDLING&&pn(rt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=rt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),rt.CUSTOM_ELEMENT_HANDLING&&typeof rt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=rt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),bt&&(ut=!1),Ye&&(de=!0),Kn&&(q=Jt({},sA),K=[],Kn.html===!0&&(Jt(q,aA),Jt(K,oA)),Kn.svg===!0&&(Jt(q,Vx),Jt(K,Wx),Jt(K,Xf)),Kn.svgFilters===!0&&(Jt(q,qx),Jt(K,Wx),Jt(K,Xf)),Kn.mathMl===!0&&(Jt(q,Ux),Jt(K,lA),Jt(K,Xf))),rt.ADD_TAGS&&(q===V&&(q=xa(q)),Jt(q,rt.ADD_TAGS,ie)),rt.ADD_ATTR&&(K===et&&(K=xa(K)),Jt(K,rt.ADD_ATTR,ie)),rt.ADD_URI_SAFE_ATTR&&Jt(Er,rt.ADD_URI_SAFE_ATTR,ie),rt.FORBID_CONTENTS&&(_n===kn&&(_n=xa(_n)),Jt(_n,rt.FORBID_CONTENTS,ie)),ur&&(q["#text"]=!0),_t&&Jt(q,["html","head","body"]),q.table&&(Jt(q,["tbody"]),delete Q.tbody),rt.TRUSTED_TYPES_POLICY){if(typeof rt.TRUSTED_TYPES_POLICY.createHTML!="function")throw Cu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof rt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Cu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=rt.TRUSTED_TYPES_POLICY,M=E.createHTML("")}else E===void 0&&(E=xnt(y,i)),E!==null&&typeof M=="string"&&(M=E.createHTML(""));sr&&sr(rt),Ue=rt}},Pe=Jt({},[...Vx,...qx,...ont]),In=Jt({},[...Ux,...lnt]),Ln=function(rt){let xt=w(rt);(!xt||!xt.tagName)&&(xt={namespaceURI:tn,tagName:"template"});const Ct=xp(rt.tagName),le=xp(xt.tagName);return Zi[rt.namespaceURI]?rt.namespaceURI===hr?xt.namespaceURI===Ee?Ct==="svg":xt.namespaceURI===ii?Ct==="svg"&&(le==="annotation-xml"||Ai[le]):!!Pe[Ct]:rt.namespaceURI===ii?xt.namespaceURI===Ee?Ct==="math":xt.namespaceURI===hr?Ct==="math"&&Ar[le]:!!In[Ct]:rt.namespaceURI===Ee?xt.namespaceURI===hr&&!Ar[le]||xt.namespaceURI===ii&&!Ai[le]?!1:!In[Ct]&&(Mi[Ct]||!Pe[Ct]):!!(xe==="application/xhtml+xml"&&Zi[rt.namespaceURI]):!1},Oe=function(rt){wu(e.removed,{element:rt});try{w(rt).removeChild(rt)}catch{S(rt)}},gn=function(rt,xt){try{wu(e.removed,{attribute:xt.getAttributeNode(rt),from:xt})}catch{wu(e.removed,{attribute:null,from:xt})}if(xt.removeAttribute(rt),rt==="is")if(de||Ye)try{Oe(xt)}catch{}else try{xt.setAttribute(rt,"")}catch{}},dr=function(rt){let xt=null,Ct=null;if(Yt)rt="<remove></remove>"+rt;else{const ve=Hx(rt,/^[\r\n\t ]+/);Ct=ve&&ve[0]}xe==="application/xhtml+xml"&&tn===Ee&&(rt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+rt+"</body></html>");const le=E?E.createHTML(rt):rt;if(tn===Ee)try{xt=new m().parseFromString(le,xe)}catch{}if(!xt||!xt.documentElement){xt=L.createDocument(tn,"template",null);try{xt.documentElement.innerHTML=Xe?M:le}catch{}}const Re=xt.body||xt.documentElement;return rt&&Ct&&Re.insertBefore(n.createTextNode(Ct),Re.childNodes[0]||null),tn===Ee?z.call(xt,_t?"html":"body")[0]:_t?xt.documentElement:Re},Hn=function(rt){return N.call(rt.ownerDocument||rt,rt,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},fr=function(rt){return rt instanceof p&&(typeof rt.nodeName!="string"||typeof rt.textContent!="string"||typeof rt.removeChild!="function"||!(rt.attributes instanceof d)||typeof rt.removeAttribute!="function"||typeof rt.setAttribute!="function"||typeof rt.namespaceURI!="string"||typeof rt.insertBefore!="function"||typeof rt.hasChildNodes!="function")},On=function(rt){return typeof c=="function"&&rt instanceof c};function be(Rt,rt,xt){Gf(Rt,Ct=>{Ct.call(e,rt,xt,Ue)})}const mn=function(rt){let xt=null;if(be(j.beforeSanitizeElements,rt,null),fr(rt))return Oe(rt),!0;const Ct=ie(rt.nodeName);if(be(j.uponSanitizeElement,rt,{tagName:Ct,allowedTags:q}),kt&&rt.hasChildNodes()&&!On(rt.firstElementChild)&&tr(/<[/\w!]/g,rt.innerHTML)&&tr(/<[/\w!]/g,rt.textContent)||rt.nodeType===ku.progressingInstruction||kt&&rt.nodeType===ku.comment&&tr(/<[/\w]/g,rt.data))return Oe(rt),!0;if(!q[Ct]||Q[Ct]){if(!Q[Ct]&&Ki(Ct)&&(X.tagNameCheck instanceof RegExp&&tr(X.tagNameCheck,Ct)||X.tagNameCheck instanceof Function&&X.tagNameCheck(Ct)))return!1;if(ur&&!_n[Ct]){const le=w(rt)||rt.parentNode,Re=T(rt)||rt.childNodes;if(Re&&le){const ve=Re.length;for(let ae=ve-1;ae>=0;--ae){const pr=b(Re[ae],!0);pr.__removalCount=(rt.__removalCount||0)+1,le.insertBefore(pr,_(rt))}}}return Oe(rt),!0}return rt instanceof u&&!Ln(rt)||(Ct==="noscript"||Ct==="noembed"||Ct==="noframes")&&tr(/<\/no(script|embed|frames)/i,rt.innerHTML)?(Oe(rt),!0):(bt&&rt.nodeType===ku.text&&(xt=rt.textContent,Gf([W,G,B],le=>{xt=Su(xt,le," ")}),rt.textContent!==xt&&(wu(e.removed,{element:rt.cloneNode()}),rt.textContent=xt)),be(j.afterSanitizeElements,rt,null),!1)},Ir=function(rt,xt,Ct){if(qe&&(xt==="id"||xt==="name")&&(Ct in n||Ct in an))return!1;if(!(ut&&!tt[xt]&&tr(H,xt))){if(!(at&&tr(R,xt))){if(!K[xt]||tt[xt]){if(!(Ki(rt)&&(X.tagNameCheck instanceof RegExp&&tr(X.tagNameCheck,rt)||X.tagNameCheck instanceof Function&&X.tagNameCheck(rt))&&(X.attributeNameCheck instanceof RegExp&&tr(X.attributeNameCheck,xt)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(xt,rt))||xt==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&tr(X.tagNameCheck,Ct)||X.tagNameCheck instanceof Function&&X.tagNameCheck(Ct))))return!1}else if(!Er[xt]){if(!tr(nt,Su(Ct,U,""))){if(!((xt==="src"||xt==="xlink:href"||xt==="href")&&rt!=="script"&&rnt(Ct,"data:")===0&&Nn[rt])){if(!(pt&&!tr(I,Su(Ct,U,"")))){if(Ct)return!1}}}}}}return!0},Ki=function(rt){return rt!=="annotation-xml"&&Hx(rt,Z)},Os=function(rt){be(j.beforeSanitizeAttributes,rt,null);const{attributes:xt}=rt;if(!xt||fr(rt))return;const Ct={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:K,forceKeepAttr:void 0};let le=xt.length;for(;le--;){const Re=xt[le],{name:ve,namespaceURI:ae,value:pr}=Re,ai=ie(ve),Mr=pr;let De=ve==="value"?Mr:int(Mr);if(Ct.attrName=ai,Ct.attrValue=De,Ct.keepAttr=!0,Ct.forceKeepAttr=void 0,be(j.uponSanitizeAttribute,rt,Ct),De=Ct.attrValue,Dn&&(ai==="id"||ai==="name")&&(gn(ve,rt),De=cr+De),kt&&tr(/((--!?|])>)|<\/(style|title|textarea)/i,De)){gn(ve,rt);continue}if(ai==="attributename"&&Hx(De,"href")){gn(ve,rt);continue}if(Ct.forceKeepAttr)continue;if(!Ct.keepAttr){gn(ve,rt);continue}if(!vt&&tr(/\/>/i,De)){gn(ve,rt);continue}bt&&Gf([W,G,B],Ra=>{De=Su(De,Ra," ")});const jo=ie(rt.nodeName);if(!Ir(jo,ai,De)){gn(ve,rt);continue}if(E&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!ae)switch(y.getAttributeType(jo,ai)){case"TrustedHTML":{De=E.createHTML(De);break}case"TrustedScriptURL":{De=E.createScriptURL(De);break}}if(De!==Mr)try{ae?rt.setAttributeNS(ae,ve,De):rt.setAttribute(ve,De),fr(rt)?Oe(rt):iA(e.removed)}catch{gn(ve,rt)}}be(j.afterSanitizeAttributes,rt,null)},Tc=function Rt(rt){let xt=null;const Ct=Hn(rt);for(be(j.beforeSanitizeShadowDOM,rt,null);xt=Ct.nextNode();)be(j.uponSanitizeShadowNode,xt,null),mn(xt),Os(xt),xt.content instanceof s&&Rt(xt.content);be(j.afterSanitizeShadowDOM,rt,null)};return e.sanitize=function(Rt){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xt=null,Ct=null,le=null,Re=null;if(Xe=!Rt,Xe&&(Rt="<!-->"),typeof Rt!="string"&&!On(Rt))if(typeof Rt.toString=="function"){if(Rt=Rt.toString(),typeof Rt!="string")throw Cu("dirty is not a string, aborting")}else throw Cu("toString is not a function");if(!e.isSupported)return Rt;if(Pt||Tn(rt),e.removed=[],typeof Rt=="string"&&(Me=!1),Me){if(Rt.nodeName){const pr=ie(Rt.nodeName);if(!q[pr]||Q[pr])throw Cu("root node is forbidden and cannot be sanitized in-place")}}else if(Rt instanceof c)xt=dr("<!---->"),Ct=xt.ownerDocument.importNode(Rt,!0),Ct.nodeType===ku.element&&Ct.nodeName==="BODY"||Ct.nodeName==="HTML"?xt=Ct:xt.appendChild(Ct);else{if(!de&&!bt&&!_t&&Rt.indexOf("<")===-1)return E&&Ge?E.createHTML(Rt):Rt;if(xt=dr(Rt),!xt)return de?null:Ge?M:""}xt&&Yt&&Oe(xt.firstChild);const ve=Hn(Me?Rt:xt);for(;le=ve.nextNode();)mn(le),Os(le),le.content instanceof s&&Tc(le.content);if(Me)return Rt;if(de){if(Ye)for(Re=$.call(xt.ownerDocument);xt.firstChild;)Re.appendChild(xt.firstChild);else Re=xt;return(K.shadowroot||K.shadowrootmode)&&(Re=P.call(r,Re,!0)),Re}let ae=_t?xt.outerHTML:xt.innerHTML;return _t&&q["!doctype"]&&xt.ownerDocument&&xt.ownerDocument.doctype&&xt.ownerDocument.doctype.name&&tr(BO,xt.ownerDocument.doctype.name)&&(ae="<!DOCTYPE "+xt.ownerDocument.doctype.name+`>
`+ae),bt&&Gf([W,G,B],pr=>{ae=Su(ae,pr," ")}),E&&Ge?E.createHTML(ae):ae},e.setConfig=function(){let Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Tn(Rt),Pt=!0},e.clearConfig=function(){Ue=null,Pt=!1},e.isValidAttribute=function(Rt,rt,xt){Ue||Tn({});const Ct=ie(Rt),le=ie(rt);return Ir(Ct,le,xt)},e.addHook=function(Rt,rt){typeof rt=="function"&&wu(j[Rt],rt)},e.removeHook=function(Rt,rt){if(rt!==void 0){const xt=ent(j[Rt],rt);return xt===-1?void 0:nnt(j[Rt],xt,1)[0]}return iA(j[Rt])},e.removeHooks=function(Rt){j[Rt]=[]},e.removeAllHooks=function(){j=uA()},e}var oc=jO(),$O=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,th=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,bnt=/\s*%%.*\n/gm,Ul,zO=(Ul=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},D(Ul,"UnknownDiagramError"),Ul),_o={},K1=D(function(t,e){t=t.replace($O,"").replace(th,"").replace(bnt,`
`);for(const[n,{detector:r}]of Object.entries(_o))if(r(t,e))return n;throw new zO(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),Qb=D((...t)=>{for(const{id:e,detector:n,loader:r}of t)PO(e,n,r)},"registerLazyLoadedDiagrams"),PO=D((t,e,n)=>{_o[t]&&yt.warn(`Detector with key ${t} already exists. Overwriting.`),_o[t]={detector:e,loader:n},yt.debug(`Detector with key ${t} added${n?" with loader":""}`)},"addDetector"),vnt=D(t=>_o[t].loader,"getDiagramLoader"),Jb=D((t,e,{depth:n=2,clobber:r=!1}={})=>{const i={depth:n,clobber:r};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(s=>Jb(t,s,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(s=>{t.includes(s)||t.push(s)}),t):t===void 0||n<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(t[s]===void 0||typeof t[s]=="object")?(t[s]===void 0&&(t[s]=Array.isArray(e[s])?[]:{}),t[s]=Jb(t[s],e[s],{depth:n-1,clobber:r})):(r||typeof t[s]!="object"&&typeof e[s]!="object")&&(t[s]=e[s])}),t)},"assignWithDepth"),wn=Jb,hm="#ffffff",dm="#f2f2f2",rr=D((t,e)=>e?ot(t,{s:-40,l:10}):ot(t,{s:-40,l:-10}),"mkBorder"),Wl,wnt=(Wl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||ot(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||ot(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||rr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||rr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||rr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||rr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||wt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||wt(this.tertiaryColor),this.lineColor=this.lineColor||wt(this.background),this.arrowheadColor=this.arrowheadColor||wt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?zt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||zt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||wt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||At(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||zt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||zt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||At(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||At(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330}),this.darkMode)for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=zt(this["cScale"+n],75);else for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=zt(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||wt(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this.darkMode?this["cScalePeer"+n]=this["cScalePeer"+n]||At(this["cScale"+n],10):this["cScalePeer"+n]=this["cScalePeer"+n]||zt(this["cScale"+n],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||ot(this.mainBkg,{h:180,s:-15,l:e*(5+n*3)}),this["surfacePeer"+n]=this["surfacePeer"+n]||ot(this.mainBkg,{h:180,s:-15,l:e*(8+n*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||ot(this.primaryColor,{h:64}),this.fillType3=this.fillType3||ot(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||ot(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||ot(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||ot(this.primaryColor,{h:128}),this.fillType7=this.fillType7||ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ot(this.primaryColor,{l:-10}),this.pie5=this.pie5||ot(this.secondaryColor,{l:-10}),this.pie6=this.pie6||ot(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||ot(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ot(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ot(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ot(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||ot(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||ot(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ed(this.quadrant1Fill)?At(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?zt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ot(this.primaryColor,{h:-30}),this.git4=this.git4||ot(this.primaryColor,{h:-60}),this.git5=this.git5||ot(this.primaryColor,{h:-90}),this.git6=this.git6||ot(this.primaryColor,{h:60}),this.git7=this.git7||ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)):(this.git0=zt(this.git0,25),this.git1=zt(this.git1,25),this.git2=zt(this.git2,25),this.git3=zt(this.git3,25),this.git4=zt(this.git4,25),this.git5=zt(this.git5,25),this.git6=zt(this.git6,25),this.git7=zt(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||hm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dm}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(Wl,"Theme"),Wl),Snt=D(t=>{const e=new wnt;return e.calculate(t),e},"getThemeVariables"),Yl,Cnt=(Yl=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=At(this.primaryColor,16),this.tertiaryColor=ot(this.primaryColor,{h:-160}),this.primaryBorderColor=wt(this.background),this.secondaryBorderColor=rr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=rr(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=At(wt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Ju(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=zt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=zt(this.sectionBkgColor,10),this.taskBorderColor=Ju(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ju(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||At(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||zt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=At(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=At(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=At(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||wt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||At(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ot(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ot(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ed(this.quadrant1Fill)?At(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?zt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=At(this.secondaryColor,20),this.git1=At(this.pie2||this.secondaryColor,20),this.git2=At(this.pie3||this.tertiaryColor,20),this.git3=At(this.pie4||ot(this.primaryColor,{h:-30}),20),this.git4=At(this.pie5||ot(this.primaryColor,{h:-60}),20),this.git5=At(this.pie6||ot(this.primaryColor,{h:-90}),10),this.git6=At(this.pie7||ot(this.primaryColor,{h:60}),10),this.git7=At(this.pie8||ot(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||At(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||At(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(Yl,"Theme"),Yl),_nt=D(t=>{const e=new Cnt;return e.calculate(t),e},"getThemeVariables"),Gl,knt=(Gl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=ot(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=ot(this.primaryColor,{h:-160}),this.primaryBorderColor=rr(this.primaryColor,this.darkMode),this.secondaryBorderColor=rr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=rr(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Ju(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||zt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||zt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=zt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||zt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ot(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ot(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ot(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||wt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||wt(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=At(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||At(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||At(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||ot(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||ot(this.primaryColor,{l:-10}),this.pie5=this.pie5||ot(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ot(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||ot(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||ot(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||ot(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||ot(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||ot(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||ot(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ed(this.quadrant1Fill)?At(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ot(this.primaryColor,{h:-30}),this.git4=this.git4||ot(this.primaryColor,{h:-60}),this.git5=this.git5||ot(this.primaryColor,{h:-90}),this.git6=this.git6||ot(this.primaryColor,{h:60}),this.git7=this.git7||ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)):(this.git0=zt(this.git0,25),this.git1=zt(this.git1,25),this.git2=zt(this.git2,25),this.git3=zt(this.git3,25),this.git4=zt(this.git4,25),this.git5=zt(this.git5,25),this.git6=zt(this.git6,25),this.git7=zt(this.git7,25)),this.gitInv0=this.gitInv0||zt(wt(this.git0),25),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||hm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dm}calculate(e){if(Object.keys(this).forEach(r=>{this[r]==="calculated"&&(this[r]=void 0)}),typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(Gl,"Theme"),Gl),Tnt=D(t=>{const e=new knt;return e.calculate(t),e},"getThemeVariables"),Xl,Ent=(Xl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=At("#cde498",10),this.primaryBorderColor=rr(this.primaryColor,this.darkMode),this.secondaryBorderColor=rr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=rr(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.primaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=zt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||zt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||zt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=zt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||zt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ot(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ot(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ot(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||At(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||At(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ot(this.primaryColor,{l:-30}),this.pie5=this.pie5||ot(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ot(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||ot(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ot(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ot(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ot(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||ot(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||ot(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ed(this.quadrant1Fill)?At(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ot(this.primaryColor,{h:-30}),this.git4=this.git4||ot(this.primaryColor,{h:-60}),this.git5=this.git5||ot(this.primaryColor,{h:-90}),this.git6=this.git6||ot(this.primaryColor,{h:60}),this.git7=this.git7||ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)):(this.git0=zt(this.git0,25),this.git1=zt(this.git1,25),this.git2=zt(this.git2,25),this.git3=zt(this.git3,25),this.git4=zt(this.git4,25),this.git5=zt(this.git5,25),this.git6=zt(this.git6,25),this.git7=zt(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||hm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dm}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(Xl,"Theme"),Xl),Ant=D(t=>{const e=new Ent;return e.calculate(t),e},"getThemeVariables"),Zl,Mnt=(Zl=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=At(this.contrast,55),this.background="#ffffff",this.tertiaryColor=ot(this.primaryColor,{h:-160}),this.primaryBorderColor=rr(this.primaryColor,this.darkMode),this.secondaryBorderColor=rr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=rr(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||At(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=At(this.contrast,55),this.border2=this.contrast,this.actorBorder=At(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||wt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||At(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||zt(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ot(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ot(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=At(this.contrast,30),this.sectionBkgColor2=At(this.contrast,30),this.taskBorderColor=zt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=At(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=zt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ed(this.quadrant1Fill)?At(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=zt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||ot(this.primaryColor,{h:-30}),this.git4=this.pie5||ot(this.primaryColor,{h:-60}),this.git5=this.pie6||ot(this.primaryColor,{h:-90}),this.git6=this.pie7||ot(this.primaryColor,{h:60}),this.git7=this.pie8||ot(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||hm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||dm}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(Zl,"Theme"),Zl),Dnt=D(t=>{const e=new Mnt;return e.calculate(t),e},"getThemeVariables"),_a={base:{getThemeVariables:Snt},dark:{getThemeVariables:_nt},default:{getThemeVariables:Tnt},forest:{getThemeVariables:Ant},neutral:{getThemeVariables:Dnt}},Bi={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},FO={...Bi,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:_a.default.getThemeVariables(),sequence:{...Bi.sequence,messageFont:D(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:D(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:D(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Bi.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Bi.c4,useWidth:void 0,personFont:D(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Bi.flowchart,inheritDir:!1},external_personFont:D(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:D(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:D(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:D(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:D(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:D(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:D(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:D(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:D(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:D(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:D(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:D(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:D(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:D(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:D(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:D(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:D(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:D(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:D(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:D(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:D(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Bi.pie,useWidth:984},xyChart:{...Bi.xyChart,useWidth:void 0},requirement:{...Bi.requirement,useWidth:void 0},packet:{...Bi.packet},radar:{...Bi.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},IO=D((t,e="")=>Object.keys(t).reduce((n,r)=>Array.isArray(t[r])?n:typeof t[r]=="object"&&t[r]!==null?[...n,e+r,...IO(t[r],"")]:[...n,e+r],[]),"keyify"),Nnt=new Set(IO(FO,"")),HO=FO,rg=D(t=>{if(yt.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>rg(e));return}for(const e of Object.keys(t)){if(yt.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!Nnt.has(e)||t[e]==null){yt.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){yt.debug("sanitizing object",e),rg(t[e]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const r of n)e.includes(r)&&(yt.debug("sanitizing css option",e),t[e]=Lnt(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const n=t.themeVariables[e];n?.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}yt.debug("After sanitization",t)}},"sanitizeDirective"),Lnt=D(t=>{let e=0,n=0;for(const r of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),lc=Object.freeze(HO),_r=wn({},lc),ig,ko=[],eh=wn({},lc),fm=D((t,e)=>{let n=wn({},t),r={};for(const i of e)UO(i),r=wn(r,i);if(n=wn(n,r),r.theme&&r.theme in _a){const i=wn({},ig),s=wn(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in _a&&(n.themeVariables=_a[n.theme].getThemeVariables(s))}return eh=n,WO(eh),eh},"updateCurrentConfig"),Ont=D(t=>(_r=wn({},lc),_r=wn(_r,t),t.theme&&_a[t.theme]&&(_r.themeVariables=_a[t.theme].getThemeVariables(t.themeVariables)),fm(_r,ko),_r),"setSiteConfig"),Rnt=D(t=>{ig=wn({},t)},"saveConfigFromInitialize"),Bnt=D(t=>(_r=wn(_r,t),fm(_r,ko),_r),"updateSiteConfig"),VO=D(()=>wn({},_r),"getSiteConfig"),qO=D(t=>(WO(t),wn(eh,t),Yn()),"setConfig"),Yn=D(()=>wn({},eh),"getConfig"),UO=D(t=>{t&&(["secure",..._r.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(yt.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&UO(t[e])}))},"sanitize"),jnt=D(t=>{rg(t),t.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),ko.push(t),fm(_r,ko)},"addDirective"),ag=D((t=_r)=>{ko=[],fm(t,ko)},"reset"),$nt={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},hA={},znt=D(t=>{hA[t]||(yt.warn($nt[t]),hA[t]=!0)},"issueWarning"),WO=D(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&znt("LAZY_LOAD_DEPRECATED")},"checkConfig"),Lft=D(()=>{let t={};ig&&(t=wn(t,ig));for(const e of ko)t=wn(t,e);return t},"getUserDefinedConfig"),nd=/<br\s*\/?>/gi,Pnt=D(t=>t?XO(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),Fnt=(()=>{let t=!1;return()=>{t||(YO(),t=!0)}})();function YO(){const t="data-temp-href-target";oc.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),oc.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}D(YO,"setupDompurifyHooks");var GO=D(t=>(Fnt(),oc.sanitize(t)),"removeScript"),dA=D((t,e)=>{if(e.flowchart?.htmlLabels!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=GO(t):n!=="loose"&&(t=XO(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=qnt(t))}return t},"sanitizeMore"),ni=D((t,e)=>t&&(e.dompurifyConfig?t=oc.sanitize(dA(t,e),e.dompurifyConfig).toString():t=oc.sanitize(dA(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),Int=D((t,e)=>typeof t=="string"?ni(t,e):t.flat().map(n=>ni(n,e)),"sanitizeTextOrArray"),Hnt=D(t=>nd.test(t),"hasBreaks"),Vnt=D(t=>t.split(nd),"splitBreaks"),qnt=D(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),XO=D(t=>t.replace(nd,"#br#"),"breakToPlaceholder"),Unt=D(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),Cn=D(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),Wnt=D(function(...t){const e=t.filter(n=>!isNaN(n));return Math.max(...e)},"getMax"),Ynt=D(function(...t){const e=t.filter(n=>!isNaN(n));return Math.min(...e)},"getMin"),fA=D(function(t){const e=t.split(/(,)/),n=[];for(let r=0;r<e.length;r++){let i=e[r];if(i===","&&r>0&&r+1<e.length){const s=e[r-1],o=e[r+1];Gnt(s,o)&&(i=s+","+o,r++,n.pop())}n.push(Xnt(i))}return n.join("")},"parseGenericTypes"),tv=D((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),Gnt=D((t,e)=>{const n=tv(t,"~"),r=tv(e,"~");return n===1&&r===1},"shouldCombineSets"),Xnt=D(t=>{const e=tv(t,"~");let n=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),n=!0);const r=[...t];let i=r.indexOf("~"),s=r.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)r[i]="<",r[s]=">",i=r.indexOf("~"),s=r.lastIndexOf("~");return n&&r.unshift("~"),r.join("")},"processSet"),pA=D(()=>window.MathMLElement!==void 0,"isMathMLSupported"),ev=/\$\$(.*)\$\$/g,cc=D(t=>(t.match(ev)?.length??0)>0,"hasKatex"),Oft=D(async(t,e)=>{const n=document.createElement("div");n.innerHTML=await Q1(t,e),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",n);const i={width:n.clientWidth,height:n.clientHeight};return n.remove(),i},"calculateMathMLDimensions"),Znt=D(async(t,e)=>{if(!cc(t))return t;if(!(pA()||e.legacyMathML||e.forceLegacyMathML))return t.replace(ev,"MathML is unsupported in this environment.");{const{default:n}=await ye(async()=>{const{default:i}=await import("./katex-DhXJpUyf.js");return{default:i}},[]),r=e.forceLegacyMathML||!pA()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(nd).map(i=>cc(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(ev,(i,s)=>n.renderToString(s,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Q1=D(async(t,e)=>ni(await Znt(t,e),e),"renderKatexSanitized"),vc={getRows:Pnt,sanitizeText:ni,sanitizeTextOrArray:Int,hasBreaks:Hnt,splitBreaks:Vnt,lineBreakRegex:nd,removeScript:GO,getUrl:Unt,evaluate:Cn,getMax:Wnt,getMin:Ynt},Knt=D(function(t,e){for(let n of e)t.attr(n[0],n[1])},"d3Attrs"),Qnt=D(function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},"calculateSvgSizeAttrs"),ZO=D(function(t,e,n,r){const i=Qnt(e,n,r);Knt(t,i)},"configureSvgSize"),Jnt=D(function(t,e,n,r){const i=e.node().getBBox(),s=i.width,o=i.height;yt.info(`SVG bounds: ${s}x${o}`,i);let c=0,u=0;yt.info(`Graph bounds: ${c}x${u}`,t),c=s+n*2,u=o+n*2,yt.info(`Calculated bounds: ${c}x${u}`),ZO(e,u,c,r);const h=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",h)},"setupGraphViewbox"),bp={},trt=D((t,e,n)=>{let r="";return t in bp&&bp[t]?r=bp[t](n):yt.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${r}

  ${e}
`},"getStyles"),ert=D((t,e)=>{e!==void 0&&(bp[t]=e)},"addStylesForDiagram"),nrt=trt,KO={};qet(KO,{clear:()=>rrt,getAccDescription:()=>ort,getAccTitle:()=>art,getDiagramTitle:()=>crt,setAccDescription:()=>srt,setAccTitle:()=>irt,setDiagramTitle:()=>lrt});var J1="",t2="",e2="",n2=D(t=>ni(t,Yn()),"sanitizeText"),rrt=D(()=>{J1="",e2="",t2=""},"clear"),irt=D(t=>{J1=n2(t).replace(/^\s+/g,"")},"setAccTitle"),art=D(()=>J1,"getAccTitle"),srt=D(t=>{e2=n2(t).replace(/\n\s+/g,`
`)},"setAccDescription"),ort=D(()=>e2,"getAccDescription"),lrt=D(t=>{t2=n2(t)},"setDiagramTitle"),crt=D(()=>t2,"getDiagramTitle"),gA=yt,urt=Z1,ge=Yn,Rft=qO,Bft=lc,r2=D(t=>ni(t,ge()),"sanitizeText"),hrt=Jnt,drt=D(()=>KO,"getCommonDb"),sg={},og=D((t,e,n)=>{sg[t]&&gA.warn(`Diagram with id ${t} already registered. Overwriting.`),sg[t]=e,n&&PO(t,n),ert(t,e.styles),e.injectUtils?.(gA,urt,ge,r2,hrt,drt(),()=>{})},"registerDiagram"),nv=D(t=>{if(t in sg)return sg[t];throw new frt(t)},"getDiagram"),Kl,frt=(Kl=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},D(Kl,"DiagramNotFoundError"),Kl);const rv=Math.PI,iv=2*rv,no=1e-6,prt=iv-no;function QO(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function grt(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return QO;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mrt{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?QO:grt(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,u=r-e,h=i-n,d=o-e,p=c-n,m=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>no)if(!(Math.abs(p*u-h*d)>no)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-o,x=i-c,b=u*u+h*h,S=y*y+x*x,_=Math.sqrt(b),T=Math.sqrt(m),w=s*Math.tan((rv-Math.acos((b+m-S)/(2*_*T)))/2),E=w/T,M=w/_;Math.abs(E-1)>no&&this._append`L${e+E*d},${n+E*p}`,this._append`A${s},${s},0,0,${+(p*y>d*x)},${this._x1=e+M*u},${this._y1=n+M*h}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),h=e+c,d=n+u,p=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>no||Math.abs(this._y1-d)>no)&&this._append`L${h},${d}`,r&&(m<0&&(m=m%iv+iv),m>prt?this._append`A${r},${r},0,1,${p},${e-c},${n-u}A${r},${r},0,1,${p},${this._x1=h},${this._y1=d}`:m>no&&this._append`A${r},${r},0,${+(m>=rv)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _l(t){return function(){return t}}const jft=Math.abs,$ft=Math.atan2,zft=Math.cos,Pft=Math.max,Fft=Math.min,Ift=Math.sin,Hft=Math.sqrt,mA=1e-12,i2=Math.PI,yA=i2/2,Vft=2*i2;function qft(t){return t>1?0:t<-1?i2:Math.acos(t)}function Uft(t){return t>=1?yA:t<=-1?-yA:Math.asin(t)}function yrt(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new mrt(e)}function xrt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function JO(t){this._context=t}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lg(t){return new JO(t)}function brt(t){return t[0]}function vrt(t){return t[1]}function wrt(t,e){var n=_l(!0),r=null,i=lg,s=null,o=yrt(c);t=typeof t=="function"?t:t===void 0?brt:_l(t),e=typeof e=="function"?e:e===void 0?vrt:_l(e);function c(u){var h,d=(u=xrt(u)).length,p,m=!1,y;for(r==null&&(s=i(y=o())),h=0;h<=d;++h)!(h<d&&n(p=u[h],h,u))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(p,h,u),+e(p,h,u));if(y)return s=null,y+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:_l(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:_l(+u),c):e},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:_l(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),c):r},c}class tR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function eR(t){return new tR(t,!0)}function nR(t){return new tR(t,!1)}function Cs(){}function cg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function pm(t){this._context=t}pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vp(t){return new pm(t)}function rR(t){this._context=t}rR.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Srt(t){return new rR(t)}function iR(t){this._context=t}iR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Crt(t){return new iR(t)}function aR(t,e){this._basis=new pm(t),this._beta=e}aR.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,o=e[n]-i,c=-1,u;++c<=n;)u=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+u*s),this._beta*e[c]+(1-this._beta)*(i+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const _rt=(function t(e){function n(r){return e===1?new pm(r):new aR(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function ug(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function a2(t,e){this._context=t,this._k=(1-e)/6}a2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ug(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ug(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const sR=(function t(e){function n(r){return new a2(r,e)}return n.tension=function(r){return t(+r)},n})(0);function s2(t,e){this._context=t,this._k=(1-e)/6}s2.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ug(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const krt=(function t(e){function n(r){return new s2(r,e)}return n.tension=function(r){return t(+r)},n})(0);function o2(t,e){this._context=t,this._k=(1-e)/6}o2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ug(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Trt=(function t(e){function n(r){return new o2(r,e)}return n.tension=function(r){return t(+r)},n})(0);function l2(t,e,n){var r=t._x1,i=t._y1,s=t._x2,o=t._y2;if(t._l01_a>mA){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>mA){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*h+t._x1*t._l23_2a-e*t._l12_2a)/d,o=(o*h+t._y1*t._l23_2a-n*t._l12_2a)/d}t._context.bezierCurveTo(r,i,s,o,t._x2,t._y2)}function oR(t,e){this._context=t,this._alpha=e}oR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:l2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const lR=(function t(e){function n(r){return e?new oR(r,e):new a2(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function cR(t,e){this._context=t,this._alpha=e}cR.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:l2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ert=(function t(e){function n(r){return e?new cR(r,e):new s2(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function uR(t,e){this._context=t,this._alpha=e}uR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:l2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Art=(function t(e){function n(r){return e?new uR(r,e):new o2(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function hR(t){this._context=t}hR.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Mrt(t){return new hR(t)}function xA(t){return t<0?-1:1}function bA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),c=(s*i+o*r)/(r+i);return(xA(s)+xA(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function vA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Yx(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,o-c*n,s,o)}function hg(t){this._context=t}hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yx(this,this._t0,vA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Yx(this,vA(this,n=bA(this,t,e)),n);break;default:Yx(this,this._t0,n=bA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function dR(t){this._context=new fR(t)}(dR.prototype=Object.create(hg.prototype)).point=function(t,e){hg.prototype.point.call(this,e,t)};function fR(t){this._context=t}fR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function pR(t){return new hg(t)}function gR(t){return new dR(t)}function mR(t){this._context=t}mR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=wA(t),i=wA(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wA(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function yR(t){return new mR(t)}function gm(t,e){this._context=t,this._t=e}gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function xR(t){return new gm(t,.5)}function bR(t){return new gm(t,0)}function vR(t){return new gm(t,1)}var Drt=D(t=>{const{securityLevel:e}=ge();let n=Wt("body");if(e==="sandbox"){const s=Wt(`#i${t}`).node()?.contentDocument??document;n=Wt(s.body)}return n.select(`#${t}`)},"selectSvgElement");function c2(t){return typeof t>"u"||t===null}D(c2,"isNothing");function wR(t){return typeof t=="object"&&t!==null}D(wR,"isObject");function SR(t){return Array.isArray(t)?t:c2(t)?[]:[t]}D(SR,"toArray");function CR(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}D(CR,"extend");function _R(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}D(_R,"repeat");function kR(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}D(kR,"isNegativeZero");var Nrt=c2,Lrt=wR,Ort=SR,Rrt=_R,Brt=kR,jrt=CR,Sn={isNothing:Nrt,isObject:Lrt,toArray:Ort,repeat:Rrt,isNegativeZero:Brt,extend:jrt};function u2(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}D(u2,"formatError");function uc(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=u2(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}D(uc,"YAMLException$1");uc.prototype=Object.create(Error.prototype);uc.prototype.constructor=uc;uc.prototype.toString=D(function(e){return this.name+": "+u2(this,e)},"toString");var kr=uc;function wp(t,e,n,r,i){var s="",o="",c=Math.floor(i/2)-1;return r-e>c&&(s=" ... ",e=r-c+s.length),n-r>c&&(o=" ...",n=r+c-o.length),{str:s+t.slice(e,n).replace(/\t/g,"")+o,pos:r-e+s.length}}D(wp,"getLine");function Sp(t,e){return Sn.repeat(" ",e-t.length)+t}D(Sp,"padStart");function TR(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var c="",u,h,d=Math.min(t.line+e.linesAfter,i.length).toString().length,p=e.maxLength-(e.indent+d+3);for(u=1;u<=e.linesBefore&&!(o-u<0);u++)h=wp(t.buffer,r[o-u],i[o-u],t.position-(r[o]-r[o-u]),p),c=Sn.repeat(" ",e.indent)+Sp((t.line-u+1).toString(),d)+" | "+h.str+`
`+c;for(h=wp(t.buffer,r[o],i[o],t.position,p),c+=Sn.repeat(" ",e.indent)+Sp((t.line+1).toString(),d)+" | "+h.str+`
`,c+=Sn.repeat("-",e.indent+d+3+h.pos)+`^
`,u=1;u<=e.linesAfter&&!(o+u>=i.length);u++)h=wp(t.buffer,r[o+u],i[o+u],t.position-(r[o]-r[o+u]),p),c+=Sn.repeat(" ",e.indent)+Sp((t.line+u+1).toString(),d)+" | "+h.str+`
`;return c.replace(/\n$/,"")}D(TR,"makeSnippet");var $rt=TR,zrt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Prt=["scalar","sequence","mapping"];function ER(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}D(ER,"compileStyleAliases");function AR(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(zrt.indexOf(n)===-1)throw new kr('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=ER(e.styleAliases||null),Prt.indexOf(this.kind)===-1)throw new kr('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}D(AR,"Type$1");var Gn=AR;function av(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}D(av,"compileList");function MR(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(D(r,"collectType"),e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}D(MR,"compileMap");function dg(t){return this.extend(t)}D(dg,"Schema$1");dg.prototype.extend=D(function(e){var n=[],r=[];if(e instanceof Gn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new kr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Gn))throw new kr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new kr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new kr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Gn))throw new kr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(dg.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=av(i,"implicit"),i.compiledExplicit=av(i,"explicit"),i.compiledTypeMap=MR(i.compiledImplicit,i.compiledExplicit),i},"extend");var Frt=dg,Irt=new Gn("tag:yaml.org,2002:str",{kind:"scalar",construct:D(function(t){return t!==null?t:""},"construct")}),Hrt=new Gn("tag:yaml.org,2002:seq",{kind:"sequence",construct:D(function(t){return t!==null?t:[]},"construct")}),Vrt=new Gn("tag:yaml.org,2002:map",{kind:"mapping",construct:D(function(t){return t!==null?t:{}},"construct")}),qrt=new Frt({explicit:[Irt,Hrt,Vrt]});function DR(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}D(DR,"resolveYamlNull");function NR(){return null}D(NR,"constructYamlNull");function LR(t){return t===null}D(LR,"isNull");var Urt=new Gn("tag:yaml.org,2002:null",{kind:"scalar",resolve:DR,construct:NR,predicate:LR,represent:{canonical:D(function(){return"~"},"canonical"),lowercase:D(function(){return"null"},"lowercase"),uppercase:D(function(){return"NULL"},"uppercase"),camelcase:D(function(){return"Null"},"camelcase"),empty:D(function(){return""},"empty")},defaultStyle:"lowercase"});function OR(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}D(OR,"resolveYamlBoolean");function RR(t){return t==="true"||t==="True"||t==="TRUE"}D(RR,"constructYamlBoolean");function BR(t){return Object.prototype.toString.call(t)==="[object Boolean]"}D(BR,"isBoolean");var Wrt=new Gn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:OR,construct:RR,predicate:BR,represent:{lowercase:D(function(t){return t?"true":"false"},"lowercase"),uppercase:D(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:D(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function jR(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}D(jR,"isHexCode");function $R(t){return 48<=t&&t<=55}D($R,"isOctCode");function zR(t){return 48<=t&&t<=57}D(zR,"isDecCode");function PR(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!jR(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!$R(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!zR(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}D(PR,"resolveYamlInteger");function FR(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}D(FR,"constructYamlInteger");function IR(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Sn.isNegativeZero(t)}D(IR,"isInteger");var Yrt=new Gn("tag:yaml.org,2002:int",{kind:"scalar",resolve:PR,construct:FR,predicate:IR,represent:{binary:D(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:D(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:D(function(t){return t.toString(10)},"decimal"),hexadecimal:D(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Grt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function HR(t){return!(t===null||!Grt.test(t)||t[t.length-1]==="_")}D(HR,"resolveYamlFloat");function VR(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}D(VR,"constructYamlFloat");var Xrt=/^[-+]?[0-9]+e/;function qR(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Sn.isNegativeZero(t))return"-0.0";return n=t.toString(10),Xrt.test(n)?n.replace("e",".e"):n}D(qR,"representYamlFloat");function UR(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Sn.isNegativeZero(t))}D(UR,"isFloat");var Zrt=new Gn("tag:yaml.org,2002:float",{kind:"scalar",resolve:HR,construct:VR,predicate:UR,represent:qR,defaultStyle:"lowercase"}),WR=qrt.extend({implicit:[Urt,Wrt,Yrt,Zrt]}),Krt=WR,YR=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),GR=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function XR(t){return t===null?!1:YR.exec(t)!==null||GR.exec(t)!==null}D(XR,"resolveYamlTimestamp");function ZR(t){var e,n,r,i,s,o,c,u=0,h=null,d,p,m;if(e=YR.exec(t),e===null&&(e=GR.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],c=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(d=+e[10],p=+(e[11]||0),h=(d*60+p)*6e4,e[9]==="-"&&(h=-h)),m=new Date(Date.UTC(n,r,i,s,o,c,u)),h&&m.setTime(m.getTime()-h),m}D(ZR,"constructYamlTimestamp");function KR(t){return t.toISOString()}D(KR,"representYamlTimestamp");var Qrt=new Gn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:XR,construct:ZR,instanceOf:Date,represent:KR});function QR(t){return t==="<<"||t===null}D(QR,"resolveYamlMerge");var Jrt=new Gn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:QR}),h2=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function JR(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=h2;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}D(JR,"resolveYamlBinary");function tB(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=h2,o=0,c=[];for(e=0;e<i;e++)e%4===0&&e&&(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)):n===18?(c.push(o>>10&255),c.push(o>>2&255)):n===12&&c.push(o>>4&255),new Uint8Array(c)}D(tB,"constructYamlBinary");function eB(t){var e="",n=0,r,i,s=t.length,o=h2;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}D(eB,"representYamlBinary");function nB(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}D(nB,"isBinary");var tit=new Gn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:JR,construct:tB,predicate:nB,represent:eB}),eit=Object.prototype.hasOwnProperty,nit=Object.prototype.toString;function rB(t){if(t===null)return!0;var e=[],n,r,i,s,o,c=t;for(n=0,r=c.length;n<r;n+=1){if(i=c[n],o=!1,nit.call(i)!=="[object Object]")return!1;for(s in i)if(eit.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}D(rB,"resolveYamlOmap");function iB(t){return t!==null?t:[]}D(iB,"constructYamlOmap");var rit=new Gn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:rB,construct:iB}),iit=Object.prototype.toString;function aB(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],iit.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}D(aB,"resolveYamlPairs");function sB(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}D(sB,"constructYamlPairs");var ait=new Gn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:aB,construct:sB}),sit=Object.prototype.hasOwnProperty;function oB(t){if(t===null)return!0;var e,n=t;for(e in n)if(sit.call(n,e)&&n[e]!==null)return!1;return!0}D(oB,"resolveYamlSet");function lB(t){return t!==null?t:{}}D(lB,"constructYamlSet");var oit=new Gn("tag:yaml.org,2002:set",{kind:"mapping",resolve:oB,construct:lB}),cB=Krt.extend({implicit:[Qrt,Jrt],explicit:[tit,rit,ait,oit]}),_s=Object.prototype.hasOwnProperty,fg=1,uB=2,hB=3,pg=4,Gx=1,lit=2,SA=3,cit=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,uit=/[\x85\u2028\u2029]/,hit=/[,\[\]\{\}]/,dB=/^(?:!|!!|![a-z\-]+!)$/i,fB=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function sv(t){return Object.prototype.toString.call(t)}D(sv,"_class");function vi(t){return t===10||t===13}D(vi,"is_EOL");function ys(t){return t===9||t===32}D(ys,"is_WHITE_SPACE");function ir(t){return t===9||t===32||t===10||t===13}D(ir,"is_WS_OR_EOL");function uo(t){return t===44||t===91||t===93||t===123||t===125}D(uo,"is_FLOW_INDICATOR");function pB(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}D(pB,"fromHexCode");function gB(t){return t===120?2:t===117?4:t===85?8:0}D(gB,"escapedHexLen");function mB(t){return 48<=t&&t<=57?t-48:-1}D(mB,"fromDecimalCode");function ov(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}D(ov,"simpleEscapeSequence");function yB(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}D(yB,"charFromCodepoint");var xB=new Array(256),bB=new Array(256);for(Js=0;Js<256;Js++)xB[Js]=ov(Js)?1:0,bB[Js]=ov(Js);var Js;function vB(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||cB,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}D(vB,"State$1");function d2(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=$rt(n),new kr(e,n)}D(d2,"generateError");function jt(t,e){throw d2(t,e)}D(jt,"throwError");function kh(t,e){t.onWarning&&t.onWarning.call(null,d2(t,e))}D(kh,"throwWarning");var CA={YAML:D(function(e,n,r){var i,s,o;e.version!==null&&jt(e,"duplication of %YAML directive"),r.length!==1&&jt(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&jt(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&jt(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&kh(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:D(function(e,n,r){var i,s;r.length!==2&&jt(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],dB.test(i)||jt(e,"ill-formed tag handle (first argument) of the TAG directive"),_s.call(e.tagMap,i)&&jt(e,'there is a previously declared suffix for "'+i+'" tag handle'),fB.test(s)||jt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{jt(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s},"handleTagDirective")};function ka(t,e,n,r){var i,s,o,c;if(e<n){if(c=t.input.slice(e,n),r)for(i=0,s=c.length;i<s;i+=1)o=c.charCodeAt(i),o===9||32<=o&&o<=1114111||jt(t,"expected valid JSON character");else cit.test(c)&&jt(t,"the stream contains non-printable characters");t.result+=c}}D(ka,"captureSegment");function lv(t,e,n,r){var i,s,o,c;for(Sn.isObject(n)||jt(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,c=i.length;o<c;o+=1)s=i[o],_s.call(e,s)||(e[s]=n[s],r[s]=!0)}D(lv,"mergeMappings");function ho(t,e,n,r,i,s,o,c,u){var h,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),h=0,d=i.length;h<d;h+=1)Array.isArray(i[h])&&jt(t,"nested arrays are not supported inside keys"),typeof i=="object"&&sv(i[h])==="[object Object]"&&(i[h]="[object Object]");if(typeof i=="object"&&sv(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(h=0,d=s.length;h<d;h+=1)lv(t,e,s[h],n);else lv(t,e,s,n);else!t.json&&!_s.call(n,i)&&_s.call(e,i)&&(t.line=o||t.line,t.lineStart=c||t.lineStart,t.position=u||t.position,jt(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}D(ho,"storeMappingPair");function mm(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):jt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}D(mm,"readLineBreak");function rn(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;ys(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(vi(i))for(mm(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&kh(t,"deficient indentation"),r}D(rn,"skipSeparationSpace");function rd(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||ir(n)))}D(rd,"testDocumentSeparator");function ym(t,e){e===1?t.result+=" ":e>1&&(t.result+=Sn.repeat(`
`,e-1))}D(ym,"writeFoldedLines");function wB(t,e,n){var r,i,s,o,c,u,h,d,p=t.kind,m=t.result,y;if(y=t.input.charCodeAt(t.position),ir(y)||uo(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(i=t.input.charCodeAt(t.position+1),ir(i)||n&&uo(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,c=!1;y!==0;){if(y===58){if(i=t.input.charCodeAt(t.position+1),ir(i)||n&&uo(i))break}else if(y===35){if(r=t.input.charCodeAt(t.position-1),ir(r))break}else{if(t.position===t.lineStart&&rd(t)||n&&uo(y))break;if(vi(y))if(u=t.line,h=t.lineStart,d=t.lineIndent,rn(t,!1,-1),t.lineIndent>=e){c=!0,y=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=u,t.lineStart=h,t.lineIndent=d;break}}c&&(ka(t,s,o,!1),ym(t,t.line-u),s=o=t.position,c=!1),ys(y)||(o=t.position+1),y=t.input.charCodeAt(++t.position)}return ka(t,s,o,!1),t.result?!0:(t.kind=p,t.result=m,!1)}D(wB,"readPlainScalar");function SB(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(ka(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else vi(n)?(ka(t,r,i,!0),ym(t,rn(t,!1,e)),r=i=t.position):t.position===t.lineStart&&rd(t)?jt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);jt(t,"unexpected end of the stream within a single quoted scalar")}D(SB,"readSingleQuotedScalar");function CB(t,e){var n,r,i,s,o,c;if(c=t.input.charCodeAt(t.position),c!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(c=t.input.charCodeAt(t.position))!==0;){if(c===34)return ka(t,n,t.position,!0),t.position++,!0;if(c===92){if(ka(t,n,t.position,!0),c=t.input.charCodeAt(++t.position),vi(c))rn(t,!1,e);else if(c<256&&xB[c])t.result+=bB[c],t.position++;else if((o=gB(c))>0){for(i=o,s=0;i>0;i--)c=t.input.charCodeAt(++t.position),(o=pB(c))>=0?s=(s<<4)+o:jt(t,"expected hexadecimal character");t.result+=yB(s),t.position++}else jt(t,"unknown escape sequence");n=r=t.position}else vi(c)?(ka(t,n,r,!0),ym(t,rn(t,!1,e)),n=r=t.position):t.position===t.lineStart&&rd(t)?jt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}jt(t,"unexpected end of the stream within a double quoted scalar")}D(CB,"readDoubleQuotedScalar");function _B(t,e){var n=!0,r,i,s,o=t.tag,c,u=t.anchor,h,d,p,m,y,x=Object.create(null),b,S,_,T;if(T=t.input.charCodeAt(t.position),T===91)d=93,y=!1,c=[];else if(T===123)d=125,y=!0,c={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=c),T=t.input.charCodeAt(++t.position);T!==0;){if(rn(t,!0,e),T=t.input.charCodeAt(t.position),T===d)return t.position++,t.tag=o,t.anchor=u,t.kind=y?"mapping":"sequence",t.result=c,!0;n?T===44&&jt(t,"expected the node content, but found ','"):jt(t,"missed comma between flow collection entries"),S=b=_=null,p=m=!1,T===63&&(h=t.input.charCodeAt(t.position+1),ir(h)&&(p=m=!0,t.position++,rn(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,To(t,e,fg,!1,!0),S=t.tag,b=t.result,rn(t,!0,e),T=t.input.charCodeAt(t.position),(m||t.line===r)&&T===58&&(p=!0,T=t.input.charCodeAt(++t.position),rn(t,!0,e),To(t,e,fg,!1,!0),_=t.result),y?ho(t,c,x,S,b,_,r,i,s):p?c.push(ho(t,null,x,S,b,_,r,i,s)):c.push(b),rn(t,!0,e),T=t.input.charCodeAt(t.position),T===44?(n=!0,T=t.input.charCodeAt(++t.position)):n=!1}jt(t,"unexpected end of the stream within a flow collection")}D(_B,"readFlowCollection");function kB(t,e){var n,r,i=Gx,s=!1,o=!1,c=e,u=0,h=!1,d,p;if(p=t.input.charCodeAt(t.position),p===124)r=!1;else if(p===62)r=!0;else return!1;for(t.kind="scalar",t.result="";p!==0;)if(p=t.input.charCodeAt(++t.position),p===43||p===45)Gx===i?i=p===43?SA:lit:jt(t,"repeat of a chomping mode identifier");else if((d=mB(p))>=0)d===0?jt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?jt(t,"repeat of an indentation width identifier"):(c=e+d-1,o=!0);else break;if(ys(p)){do p=t.input.charCodeAt(++t.position);while(ys(p));if(p===35)do p=t.input.charCodeAt(++t.position);while(!vi(p)&&p!==0)}for(;p!==0;){for(mm(t),t.lineIndent=0,p=t.input.charCodeAt(t.position);(!o||t.lineIndent<c)&&p===32;)t.lineIndent++,p=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>c&&(c=t.lineIndent),vi(p)){u++;continue}if(t.lineIndent<c){i===SA?t.result+=Sn.repeat(`
`,s?1+u:u):i===Gx&&s&&(t.result+=`
`);break}for(r?ys(p)?(h=!0,t.result+=Sn.repeat(`
`,s?1+u:u)):h?(h=!1,t.result+=Sn.repeat(`
`,u+1)):u===0?s&&(t.result+=" "):t.result+=Sn.repeat(`
`,u):t.result+=Sn.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,n=t.position;!vi(p)&&p!==0;)p=t.input.charCodeAt(++t.position);ka(t,n,t.position,!1)}return!0}D(kB,"readBlockScalar");function cv(t,e){var n,r=t.tag,i=t.anchor,s=[],o,c=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),u=t.input.charCodeAt(t.position);u!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,jt(t,"tab characters must not be used in indentation")),!(u!==45||(o=t.input.charCodeAt(t.position+1),!ir(o))));){if(c=!0,t.position++,rn(t,!0,-1)&&t.lineIndent<=e){s.push(null),u=t.input.charCodeAt(t.position);continue}if(n=t.line,To(t,e,hB,!1,!0),s.push(t.result),rn(t,!0,-1),u=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&u!==0)jt(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return c?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}D(cv,"readBlockSequence");function TB(t,e,n){var r,i,s,o,c,u,h=t.tag,d=t.anchor,p={},m=Object.create(null),y=null,x=null,b=null,S=!1,_=!1,T;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=p),T=t.input.charCodeAt(t.position);T!==0;){if(!S&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,jt(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(T===63||T===58)&&ir(r))T===63?(S&&(ho(t,p,m,y,x,null,o,c,u),y=x=b=null),_=!0,S=!0,i=!0):S?(S=!1,i=!0):jt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,T=r;else{if(o=t.line,c=t.lineStart,u=t.position,!To(t,n,uB,!1,!0))break;if(t.line===s){for(T=t.input.charCodeAt(t.position);ys(T);)T=t.input.charCodeAt(++t.position);if(T===58)T=t.input.charCodeAt(++t.position),ir(T)||jt(t,"a whitespace character is expected after the key-value separator within a block mapping"),S&&(ho(t,p,m,y,x,null,o,c,u),y=x=b=null),_=!0,S=!1,i=!1,y=t.tag,x=t.result;else if(_)jt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=h,t.anchor=d,!0}else if(_)jt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=h,t.anchor=d,!0}if((t.line===s||t.lineIndent>e)&&(S&&(o=t.line,c=t.lineStart,u=t.position),To(t,e,pg,!0,i)&&(S?x=t.result:b=t.result),S||(ho(t,p,m,y,x,b,o,c,u),y=x=b=null),rn(t,!0,-1),T=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&T!==0)jt(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return S&&ho(t,p,m,y,x,null,o,c,u),_&&(t.tag=h,t.anchor=d,t.kind="mapping",t.result=p),_}D(TB,"readBlockMapping");function EB(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&jt(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):jt(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!ir(o);)o===33&&(r?jt(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),dB.test(i)||jt(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),hit.test(s)&&jt(t,"tag suffix cannot contain flow indicator characters")}s&&!fB.test(s)&&jt(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{jt(t,"tag name is malformed: "+s)}return n?t.tag=s:_s.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:jt(t,'undeclared tag handle "'+i+'"'),!0}D(EB,"readTagProperty");function AB(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&jt(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!ir(n)&&!uo(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&jt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}D(AB,"readAnchorProperty");function MB(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!ir(r)&&!uo(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&jt(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),_s.call(t.anchorMap,n)||jt(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],rn(t,!0,-1),!0}D(MB,"readAlias");function To(t,e,n,r,i){var s,o,c,u=1,h=!1,d=!1,p,m,y,x,b,S;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=c=pg===n||hB===n,r&&rn(t,!0,-1)&&(h=!0,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)),u===1)for(;EB(t)||AB(t);)rn(t,!0,-1)?(h=!0,c=s,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)):c=!1;if(c&&(c=h||i),(u===1||pg===n)&&(fg===n||uB===n?b=e:b=e+1,S=t.position-t.lineStart,u===1?c&&(cv(t,S)||TB(t,S,b))||_B(t,b)?d=!0:(o&&kB(t,b)||SB(t,b)||CB(t,b)?d=!0:MB(t)?(d=!0,(t.tag!==null||t.anchor!==null)&&jt(t,"alias node should not have any properties")):wB(t,b,fg===n)&&(d=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):u===0&&(d=c&&cv(t,S))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&jt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),p=0,m=t.implicitTypes.length;p<m;p+=1)if(x=t.implicitTypes[p],x.resolve(t.result)){t.result=x.construct(t.result),t.tag=x.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(_s.call(t.typeMap[t.kind||"fallback"],t.tag))x=t.typeMap[t.kind||"fallback"][t.tag];else for(x=null,y=t.typeMap.multi[t.kind||"fallback"],p=0,m=y.length;p<m;p+=1)if(t.tag.slice(0,y[p].tag.length)===y[p].tag){x=y[p];break}x||jt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&x.kind!==t.kind&&jt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+x.kind+'", not "'+t.kind+'"'),x.resolve(t.result,t.tag)?(t.result=x.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):jt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||d}D(To,"composeNode");function DB(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(rn(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!ir(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&jt(t,"directive name must not be less than one character in length");o!==0;){for(;ys(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!vi(o));break}if(vi(o))break;for(n=t.position;o!==0&&!ir(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}o!==0&&mm(t),_s.call(CA,r)?CA[r](t,r,i):kh(t,'unknown document directive "'+r+'"')}if(rn(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,rn(t,!0,-1)):s&&jt(t,"directives end mark is expected"),To(t,t.lineIndent-1,pg,!1,!0),rn(t,!0,-1),t.checkLineBreaks&&uit.test(t.input.slice(e,t.position))&&kh(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&rd(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,rn(t,!0,-1));return}if(t.position<t.length-1)jt(t,"end of the stream or a document separator is expected");else return}D(DB,"readDocument");function f2(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new vB(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,jt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)DB(n);return n.documents}D(f2,"loadDocuments");function dit(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=f2(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}D(dit,"loadAll$1");function NB(t,e){var n=f2(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new kr("expected a single document in the stream, but found more")}}D(NB,"load$1");var fit=NB,pit={load:fit},LB=Object.prototype.toString,OB=Object.prototype.hasOwnProperty,p2=65279,git=9,Th=10,mit=13,yit=32,xit=33,bit=34,uv=35,vit=37,wit=38,Sit=39,Cit=42,RB=44,_it=45,gg=58,kit=61,Tit=62,Eit=63,Ait=64,BB=91,jB=93,Mit=96,$B=123,Dit=124,zB=125,Zn={};Zn[0]="\\0";Zn[7]="\\a";Zn[8]="\\b";Zn[9]="\\t";Zn[10]="\\n";Zn[11]="\\v";Zn[12]="\\f";Zn[13]="\\r";Zn[27]="\\e";Zn[34]='\\"';Zn[92]="\\\\";Zn[133]="\\N";Zn[160]="\\_";Zn[8232]="\\L";Zn[8233]="\\P";var Nit=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Lit=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function PB(t,e){var n,r,i,s,o,c,u;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)o=r[i],c=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=t.compiledTypeMap.fallback[o],u&&OB.call(u.styleAliases,c)&&(c=u.styleAliases[c]),n[o]=c;return n}D(PB,"compileStyleMap");function FB(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new kr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Sn.repeat("0",r-e.length)+e}D(FB,"encodeHex");var Oit=1,Eh=2;function IB(t){this.schema=t.schema||cB,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Sn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=PB(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Eh:Oit,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}D(IB,"State");function hv(t,e){for(var n=Sn.repeat(" ",e),r=0,i=-1,s="",o,c=t.length;r<c;)i=t.indexOf(`
`,r),i===-1?(o=t.slice(r),r=c):(o=t.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}D(hv,"indentString");function mg(t,e){return`
`+Sn.repeat(" ",t.indent*e)}D(mg,"generateNextLine");function HB(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}D(HB,"testImplicitResolving");function Ah(t){return t===yit||t===git}D(Ah,"isWhitespace");function hc(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==p2||65536<=t&&t<=1114111}D(hc,"isPrintable");function dv(t){return hc(t)&&t!==p2&&t!==mit&&t!==Th}D(dv,"isNsCharOrWhitespace");function fv(t,e,n){var r=dv(t),i=r&&!Ah(t);return(n?r:r&&t!==RB&&t!==BB&&t!==jB&&t!==$B&&t!==zB)&&t!==uv&&!(e===gg&&!i)||dv(e)&&!Ah(e)&&t===uv||e===gg&&i}D(fv,"isPlainSafe");function VB(t){return hc(t)&&t!==p2&&!Ah(t)&&t!==_it&&t!==Eit&&t!==gg&&t!==RB&&t!==BB&&t!==jB&&t!==$B&&t!==zB&&t!==uv&&t!==wit&&t!==Cit&&t!==xit&&t!==Dit&&t!==kit&&t!==Tit&&t!==Sit&&t!==bit&&t!==vit&&t!==Ait&&t!==Mit}D(VB,"isPlainSafeFirst");function qB(t){return!Ah(t)&&t!==gg}D(qB,"isPlainSafeLast");function $l(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}D($l,"codePointAt");function g2(t){var e=/^\n* /;return e.test(t)}D(g2,"needIndentIndicator");var UB=1,pv=2,WB=3,YB=4,Al=5;function GB(t,e,n,r,i,s,o,c){var u,h=0,d=null,p=!1,m=!1,y=r!==-1,x=-1,b=VB($l(t,0))&&qB($l(t,t.length-1));if(e||o)for(u=0;u<t.length;h>=65536?u+=2:u++){if(h=$l(t,u),!hc(h))return Al;b=b&&fv(h,d,c),d=h}else{for(u=0;u<t.length;h>=65536?u+=2:u++){if(h=$l(t,u),h===Th)p=!0,y&&(m=m||u-x-1>r&&t[x+1]!==" ",x=u);else if(!hc(h))return Al;b=b&&fv(h,d,c),d=h}m=m||y&&u-x-1>r&&t[x+1]!==" "}return!p&&!m?b&&!o&&!i(t)?UB:s===Eh?Al:pv:n>9&&g2(t)?Al:o?s===Eh?Al:pv:m?YB:WB}D(GB,"chooseScalarStyle");function XB(t,e,n,r,i){t.dump=(function(){if(e.length===0)return t.quotingType===Eh?'""':"''";if(!t.noCompatMode&&(Nit.indexOf(e)!==-1||Lit.test(e)))return t.quotingType===Eh?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),c=r||t.flowLevel>-1&&n>=t.flowLevel;function u(h){return HB(t,h)}switch(D(u,"testAmbiguity"),GB(e,c,t.indent,o,u,t.quotingType,t.forceQuotes&&!r,i)){case UB:return e;case pv:return"'"+e.replace(/'/g,"''")+"'";case WB:return"|"+gv(e,t.indent)+mv(hv(e,s));case YB:return">"+gv(e,t.indent)+mv(hv(ZB(e,o),s));case Al:return'"'+KB(e)+'"';default:throw new kr("impossible error: invalid scalar style")}})()}D(XB,"writeScalar");function gv(t,e){var n=g2(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}D(gv,"blockHeader");function mv(t){return t[t.length-1]===`
`?t.slice(0,-1):t}D(mv,"dropEndingNewline");function ZB(t,e){for(var n=/(\n+)([^\n]*)/g,r=(function(){var h=t.indexOf(`
`);return h=h!==-1?h:t.length,n.lastIndex=h,yv(t.slice(0,h),e)})(),i=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var c=o[1],u=o[2];s=u[0]===" ",r+=c+(!i&&!s&&u!==""?`
`:"")+yv(u,e),i=s}return r}D(ZB,"foldString");function yv(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,o=0,c=0,u="";r=n.exec(t);)c=r.index,c-i>e&&(s=o>i?o:c,u+=`
`+t.slice(i,s),i=s+1),o=c;return u+=`
`,t.length-i>e&&o>i?u+=t.slice(i,o)+`
`+t.slice(o+1):u+=t.slice(i),u.slice(1)}D(yv,"foldLine");function KB(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=$l(t,i),r=Zn[n],!r&&hc(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||FB(n);return e}D(KB,"escapeString");function QB(t,e,n){var r="",i=t.tag,s,o,c;for(s=0,o=n.length;s<o;s+=1)c=n[s],t.replacer&&(c=t.replacer.call(n,String(s),c)),(Yi(t,e,c,!1,!1)||typeof c>"u"&&Yi(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}D(QB,"writeFlowSequence");function xv(t,e,n,r){var i="",s=t.tag,o,c,u;for(o=0,c=n.length;o<c;o+=1)u=n[o],t.replacer&&(u=t.replacer.call(n,String(o),u)),(Yi(t,e+1,u,!0,!0,!1,!0)||typeof u>"u"&&Yi(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=mg(t,e)),t.dump&&Th===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}D(xv,"writeBlockSequence");function JB(t,e,n){var r="",i=t.tag,s=Object.keys(n),o,c,u,h,d;for(o=0,c=s.length;o<c;o+=1)d="",r!==""&&(d+=", "),t.condenseFlow&&(d+='"'),u=s[o],h=n[u],t.replacer&&(h=t.replacer.call(n,u,h)),Yi(t,e,u,!1,!1)&&(t.dump.length>1024&&(d+="? "),d+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Yi(t,e,h,!1,!1)&&(d+=t.dump,r+=d));t.tag=i,t.dump="{"+r+"}"}D(JB,"writeFlowMapping");function t5(t,e,n,r){var i="",s=t.tag,o=Object.keys(n),c,u,h,d,p,m;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new kr("sortKeys must be a boolean or a function");for(c=0,u=o.length;c<u;c+=1)m="",(!r||i!=="")&&(m+=mg(t,e)),h=o[c],d=n[h],t.replacer&&(d=t.replacer.call(n,h,d)),Yi(t,e+1,h,!0,!0,!0)&&(p=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,p&&(t.dump&&Th===t.dump.charCodeAt(0)?m+="?":m+="? "),m+=t.dump,p&&(m+=mg(t,e)),Yi(t,e+1,d,!0,p)&&(t.dump&&Th===t.dump.charCodeAt(0)?m+=":":m+=": ",m+=t.dump,i+=m));t.tag=s,t.dump=i||"{}"}D(t5,"writeBlockMapping");function bv(t,e,n){var r,i,s,o,c,u;for(i=n?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(c=i[s],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof e=="object"&&e instanceof c.instanceOf)&&(!c.predicate||c.predicate(e))){if(n?c.multi&&c.representName?t.tag=c.representName(e):t.tag=c.tag:t.tag="?",c.represent){if(u=t.styleMap[c.tag]||c.defaultStyle,LB.call(c.represent)==="[object Function]")r=c.represent(e,u);else if(OB.call(c.represent,u))r=c.represent[u](e,u);else throw new kr("!<"+c.tag+'> tag resolver accepts not "'+u+'" style');t.dump=r}return!0}return!1}D(bv,"detectType");function Yi(t,e,n,r,i,s,o){t.tag=null,t.dump=n,bv(t,n,!1)||bv(t,n,!0);var c=LB.call(t.dump),u=r,h;r&&(r=t.flowLevel<0||t.flowLevel>e);var d=c==="[object Object]"||c==="[object Array]",p,m;if(d&&(p=t.duplicates.indexOf(n),m=p!==-1),(t.tag!==null&&t.tag!=="?"||m||t.indent!==2&&e>0)&&(i=!1),m&&t.usedDuplicates[p])t.dump="*ref_"+p;else{if(d&&m&&!t.usedDuplicates[p]&&(t.usedDuplicates[p]=!0),c==="[object Object]")r&&Object.keys(t.dump).length!==0?(t5(t,e,t.dump,i),m&&(t.dump="&ref_"+p+t.dump)):(JB(t,e,t.dump),m&&(t.dump="&ref_"+p+" "+t.dump));else if(c==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?xv(t,e-1,t.dump,i):xv(t,e,t.dump,i),m&&(t.dump="&ref_"+p+t.dump)):(QB(t,e,t.dump),m&&(t.dump="&ref_"+p+" "+t.dump));else if(c==="[object String]")t.tag!=="?"&&XB(t,t.dump,e,s,u);else{if(c==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new kr("unacceptable kind of an object to dump "+c)}t.tag!==null&&t.tag!=="?"&&(h=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",t.dump=h+" "+t.dump)}return!0}D(Yi,"writeNode");function e5(t,e){var n=[],r=[],i,s;for(yg(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}D(e5,"getDuplicateReferences");function yg(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)yg(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)yg(t[r[i]],e,n)}D(yg,"inspectNode");function Rit(t,e){e=e||{};var n=new IB(e);n.noRefs||e5(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Yi(n,0,r,!0,!0)?n.dump+`
`:""}D(Rit,"dump$1");function Bit(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}D(Bit,"renamed");var jit=WR,$it=pit.load;var Un={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},_A={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function $u(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=Ie(t),e=Ie(e);const[n,r]=[t.x,t.y],[i,s]=[e.x,e.y],o=i-n,c=s-r;return{angle:Math.atan(c/o),deltaX:o,deltaY:c}}D($u,"calculateDeltaAndAngle");var Ie=D(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),zit=D(t=>({x:D(function(e,n,r){let i=0;const s=Ie(r[0]).x<Ie(r[r.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(Un,t.arrowTypeStart)){const{angle:y,deltaX:x}=$u(r[0],r[1]);i=Un[t.arrowTypeStart]*Math.cos(y)*(x>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Un,t.arrowTypeEnd)){const{angle:y,deltaX:x}=$u(r[r.length-1],r[r.length-2]);i=Un[t.arrowTypeEnd]*Math.cos(y)*(x>=0?1:-1)}const o=Math.abs(Ie(e).x-Ie(r[r.length-1]).x),c=Math.abs(Ie(e).y-Ie(r[r.length-1]).y),u=Math.abs(Ie(e).x-Ie(r[0]).x),h=Math.abs(Ie(e).y-Ie(r[0]).y),d=Un[t.arrowTypeStart],p=Un[t.arrowTypeEnd],m=1;if(o<p&&o>0&&c<p){let y=p+m-o;y*=s==="right"?-1:1,i-=y}if(u<d&&u>0&&h<d){let y=d+m-u;y*=s==="right"?-1:1,i+=y}return Ie(e).x+i},"x"),y:D(function(e,n,r){let i=0;const s=Ie(r[0]).y<Ie(r[r.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(Un,t.arrowTypeStart)){const{angle:y,deltaY:x}=$u(r[0],r[1]);i=Un[t.arrowTypeStart]*Math.abs(Math.sin(y))*(x>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Un,t.arrowTypeEnd)){const{angle:y,deltaY:x}=$u(r[r.length-1],r[r.length-2]);i=Un[t.arrowTypeEnd]*Math.abs(Math.sin(y))*(x>=0?1:-1)}const o=Math.abs(Ie(e).y-Ie(r[r.length-1]).y),c=Math.abs(Ie(e).x-Ie(r[r.length-1]).x),u=Math.abs(Ie(e).y-Ie(r[0]).y),h=Math.abs(Ie(e).x-Ie(r[0]).x),d=Un[t.arrowTypeStart],p=Un[t.arrowTypeEnd],m=1;if(o<p&&o>0&&c<p){let y=p+m-o;y*=s==="up"?-1:1,i-=y}if(u<d&&u>0&&h<d){let y=d+m-u;y*=s==="up"?-1:1,i+=y}return Ie(e).y+i},"y")}),"getLineFunctionsWithOffset"),m2=D(({flowchart:t})=>{const e=t?.subGraphTitleMargin?.top??0,n=t?.subGraphTitleMargin?.bottom??0,r=e+n;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:r}},"getSubGraphTitleMargins"),Pit=D(t=>{const{handDrawnSeed:e}=ge();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),wc=D(t=>{const e=Fit([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),Fit=D(t=>{const e=new Map;return t.forEach(n=>{const[r,i]=n.split(":");e.set(r.trim(),i?.trim())}),e},"styles2Map"),n5=D(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),Nt=D(t=>{const{stylesArray:e}=wc(t),n=[],r=[],i=[],s=[];return e.forEach(o=>{const c=o[0];n5(c)?n.push(o.join(":")+" !important"):(r.push(o.join(":")+" !important"),c.includes("stroke")&&i.push(o.join(":")+" !important"),c==="fill"&&s.push(o.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:s}},"styles2String"),Dt=D((t,e)=>{const{themeVariables:n,handDrawnSeed:r}=ge(),{nodeBorder:i,mainBkg:s}=n,{stylesMap:o}=wc(t);return Object.assign({roughness:.7,fill:o.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||i,seed:r,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:Iit(o.get("stroke-dasharray"))},e)},"userNodeOverrides"),Iit=D(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const i=isNaN(e[0])?0:e[0];return[i,i]}const n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1];return[n,r]},"getStrokeDashArray"),Zf={},xn={},kA;function Hit(){return kA||(kA=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.BLANK_URL=xn.relativeFirstCharacters=xn.whitespaceEscapeCharsRegex=xn.urlSchemeRegex=xn.ctrlCharactersRegex=xn.htmlCtrlEntityRegex=xn.htmlEntitiesRegex=xn.invalidProtocolRegex=void 0,xn.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,xn.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,xn.htmlCtrlEntityRegex=/&(newline|tab);/gi,xn.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,xn.urlSchemeRegex=/^.+(:|&colon;)/gim,xn.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,xn.relativeFirstCharacters=[".","/"],xn.BLANK_URL="about:blank"),xn}var TA;function Vit(){if(TA)return Zf;TA=1,Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.sanitizeUrl=s;var t=Hit();function e(o){return t.relativeFirstCharacters.indexOf(o[0])>-1}function n(o){var c=o.replace(t.ctrlCharactersRegex,"");return c.replace(t.htmlEntitiesRegex,function(u,h){return String.fromCharCode(h)})}function r(o){return URL.canParse(o)}function i(o){try{return decodeURIComponent(o)}catch{return o}}function s(o){if(!o)return t.BLANK_URL;var c,u=i(o.trim());do u=n(u).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),u=i(u),c=u.match(t.ctrlCharactersRegex)||u.match(t.htmlEntitiesRegex)||u.match(t.htmlCtrlEntityRegex)||u.match(t.whitespaceEscapeCharsRegex);while(c&&c.length>0);var h=u;if(!h)return t.BLANK_URL;if(e(h))return h;var d=h.trimStart(),p=d.match(t.urlSchemeRegex);if(!p)return h;var m=p[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(m))return t.BLANK_URL;var y=d.replace(/\\/g,"/");if(m==="mailto:"||m.includes("://"))return y;if(m==="http:"||m==="https:"){if(!r(y))return t.BLANK_URL;var x=new URL(y);return x.protocol=x.protocol.toLowerCase(),x.hostname=x.hostname.toLowerCase(),x.toString()}return y}return Zf}var qit=Vit(),r5=typeof global=="object"&&global&&global.Object===Object&&global,Uit=typeof self=="object"&&self&&self.Object===Object&&self,Xi=r5||Uit||Function("return this")(),xg=Xi.Symbol,i5=Object.prototype,Wit=i5.hasOwnProperty,Yit=i5.toString,Tu=xg?xg.toStringTag:void 0;function Git(t){var e=Wit.call(t,Tu),n=t[Tu];try{t[Tu]=void 0;var r=!0}catch{}var i=Yit.call(t);return r&&(e?t[Tu]=n:delete t[Tu]),i}var Xit=Object.prototype,Zit=Xit.toString;function Kit(t){return Zit.call(t)}var Qit="[object Null]",Jit="[object Undefined]",EA=xg?xg.toStringTag:void 0;function Sc(t){return t==null?t===void 0?Jit:Qit:EA&&EA in Object(t)?Git(t):Kit(t)}function No(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var tat="[object AsyncFunction]",eat="[object Function]",nat="[object GeneratorFunction]",rat="[object Proxy]";function y2(t){if(!No(t))return!1;var e=Sc(t);return e==eat||e==nat||e==tat||e==rat}var Xx=Xi["__core-js_shared__"],AA=(function(){var t=/[^.]+$/.exec(Xx&&Xx.keys&&Xx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function iat(t){return!!AA&&AA in t}var aat=Function.prototype,sat=aat.toString;function Lo(t){if(t!=null){try{return sat.call(t)}catch{}try{return t+""}catch{}}return""}var oat=/[\\^$.*+?()[\]{}|]/g,lat=/^\[object .+?Constructor\]$/,cat=Function.prototype,uat=Object.prototype,hat=cat.toString,dat=uat.hasOwnProperty,fat=RegExp("^"+hat.call(dat).replace(oat,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pat(t){if(!No(t)||iat(t))return!1;var e=y2(t)?fat:lat;return e.test(Lo(t))}function gat(t,e){return t?.[e]}function Oo(t,e){var n=gat(t,e);return pat(n)?n:void 0}var Mh=Oo(Object,"create");function mat(){this.__data__=Mh?Mh(null):{},this.size=0}function yat(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xat="__lodash_hash_undefined__",bat=Object.prototype,vat=bat.hasOwnProperty;function wat(t){var e=this.__data__;if(Mh){var n=e[t];return n===xat?void 0:n}return vat.call(e,t)?e[t]:void 0}var Sat=Object.prototype,Cat=Sat.hasOwnProperty;function _at(t){var e=this.__data__;return Mh?e[t]!==void 0:Cat.call(e,t)}var kat="__lodash_hash_undefined__";function Tat(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mh&&e===void 0?kat:e,this}function Eo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eo.prototype.clear=mat;Eo.prototype.delete=yat;Eo.prototype.get=wat;Eo.prototype.has=_at;Eo.prototype.set=Tat;function Eat(){this.__data__=[],this.size=0}function xm(t,e){return t===e||t!==t&&e!==e}function bm(t,e){for(var n=t.length;n--;)if(xm(t[n][0],e))return n;return-1}var Aat=Array.prototype,Mat=Aat.splice;function Dat(t){var e=this.__data__,n=bm(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Mat.call(e,n,1),--this.size,!0}function Nat(t){var e=this.__data__,n=bm(e,t);return n<0?void 0:e[n][1]}function Lat(t){return bm(this.__data__,t)>-1}function Oat(t,e){var n=this.__data__,r=bm(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function La(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}La.prototype.clear=Eat;La.prototype.delete=Dat;La.prototype.get=Nat;La.prototype.has=Lat;La.prototype.set=Oat;var Dh=Oo(Xi,"Map");function Rat(){this.size=0,this.__data__={hash:new Eo,map:new(Dh||La),string:new Eo}}function Bat(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function vm(t,e){var n=t.__data__;return Bat(e)?n[typeof e=="string"?"string":"hash"]:n.map}function jat(t){var e=vm(this,t).delete(t);return this.size-=e?1:0,e}function $at(t){return vm(this,t).get(t)}function zat(t){return vm(this,t).has(t)}function Pat(t,e){var n=vm(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Ms(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ms.prototype.clear=Rat;Ms.prototype.delete=jat;Ms.prototype.get=$at;Ms.prototype.has=zat;Ms.prototype.set=Pat;var Fat="Expected a function";function id(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Fat);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(id.Cache||Ms),n}id.Cache=Ms;function Iat(){this.__data__=new La,this.size=0}function Hat(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Vat(t){return this.__data__.get(t)}function qat(t){return this.__data__.has(t)}var Uat=200;function Wat(t,e){var n=this.__data__;if(n instanceof La){var r=n.__data__;if(!Dh||r.length<Uat-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ms(r)}return n.set(t,e),this.size=n.size,this}function Cc(t){var e=this.__data__=new La(t);this.size=e.size}Cc.prototype.clear=Iat;Cc.prototype.delete=Hat;Cc.prototype.get=Vat;Cc.prototype.has=qat;Cc.prototype.set=Wat;var bg=(function(){try{var t=Oo(Object,"defineProperty");return t({},"",{}),t}catch{}})();function x2(t,e,n){e=="__proto__"&&bg?bg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vv(t,e,n){(n!==void 0&&!xm(t[e],n)||n===void 0&&!(e in t))&&x2(t,e,n)}function Yat(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),c=o.length;c--;){var u=o[++i];if(n(s[u],u,s)===!1)break}return e}}var Gat=Yat(),a5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,MA=a5&&typeof module=="object"&&module&&!module.nodeType&&module,Xat=MA&&MA.exports===a5,DA=Xat?Xi.Buffer:void 0,NA=DA?DA.allocUnsafe:void 0;function Zat(t,e){if(e)return t.slice();var n=t.length,r=NA?NA(n):new t.constructor(n);return t.copy(r),r}var LA=Xi.Uint8Array;function Kat(t){var e=new t.constructor(t.byteLength);return new LA(e).set(new LA(t)),e}function Qat(t,e){var n=e?Kat(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Jat(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var OA=Object.create,tst=(function(){function t(){}return function(e){if(!No(e))return{};if(OA)return OA(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function s5(t,e){return function(n){return t(e(n))}}var o5=s5(Object.getPrototypeOf,Object),est=Object.prototype;function wm(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||est;return t===n}function nst(t){return typeof t.constructor=="function"&&!wm(t)?tst(o5(t)):{}}function ad(t){return t!=null&&typeof t=="object"}var rst="[object Arguments]";function RA(t){return ad(t)&&Sc(t)==rst}var l5=Object.prototype,ist=l5.hasOwnProperty,ast=l5.propertyIsEnumerable,vg=RA((function(){return arguments})())?RA:function(t){return ad(t)&&ist.call(t,"callee")&&!ast.call(t,"callee")},wg=Array.isArray,sst=9007199254740991;function c5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sst}function Sm(t){return t!=null&&c5(t.length)&&!y2(t)}function ost(t){return ad(t)&&Sm(t)}function lst(){return!1}var u5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,BA=u5&&typeof module=="object"&&module&&!module.nodeType&&module,cst=BA&&BA.exports===u5,jA=cst?Xi.Buffer:void 0,ust=jA?jA.isBuffer:void 0,b2=ust||lst,hst="[object Object]",dst=Function.prototype,fst=Object.prototype,h5=dst.toString,pst=fst.hasOwnProperty,gst=h5.call(Object);function mst(t){if(!ad(t)||Sc(t)!=hst)return!1;var e=o5(t);if(e===null)return!0;var n=pst.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&h5.call(n)==gst}var yst="[object Arguments]",xst="[object Array]",bst="[object Boolean]",vst="[object Date]",wst="[object Error]",Sst="[object Function]",Cst="[object Map]",_st="[object Number]",kst="[object Object]",Tst="[object RegExp]",Est="[object Set]",Ast="[object String]",Mst="[object WeakMap]",Dst="[object ArrayBuffer]",Nst="[object DataView]",Lst="[object Float32Array]",Ost="[object Float64Array]",Rst="[object Int8Array]",Bst="[object Int16Array]",jst="[object Int32Array]",$st="[object Uint8Array]",zst="[object Uint8ClampedArray]",Pst="[object Uint16Array]",Fst="[object Uint32Array]",$e={};$e[Lst]=$e[Ost]=$e[Rst]=$e[Bst]=$e[jst]=$e[$st]=$e[zst]=$e[Pst]=$e[Fst]=!0;$e[yst]=$e[xst]=$e[Dst]=$e[bst]=$e[Nst]=$e[vst]=$e[wst]=$e[Sst]=$e[Cst]=$e[_st]=$e[kst]=$e[Tst]=$e[Est]=$e[Ast]=$e[Mst]=!1;function Ist(t){return ad(t)&&c5(t.length)&&!!$e[Sc(t)]}function Hst(t){return function(e){return t(e)}}var d5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nh=d5&&typeof module=="object"&&module&&!module.nodeType&&module,Vst=nh&&nh.exports===d5,Zx=Vst&&r5.process,$A=(function(){try{var t=nh&&nh.require&&nh.require("util").types;return t||Zx&&Zx.binding&&Zx.binding("util")}catch{}})(),zA=$A&&$A.isTypedArray,v2=zA?Hst(zA):Ist;function wv(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var qst=Object.prototype,Ust=qst.hasOwnProperty;function Wst(t,e,n){var r=t[e];(!(Ust.call(t,e)&&xm(r,n))||n===void 0&&!(e in t))&&x2(t,e,n)}function Yst(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var c=e[s],u=void 0;u===void 0&&(u=t[c]),i?x2(n,c,u):Wst(n,c,u)}return n}function Gst(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Xst=9007199254740991,Zst=/^(?:0|[1-9]\d*)$/;function f5(t,e){var n=typeof t;return e=e??Xst,!!e&&(n=="number"||n!="symbol"&&Zst.test(t))&&t>-1&&t%1==0&&t<e}var Kst=Object.prototype,Qst=Kst.hasOwnProperty;function Jst(t,e){var n=wg(t),r=!n&&vg(t),i=!n&&!r&&b2(t),s=!n&&!r&&!i&&v2(t),o=n||r||i||s,c=o?Gst(t.length,String):[],u=c.length;for(var h in t)(e||Qst.call(t,h))&&!(o&&(h=="length"||i&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||f5(h,u)))&&c.push(h);return c}function tot(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var eot=Object.prototype,not=eot.hasOwnProperty;function rot(t){if(!No(t))return tot(t);var e=wm(t),n=[];for(var r in t)r=="constructor"&&(e||!not.call(t,r))||n.push(r);return n}function p5(t){return Sm(t)?Jst(t,!0):rot(t)}function iot(t){return Yst(t,p5(t))}function aot(t,e,n,r,i,s,o){var c=wv(t,n),u=wv(e,n),h=o.get(u);if(h){vv(t,n,h);return}var d=s?s(c,u,n+"",t,e,o):void 0,p=d===void 0;if(p){var m=wg(u),y=!m&&b2(u),x=!m&&!y&&v2(u);d=u,m||y||x?wg(c)?d=c:ost(c)?d=Jat(c):y?(p=!1,d=Zat(u,!0)):x?(p=!1,d=Qat(u,!0)):d=[]:mst(u)||vg(u)?(d=c,vg(c)?d=iot(c):(!No(c)||y2(c))&&(d=nst(u))):p=!1}p&&(o.set(u,d),i(d,u,r,s,o),o.delete(u)),vv(t,n,d)}function g5(t,e,n,r,i){t!==e&&Gat(e,function(s,o){if(i||(i=new Cc),No(s))aot(t,e,o,n,g5,r,i);else{var c=r?r(wv(t,o),s,o+"",t,e,i):void 0;c===void 0&&(c=s),vv(t,o,c)}},p5)}function m5(t){return t}function sot(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var PA=Math.max;function oot(t,e,n){return e=PA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=PA(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=n(o),sot(t,this,c)}}function lot(t){return function(){return t}}var cot=bg?function(t,e){return bg(t,"toString",{configurable:!0,enumerable:!1,value:lot(e),writable:!0})}:m5,uot=800,hot=16,dot=Date.now;function fot(t){var e=0,n=0;return function(){var r=dot(),i=hot-(r-n);if(n=r,i>0){if(++e>=uot)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var pot=fot(cot);function got(t,e){return pot(oot(t,e,m5),t+"")}function mot(t,e,n){if(!No(n))return!1;var r=typeof e;return(r=="number"?Sm(n)&&f5(e,n.length):r=="string"&&e in n)?xm(n[e],t):!1}function yot(t){return got(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&mot(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,s)}return e})}var xot=yot(function(t,e,n){g5(t,e,n)}),bot="",vot={curveBasis:vp,curveBasisClosed:Srt,curveBasisOpen:Crt,curveBumpX:eR,curveBumpY:nR,curveBundle:_rt,curveCardinalClosed:krt,curveCardinalOpen:Trt,curveCardinal:sR,curveCatmullRomClosed:Ert,curveCatmullRomOpen:Art,curveCatmullRom:lR,curveLinear:lg,curveLinearClosed:Mrt,curveMonotoneX:pR,curveMonotoneY:gR,curveNatural:yR,curveStep:xR,curveStepAfter:vR,curveStepBefore:bR},wot=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Sot=D(function(t,e){const n=y5(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const o=n.map(c=>c.args);rg(o),r=wn(r,[...o])}else r=n.args;if(!r)return;let i=K1(t,e);const s="config";return r[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),r[i]=r[s],delete r[s]),r},"detectInit"),y5=D(function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${wot.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),yt.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let r;const i=[];for(;(r=th.exec(t))!==null;)if(r.index===th.lastIndex&&th.lastIndex++,r&&!e||e&&r[1]?.match(e)||e&&r[2]?.match(e)){const s=r[1]?r[1]:r[2],o=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:s,args:o})}return i.length===0?{type:t,args:null}:i.length===1?i[0]:i}catch(n){return yt.error(`ERROR: ${n.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),Cot=D(function(t){return t.replace(th,"")},"removeDirectives"),_ot=D(function(t,e){for(const[n,r]of e.entries())if(r.match(t))return n;return-1},"isSubstringInArray");function w2(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return vot[n]??e}D(w2,"interpolateToCurve");function x5(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?qit.sanitizeUrl(n):n}D(x5,"formatUrl");var kot=D((t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let s=window;for(let o=0;o<r;o++)if(s=s[n[o]],!s){yt.error(`Function name: ${t} not found in window`);return}s[i](...e)},"runFunc");function S2(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}D(S2,"distance");function b5(t){let e,n=0;t.forEach(i=>{n+=S2(i,e),e=i});const r=n/2;return C2(t,r)}D(b5,"traverseEdge");function v5(t){return t.length===1?t[0]:b5(t)}D(v5,"calcLabelPosition");var FA=D((t,e=2)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},"roundNumber"),C2=D((t,e)=>{let n,r=e;for(const i of t){if(n){const s=S2(i,n);if(s===0)return n;if(s<r)r-=s;else{const o=r/s;if(o<=0)return n;if(o>=1)return{x:i.x,y:i.y};if(o>0&&o<1)return{x:FA((1-o)*n.x+o*i.x,5),y:FA((1-o)*n.y+o*i.y,5)}}}n=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Tot=D((t,e,n)=>{yt.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());const i=C2(e,25),s=t?10:5,o=Math.atan2(e[0].y-i.y,e[0].x-i.x),c={x:0,y:0};return c.x=Math.sin(o)*s+(e[0].x+i.x)/2,c.y=-Math.cos(o)*s+(e[0].y+i.y)/2,c},"calcCardinalityPosition");function w5(t,e,n){const r=structuredClone(n);yt.info("our points",r),e!=="start_left"&&e!=="start_right"&&r.reverse();const i=25+t,s=C2(r,i),o=10+t*.5,c=Math.atan2(r[0].y-s.y,r[0].x-s.x),u={x:0,y:0};return e==="start_left"?(u.x=Math.sin(c+Math.PI)*o+(r[0].x+s.x)/2,u.y=-Math.cos(c+Math.PI)*o+(r[0].y+s.y)/2):e==="end_right"?(u.x=Math.sin(c-Math.PI)*o+(r[0].x+s.x)/2-5,u.y=-Math.cos(c-Math.PI)*o+(r[0].y+s.y)/2-5):e==="end_left"?(u.x=Math.sin(c)*o+(r[0].x+s.x)/2-5,u.y=-Math.cos(c)*o+(r[0].y+s.y)/2-5):(u.x=Math.sin(c)*o+(r[0].x+s.x)/2,u.y=-Math.cos(c)*o+(r[0].y+s.y)/2),u}D(w5,"calcTerminalLabelPosition");function S5(t){let e="",n="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":e=e+r+";");return{style:e,labelStyle:n}}D(S5,"getStylesFromArray");var IA=0,Eot=D(()=>(IA++,"id-"+Math.random().toString(36).substr(2,12)+"-"+IA),"generateId");function C5(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}D(C5,"makeRandomHex");var Aot=D(t=>C5(t.length),"random"),Mot=D(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),Dot=D(function(t,e){const n=e.text.replace(vc.lineBreakRegex," "),[,r]=Cm(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",r),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(n),i},"drawSimpleText"),Not=id((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),vc.lineBreakRegex.test(t)))return t;const r=t.split(" ").filter(Boolean),i=[];let s="";return r.forEach((o,c)=>{const u=Ma(`${o} `,n),h=Ma(s,n);if(u>e){const{hyphenatedStrings:m,remainingWord:y}=Lot(o,e,"-",n);i.push(s,...m),s=y}else h+u>=e?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");c+1===r.length&&i.push(s)}),i.filter(o=>o!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),Lot=id((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=[...t],s=[];let o="";return i.forEach((c,u)=>{const h=`${o}${c}`;if(Ma(h,r)>=e){const p=u+1,m=i.length===p,y=`${h}${n}`;s.push(m?h:y),o=""}else o=h}),{hyphenatedStrings:s,remainingWord:o}},(t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function _5(t,e){return _2(t,e).height}D(_5,"calculateTextHeight");function Ma(t,e){return _2(t,e).width}D(Ma,"calculateTextWidth");var _2=id((t,e)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,s]=Cm(n),o=["sans-serif",r],c=t.split(vc.lineBreakRegex),u=[],h=Wt("body");if(!h.remove)return{width:0,height:0,lineHeight:0};const d=h.append("svg");for(const m of o){let y=0;const x={width:0,height:0,lineHeight:0};for(const b of c){const S=Mot();S.text=b||bot;const _=Dot(d,S).style("font-size",s).style("font-weight",i).style("font-family",m),T=(_._groups||_)[0][0].getBBox();if(T.width===0&&T.height===0)throw new Error("svg element not in render tree");x.width=Math.round(Math.max(x.width,T.width)),y=Math.round(T.height),x.height+=y,x.lineHeight=Math.round(Math.max(x.lineHeight,y))}u.push(x)}d.remove();const p=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[p]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),Ql,Oot=(Ql=class{constructor(e=!1,n){this.count=0,this.count=n?n.length:0,this.next=e?()=>this.count++:()=>Date.now()}},D(Ql,"InitIDGenerator"),Ql),Kf,Rot=D(function(t){return Kf=Kf||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Kf.innerHTML=t,unescape(Kf.textContent)},"entityDecode");function k2(t){return"str"in t}D(k2,"isDetailedError");var Bot=D((t,e,n,r)=>{if(!r)return;const i=t.node()?.getBBox();i&&t.append("text").text(r).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-n).attr("class",e)},"insertTitle"),Cm=D(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function T2(t,e){return xot({},t,e)}D(T2,"cleanAndMerge");var yi={assignWithDepth:wn,wrapLabel:Not,calculateTextHeight:_5,calculateTextWidth:Ma,calculateTextDimensions:_2,cleanAndMerge:T2,detectInit:Sot,detectDirective:y5,isSubstringInArray:_ot,interpolateToCurve:w2,calcLabelPosition:v5,calcCardinalityPosition:Tot,calcTerminalLabelPosition:w5,formatUrl:x5,getStylesFromArray:S5,generateId:Eot,random:Aot,runFunc:kot,entityDecode:Rot,insertTitle:Bot,isLabelCoordinateInPath:k5,parseFontSize:Cm,InitIDGenerator:Oot},jot=D(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?""+r+"":""+r+""}),e},"encodeEntities"),Ro=D(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),Wft=D((t,e,{counter:n=0,prefix:r,suffix:i},s)=>s||`${r?`${r}_`:""}${t}_${e}_${n}${i?`_${i}`:""}`,"getEdgeId");function Xn(t){return t??null}D(Xn,"handleUndefinedAttr");function k5(t,e){const n=Math.round(t.x),r=Math.round(t.y),i=e.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(n.toString())||i.includes(r.toString())}D(k5,"isLabelCoordinateInPath");const $ot=Object.freeze({left:0,top:0,width:16,height:16}),Sg=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),T5=Object.freeze({...$ot,...Sg}),zot=Object.freeze({...T5,body:"",hidden:!1}),Pot=Object.freeze({width:null,height:null}),Fot=Object.freeze({...Pot,...Sg}),Iot=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const c=i.pop(),u=i.pop(),h={provider:i.length>0?i[0]:r,prefix:u,name:c};return Kx(h)?h:null}const s=i[0],o=s.split("-");if(o.length>1){const c={provider:r,prefix:o.shift(),name:o.join("-")};return Kx(c)?c:null}if(n&&r===""){const c={provider:r,prefix:"",name:s};return Kx(c,n)?c:null}return null},Kx=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function Hot(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function HA(t,e){const n=Hot(t,e);for(const r in zot)r in Sg?r in t&&!(r in n)&&(n[r]=Sg[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function Vot(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const c=r[o]&&r[o].parent,u=c&&s(c);u&&(i[o]=[c].concat(u))}return i[o]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function VA(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function o(c){s=HA(r[c]||i[c],s)}return o(e),n.forEach(o),HA(t,s)}function qot(t,e){if(t.icons[e])return VA(t,e,[]);const n=Vot(t,[e])[e];return n?VA(t,e,n):null}const Uot=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Wot=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function qA(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(Uot);if(r===null||!r.length)return t;const i=[];let s=r.shift(),o=Wot.test(s);for(;;){if(o){const c=parseFloat(s);isNaN(c)?i.push(s):i.push(Math.ceil(c*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}function Yot(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const o=t.indexOf(">",s);if(o===-1)break;n+=t.slice(i+1,s).trim(),t=t.slice(0,r).trim()+t.slice(o+1)}return{defs:n,content:t}}function Got(t,e){return t?"<defs>"+t+"</defs>"+e:e}function Xot(t,e,n){const r=Yot(t);return Got(r.defs,e+r.content+n)}const Zot=t=>t==="unset"||t==="undefined"||t==="none";function Kot(t,e){const n={...T5,...t},r={...Fot,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(b=>{const S=[],_=b.hFlip,T=b.vFlip;let w=b.rotate;_?T?w+=2:(S.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),S.push("scale(-1 1)"),i.top=i.left=0):T&&(S.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),S.push("scale(1 -1)"),i.top=i.left=0);let E;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:E=i.height/2+i.top,S.unshift("rotate(90 "+E.toString()+" "+E.toString()+")");break;case 2:S.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:E=i.width/2+i.left,S.unshift("rotate(-90 "+E.toString()+" "+E.toString()+")");break}w%2===1&&(i.left!==i.top&&(E=i.left,i.left=i.top,i.top=E),i.width!==i.height&&(E=i.width,i.width=i.height,i.height=E)),S.length&&(s=Xot(s,'<g transform="'+S.join(" ")+'">',"</g>"))});const o=r.width,c=r.height,u=i.width,h=i.height;let d,p;o===null?(p=c===null?"1em":c==="auto"?h:c,d=qA(p,u/h)):(d=o==="auto"?u:o,p=c===null?qA(d,h/u):c==="auto"?h:c);const m={},y=(b,S)=>{Zot(S)||(m[b]=S.toString())};y("width",d),y("height",p);const x=[i.left,i.top,u,h];return m.viewBox=x.join(" "),{attributes:m,viewBox:x,body:s}}const Qot=/\sid="(\S+)"/g,UA=new Map;function Jot(t){t=t.replace(/[0-9]+$/,"")||"a";const e=UA.get(t)||0;return UA.set(t,e+1),e?`${t}${e}`:t}function tlt(t){const e=[];let n;for(;n=Qot.exec(t);)e.push(n[1]);if(!e.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(i=>{const s=Jot(i),o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}function elt(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function E2(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Bo=E2();function E5(t){Bo=t}var rh={exec:()=>null};function he(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(ar.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}var nlt=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),ar={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},rlt=/^(?:[ \t]*(?:\n|$))+/,ilt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,alt=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,sd=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,slt=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,A2=/(?:[*+-]|\d{1,9}[.)])/,A5=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,M5=he(A5).replace(/bull/g,A2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),olt=he(A5).replace(/bull/g,A2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),M2=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,llt=/^[^\n]+/,D2=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,clt=he(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",D2).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ult=he(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,A2).getRegex(),_m="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",N2=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,hlt=he("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",N2).replace("tag",_m).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),D5=he(M2).replace("hr",sd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_m).getRegex(),dlt=he(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",D5).getRegex(),L2={blockquote:dlt,code:ilt,def:clt,fences:alt,heading:slt,hr:sd,html:hlt,lheading:M5,list:ult,newline:rlt,paragraph:D5,table:rh,text:llt},WA=he("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",sd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_m).getRegex(),flt={...L2,lheading:olt,table:WA,paragraph:he(M2).replace("hr",sd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",WA).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_m).getRegex()},plt={...L2,html:he(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",N2).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:rh,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:he(M2).replace("hr",sd).replace("heading",` *#{1,6} *[^
]`).replace("lheading",M5).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},glt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,mlt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,N5=/^( {2,}|\\)\n(?!\s*$)/,ylt=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,km=/[\p{P}\p{S}]/u,O2=/[\s\p{P}\p{S}]/u,L5=/[^\s\p{P}\p{S}]/u,xlt=he(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,O2).getRegex(),O5=/(?!~)[\p{P}\p{S}]/u,blt=/(?!~)[\s\p{P}\p{S}]/u,vlt=/(?:[^\s\p{P}\p{S}]|~)/u,wlt=he(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",nlt?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),R5=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Slt=he(R5,"u").replace(/punct/g,km).getRegex(),Clt=he(R5,"u").replace(/punct/g,O5).getRegex(),B5="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",_lt=he(B5,"gu").replace(/notPunctSpace/g,L5).replace(/punctSpace/g,O2).replace(/punct/g,km).getRegex(),klt=he(B5,"gu").replace(/notPunctSpace/g,vlt).replace(/punctSpace/g,blt).replace(/punct/g,O5).getRegex(),Tlt=he("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,L5).replace(/punctSpace/g,O2).replace(/punct/g,km).getRegex(),Elt=he(/\\(punct)/,"gu").replace(/punct/g,km).getRegex(),Alt=he(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Mlt=he(N2).replace("(?:-->|$)","-->").getRegex(),Dlt=he("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Mlt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Cg=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Nlt=he(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Cg).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),j5=he(/^!?\[(label)\]\[(ref)\]/).replace("label",Cg).replace("ref",D2).getRegex(),$5=he(/^!?\[(ref)\](?:\[\])?/).replace("ref",D2).getRegex(),Llt=he("reflink|nolink(?!\\()","g").replace("reflink",j5).replace("nolink",$5).getRegex(),YA=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,R2={_backpedal:rh,anyPunctuation:Elt,autolink:Alt,blockSkip:wlt,br:N5,code:mlt,del:rh,emStrongLDelim:Slt,emStrongRDelimAst:_lt,emStrongRDelimUnd:Tlt,escape:glt,link:Nlt,nolink:$5,punctuation:xlt,reflink:j5,reflinkSearch:Llt,tag:Dlt,text:ylt,url:rh},Olt={...R2,link:he(/^!?\[(label)\]\((.*?)\)/).replace("label",Cg).getRegex(),reflink:he(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Cg).getRegex()},Sv={...R2,emStrongRDelimAst:klt,emStrongLDelim:Clt,url:he(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",YA).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:he(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",YA).getRegex()},Rlt={...Sv,br:he(N5).replace("{2,}","*").getRegex(),text:he(Sv.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Qf={normal:L2,gfm:flt,pedantic:plt},Eu={normal:R2,gfm:Sv,breaks:Rlt,pedantic:Olt},Blt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},GA=t=>Blt[t];function ji(t,e){if(e){if(ar.escapeTest.test(t))return t.replace(ar.escapeReplace,GA)}else if(ar.escapeTestNoEncode.test(t))return t.replace(ar.escapeReplaceNoEncode,GA);return t}function XA(t){try{t=encodeURI(t).replace(ar.percentDecode,"%")}catch{return null}return t}function ZA(t,e){let n=t.replace(ar.findPipe,(s,o,c)=>{let u=!1,h=o;for(;--h>=0&&c[h]==="\\";)u=!u;return u?"|":" |"}),r=n.split(ar.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(ar.slashPipe,"|");return r}function Au(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function jlt(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function KA(t,e,n,r,i){let s=e.href,o=e.title||null,c=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,u}function $lt(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let o=s.match(n.other.beginningSpace);if(o===null)return s;let[c]=o;return c.length>=i.length?s.slice(i.length):s}).join(`
`)}var _g=class{options;rules;lexer;constructor(e){this.options=e||Bo}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Au(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=$lt(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=Au(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Au(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=Au(n[0],`
`).split(`
`),i="",s="",o=[];for(;r.length>0;){let c=!1,u=[],h;for(h=0;h<r.length;h++)if(this.rules.other.blockquoteStart.test(r[h]))u.push(r[h]),c=!0;else if(!c)u.push(r[h]);else break;r=r.slice(h);let d=u.join(`
`),p=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${d}`:d,s=s?`${s}
${p}`:p;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,o,!0),this.lexer.state.top=m,r.length===0)break;let y=o.at(-1);if(y?.type==="code")break;if(y?.type==="blockquote"){let x=y,b=x.raw+`
`+r.join(`
`),S=this.blockquote(b);o[o.length-1]=S,i=i.substring(0,i.length-x.raw.length)+S.raw,s=s.substring(0,s.length-x.text.length)+S.text;break}else if(y?.type==="list"){let x=y,b=x.raw+`
`+r.join(`
`),S=this.list(b);o[o.length-1]=S,i=i.substring(0,i.length-y.raw.length)+S.raw,s=s.substring(0,s.length-x.raw.length)+S.raw,r=b.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let o=this.rules.other.listItemRegex(r),c=!1;for(;e;){let h=!1,d="",p="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;d=n[0],e=e.substring(d.length);let m=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,T=>" ".repeat(3*T.length)),y=e.split(`
`,1)[0],x=!m.trim(),b=0;if(this.options.pedantic?(b=2,p=m.trimStart()):x?b=n[1].length+1:(b=n[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,p=m.slice(b),b+=n[1].length),x&&this.rules.other.blankLine.test(y)&&(d+=y+`
`,e=e.substring(y.length+1),h=!0),!h){let T=this.rules.other.nextBulletRegex(b),w=this.rules.other.hrRegex(b),E=this.rules.other.fencesBeginRegex(b),M=this.rules.other.headingBeginRegex(b),L=this.rules.other.htmlBeginRegex(b);for(;e;){let N=e.split(`
`,1)[0],$;if(y=N,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),$=y):$=y.replace(this.rules.other.tabCharGlobal,"    "),E.test(y)||M.test(y)||L.test(y)||T.test(y)||w.test(y))break;if($.search(this.rules.other.nonSpaceChar)>=b||!y.trim())p+=`
`+$.slice(b);else{if(x||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||E.test(m)||M.test(m)||w.test(m))break;p+=`
`+y}!x&&!y.trim()&&(x=!0),d+=N+`
`,e=e.substring(N.length+1),m=$.slice(b)}}s.loose||(c?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(c=!0));let S=null,_;this.options.gfm&&(S=this.rules.other.listIsTask.exec(p),S&&(_=S[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:d,task:!!S,checked:_,loose:!1,text:p,tokens:[]}),s.raw+=d}let u=s.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let h=0;h<s.items.length;h++)if(this.lexer.state.top=!1,s.items[h].tokens=this.lexer.blockTokens(s.items[h].text,[]),!s.loose){let d=s.items[h].tokens.filter(m=>m.type==="space"),p=d.length>0&&d.some(m=>this.rules.other.anyLine.test(m.raw));s.loose=p}if(s.loose)for(let h=0;h<s.items.length;h++)s.items[h].loose=!0;return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=ZA(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let c of i)this.rules.other.tableAlignRight.test(c)?o.align.push("right"):this.rules.other.tableAlignCenter.test(c)?o.align.push("center"):this.rules.other.tableAlignLeft.test(c)?o.align.push("left"):o.align.push(null);for(let c=0;c<r.length;c++)o.header.push({text:r[c],tokens:this.lexer.inline(r[c]),header:!0,align:o.align[c]});for(let c of s)o.rows.push(ZA(c,o.header.length).map((u,h)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[h]})));return o}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let o=Au(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{let o=jlt(n[2],"()");if(o===-2)return;if(o>-1){let c=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),KA(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){let o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return KA(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,o,c,u=s,h=0,d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+s);(i=d.exec(n))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(c=[...o].length,i[3]||i[4]){u+=c;continue}else if((i[5]||i[6])&&s%3&&!((s+c)%3)){h+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+h);let p=[...i[0]][0].length,m=e.slice(0,s+i.index+p+c);if(Math.min(s,c)%2){let x=m.slice(1,-1);return{type:"em",raw:m,text:x,tokens:this.lexer.inlineTokens(x)}}let y=m.slice(2,-2);return{type:"strong",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=n[0],i="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);r=n[0],n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},pi=class Cv{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Bo,this.options.tokenizer=this.options.tokenizer||new _g,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:ar,block:Qf.normal,inline:Eu.normal};this.options.pedantic?(n.block=Qf.pedantic,n.inline=Eu.pedantic):this.options.gfm&&(n.block=Qf.gfm,this.options.breaks?n.inline=Eu.breaks:n.inline=Eu.gfm),this.tokenizer.rules=n}static get rules(){return{block:Qf,inline:Eu}}static lex(e,n){return new Cv(n).lex(e)}static lexInline(e,n){return new Cv(n).inlineTokens(e)}lex(e){e=e.replace(ar.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(ar.tabCharGlobal,"    ").replace(ar.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(o=>(i=o.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let o=n.at(-1);i.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},n.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let o=1/0,c=e.slice(1),u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},c),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i),r=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,i=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=i[2]?i[2].length:0,r=r.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let o=!1,c="";for(;e;){o||(c=""),o=!1;let u;if(this.options.extensions?.inline?.some(d=>(u=d.call({lexer:this},e,n))?(e=e.substring(u.raw.length),n.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);let d=n.at(-1);u.type==="text"&&d?.type==="text"?(d.raw+=u.raw,d.text+=u.text):n.push(u);continue}if(u=this.tokenizer.emStrong(e,r,c)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),n.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),n.push(u);continue}let h=e;if(this.options.extensions?.startInline){let d=1/0,p=e.slice(1),m;this.options.extensions.startInline.forEach(y=>{m=y.call({lexer:this},p),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(h=e.substring(0,d+1))}if(u=this.tokenizer.inlineText(h)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(c=u.raw.slice(-1)),o=!0;let d=n.at(-1);d?.type==="text"?(d.raw+=u.raw,d.text+=u.text):n.push(u);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}},kg=class{options;parser;constructor(e){this.options=e||Bo}space(e){return""}code({text:e,lang:n,escaped:r}){let i=(n||"").match(ar.notSpaceStart)?.[0],s=e.replace(ar.endingNewline,"")+`
`;return i?'<pre><code class="language-'+ji(i)+'">'+(r?s:ji(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:ji(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,r=e.start,i="";for(let c=0;c<e.items.length;c++){let u=e.items[c];i+=this.listitem(u)}let s=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+s+o+`>
`+i+"</"+s+`>
`}listitem(e){let n="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+ji(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){let o=e.rows[s];r="";for(let c=0;c<o.length;c++)r+=this.tablecell(o[c]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ji(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){let i=this.parser.parseInline(r),s=XA(e);if(s===null)return i;e=s;let o='<a href="'+e+'"';return n&&(o+=' title="'+ji(n)+'"'),o+=">"+i+"</a>",o}image({href:e,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let s=XA(e);if(s===null)return ji(r);e=s;let o=`<img src="${e}" alt="${r}"`;return n&&(o+=` title="${ji(n)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ji(e.text)}},B2=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},gi=class _v{options;renderer;textRenderer;constructor(e){this.options=e||Bo,this.options.renderer=this.options.renderer||new kg,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new B2}static parse(e,n){return new _v(n).parse(e)}static parseInline(e,n){return new _v(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let c=s,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=u||"";continue}}let o=s;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"def":{r+=this.renderer.def(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let c=o,u=this.renderer.text(c);for(;i+1<e.length&&e[i+1].type==="text";)c=e[++i],u+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){let r="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let c=this.options.extensions.renderers[s.type].call({parser:this},s);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=c||"";continue}}let o=s;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},zu=class{options;block;constructor(e){this.options=e||Bo}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?pi.lex:pi.lexInline}provideParser(){return this.block?gi.parse:gi.parseInline}},zlt=class{defaults=E2();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=gi;Renderer=kg;TextRenderer=B2;Lexer=pi;Tokenizer=_g;Hooks=zu;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(let i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{let s=i;for(let o of s.header)r=r.concat(this.walkTokens(o.tokens,n));for(let o of s.rows)for(let c of o)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{let s=i;r=r.concat(this.walkTokens(s.items,n));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{let c=s[o].flat(1/0);r=r.concat(this.walkTokens(c,n))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=n.renderers[s.name];o?n.renderers[s.name]=function(...c){let u=s.renderer.apply(this,c);return u===!1&&(u=o.apply(this,c)),u}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){let s=this.defaults.renderer||new kg(this.defaults);for(let o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let c=o,u=r.renderer[c],h=s[c];s[c]=(...d)=>{let p=u.apply(s,d);return p===!1&&(p=h.apply(s,d)),p||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new _g(this.defaults);for(let o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let c=o,u=r.tokenizer[c],h=s[c];s[c]=(...d)=>{let p=u.apply(s,d);return p===!1&&(p=h.apply(s,d)),p}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new zu;for(let o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let c=o,u=r.hooks[c],h=s[c];zu.passThroughHooks.has(o)?s[c]=d=>{if(this.defaults.async&&zu.passThroughHooksRespectAsync.has(o))return(async()=>{let m=await u.call(s,d);return h.call(s,m)})();let p=u.call(s,d);return h.call(s,p)}:s[c]=(...d)=>{if(this.defaults.async)return(async()=>{let m=await u.apply(s,d);return m===!1&&(m=await h.apply(s,d)),m})();let p=u.apply(s,d);return p===!1&&(p=h.apply(s,d)),p}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(c){let u=[];return u.push(o.call(this,c)),s&&(u=u.concat(s.call(this,c))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return pi.lex(e,n??this.defaults)}parser(e,n){return gi.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let c=s.hooks?await s.hooks.preprocess(n):n,u=await(s.hooks?await s.hooks.provideLexer():e?pi.lex:pi.lexInline)(c,s),h=s.hooks?await s.hooks.processAllTokens(u):u;s.walkTokens&&await Promise.all(this.walkTokens(h,s.walkTokens));let d=await(s.hooks?await s.hooks.provideParser():e?gi.parse:gi.parseInline)(h,s);return s.hooks?await s.hooks.postprocess(d):d})().catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let c=(s.hooks?s.hooks.provideLexer():e?pi.lex:pi.lexInline)(n,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let u=(s.hooks?s.hooks.provideParser():e?gi.parse:gi.parseInline)(c,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(c){return o(c)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+ji(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},Ao=new zlt;function me(t,e){return Ao.parse(t,e)}me.options=me.setOptions=function(t){return Ao.setOptions(t),me.defaults=Ao.defaults,E5(me.defaults),me};me.getDefaults=E2;me.defaults=Bo;me.use=function(...t){return Ao.use(...t),me.defaults=Ao.defaults,E5(me.defaults),me};me.walkTokens=function(t,e){return Ao.walkTokens(t,e)};me.parseInline=Ao.parseInline;me.Parser=gi;me.parser=gi.parse;me.Renderer=kg;me.TextRenderer=B2;me.Lexer=pi;me.lexer=pi.lex;me.Tokenizer=_g;me.Hooks=zu;me.parse=me;me.options;me.setOptions;me.use;me.walkTokens;me.parseInline;gi.parse;pi.lex;function z5(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(c,u){var h=u.match(/\n([\t ]+|(?!\s).)/g);return h?c.concat(h.map(function(d){var p,m;return(m=(p=d.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0})):c},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(c){return c.replace(s,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var o=r[0];return e.forEach(function(c,u){var h=o.match(/(?:^|\n)( *)$/),d=h?h[1]:"",p=c;typeof c=="string"&&c.includes(`
`)&&(p=String(c).split(`
`).map(function(m,y){return y===0?m:""+d+m}).join(`
`)),o+=p+r[u+1]}),o}var Plt={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},kv=new Map,P5=new Map,Flt=D(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(yt.debug("Registering icon pack:",e.name),"loader"in e)P5.set(e.name,e.loader);else if("icons"in e)kv.set(e.name,e.icons);else throw yt.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),F5=D(async(t,e)=>{const n=Iot(t,!0,e!==void 0);if(!n)throw new Error(`Invalid icon name: ${t}`);const r=n.prefix||e;if(!r)throw new Error(`Icon name must contain a prefix: ${t}`);let i=kv.get(r);if(!i){const o=P5.get(r);if(!o)throw new Error(`Icon set not found: ${n.prefix}`);try{i={...await o(),prefix:r},kv.set(r,i)}catch(c){throw yt.error(c),new Error(`Failed to load icon set: ${n.prefix}`)}}const s=qot(i,n.name);if(!s)throw new Error(`Icon not found: ${t}`);return s},"getRegisteredIconData"),Ilt=D(async t=>{try{return await F5(t),!0}catch{return!1}},"isIconAvailable"),od=D(async(t,e,n)=>{let r;try{r=await F5(t,e?.fallbackPrefix)}catch(o){yt.error(o),r=Plt}const i=Kot(r,e),s=elt(tlt(i.body),{...i.attributes,...n});return ni(s,Yn())},"getIconSVG");function I5(t,{markdownAutoWrap:e}){const r=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=z5(r);return e===!1?i.replace(/ /g,"&nbsp;"):i}D(I5,"preprocessMarkdown");function H5(t,e={}){const n=I5(t,e),r=me.lexer(n),i=[[]];let s=0;function o(c,u="normal"){c.type==="text"?c.text.split(`
`).forEach((d,p)=>{p!==0&&(s++,i.push([])),d.split(" ").forEach(m=>{m=m.replace(/&#39;/g,"'"),m&&i[s].push({content:m,type:u})})}):c.type==="strong"||c.type==="em"?c.tokens.forEach(h=>{o(h,c.type)}):c.type==="html"&&i[s].push({content:c.text,type:"normal"})}return D(o,"processNode"),r.forEach(c=>{c.type==="paragraph"?c.tokens?.forEach(u=>{o(u)}):c.type==="html"?i[s].push({content:c.text,type:"normal"}):i[s].push({content:c.raw,type:"normal"})}),i}D(H5,"markdownToLines");function V5(t,{markdownAutoWrap:e}={}){const n=me.lexer(t);function r(i){return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${i.tokens?.map(r).join("")}</strong>`:i.type==="em"?`<em>${i.tokens?.map(r).join("")}</em>`:i.type==="paragraph"?`<p>${i.tokens?.map(r).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(yt.warn(`Unsupported markdown: ${i.type}`),i.raw)}return D(r,"output"),n.map(r).join("")}D(V5,"markdownToHTML");function q5(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}D(q5,"splitTextToChars");function U5(t,e){const n=q5(e.content);return j2(t,[],n,e.type)}D(U5,"splitWordToFitWidth");function j2(t,e,n,r){if(n.length===0)return[{content:e.join(""),type:r},{content:"",type:r}];const[i,...s]=n,o=[...e,i];return t([{content:o.join(""),type:r}])?j2(t,o,s,r):(e.length===0&&i&&(e.push(i),n.shift()),[{content:e.join(""),type:r},{content:n.join(""),type:r}])}D(j2,"splitWordToFitWidthRecursion");function W5(t,e){if(t.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Tg(t,e)}D(W5,"splitLineToFitWidth");function Tg(t,e,n=[],r=[]){if(t.length===0)return r.length>0&&n.push(r),n.length>0?n:[];let i="";t[0].content===" "&&(i=" ",t.shift());const s=t.shift()??{content:" ",type:"normal"},o=[...r];if(i!==""&&o.push({content:i,type:"normal"}),o.push(s),e(o))return Tg(t,e,n,o);if(r.length>0)n.push(r),t.unshift(s);else if(s.content){const[c,u]=U5(e,s);n.push([c]),u.content&&t.unshift(u)}return Tg(t,e,n)}D(Tg,"splitLineToFitWidthRecursion");function Tv(t,e){e&&t.attr("style",e)}D(Tv,"applyStyle");async function Y5(t,e,n,r,i=!1,s=Yn()){const o=t.append("foreignObject");o.attr("width",`${10*n}px`),o.attr("height",`${10*n}px`);const c=o.append("xhtml:div"),u=cc(e.label)?await Q1(e.label.replace(vc.lineBreakRegex,`
`),s):ni(e.label,s),h=e.isNode?"nodeLabel":"edgeLabel",d=c.append("span");d.html(u),Tv(d,e.labelStyle),d.attr("class",`${h} ${r}`),Tv(c,e.labelStyle),c.style("display","table-cell"),c.style("white-space","nowrap"),c.style("line-height","1.5"),c.style("max-width",n+"px"),c.style("text-align","center"),c.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&c.attr("class","labelBkg");let p=c.node().getBoundingClientRect();return p.width===n&&(c.style("display","table"),c.style("white-space","break-spaces"),c.style("width",n+"px"),p=c.node().getBoundingClientRect()),o.node()}D(Y5,"addHtmlSpan");function Tm(t,e,n){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*n-.1+"em").attr("dy",n+"em")}D(Tm,"createTspan");function G5(t,e,n){const r=t.append("text"),i=Tm(r,1,e);Em(i,n);const s=i.node().getComputedTextLength();return r.remove(),s}D(G5,"computeWidthOfText");function Hlt(t,e,n){const r=t.append("text"),i=Tm(r,1,e);Em(i,[{content:n,type:"normal"}]);const s=i.node()?.getBoundingClientRect();return s&&r.remove(),s}D(Hlt,"computeDimensionOfText");function X5(t,e,n,r=!1){const s=e.append("g"),o=s.insert("rect").attr("class","background").attr("style","stroke: none"),c=s.append("text").attr("y","-10.1");let u=0;for(const h of n){const d=D(m=>G5(s,1.1,m)<=t,"checkWidth"),p=d(h)?[h]:W5(h,d);for(const m of p){const y=Tm(c,u,1.1);Em(y,m),u++}}if(r){const h=c.node().getBBox(),d=2;return o.attr("x",h.x-d).attr("y",h.y-d).attr("width",h.width+2*d).attr("height",h.height+2*d),s.node()}else return c.node()}D(X5,"createFormattedText");function Em(t,e){t.text(""),e.forEach((n,r)=>{const i=t.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");r===0?i.text(n.content):i.text(" "+n.content)})}D(Em,"updateTextContentAndStyles");async function Z5(t,e={}){const n=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,o)=>(n.push((async()=>{const c=`${s}:${o}`;return await Ilt(c)?await od(c,void 0,{class:"label-icon"}):`<i class='${ni(i,e).replace(":"," ")}'></i>`})()),i));const r=await Promise.all(n);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>r.shift()??"")}D(Z5,"replaceIconSubstring");var Ds=D(async(t,e="",{style:n="",isTitle:r=!1,classes:i="",useHtmlLabels:s=!0,isNode:o=!0,width:c=200,addSvgBackground:u=!1}={},h)=>{if(yt.debug("XYZ createText",e,n,r,i,s,o,"addSvgBackground: ",u),s){const d=V5(e,h),p=await Z5(Ro(d),h),m=e.replace(/\\\\/g,"\\"),y={isNode:o,label:cc(e)?m:p,labelStyle:n.replace("fill:","color:")};return await Y5(t,y,c,i,u,h)}else{const d=e.replace(/<br\s*\/?>/g,"<br/>"),p=H5(d.replace("<br>","<br/>"),h),m=X5(c,t,p,e?u:!1);if(o){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const y=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Wt(m).attr("style",y)}else{const y=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Wt(m).select("rect").attr("style",y.replace(/background:/g,"fill:"));const x=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Wt(m).select("text").attr("style",x)}return m}},"createText");function Qx(t,e,n){if(t&&t.length){const[r,i]=e,s=Math.PI/180*n,o=Math.cos(s),c=Math.sin(s);for(const u of t){const[h,d]=u;u[0]=(h-r)*o-(d-i)*c+r,u[1]=(h-r)*c+(d-i)*o+i}}}function Vlt(t,e){return t[0]===e[0]&&t[1]===e[1]}function qlt(t,e,n,r=1){const i=n,s=Math.max(e,.1),o=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,c=[0,0];if(i)for(const h of o)Qx(h,c,i);const u=(function(h,d,p){const m=[];for(const T of h){const w=[...T];Vlt(w[0],w[w.length-1])||w.push([w[0][0],w[0][1]]),w.length>2&&m.push(w)}const y=[];d=Math.max(d,.1);const x=[];for(const T of m)for(let w=0;w<T.length-1;w++){const E=T[w],M=T[w+1];if(E[1]!==M[1]){const L=Math.min(E[1],M[1]);x.push({ymin:L,ymax:Math.max(E[1],M[1]),x:L===E[1]?E[0]:M[0],islope:(M[0]-E[0])/(M[1]-E[1])})}}if(x.sort(((T,w)=>T.ymin<w.ymin?-1:T.ymin>w.ymin?1:T.x<w.x?-1:T.x>w.x?1:T.ymax===w.ymax?0:(T.ymax-w.ymax)/Math.abs(T.ymax-w.ymax))),!x.length)return y;let b=[],S=x[0].ymin,_=0;for(;b.length||x.length;){if(x.length){let T=-1;for(let w=0;w<x.length&&!(x[w].ymin>S);w++)T=w;x.splice(0,T+1).forEach((w=>{b.push({s:S,edge:w})}))}if(b=b.filter((T=>!(T.edge.ymax<=S))),b.sort(((T,w)=>T.edge.x===w.edge.x?0:(T.edge.x-w.edge.x)/Math.abs(T.edge.x-w.edge.x))),(p!==1||_%d==0)&&b.length>1)for(let T=0;T<b.length;T+=2){const w=T+1;if(w>=b.length)break;const E=b[T].edge,M=b[w].edge;y.push([[Math.round(E.x),S],[Math.round(M.x),S]])}S+=p,b.forEach((T=>{T.edge.x=T.edge.x+p*T.edge.islope})),_++}return y})(o,s,r);if(i){for(const h of o)Qx(h,c,-i);(function(h,d,p){const m=[];h.forEach((y=>m.push(...y))),Qx(m,d,p)})(u,c,-i)}return u}function ld(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=i),qlt(t,i,r,s||1)}class $2{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=ld(e,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}}function Am(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class Ult extends $2{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=ld(e,Object.assign({},n,{hachureGap:r})),s=Math.PI/180*n.hachureAngle,o=[],c=.5*r*Math.cos(s),u=.5*r*Math.sin(s);for(const[h,d]of i)Am([h,d])&&o.push([[h[0]-c,h[1]+u],[...d]],[[h[0]+c,h[1]-u],[...d]]);return{type:"fillSketch",ops:this.renderLines(o,n)}}}class Wlt extends $2{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,i);return r.ops=r.ops.concat(s.ops),r}}class Ylt{constructor(e){this.helper=e}fillPolygons(e,n){const r=ld(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const o=i/4;for(const c of e){const u=Am(c),h=u/i,d=Math.ceil(h)-1,p=u-d*i,m=(c[0][0]+c[1][0])/2-i/4,y=Math.min(c[0][1],c[1][1]);for(let x=0;x<d;x++){const b=y+p+x*i,S=m-o+2*Math.random()*o,_=b-o+2*Math.random()*o,T=this.helper.ellipse(S,_,s,s,n);r.push(...T.ops)}}return{type:"fillSketch",ops:r}}}class Glt{constructor(e){this.helper=e}fillPolygons(e,n){const r=ld(e,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return e.forEach((o=>{const c=Am(o),u=Math.floor(c/(r+i)),h=(c+i-u*(r+i))/2;let d=o[0],p=o[1];d[0]>p[0]&&(d=o[1],p=o[0]);const m=Math.atan((p[1]-d[1])/(p[0]-d[0]));for(let y=0;y<u;y++){const x=y*(r+i),b=x+r,S=[d[0]+x*Math.cos(m)+h*Math.cos(m),d[1]+x*Math.sin(m)+h*Math.sin(m)],_=[d[0]+b*Math.cos(m)+h*Math.cos(m),d[1]+b*Math.sin(m)+h*Math.sin(m)];s.push(...this.helper.doubleLineOps(S[0],S[1],_[0],_[1],n))}})),s}}class Xlt{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,s=ld(e,n=Object.assign({},n,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach((s=>{const o=Am(s),c=Math.round(o/(2*n));let u=s[0],h=s[1];u[0]>h[0]&&(u=s[1],h=s[0]);const d=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let p=0;p<c;p++){const m=2*p*n,y=2*(p+1)*n,x=Math.sqrt(2*Math.pow(n,2)),b=[u[0]+m*Math.cos(d),u[1]+m*Math.sin(d)],S=[u[0]+y*Math.cos(d),u[1]+y*Math.sin(d)],_=[b[0]+x*Math.cos(d+Math.PI/4),b[1]+x*Math.sin(d+Math.PI/4)];i.push(...this.helper.doubleLineOps(b[0],b[1],_[0],_[1],r),...this.helper.doubleLineOps(_[0],_[1],S[0],S[1],r))}})),i}}const Cr={};class Zlt{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Klt=0,Jx=1,QA=2,Jf={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function tb(t,e){return t.type===e}function z2(t){const e=[],n=(function(o){const c=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))c[c.length]={type:Klt,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];c[c.length]={type:Jx,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return c[c.length]={type:QA,text:""},c})(t);let r="BOD",i=0,s=n[i];for(;!tb(s,QA);){let o=0;const c=[];if(r==="BOD"){if(s.text!=="M"&&s.text!=="m")return z2("M0,0"+t);i++,o=Jf[s.text],r=s.text}else tb(s,Jx)?o=Jf[r]:(i++,o=Jf[s.text],r=s.text);if(!(i+o<n.length))throw new Error("Path data ended short");for(let u=i;u<i+o;u++){const h=n[u];if(!tb(h,Jx))throw new Error("Param not a number: "+r+","+h.text);c[c.length]=+h.text}if(typeof Jf[r]!="number")throw new Error("Bad segment: "+r);{const u={key:r,data:c};e.push(u),i+=o,s=n[i],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function K5(t){let e=0,n=0,r=0,i=0;const s=[];for(const{key:o,data:c}of t)switch(o){case"M":s.push({key:"M",data:[...c]}),[e,n]=c,[r,i]=c;break;case"m":e+=c[0],n+=c[1],s.push({key:"M",data:[e,n]}),r=e,i=n;break;case"L":s.push({key:"L",data:[...c]}),[e,n]=c;break;case"l":e+=c[0],n+=c[1],s.push({key:"L",data:[e,n]});break;case"C":s.push({key:"C",data:[...c]}),e=c[4],n=c[5];break;case"c":{const u=c.map(((h,d)=>d%2?h+n:h+e));s.push({key:"C",data:u}),e=u[4],n=u[5];break}case"Q":s.push({key:"Q",data:[...c]}),e=c[2],n=c[3];break;case"q":{const u=c.map(((h,d)=>d%2?h+n:h+e));s.push({key:"Q",data:u}),e=u[2],n=u[3];break}case"A":s.push({key:"A",data:[...c]}),e=c[5],n=c[6];break;case"a":e+=c[5],n+=c[6],s.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],e,n]});break;case"H":s.push({key:"H",data:[...c]}),e=c[0];break;case"h":e+=c[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...c]}),n=c[0];break;case"v":n+=c[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...c]}),e=c[2],n=c[3];break;case"s":{const u=c.map(((h,d)=>d%2?h+n:h+e));s.push({key:"S",data:u}),e=u[2],n=u[3];break}case"T":s.push({key:"T",data:[...c]}),e=c[0],n=c[1];break;case"t":e+=c[0],n+=c[1],s.push({key:"T",data:[e,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=r,n=i}return s}function Q5(t){const e=[];let n="",r=0,i=0,s=0,o=0,c=0,u=0;for(const{key:h,data:d}of t){switch(h){case"M":e.push({key:"M",data:[...d]}),[r,i]=d,[s,o]=d;break;case"C":e.push({key:"C",data:[...d]}),r=d[4],i=d[5],c=d[2],u=d[3];break;case"L":e.push({key:"L",data:[...d]}),[r,i]=d;break;case"H":r=d[0],e.push({key:"L",data:[r,i]});break;case"V":i=d[0],e.push({key:"L",data:[r,i]});break;case"S":{let p=0,m=0;n==="C"||n==="S"?(p=r+(r-c),m=i+(i-u)):(p=r,m=i),e.push({key:"C",data:[p,m,...d]}),c=d[0],u=d[1],r=d[2],i=d[3];break}case"T":{const[p,m]=d;let y=0,x=0;n==="Q"||n==="T"?(y=r+(r-c),x=i+(i-u)):(y=r,x=i);const b=r+2*(y-r)/3,S=i+2*(x-i)/3,_=p+2*(y-p)/3,T=m+2*(x-m)/3;e.push({key:"C",data:[b,S,_,T,p,m]}),c=y,u=x,r=p,i=m;break}case"Q":{const[p,m,y,x]=d,b=r+2*(p-r)/3,S=i+2*(m-i)/3,_=y+2*(p-y)/3,T=x+2*(m-x)/3;e.push({key:"C",data:[b,S,_,T,y,x]}),c=p,u=m,r=y,i=x;break}case"A":{const p=Math.abs(d[0]),m=Math.abs(d[1]),y=d[2],x=d[3],b=d[4],S=d[5],_=d[6];p===0||m===0?(e.push({key:"C",data:[r,i,S,_,S,_]}),r=S,i=_):(r!==S||i!==_)&&(J5(r,i,S,_,p,m,y,x,b).forEach((function(T){e.push({key:"C",data:T})})),r=S,i=_);break}case"Z":e.push({key:"Z",data:[]}),r=s,i=o}n=h}return e}function Mu(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function J5(t,e,n,r,i,s,o,c,u,h){const d=(p=o,Math.PI*p/180);var p;let m=[],y=0,x=0,b=0,S=0;if(h)[y,x,b,S]=h;else{[t,e]=Mu(t,e,-d),[n,r]=Mu(n,r,-d);const G=(t-n)/2,B=(e-r)/2;let H=G*G/(i*i)+B*B/(s*s);H>1&&(H=Math.sqrt(H),i*=H,s*=H);const R=i*i,I=s*s,U=R*I-R*B*B-I*G*G,Z=R*B*B+I*G*G,nt=(c===u?-1:1)*Math.sqrt(Math.abs(U/Z));b=nt*i*B/s+(t+n)/2,S=nt*-s*G/i+(e+r)/2,y=Math.asin(parseFloat(((e-S)/s).toFixed(9))),x=Math.asin(parseFloat(((r-S)/s).toFixed(9))),t<b&&(y=Math.PI-y),n<b&&(x=Math.PI-x),y<0&&(y=2*Math.PI+y),x<0&&(x=2*Math.PI+x),u&&y>x&&(y-=2*Math.PI),!u&&x>y&&(x-=2*Math.PI)}let _=x-y;if(Math.abs(_)>120*Math.PI/180){const G=x,B=n,H=r;x=u&&x>y?y+120*Math.PI/180*1:y+120*Math.PI/180*-1,m=J5(n=b+i*Math.cos(x),r=S+s*Math.sin(x),B,H,i,s,o,0,u,[x,G,b,S])}_=x-y;const T=Math.cos(y),w=Math.sin(y),E=Math.cos(x),M=Math.sin(x),L=Math.tan(_/4),N=4/3*i*L,$=4/3*s*L,z=[t,e],P=[t+N*w,e-$*T],j=[n+N*M,r-$*E],W=[n,r];if(P[0]=2*z[0]-P[0],P[1]=2*z[1]-P[1],h)return[P,j,W].concat(m);{m=[P,j,W].concat(m);const G=[];for(let B=0;B<m.length;B+=3){const H=Mu(m[B][0],m[B][1],d),R=Mu(m[B+1][0],m[B+1][1],d),I=Mu(m[B+2][0],m[B+2][1],d);G.push([H[0],H[1],R[0],R[1],I[0],I[1]])}return G}}const Qlt={randOffset:function(t,e){return Vt(t,e)},randOffsetWithRange:function(t,e,n){return Eg(t,e,n)},ellipse:function(t,e,n,r,i){const s=ej(n,r,i);return Ev(t,e,i,s).opset},doubleLineOps:function(t,e,n,r,i){return ks(t,e,n,r,i,!0)}};function tj(t,e,n,r,i){return{type:"path",ops:ks(t,e,n,r,i)}}function Cp(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...ks(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&i.push(...ks(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:i}}return r===2?tj(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function Jlt(t,e,n,r,i){return(function(s,o){return Cp(s,!0,o)})([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function JA(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,r=tp(n[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:tp(n[0],1.5*(1+.22*e.roughness),nM(e));for(let s=1;s<n.length;s++){const o=n[s];if(o.length){const c=tp(o,1*(1+.2*e.roughness),e),u=e.disableMultiStroke?[]:tp(o,1.5*(1+.22*e.roughness),nM(e));for(const h of c)h.op!=="move"&&r.push(h);for(const h of u)h.op!=="move"&&i.push(h)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function ej(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=2*Math.PI/i;let o=Math.abs(t/2),c=Math.abs(e/2);const u=1-n.curveFitting;return o+=Vt(o*u,n),c+=Vt(c*u,n),{increment:s,rx:o,ry:c}}function Ev(t,e,n,r){const[i,s]=rM(r.increment,t,e,r.rx,r.ry,1,r.increment*Eg(.1,Eg(.4,1,n),n),n);let o=Ag(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[c]=rM(r.increment,t,e,r.rx,r.ry,1.5,0,n),u=Ag(c,null,n);o=o.concat(u)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function tM(t,e,n,r,i,s,o,c,u){const h=t,d=e;let p=Math.abs(n/2),m=Math.abs(r/2);p+=Vt(.01*p,u),m+=Vt(.01*m,u);let y=i,x=s;for(;y<0;)y+=2*Math.PI,x+=2*Math.PI;x-y>2*Math.PI&&(y=0,x=2*Math.PI);const b=2*Math.PI/u.curveStepCount,S=Math.min(b/2,(x-y)/2),_=iM(S,h,d,p,m,y,x,1,u);if(!u.disableMultiStroke){const T=iM(S,h,d,p,m,y,x,1.5,u);_.push(...T)}return o&&(c?_.push(...ks(h,d,h+p*Math.cos(y),d+m*Math.sin(y),u),...ks(h,d,h+p*Math.cos(x),d+m*Math.sin(x),u)):_.push({op:"lineTo",data:[h,d]},{op:"lineTo",data:[h+p*Math.cos(y),d+m*Math.sin(y)]})),{type:"path",ops:_}}function eM(t,e){const n=Q5(K5(z2(t))),r=[];let i=[0,0],s=[0,0];for(const{key:o,data:c}of n)switch(o){case"M":s=[c[0],c[1]],i=[c[0],c[1]];break;case"L":r.push(...ks(s[0],s[1],c[0],c[1],e)),s=[c[0],c[1]];break;case"C":{const[u,h,d,p,m,y]=c;r.push(...tct(u,h,d,p,m,y,s,e)),s=[m,y];break}case"Z":r.push(...ks(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:r}}function eb(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:"move",data:[r[0][0]+Vt(i,e),r[0][1]+Vt(i,e)]});for(let o=1;o<s;o++)n.push({op:"lineTo",data:[r[o][0]+Vt(i,e),r[o][1]+Vt(i,e)]})}}return{type:"fillPath",ops:n}}function kl(t,e){return(function(n,r){let i=n.fillStyle||"hachure";if(!Cr[i])switch(i){case"zigzag":Cr[i]||(Cr[i]=new Ult(r));break;case"cross-hatch":Cr[i]||(Cr[i]=new Wlt(r));break;case"dots":Cr[i]||(Cr[i]=new Ylt(r));break;case"dashed":Cr[i]||(Cr[i]=new Glt(r));break;case"zigzag-line":Cr[i]||(Cr[i]=new Xlt(r));break;default:i="hachure",Cr[i]||(Cr[i]=new $2(r))}return Cr[i]})(e,Qlt).fillPolygons(t,e)}function nM(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function nj(t){return t.randomizer||(t.randomizer=new Zlt(t.seed||0)),t.randomizer.next()}function Eg(t,e,n,r=1){return n.roughness*r*(nj(n)*(e-t)+t)}function Vt(t,e,n=1){return Eg(-t,t,e,n)}function ks(t,e,n,r,i,s=!1){const o=s?i.disableMultiStrokeFill:i.disableMultiStroke,c=Av(t,e,n,r,i,!0,!1);if(o)return c;const u=Av(t,e,n,r,i,!0,!0);return c.concat(u)}function Av(t,e,n,r,i,s,o){const c=Math.pow(t-n,2)+Math.pow(e-r,2),u=Math.sqrt(c);let h=1;h=u<200?1:u>500?.4:-.0016668*u+1.233334;let d=i.maxRandomnessOffset||0;d*d*100>c&&(d=u/10);const p=d/2,m=.2+.2*nj(i);let y=i.bowing*i.maxRandomnessOffset*(r-e)/200,x=i.bowing*i.maxRandomnessOffset*(t-n)/200;y=Vt(y,i,h),x=Vt(x,i,h);const b=[],S=()=>Vt(p,i,h),_=()=>Vt(d,i,h),T=i.preserveVertices;return o?b.push({op:"move",data:[t+(T?0:S()),e+(T?0:S())]}):b.push({op:"move",data:[t+(T?0:Vt(d,i,h)),e+(T?0:Vt(d,i,h))]}),o?b.push({op:"bcurveTo",data:[y+t+(n-t)*m+S(),x+e+(r-e)*m+S(),y+t+2*(n-t)*m+S(),x+e+2*(r-e)*m+S(),n+(T?0:S()),r+(T?0:S())]}):b.push({op:"bcurveTo",data:[y+t+(n-t)*m+_(),x+e+(r-e)*m+_(),y+t+2*(n-t)*m+_(),x+e+2*(r-e)*m+_(),n+(T?0:_()),r+(T?0:_())]}),b}function tp(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+Vt(e,n),t[0][1]+Vt(e,n)]),r.push([t[0][0]+Vt(e,n),t[0][1]+Vt(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+Vt(e,n),t[i][1]+Vt(e,n)]),i===t.length-1&&r.push([t[i][0]+Vt(e,n),t[i][1]+Vt(e,n)]);return Ag(r,null,n)}function Ag(t,e,n){const r=t.length,i=[];if(r>3){const s=[],o=1-n.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let c=1;c+2<r;c++){const u=t[c];s[0]=[u[0],u[1]],s[1]=[u[0]+(o*t[c+1][0]-o*t[c-1][0])/6,u[1]+(o*t[c+1][1]-o*t[c-1][1])/6],s[2]=[t[c+1][0]+(o*t[c][0]-o*t[c+2][0])/6,t[c+1][1]+(o*t[c][1]-o*t[c+2][1])/6],s[3]=[t[c+1][0],t[c+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...Av(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function rM(t,e,n,r,i,s,o,c){const u=[],h=[];if(c.roughness===0){t/=4,h.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let d=0;d<=2*Math.PI;d+=t){const p=[e+r*Math.cos(d),n+i*Math.sin(d)];u.push(p),h.push(p)}h.push([e+r*Math.cos(0),n+i*Math.sin(0)]),h.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const d=Vt(.5,c)-Math.PI/2;h.push([Vt(s,c)+e+.9*r*Math.cos(d-t),Vt(s,c)+n+.9*i*Math.sin(d-t)]);const p=2*Math.PI+d-.01;for(let m=d;m<p;m+=t){const y=[Vt(s,c)+e+r*Math.cos(m),Vt(s,c)+n+i*Math.sin(m)];u.push(y),h.push(y)}h.push([Vt(s,c)+e+r*Math.cos(d+2*Math.PI+.5*o),Vt(s,c)+n+i*Math.sin(d+2*Math.PI+.5*o)]),h.push([Vt(s,c)+e+.98*r*Math.cos(d+o),Vt(s,c)+n+.98*i*Math.sin(d+o)]),h.push([Vt(s,c)+e+.9*r*Math.cos(d+.5*o),Vt(s,c)+n+.9*i*Math.sin(d+.5*o)])}return[h,u]}function iM(t,e,n,r,i,s,o,c,u){const h=s+Vt(.1,u),d=[];d.push([Vt(c,u)+e+.9*r*Math.cos(h-t),Vt(c,u)+n+.9*i*Math.sin(h-t)]);for(let p=h;p<=o;p+=t)d.push([Vt(c,u)+e+r*Math.cos(p),Vt(c,u)+n+i*Math.sin(p)]);return d.push([e+r*Math.cos(o),n+i*Math.sin(o)]),d.push([e+r*Math.cos(o),n+i*Math.sin(o)]),Ag(d,null,u)}function tct(t,e,n,r,i,s,o,c){const u=[],h=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3];let d=[0,0];const p=c.disableMultiStroke?1:2,m=c.preserveVertices;for(let y=0;y<p;y++)y===0?u.push({op:"move",data:[o[0],o[1]]}):u.push({op:"move",data:[o[0]+(m?0:Vt(h[0],c)),o[1]+(m?0:Vt(h[0],c))]}),d=m?[i,s]:[i+Vt(h[y],c),s+Vt(h[y],c)],u.push({op:"bcurveTo",data:[t+Vt(h[y],c),e+Vt(h[y],c),n+Vt(h[y],c),r+Vt(h[y],c),d[0],d[1]]});return u}function Du(t){return[...t]}function aM(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(Du(t[0]),Du(t[1]),Du(t[2]),Du(t[2]));else{const i=[];i.push(t[0],t[0]);for(let c=1;c<t.length;c++)i.push(t[c]),c===t.length-1&&i.push(t[c]);const s=[],o=1-e;r.push(Du(i[0]));for(let c=1;c+2<i.length;c++){const u=i[c];s[0]=[u[0],u[1]],s[1]=[u[0]+(o*i[c+1][0]-o*i[c-1][0])/6,u[1]+(o*i[c+1][1]-o*i[c-1][1])/6],s[2]=[i[c+1][0]+(o*i[c][0]-o*i[c+2][0])/6,i[c+1][1]+(o*i[c][1]-o*i[c+2][1])/6],s[3]=[i[c+1][0],i[c+1][1]],r.push(s[1],s[2],s[3])}}return r}function _p(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function ect(t,e,n){const r=_p(e,n);if(r===0)return _p(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),_p(t,ro(e,n,i))}function ro(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function Mv(t,e,n,r){const i=r||[];if((function(c,u){const h=c[u+0],d=c[u+1],p=c[u+2],m=c[u+3];let y=3*d[0]-2*h[0]-m[0];y*=y;let x=3*d[1]-2*h[1]-m[1];x*=x;let b=3*p[0]-2*m[0]-h[0];b*=b;let S=3*p[1]-2*m[1]-h[1];return S*=S,y<b&&(y=b),x<S&&(x=S),y+x})(t,e)<n){const c=t[e+0];i.length?(s=i[i.length-1],o=c,Math.sqrt(_p(s,o))>1&&i.push(c)):i.push(c),i.push(t[e+3])}else{const u=t[e+0],h=t[e+1],d=t[e+2],p=t[e+3],m=ro(u,h,.5),y=ro(h,d,.5),x=ro(d,p,.5),b=ro(m,y,.5),S=ro(y,x,.5),_=ro(b,S,.5);Mv([u,m,b,_],0,n,i),Mv([_,S,x,p],0,n,i)}var s,o;return i}function nct(t,e){return Mg(t,0,t.length,e)}function Mg(t,e,n,r,i){const s=i||[],o=t[e],c=t[n-1];let u=0,h=1;for(let d=e+1;d<n-1;++d){const p=ect(t[d],o,c);p>u&&(u=p,h=d)}return Math.sqrt(u)>r?(Mg(t,e,h+1,r,s),Mg(t,h,n,r,s)):(s.length||s.push(o),s.push(c)),s}function nb(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let s=0;s<i;s++)Mv(t,3*s,e,r);return n&&n>0?Mg(r,0,r.length,n):r}const $r="none";class Dg{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,s){const o=this._o(s);return this._d("line",[tj(e,n,r,i,o)],o)}rectangle(e,n,r,i,s){const o=this._o(s),c=[],u=Jlt(e,n,r,i,o);if(o.fill){const h=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];o.fillStyle==="solid"?c.push(eb([h],o)):c.push(kl([h],o))}return o.stroke!==$r&&c.push(u),this._d("rectangle",c,o)}ellipse(e,n,r,i,s){const o=this._o(s),c=[],u=ej(r,i,o),h=Ev(e,n,o,u);if(o.fill)if(o.fillStyle==="solid"){const d=Ev(e,n,o,u).opset;d.type="fillPath",c.push(d)}else c.push(kl([h.estimatedPoints],o));return o.stroke!==$r&&c.push(h.opset),this._d("ellipse",c,o)}circle(e,n,r,i){const s=this.ellipse(e,n,r,r,i);return s.shape="circle",s}linearPath(e,n){const r=this._o(n);return this._d("linearPath",[Cp(e,!1,r)],r)}arc(e,n,r,i,s,o,c=!1,u){const h=this._o(u),d=[],p=tM(e,n,r,i,s,o,c,!0,h);if(c&&h.fill)if(h.fillStyle==="solid"){const m=Object.assign({},h);m.disableMultiStroke=!0;const y=tM(e,n,r,i,s,o,!0,!1,m);y.type="fillPath",d.push(y)}else d.push((function(m,y,x,b,S,_,T){const w=m,E=y;let M=Math.abs(x/2),L=Math.abs(b/2);M+=Vt(.01*M,T),L+=Vt(.01*L,T);let N=S,$=_;for(;N<0;)N+=2*Math.PI,$+=2*Math.PI;$-N>2*Math.PI&&(N=0,$=2*Math.PI);const z=($-N)/T.curveStepCount,P=[];for(let j=N;j<=$;j+=z)P.push([w+M*Math.cos(j),E+L*Math.sin(j)]);return P.push([w+M*Math.cos($),E+L*Math.sin($)]),P.push([w,E]),kl([P],T)})(e,n,r,i,s,o,h));return h.stroke!==$r&&d.push(p),this._d("arc",d,h)}curve(e,n){const r=this._o(n),i=[],s=JA(e,r);if(r.fill&&r.fill!==$r)if(r.fillStyle==="solid"){const o=JA(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],c=e;if(c.length){const u=typeof c[0][0]=="number"?[c]:c;for(const h of u)h.length<3?o.push(...h):h.length===3?o.push(...nb(aM([h[0],h[0],h[1],h[2]]),10,(1+r.roughness)/2)):o.push(...nb(aM(h),10,(1+r.roughness)/2))}o.length&&i.push(kl([o],r))}return r.stroke!==$r&&i.push(s),this._d("curve",i,r)}polygon(e,n){const r=this._o(n),i=[],s=Cp(e,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(eb([e],r)):i.push(kl([e],r))),r.stroke!==$r&&i.push(s),this._d("polygon",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d("path",i,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=r.fill&&r.fill!=="transparent"&&r.fill!==$r,o=r.stroke!==$r,c=!!(r.simplification&&r.simplification<1),u=(function(d,p,m){const y=Q5(K5(z2(d))),x=[];let b=[],S=[0,0],_=[];const T=()=>{_.length>=4&&b.push(...nb(_,p)),_=[]},w=()=>{T(),b.length&&(x.push(b),b=[])};for(const{key:M,data:L}of y)switch(M){case"M":w(),S=[L[0],L[1]],b.push(S);break;case"L":T(),b.push([L[0],L[1]]);break;case"C":if(!_.length){const N=b.length?b[b.length-1]:S;_.push([N[0],N[1]])}_.push([L[0],L[1]]),_.push([L[2],L[3]]),_.push([L[4],L[5]]);break;case"Z":T(),b.push([S[0],S[1]])}if(w(),!m)return x;const E=[];for(const M of x){const L=nct(M,m);L.length&&E.push(L)}return E})(e,1,c?4-4*(r.simplification||1):(1+r.roughness)/2),h=eM(e,r);if(s)if(r.fillStyle==="solid")if(u.length===1){const d=eM(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else i.push(eb(u,r));else i.push(kl(u,r));return o&&(c?u.forEach((d=>{i.push(Cp(d,!1,r))})):i.push(h)),this._d("path",i,r)}opsToPath(e,n){let r="";for(const i of e.ops){const s=typeof n=="number"&&n>=0?i.data.map((o=>+o.toFixed(n))):i.data;switch(i.op){case"move":r+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":r+=`L${s[0]} ${s[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const s of n){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:$r};break;case"fillPath":o={d:this.opsToPath(s),stroke:$r,strokeWidth:0,fill:r.fill||$r};break;case"fillSketch":o=this.fillSketch(s,r)}o&&i.push(o)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||$r,strokeWidth:r,fill:$r}}_mergedShape(e){return e.filter(((n,r)=>r===0||n.op!=="move"))}}class rct{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Dg(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const o of n)switch(o.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,o,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const c=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,o,s,c),i.restore();break}case"fillSketch":this.fillSketch(i,o,r)}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i="nonzero"){e.beginPath();for(const s of n.ops){const o=typeof r=="number"&&r>=0?s.data.map((c=>+c.toFixed(r))):s.data;switch(s.op){case"move":e.moveTo(o[0],o[1]);break;case"bcurveTo":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":e.lineTo(o[0],o[1])}}n.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,s){const o=this.gen.line(e,n,r,i,s);return this.draw(o),o}rectangle(e,n,r,i,s){const o=this.gen.rectangle(e,n,r,i,s);return this.draw(o),o}ellipse(e,n,r,i,s){const o=this.gen.ellipse(e,n,r,i,s);return this.draw(o),o}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,s,o,c=!1,u){const h=this.gen.arc(e,n,r,i,s,o,c,u);return this.draw(h),h}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}}const ep="http://www.w3.org/2000/svg";class ict{constructor(e,n){this.svg=e,this.gen=new Dg(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(ep,"g"),o=e.options.fixedDecimalPlaceDigits;for(const c of n){let u=null;switch(c.type){case"path":u=i.createElementNS(ep,"path"),u.setAttribute("d",this.opsToPath(c,o)),u.setAttribute("stroke",r.stroke),u.setAttribute("stroke-width",r.strokeWidth+""),u.setAttribute("fill","none"),r.strokeLineDash&&u.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":u=i.createElementNS(ep,"path"),u.setAttribute("d",this.opsToPath(c,o)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(i,c,r)}u&&s.appendChild(u)}return s}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=e.createElementNS(ep,"path");return s.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,s){const o=this.gen.line(e,n,r,i,s);return this.draw(o)}rectangle(e,n,r,i,s){const o=this.gen.rectangle(e,n,r,i,s);return this.draw(o)}ellipse(e,n,r,i,s){const o=this.gen.ellipse(e,n,r,i,s);return this.draw(o)}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,s,o,c=!1,u){const h=this.gen.arc(e,n,r,i,s,o,c,u);return this.draw(h)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}}var Mt={canvas:(t,e)=>new rct(t,e),svg:(t,e)=>new ict(t,e),generator:t=>new Dg(t),newSeed:()=>Dg.newSeed()},Ht=D(async(t,e,n)=>{let r;const i=e.useHtmlLabels||Cn(ge()?.htmlLabels);n?r=n:r="node default";const s=t.insert("g").attr("class",r).attr("id",e.domId||e.id),o=s.insert("g").attr("class","label").attr("style",Xn(e.labelStyle));let c;e.label===void 0?c="":c=typeof e.label=="string"?e.label:e.label[0];const u=await Ds(o,ni(Ro(c),ge()),{useHtmlLabels:i,width:e.width||ge().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let h=u.getBBox();const d=(e?.padding??0)/2;if(i){const p=u.children[0],m=Wt(u),y=p.getElementsByTagName("img");if(y){const x=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(b=>new Promise(S=>{function _(){if(b.style.display="flex",b.style.flexDirection="column",x){const T=ge().fontSize?ge().fontSize:window.getComputedStyle(document.body).fontSize,w=5,[E=HO.fontSize]=Cm(T),M=E*w+"px";b.style.minWidth=M,b.style.maxWidth=M}else b.style.width="100%";S(b)}D(_,"setupImage"),setTimeout(()=>{b.complete&&_()}),b.addEventListener("error",_),b.addEventListener("load",_)})))}h=p.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}return i?o.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):o.attr("transform","translate(0, "+-h.height/2+")"),e.centerLabel&&o.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:s,bbox:h,halfPadding:d,label:o}},"labelHelper"),rb=D(async(t,e,n)=>{const r=n.useHtmlLabels||Cn(ge()?.flowchart?.htmlLabels),i=t.insert("g").attr("class","label").attr("style",n.labelStyle||""),s=await Ds(i,ni(Ro(e),ge()),{useHtmlLabels:r,width:n.width||ge()?.flowchart?.wrappingWidth,style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let o=s.getBBox();const c=n.padding/2;if(Cn(ge()?.flowchart?.htmlLabels)){const u=s.children[0],h=Wt(s);o=u.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}return r?i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):i.attr("transform","translate(0, "+-o.height/2+")"),n.centerLabel&&i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:o,halfPadding:c,label:i}},"insertLabel"),Lt=D((t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height},"updateNodeBounds"),Ft=D((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function te(t){const e=t.map((n,r)=>`${r===0?"M":"L"}${n.x},${n.y}`);return e.push("Z"),e.join(" ")}D(te,"createPathFromPoints");function Ts(t,e,n,r,i,s){const o=[],u=n-t,h=r-e,d=u/s,p=2*Math.PI/d,m=e+h/2;for(let y=0;y<=50;y++){const x=y/50,b=t+x*u,S=m+i*Math.sin(p*(b-t));o.push({x:b,y:S})}return o}D(Ts,"generateFullSineWavePoints");function Nh(t,e,n,r,i,s){const o=[],c=i*Math.PI/180,d=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*d,y=t+n*Math.cos(m),x=e+n*Math.sin(m);o.push({x:-y,y:-x})}return o}D(Nh,"generateCirclePoints");var act=D((t,e)=>{var n=t.x,r=t.y,i=e.x-n,s=e.y-r,o=t.width/2,c=t.height/2,u,h;return Math.abs(s)*o>Math.abs(i)*c?(s<0&&(c=-c),u=s===0?0:c*i/s,h=c):(i<0&&(o=-o),u=o,h=i===0?0:o*s/i),{x:n+u,y:r+h}},"intersectRect"),_c=act;function rj(t,e){e&&t.attr("style",e)}D(rj,"applyStyle");async function ij(t){const e=Wt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=ge();let i=t.label;t.label&&cc(t.label)&&(i=await Q1(t.label.replace(vc.lineBreakRegex,`
`),r));const o='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>";return n.html(ni(o,r)),rj(n,t.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}D(ij,"addHtmlLabel");var sct=D(async(t,e,n,r)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Cn(ge().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),yt.info("vertexText"+i);const s={isNode:r,label:Ro(i).replace(/fa[blrs]?:fa-[\w-]+/g,c=>`<i class='${c.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await ij(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(const c of o){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),n?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=c.trim(),s.appendChild(u)}return s}},"createLabel"),fo=sct,Ns=D((t,e,n,r,i)=>["M",t+i,e,"H",t+n-i,"A",i,i,0,0,1,t+n,e+i,"V",e+r-i,"A",i,i,0,0,1,t+n-i,e+r,"H",t+i,"A",i,i,0,0,1,t,e+r-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),aj=D(async(t,e)=>{yt.info("Creating subgraph rect for ",e.id,e);const n=ge(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:s,clusterBorder:o}=r,{labelStyles:c,nodeStyles:u,borderStyles:h,backgroundStyles:d}=Nt(e),p=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),m=Cn(n.flowchart.htmlLabels),y=p.insert("g").attr("class","cluster-label "),x=await Ds(y,e.label,{style:e.labelStyle,useHtmlLabels:m,isNode:!0});let b=x.getBBox();if(Cn(n.flowchart.htmlLabels)){const N=x.children[0],$=Wt(x);b=N.getBoundingClientRect(),$.attr("width",b.width),$.attr("height",b.height)}const S=e.width<=b.width+e.padding?b.width+e.padding:e.width;e.width<=b.width+e.padding?e.diff=(S-e.width)/2-e.padding:e.diff=-e.padding;const _=e.height,T=e.x-S/2,w=e.y-_/2;yt.trace("Data ",e,JSON.stringify(e));let E;if(e.look==="handDrawn"){const N=Mt.svg(p),$=Dt(e,{roughness:.7,fill:s,stroke:o,fillWeight:3,seed:i}),z=N.path(Ns(T,w,S,_,0),$);E=p.insert(()=>(yt.debug("Rough node insert CXC",z),z),":first-child"),E.select("path:nth-child(2)").attr("style",h.join(";")),E.select("path").attr("style",d.join(";").replace("fill","stroke"))}else E=p.insert("rect",":first-child"),E.attr("style",u).attr("rx",e.rx).attr("ry",e.ry).attr("x",T).attr("y",w).attr("width",S).attr("height",_);const{subGraphTitleTopMargin:M}=m2(n);if(y.attr("transform",`translate(${e.x-b.width/2}, ${e.y-e.height/2+M})`),c){const N=y.select("span");N&&N.attr("style",c)}const L=E.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=b.height-e.padding/2,e.intersect=function(N){return _c(e,N)},{cluster:p,labelBBox:b}},"rect"),oct=D((t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,s=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const o=r.node().getBBox();return e.width=o.width,e.height=o.height,e.intersect=function(c){return _c(e,c)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),lct=D(async(t,e)=>{const n=ge(),{themeVariables:r,handDrawnSeed:i}=n,{altBackground:s,compositeBackground:o,compositeTitleBackground:c,nodeBorder:u}=r,h=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),d=h.insert("g",":first-child"),p=h.insert("g").attr("class","cluster-label");let m=h.append("rect");const y=p.node().appendChild(await fo(e.label,e.labelStyle,void 0,!0));let x=y.getBBox();if(Cn(n.flowchart.htmlLabels)){const z=y.children[0],P=Wt(y);x=z.getBoundingClientRect(),P.attr("width",x.width),P.attr("height",x.height)}const b=0*e.padding,S=b/2,_=(e.width<=x.width+e.padding?x.width+e.padding:e.width)+b;e.width<=x.width+e.padding?e.diff=(_-e.width)/2-e.padding:e.diff=-e.padding;const T=e.height+b,w=e.height+b-x.height-6,E=e.x-_/2,M=e.y-T/2;e.width=_;const L=e.y-e.height/2-S+x.height+2;let N;if(e.look==="handDrawn"){const z=e.cssClasses.includes("statediagram-cluster-alt"),P=Mt.svg(h),j=e.rx||e.ry?P.path(Ns(E,M,_,T,10),{roughness:.7,fill:c,fillStyle:"solid",stroke:u,seed:i}):P.rectangle(E,M,_,T,{seed:i});N=h.insert(()=>j,":first-child");const W=P.rectangle(E,L,_,w,{fill:z?s:o,fillStyle:z?"hachure":"solid",stroke:u,seed:i});N=h.insert(()=>j,":first-child"),m=h.insert(()=>W)}else N=d.insert("rect",":first-child"),N.attr("class","outer").attr("x",E).attr("y",M).attr("width",_).attr("height",T).attr("data-look",e.look),m.attr("class","inner").attr("x",E).attr("y",L).attr("width",_).attr("height",w);p.attr("transform",`translate(${e.x-x.width/2}, ${M+1-(Cn(n.flowchart.htmlLabels)?0:3)})`);const $=N.node().getBBox();return e.height=$.height,e.offsetX=0,e.offsetY=x.height-e.padding/2,e.labelBBox=x,e.intersect=function(z){return _c(e,z)},{cluster:h,labelBBox:x}},"roundedWithTitle"),cct=D(async(t,e)=>{yt.info("Creating subgraph rect for ",e.id,e);const n=ge(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:s,clusterBorder:o}=r,{labelStyles:c,nodeStyles:u,borderStyles:h,backgroundStyles:d}=Nt(e),p=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),m=Cn(n.flowchart.htmlLabels),y=p.insert("g").attr("class","cluster-label "),x=await Ds(y,e.label,{style:e.labelStyle,useHtmlLabels:m,isNode:!0,width:e.width});let b=x.getBBox();if(Cn(n.flowchart.htmlLabels)){const N=x.children[0],$=Wt(x);b=N.getBoundingClientRect(),$.attr("width",b.width),$.attr("height",b.height)}const S=e.width<=b.width+e.padding?b.width+e.padding:e.width;e.width<=b.width+e.padding?e.diff=(S-e.width)/2-e.padding:e.diff=-e.padding;const _=e.height,T=e.x-S/2,w=e.y-_/2;yt.trace("Data ",e,JSON.stringify(e));let E;if(e.look==="handDrawn"){const N=Mt.svg(p),$=Dt(e,{roughness:.7,fill:s,stroke:o,fillWeight:4,seed:i}),z=N.path(Ns(T,w,S,_,e.rx),$);E=p.insert(()=>(yt.debug("Rough node insert CXC",z),z),":first-child"),E.select("path:nth-child(2)").attr("style",h.join(";")),E.select("path").attr("style",d.join(";").replace("fill","stroke"))}else E=p.insert("rect",":first-child"),E.attr("style",u).attr("rx",e.rx).attr("ry",e.ry).attr("x",T).attr("y",w).attr("width",S).attr("height",_);const{subGraphTitleTopMargin:M}=m2(n);if(y.attr("transform",`translate(${e.x-b.width/2}, ${e.y-e.height/2+M})`),c){const N=y.select("span");N&&N.attr("style",c)}const L=E.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=b.height-e.padding/2,e.intersect=function(N){return _c(e,N)},{cluster:p,labelBBox:b}},"kanbanSection"),uct=D((t,e)=>{const n=ge(),{themeVariables:r,handDrawnSeed:i}=n,{nodeBorder:s}=r,o=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),c=o.insert("g",":first-child"),u=0*e.padding,h=e.width+u;e.diff=-e.padding;const d=e.height+u,p=e.x-h/2,m=e.y-d/2;e.width=h;let y;if(e.look==="handDrawn"){const S=Mt.svg(o).rectangle(p,m,h,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});y=o.insert(()=>S,":first-child")}else y=c.insert("rect",":first-child"),y.attr("class","divider").attr("x",p).attr("y",m).attr("width",h).attr("height",d).attr("data-look",e.look);const x=y.node().getBBox();return e.height=x.height,e.offsetX=0,e.offsetY=0,e.intersect=function(b){return _c(e,b)},{cluster:o,labelBBox:{}}},"divider"),hct=aj,dct={rect:aj,squareRect:hct,roundedWithTitle:lct,noteGroup:oct,divider:uct,kanbanSection:cct},sj=new Map,fct=D(async(t,e)=>{const n=e.shape||"rect",r=await dct[n](t,e);return sj.set(e.id,r),r},"insertCluster"),Qft=D(()=>{sj=new Map},"clear");function oj(t,e){return t.intersect(e)}D(oj,"intersectNode");var pct=oj;function lj(t,e,n,r){var i=t.x,s=t.y,o=i-r.x,c=s-r.y,u=Math.sqrt(e*e*c*c+n*n*o*o),h=Math.abs(e*n*o/u);r.x<i&&(h=-h);var d=Math.abs(e*n*c/u);return r.y<s&&(d=-d),{x:i+h,y:s+d}}D(lj,"intersectEllipse");var cj=lj;function uj(t,e,n){return cj(t,e,e,n)}D(uj,"intersectCircle");var gct=uj;function hj(t,e,n,r){{const i=e.y-t.y,s=t.x-e.x,o=e.x*t.y-t.x*e.y,c=i*n.x+s*n.y+o,u=i*r.x+s*r.y+o,h=1e-6;if(c!==0&&u!==0&&Dv(c,u))return;const d=r.y-n.y,p=n.x-r.x,m=r.x*n.y-n.x*r.y,y=d*t.x+p*t.y+m,x=d*e.x+p*e.y+m;if(Math.abs(y)<h&&Math.abs(x)<h&&Dv(y,x))return;const b=i*p-d*s;if(b===0)return;const S=Math.abs(b/2);let _=s*m-p*o;const T=_<0?(_-S)/b:(_+S)/b;_=d*o-i*m;const w=_<0?(_-S)/b:(_+S)/b;return{x:T,y:w}}}D(hj,"intersectLine");function Dv(t,e){return t*e>0}D(Dv,"sameSign");var mct=hj;function dj(t,e,n){let r=t.x,i=t.y,s=[],o=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(d){o=Math.min(o,d.x),c=Math.min(c,d.y)}):(o=Math.min(o,e.x),c=Math.min(c,e.y));let u=r-t.width/2-o,h=i-t.height/2-c;for(let d=0;d<e.length;d++){let p=e[d],m=e[d<e.length-1?d+1:0],y=mct(t,n,{x:u+p.x,y:h+p.y},{x:u+m.x,y:h+m.y});y&&s.push(y)}return s.length?(s.length>1&&s.sort(function(d,p){let m=d.x-n.x,y=d.y-n.y,x=Math.sqrt(m*m+y*y),b=p.x-n.x,S=p.y-n.y,_=Math.sqrt(b*b+S*S);return x<_?-1:x===_?0:1}),s[0]):t}D(dj,"intersectPolygon");var yct=dj,St={node:pct,circle:gct,ellipse:cj,polygon:yct,rect:_c};function fj(t,e){const{labelStyles:n}=Nt(e);e.labelStyle=n;const r=Ft(e);let i=r;r||(i="anchor");const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),o=1,{cssStyles:c}=e,u=Mt.svg(s),h=Dt(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(h.roughness=0);const d=u.circle(0,0,o*2,h),p=s.insert(()=>d,":first-child");return p.attr("class","anchor").attr("style",Xn(c)),Lt(e,p),e.intersect=function(m){return yt.info("Circle intersect",e,o,m),St.circle(e,o,m)},s}D(fj,"anchor");function Nv(t,e,n,r,i,s,o){const u=(t+n)/2,h=(e+r)/2,d=Math.atan2(r-e,n-t),p=(n-t)/2,m=(r-e)/2,y=p/i,x=m/s,b=Math.sqrt(y**2+x**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const S=Math.sqrt(1-b**2),_=u+S*s*Math.sin(d)*(o?-1:1),T=h-S*i*Math.cos(d)*(o?-1:1),w=Math.atan2((e-T)/s,(t-_)/i);let M=Math.atan2((r-T)/s,(n-_)/i)-w;o&&M<0&&(M+=2*Math.PI),!o&&M>0&&(M-=2*Math.PI);const L=[];for(let N=0;N<20;N++){const $=N/19,z=w+$*M,P=_+i*Math.cos(z),j=T+s*Math.sin(z);L.push({x:P,y:j})}return L}D(Nv,"generateArcPoints");async function pj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.width+e.padding+20,c=s.height+e.padding,u=c/2,h=u/(2.5+c/50),{cssStyles:d}=e,p=[{x:o/2,y:-c/2},{x:-o/2,y:-c/2},...Nv(-o/2,-c/2,-o/2,c/2,h,u,!1),{x:o/2,y:c/2},...Nv(o/2,c/2,o/2,-c/2,h,u,!0)],m=Mt.svg(i),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=te(p),b=m.path(x,y),S=i.insert(()=>b,":first-child");return S.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",d),r&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",r),S.attr("transform",`translate(${h/2}, 0)`),Lt(e,S),e.intersect=function(_){return St.polygon(e,p,_)},i}D(pj,"bowTieRect");function Ls(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}D(Ls,"insertPolygonShape");async function gj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.height+e.padding,c=12,u=s.width+e.padding+c,h=0,d=u,p=-o,m=0,y=[{x:h+c,y:p},{x:d,y:p},{x:d,y:m},{x:h,y:m},{x:h,y:p+c},{x:h+c,y:p}];let x;const{cssStyles:b}=e;if(e.look==="handDrawn"){const S=Mt.svg(i),_=Dt(e,{}),T=te(y),w=S.path(T,_);x=i.insert(()=>w,":first-child").attr("transform",`translate(${-u/2}, ${o/2})`),b&&x.attr("style",b)}else x=Ls(i,u,o,y);return r&&x.attr("style",r),Lt(e,x),e.intersect=function(S){return St.polygon(e,y,S)},i}D(gj,"card");function mj(t,e){const{nodeStyles:n}=Nt(e);e.label="";const r=t.insert("g").attr("class",Ft(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,s=Math.max(28,e.width??0),o=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],c=Mt.svg(r),u=Dt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=te(o),d=c.path(h,u),p=r.insert(()=>d,":first-child");return i&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",i),n&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",n),e.width=28,e.height=28,e.intersect=function(m){return St.polygon(e,o,m)},r}D(mj,"choice");async function P2(t,e,n){const{labelStyles:r,nodeStyles:i}=Nt(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,halfPadding:c}=await Ht(t,e,Ft(e)),u=n?.padding??c,h=o.width/2+u;let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=Mt.svg(s),y=Dt(e,{}),x=m.circle(0,0,h*2,y);d=s.insert(()=>x,":first-child"),d.attr("class","basic label-container").attr("style",Xn(p))}else d=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0);return Lt(e,d),e.calcIntersect=function(m,y){const x=m.width/2;return St.circle(m,x,y)},e.intersect=function(m){return yt.info("Circle intersect",e,h,m),St.circle(e,h,m)},s}D(P2,"circle");function yj(t){const e=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),r=t*2,i={x:r/2*e,y:r/2*n},s={x:-(r/2)*e,y:r/2*n},o={x:-(r/2)*e,y:-(r/2)*n},c={x:r/2*e,y:-(r/2)*n};return`M ${s.x},${s.y} L ${c.x},${c.y}
                   M ${i.x},${i.y} L ${o.x},${o.y}`}D(yj,"createLine");function xj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n,e.label="";const i=t.insert("g").attr("class",Ft(e)).attr("id",e.domId??e.id),s=Math.max(30,e?.width??0),{cssStyles:o}=e,c=Mt.svg(i),u=Dt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=c.circle(0,0,s*2,u),d=yj(s),p=c.path(d,u),m=i.insert(()=>h,":first-child");return m.insert(()=>p),o&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",o),r&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",r),Lt(e,m),e.intersect=function(y){return yt.info("crossedCircle intersect",e,{radius:s,point:y}),St.circle(e,s,y)},i}D(xj,"crossedCircle");function ba(t,e,n,r=100,i=0,s=180){const o=[],c=i*Math.PI/180,d=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*d,y=t+n*Math.cos(m),x=e+n*Math.sin(m);o.push({x:-y,y:-x})}return o}D(ba,"generateCirclePoints");async function bj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=s.width+(e.padding??0),u=s.height+(e.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=e,p=[...ba(c/2,-u/2,h,30,-90,0),{x:-c/2-h,y:h},...ba(c/2+h*2,-h,h,20,-180,-270),...ba(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-u/2},...ba(c/2,u/2,h,20,0,90)],m=[{x:c/2,y:-u/2-h},{x:-c/2,y:-u/2-h},...ba(c/2,-u/2,h,20,-90,0),{x:-c/2-h,y:-h},...ba(c/2+c*.1,-h,h,20,-180,-270),...ba(c/2+c*.1,h,h,20,-90,-180),{x:-c/2-h,y:u/2},...ba(c/2,u/2,h,20,0,90),{x:-c/2,y:u/2+h},{x:c/2,y:u/2+h}],y=Mt.svg(i),x=Dt(e,{fill:"none"});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=te(p).replace("Z",""),_=y.path(S,x),T=te(m),w=y.path(T,{...x}),E=i.insert("g",":first-child");return E.insert(()=>w,":first-child").attr("stroke-opacity",0),E.insert(()=>_,":first-child"),E.attr("class","text"),d&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",d),r&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(${h}, 0)`),o.attr("transform",`translate(${-c/2+h-(s.x-(s.left??0))},${-u/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Lt(e,E),e.intersect=function(M){return St.polygon(e,m,M)},i}D(bj,"curlyBraceLeft");function va(t,e,n,r=100,i=0,s=180){const o=[],c=i*Math.PI/180,d=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*d,y=t+n*Math.cos(m),x=e+n*Math.sin(m);o.push({x:y,y:x})}return o}D(va,"generateCirclePoints");async function vj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=s.width+(e.padding??0),u=s.height+(e.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=e,p=[...va(c/2,-u/2,h,20,-90,0),{x:c/2+h,y:-h},...va(c/2+h*2,-h,h,20,-180,-270),...va(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:u/2},...va(c/2,u/2,h,20,0,90)],m=[{x:-c/2,y:-u/2-h},{x:c/2,y:-u/2-h},...va(c/2,-u/2,h,20,-90,0),{x:c/2+h,y:-h},...va(c/2+h*2,-h,h,20,-180,-270),...va(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:u/2},...va(c/2,u/2,h,20,0,90),{x:c/2,y:u/2+h},{x:-c/2,y:u/2+h}],y=Mt.svg(i),x=Dt(e,{fill:"none"});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=te(p).replace("Z",""),_=y.path(S,x),T=te(m),w=y.path(T,{...x}),E=i.insert("g",":first-child");return E.insert(()=>w,":first-child").attr("stroke-opacity",0),E.insert(()=>_,":first-child"),E.attr("class","text"),d&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",d),r&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(${-h}, 0)`),o.attr("transform",`translate(${-c/2+(e.padding??0)/2-(s.x-(s.left??0))},${-u/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Lt(e,E),e.intersect=function(M){return St.polygon(e,m,M)},i}D(vj,"curlyBraceRight");function zn(t,e,n,r=100,i=0,s=180){const o=[],c=i*Math.PI/180,d=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*d,y=t+n*Math.cos(m),x=e+n*Math.sin(m);o.push({x:-y,y:-x})}return o}D(zn,"generateCirclePoints");async function wj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=s.width+(e.padding??0),u=s.height+(e.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=e,p=[...zn(c/2,-u/2,h,30,-90,0),{x:-c/2-h,y:h},...zn(c/2+h*2,-h,h,20,-180,-270),...zn(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-u/2},...zn(c/2,u/2,h,20,0,90)],m=[...zn(-c/2+h+h/2,-u/2,h,20,-90,-180),{x:c/2-h/2,y:h},...zn(-c/2-h/2,-h,h,20,0,90),...zn(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...zn(-c/2+h+h/2,u/2,h,30,-180,-270)],y=[{x:c/2,y:-u/2-h},{x:-c/2,y:-u/2-h},...zn(c/2,-u/2,h,20,-90,0),{x:-c/2-h,y:-h},...zn(c/2+h*2,-h,h,20,-180,-270),...zn(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:u/2},...zn(c/2,u/2,h,20,0,90),{x:-c/2,y:u/2+h},{x:c/2-h-h/2,y:u/2+h},...zn(-c/2+h+h/2,-u/2,h,20,-90,-180),{x:c/2-h/2,y:h},...zn(-c/2-h/2,-h,h,20,0,90),...zn(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...zn(-c/2+h+h/2,u/2,h,30,-180,-270)],x=Mt.svg(i),b=Dt(e,{fill:"none"});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const _=te(p).replace("Z",""),T=x.path(_,b),E=te(m).replace("Z",""),M=x.path(E,b),L=te(y),N=x.path(L,{...b}),$=i.insert("g",":first-child");return $.insert(()=>N,":first-child").attr("stroke-opacity",0),$.insert(()=>T,":first-child"),$.insert(()=>M,":first-child"),$.attr("class","text"),d&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",d),r&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",r),$.attr("transform",`translate(${h-h/4}, 0)`),o.attr("transform",`translate(${-c/2+(e.padding??0)/2-(s.x-(s.left??0))},${-u/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Lt(e,$),e.intersect=function(z){return St.polygon(e,y,z)},i}D(wj,"curlyBraces");async function Sj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=80,c=20,u=Math.max(o,(s.width+(e.padding??0)*2)*1.25,e?.width??0),h=Math.max(c,s.height+(e.padding??0)*2,e?.height??0),d=h/2,{cssStyles:p}=e,m=Mt.svg(i),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=u,b=h,S=x-d,_=b/4,T=[{x:S,y:0},{x:_,y:0},{x:0,y:b/2},{x:_,y:b},{x:S,y:b},...Nh(-S,-b/2,d,50,270,90)],w=te(T),E=m.path(w,y),M=i.insert(()=>E,":first-child");return M.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&M.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&M.selectChildren("path").attr("style",r),M.attr("transform",`translate(${-u/2}, ${-h/2})`),Lt(e,M),e.intersect=function(L){return St.polygon(e,T,L)},i}D(Sj,"curvedTrapezoid");var xct=D((t,e,n,r,i,s)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${n},0`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createCylinderPathD"),bct=D((t,e,n,r,i,s)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD"),vct=D((t,e,n,r,i,s)=>[`M${t-n/2},${-r/2}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function Cj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+e.padding,e.width??0),u=c/2,h=u/(2.5+c/50),d=Math.max(s.height+h+e.padding,e.height??0);let p;const{cssStyles:m}=e;if(e.look==="handDrawn"){const y=Mt.svg(i),x=bct(0,0,c,d,u,h),b=vct(0,h,c,d,u,h),S=y.path(x,Dt(e,{})),_=y.path(b,Dt(e,{fill:"none"}));p=i.insert(()=>_,":first-child"),p=i.insert(()=>S,":first-child"),p.attr("class","basic label-container"),m&&p.attr("style",m)}else{const y=xct(0,0,c,d,u,h);p=i.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",Xn(m)).attr("style",r)}return p.attr("label-offset-y",h),p.attr("transform",`translate(${-c/2}, ${-(d/2+h)})`),Lt(e,p),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(e.padding??0)/1.5-(s.y-(s.top??0))})`),e.intersect=function(y){const x=St.rect(e,y),b=x.x-(e.x??0);if(u!=0&&(Math.abs(b)<(e.width??0)/2||Math.abs(b)==(e.width??0)/2&&Math.abs(x.y-(e.y??0))>(e.height??0)/2-h)){let S=h*h*(1-b*b/(u*u));S>0&&(S=Math.sqrt(S)),S=h-S,y.y-(e.y??0)>0&&(S=-S),x.y+=S}return x},i}D(Cj,"cylinder");async function _j(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=s.width+e.padding,u=s.height+e.padding,h=u*.2,d=-c/2,p=-u/2-h/2,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=[{x:d,y:p+h},{x:-d,y:p+h},{x:-d,y:-p},{x:d,y:-p},{x:d,y:p},{x:-d,y:p},{x:-d,y:p+h}],S=y.polygon(b.map(T=>[T.x,T.y]),x),_=i.insert(()=>S,":first-child");return _.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",r),o.attr("transform",`translate(${d+(e.padding??0)/2-(s.x-(s.left??0))}, ${p+h+(e.padding??0)/2-(s.y-(s.top??0))})`),Lt(e,_),e.intersect=function(T){return St.rect(e,T)},i}D(_j,"dividedRectangle");async function kj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o}=await Ht(t,e,Ft(e)),u=s.width/2+o+5,h=s.width/2+o;let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=Mt.svg(i),y=Dt(e,{roughness:.2,strokeWidth:2.5}),x=Dt(e,{roughness:.2,strokeWidth:1.5}),b=m.circle(0,0,u*2,y),S=m.circle(0,0,h*2,x);d=i.insert("g",":first-child"),d.attr("class",Xn(e.cssClasses)).attr("style",Xn(p)),d.node()?.appendChild(b),d.node()?.appendChild(S)}else{d=i.insert("g",":first-child");const m=d.insert("circle",":first-child"),y=d.insert("circle");d.attr("class","basic label-container").attr("style",r),m.attr("class","outer-circle").attr("style",r).attr("r",u).attr("cx",0).attr("cy",0),y.attr("class","inner-circle").attr("style",r).attr("r",h).attr("cx",0).attr("cy",0)}return Lt(e,d),e.intersect=function(m){return yt.info("DoubleCircle intersect",e,u,m),St.circle(e,u,m)},i}D(kj,"doublecircle");function Tj(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Nt(e);e.label="",e.labelStyle=r;const s=t.insert("g").attr("class",Ft(e)).attr("id",e.domId??e.id),o=7,{cssStyles:c}=e,u=Mt.svg(s),{nodeBorder:h}=n,d=Dt(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(d.roughness=0);const p=u.circle(0,0,o*2,d),m=s.insert(()=>p,":first-child");return m.selectAll("path").attr("style",`fill: ${h} !important;`),c&&c.length>0&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",c),i&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",i),Lt(e,m),e.intersect=function(y){return yt.info("filledCircle intersect",e,{radius:o,point:y}),St.circle(e,o,y)},s}D(Tj,"filledCircle");async function Ej(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=s.width+(e.padding??0),u=c+s.height,h=c+s.height,d=[{x:0,y:-u},{x:h,y:-u},{x:h/2,y:0}],{cssStyles:p}=e,m=Mt.svg(i),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=te(d),b=m.path(x,y),S=i.insert(()=>b,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",r),e.width=c,e.height=u,Lt(e,S),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-u/2+(e.padding??0)/2+(s.y-(s.top??0))})`),e.intersect=function(_){return yt.info("Triangle intersect",e,d,_),St.polygon(e,d,_)},i}D(Ej,"flippedTriangle");function Aj(t,e,{dir:n,config:{state:r,themeVariables:i}}){const{nodeStyles:s}=Nt(e);e.label="";const o=t.insert("g").attr("class",Ft(e)).attr("id",e.domId??e.id),{cssStyles:c}=e;let u=Math.max(70,e?.width??0),h=Math.max(10,e?.height??0);n==="LR"&&(u=Math.max(10,e?.width??0),h=Math.max(70,e?.height??0));const d=-1*u/2,p=-1*h/2,m=Mt.svg(o),y=Dt(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=m.rectangle(d,p,u,h,y),b=o.insert(()=>x,":first-child");c&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",c),s&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",s),Lt(e,b);const S=r?.padding??0;return e.width&&e.height&&(e.width+=S/2||0,e.height+=S/2||0),e.intersect=function(_){return St.rect(e,_)},o}D(Aj,"forkJoin");async function Mj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const i=80,s=50,{shapeSvg:o,bbox:c}=await Ht(t,e,Ft(e)),u=Math.max(i,c.width+(e.padding??0)*2,e?.width??0),h=Math.max(s,c.height+(e.padding??0)*2,e?.height??0),d=h/2,{cssStyles:p}=e,m=Mt.svg(o),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-u/2,y:-h/2},{x:u/2-d,y:-h/2},...Nh(-u/2+d,0,d,50,90,270),{x:u/2-d,y:h/2},{x:-u/2,y:h/2}],b=te(x),S=m.path(b,y),_=o.insert(()=>S,":first-child");return _.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),Lt(e,_),e.intersect=function(T){return yt.info("Pill intersect",e,{radius:d,point:T}),St.polygon(e,x,T)},o}D(Mj,"halfRoundedRectangle");async function Dj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.height+(e.padding??0),c=s.width+(e.padding??0)*2.5,{cssStyles:u}=e,h=Mt.svg(i),d=Dt(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");let p=c/2;const m=p/6;p=p+m;const y=o/2,x=y/2,b=p-x,S=[{x:-b,y:-y},{x:0,y:-y},{x:b,y:-y},{x:p,y:0},{x:b,y},{x:0,y},{x:-b,y},{x:-p,y:0}],_=te(S),T=h.path(_,d),w=i.insert(()=>T,":first-child");return w.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",u),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),e.width=c,e.height=o,Lt(e,w),e.intersect=function(E){return St.polygon(e,S,E)},i}D(Dj,"hexagon");async function Nj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.label="",e.labelStyle=n;const{shapeSvg:i}=await Ht(t,e,Ft(e)),s=Math.max(30,e?.width??0),o=Math.max(30,e?.height??0),{cssStyles:c}=e,u=Mt.svg(i),h=Dt(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=[{x:0,y:0},{x:s,y:0},{x:0,y:o},{x:s,y:o}],p=te(d),m=u.path(p,h),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),c&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",c),r&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),y.attr("transform",`translate(${-s/2}, ${-o/2})`),Lt(e,y),e.intersect=function(x){return yt.info("Pill intersect",e,{points:d}),St.polygon(e,d,x)},i}D(Nj,"hourglass");async function Lj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Nt(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,c=Math.max(s,o),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:d,label:p}=await Ht(t,e,"icon-shape default"),m=e.pos==="t",y=c,x=c,{nodeBorder:b}=n,{stylesMap:S}=wc(e),_=-x/2,T=-y/2,w=e.label?8:0,E=Mt.svg(h),M=Dt(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const L=E.rectangle(_,T,x,y,M),N=Math.max(x,d.width),$=y+d.height+w,z=E.rectangle(-N/2,-$/2,N,$,{...M,fill:"transparent",stroke:"none"}),P=h.insert(()=>L,":first-child"),j=h.insert(()=>z);if(e.icon){const W=h.append("g");W.html(`<g>${await od(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const G=W.node().getBBox(),B=G.width,H=G.height,R=G.x,I=G.y;W.attr("transform",`translate(${-B/2-R},${m?d.height/2+w/2-H/2-I:-d.height/2-w/2-H/2-I})`),W.attr("style",`color: ${S.get("stroke")??b};`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-$/2:$/2-d.height})`),P.attr("transform",`translate(0,${m?d.height/2+w/2:-d.height/2-w/2})`),Lt(e,j),e.intersect=function(W){if(yt.info("iconSquare intersect",e,W),!e.label)return St.rect(e,W);const G=e.x??0,B=e.y??0,H=e.height??0;let R=[];return m?R=[{x:G-d.width/2,y:B-H/2},{x:G+d.width/2,y:B-H/2},{x:G+d.width/2,y:B-H/2+d.height+w},{x:G+x/2,y:B-H/2+d.height+w},{x:G+x/2,y:B+H/2},{x:G-x/2,y:B+H/2},{x:G-x/2,y:B-H/2+d.height+w},{x:G-d.width/2,y:B-H/2+d.height+w}]:R=[{x:G-x/2,y:B-H/2},{x:G+x/2,y:B-H/2},{x:G+x/2,y:B-H/2+y},{x:G+d.width/2,y:B-H/2+y},{x:G+d.width/2/2,y:B+H/2},{x:G-d.width/2,y:B+H/2},{x:G-d.width/2,y:B-H/2+y},{x:G-x/2,y:B-H/2+y}],St.polygon(e,R,W)},h}D(Lj,"icon");async function Oj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Nt(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,c=Math.max(s,o),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:d,label:p}=await Ht(t,e,"icon-shape default"),m=20,y=e.label?8:0,x=e.pos==="t",{nodeBorder:b,mainBkg:S}=n,{stylesMap:_}=wc(e),T=Mt.svg(h),w=Dt(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=_.get("fill");w.stroke=E??S;const M=h.append("g");e.icon&&M.html(`<g>${await od(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const L=M.node().getBBox(),N=L.width,$=L.height,z=L.x,P=L.y,j=Math.max(N,$)*Math.SQRT2+m*2,W=T.circle(0,0,j,w),G=Math.max(j,d.width),B=j+d.height+y,H=T.rectangle(-G/2,-B/2,G,B,{...w,fill:"transparent",stroke:"none"}),R=h.insert(()=>W,":first-child"),I=h.insert(()=>H);return M.attr("transform",`translate(${-N/2-z},${x?d.height/2+y/2-$/2-P:-d.height/2-y/2-$/2-P})`),M.attr("style",`color: ${_.get("stroke")??b};`),p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${x?-B/2:B/2-d.height})`),R.attr("transform",`translate(0,${x?d.height/2+y/2:-d.height/2-y/2})`),Lt(e,I),e.intersect=function(U){return yt.info("iconSquare intersect",e,U),St.rect(e,U)},h}D(Oj,"iconCircle");async function Rj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Nt(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,c=Math.max(s,o),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:d,halfPadding:p,label:m}=await Ht(t,e,"icon-shape default"),y=e.pos==="t",x=c+p*2,b=c+p*2,{nodeBorder:S,mainBkg:_}=n,{stylesMap:T}=wc(e),w=-b/2,E=-x/2,M=e.label?8:0,L=Mt.svg(h),N=Dt(e,{});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const $=T.get("fill");N.stroke=$??_;const z=L.path(Ns(w,E,b,x,5),N),P=Math.max(b,d.width),j=x+d.height+M,W=L.rectangle(-P/2,-j/2,P,j,{...N,fill:"transparent",stroke:"none"}),G=h.insert(()=>z,":first-child").attr("class","icon-shape2"),B=h.insert(()=>W);if(e.icon){const H=h.append("g");H.html(`<g>${await od(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const R=H.node().getBBox(),I=R.width,U=R.height,Z=R.x,nt=R.y;H.attr("transform",`translate(${-I/2-Z},${y?d.height/2+M/2-U/2-nt:-d.height/2-M/2-U/2-nt})`),H.attr("style",`color: ${T.get("stroke")??S};`)}return m.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${y?-j/2:j/2-d.height})`),G.attr("transform",`translate(0,${y?d.height/2+M/2:-d.height/2-M/2})`),Lt(e,B),e.intersect=function(H){if(yt.info("iconSquare intersect",e,H),!e.label)return St.rect(e,H);const R=e.x??0,I=e.y??0,U=e.height??0;let Z=[];return y?Z=[{x:R-d.width/2,y:I-U/2},{x:R+d.width/2,y:I-U/2},{x:R+d.width/2,y:I-U/2+d.height+M},{x:R+b/2,y:I-U/2+d.height+M},{x:R+b/2,y:I+U/2},{x:R-b/2,y:I+U/2},{x:R-b/2,y:I-U/2+d.height+M},{x:R-d.width/2,y:I-U/2+d.height+M}]:Z=[{x:R-b/2,y:I-U/2},{x:R+b/2,y:I-U/2},{x:R+b/2,y:I-U/2+x},{x:R+d.width/2,y:I-U/2+x},{x:R+d.width/2/2,y:I+U/2},{x:R-d.width/2,y:I+U/2},{x:R-d.width/2,y:I-U/2+x},{x:R-b/2,y:I-U/2+x}],St.polygon(e,Z,H)},h}D(Rj,"iconRounded");async function Bj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Nt(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,c=Math.max(s,o),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:d,halfPadding:p,label:m}=await Ht(t,e,"icon-shape default"),y=e.pos==="t",x=c+p*2,b=c+p*2,{nodeBorder:S,mainBkg:_}=n,{stylesMap:T}=wc(e),w=-b/2,E=-x/2,M=e.label?8:0,L=Mt.svg(h),N=Dt(e,{});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const $=T.get("fill");N.stroke=$??_;const z=L.path(Ns(w,E,b,x,.1),N),P=Math.max(b,d.width),j=x+d.height+M,W=L.rectangle(-P/2,-j/2,P,j,{...N,fill:"transparent",stroke:"none"}),G=h.insert(()=>z,":first-child"),B=h.insert(()=>W);if(e.icon){const H=h.append("g");H.html(`<g>${await od(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const R=H.node().getBBox(),I=R.width,U=R.height,Z=R.x,nt=R.y;H.attr("transform",`translate(${-I/2-Z},${y?d.height/2+M/2-U/2-nt:-d.height/2-M/2-U/2-nt})`),H.attr("style",`color: ${T.get("stroke")??S};`)}return m.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${y?-j/2:j/2-d.height})`),G.attr("transform",`translate(0,${y?d.height/2+M/2:-d.height/2-M/2})`),Lt(e,B),e.intersect=function(H){if(yt.info("iconSquare intersect",e,H),!e.label)return St.rect(e,H);const R=e.x??0,I=e.y??0,U=e.height??0;let Z=[];return y?Z=[{x:R-d.width/2,y:I-U/2},{x:R+d.width/2,y:I-U/2},{x:R+d.width/2,y:I-U/2+d.height+M},{x:R+b/2,y:I-U/2+d.height+M},{x:R+b/2,y:I+U/2},{x:R-b/2,y:I+U/2},{x:R-b/2,y:I-U/2+d.height+M},{x:R-d.width/2,y:I-U/2+d.height+M}]:Z=[{x:R-b/2,y:I-U/2},{x:R+b/2,y:I-U/2},{x:R+b/2,y:I-U/2+x},{x:R+d.width/2,y:I-U/2+x},{x:R+d.width/2/2,y:I+U/2},{x:R-d.width/2,y:I+U/2},{x:R-d.width/2,y:I-U/2+x},{x:R-b/2,y:I-U/2+x}],St.polygon(e,Z,H)},h}D(Bj,"iconSquare");async function jj(t,e,{config:{flowchart:n}}){const r=new Image;r.src=e?.img??"",await r.decode();const i=Number(r.naturalWidth.toString().replace("px","")),s=Number(r.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/s;const{labelStyles:o}=Nt(e);e.labelStyle=o;const c=n?.wrappingWidth;e.defaultWidth=n?.wrappingWidth;const u=Math.max(e.label?c??0:0,e?.assetWidth??i),h=e.constraint==="on"&&e?.assetHeight?e.assetHeight*e.imageAspectRatio:u,d=e.constraint==="on"?h/e.imageAspectRatio:e?.assetHeight??s;e.width=Math.max(h,c??0);const{shapeSvg:p,bbox:m,label:y}=await Ht(t,e,"image-shape default"),x=e.pos==="t",b=-h/2,S=-d/2,_=e.label?8:0,T=Mt.svg(p),w=Dt(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=T.rectangle(b,S,h,d,w),M=Math.max(h,m.width),L=d+m.height+_,N=T.rectangle(-M/2,-L/2,M,L,{...w,fill:"none",stroke:"none"}),$=p.insert(()=>E,":first-child"),z=p.insert(()=>N);if(e.img){const P=p.append("image");P.attr("href",e.img),P.attr("width",h),P.attr("height",d),P.attr("preserveAspectRatio","none"),P.attr("transform",`translate(${-h/2},${x?L/2-d:-L/2})`)}return y.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${x?-d/2-m.height/2-_/2:d/2-m.height/2+_/2})`),$.attr("transform",`translate(0,${x?m.height/2+_/2:-m.height/2-_/2})`),Lt(e,z),e.intersect=function(P){if(yt.info("iconSquare intersect",e,P),!e.label)return St.rect(e,P);const j=e.x??0,W=e.y??0,G=e.height??0;let B=[];return x?B=[{x:j-m.width/2,y:W-G/2},{x:j+m.width/2,y:W-G/2},{x:j+m.width/2,y:W-G/2+m.height+_},{x:j+h/2,y:W-G/2+m.height+_},{x:j+h/2,y:W+G/2},{x:j-h/2,y:W+G/2},{x:j-h/2,y:W-G/2+m.height+_},{x:j-m.width/2,y:W-G/2+m.height+_}]:B=[{x:j-h/2,y:W-G/2},{x:j+h/2,y:W-G/2},{x:j+h/2,y:W-G/2+d},{x:j+m.width/2,y:W-G/2+d},{x:j+m.width/2/2,y:W+G/2},{x:j-m.width/2,y:W+G/2},{x:j-m.width/2,y:W-G/2+d},{x:j-h/2,y:W-G/2+d}],St.polygon(e,B,P)},p}D(jj,"imageSquare");async function $j(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=[{x:0,y:0},{x:o,y:0},{x:o+3*c/6,y:-c},{x:-3*c/6,y:-c}];let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=Mt.svg(i),m=Dt(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${c/2})`),d&&h.attr("style",d)}else h=Ls(i,o,c,u);return r&&h.attr("style",r),e.width=o,e.height=c,Lt(e,h),e.intersect=function(p){return St.polygon(e,u,p)},i}D($j,"inv_trapezoid");async function Mm(t,e,n){const{labelStyles:r,nodeStyles:i}=Nt(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Ht(t,e,Ft(e)),c=Math.max(o.width+n.labelPaddingX*2,e?.width||0),u=Math.max(o.height+n.labelPaddingY*2,e?.height||0),h=-c/2,d=-u/2;let p,{rx:m,ry:y}=e;const{cssStyles:x}=e;if(n?.rx&&n.ry&&(m=n.rx,y=n.ry),e.look==="handDrawn"){const b=Mt.svg(s),S=Dt(e,{}),_=m||y?b.path(Ns(h,d,c,u,m||0),S):b.rectangle(h,d,c,u,S);p=s.insert(()=>_,":first-child"),p.attr("class","basic label-container").attr("style",Xn(x))}else p=s.insert("rect",":first-child"),p.attr("class","basic label-container").attr("style",i).attr("rx",Xn(m)).attr("ry",Xn(y)).attr("x",h).attr("y",d).attr("width",c).attr("height",u);return Lt(e,p),e.calcIntersect=function(b,S){return St.rect(b,S)},e.intersect=function(b){return St.rect(e,b)},s}D(Mm,"drawRect");async function zj(t,e){const{shapeSvg:n,bbox:r,label:i}=await Ht(t,e,"label"),s=n.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(r.width/2)-(r.x-(r.left??0))}, ${-(r.height/2)-(r.y-(r.top??0))})`),Lt(e,s),e.intersect=function(u){return St.rect(e,u)},n}D(zj,"labelRect");async function Pj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=Math.max(s.width+(e.padding??0),e?.width??0),c=Math.max(s.height+(e.padding??0),e?.height??0),u=[{x:0,y:0},{x:o+3*c/6,y:0},{x:o,y:-c},{x:-(3*c)/6,y:-c}];let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=Mt.svg(i),m=Dt(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${c/2})`),d&&h.attr("style",d)}else h=Ls(i,o,c,u);return r&&h.attr("style",r),e.width=o,e.height=c,Lt(e,h),e.intersect=function(p){return St.polygon(e,u,p)},i}D(Pj,"lean_left");async function Fj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=Math.max(s.width+(e.padding??0),e?.width??0),c=Math.max(s.height+(e.padding??0),e?.height??0),u=[{x:-3*c/6,y:0},{x:o,y:0},{x:o+3*c/6,y:-c},{x:0,y:-c}];let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=Mt.svg(i),m=Dt(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${c/2})`),d&&h.attr("style",d)}else h=Ls(i,o,c,u);return r&&h.attr("style",r),e.width=o,e.height=c,Lt(e,h),e.intersect=function(p){return St.polygon(e,u,p)},i}D(Fj,"lean_right");function Ij(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.label="",e.labelStyle=n;const i=t.insert("g").attr("class",Ft(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,o=Math.max(35,e?.width??0),c=Math.max(35,e?.height??0),u=7,h=[{x:o,y:0},{x:0,y:c+u/2},{x:o-2*u,y:c+u/2},{x:0,y:2*c},{x:o,y:c-u/2},{x:2*u,y:c-u/2}],d=Mt.svg(i),p=Dt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=te(h),y=d.path(m,p),x=i.insert(()=>y,":first-child");return s&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",s),r&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(-${o/2},${-c})`),Lt(e,x),e.intersect=function(b){return yt.info("lightningBolt intersect",e,b),St.polygon(e,h,b)},i}D(Ij,"lightningBolt");var wct=D((t,e,n,r,i,s,o)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${n},0`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+o}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),Sct=D((t,e,n,r,i,s,o)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+o}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),Cct=D((t,e,n,r,i,s)=>[`M${t-n/2},${-r/2}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function Hj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0),e.width??0),u=c/2,h=u/(2.5+c/50),d=Math.max(s.height+h+(e.padding??0),e.height??0),p=d*.1;let m;const{cssStyles:y}=e;if(e.look==="handDrawn"){const x=Mt.svg(i),b=Sct(0,0,c,d,u,h,p),S=Cct(0,h,c,d,u,h),_=Dt(e,{}),T=x.path(b,_),w=x.path(S,_);i.insert(()=>w,":first-child").attr("class","line"),m=i.insert(()=>T,":first-child"),m.attr("class","basic label-container"),y&&m.attr("style",y)}else{const x=wct(0,0,c,d,u,h,p);m=i.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",Xn(y)).attr("style",r)}return m.attr("label-offset-y",h),m.attr("transform",`translate(${-c/2}, ${-(d/2+h)})`),Lt(e,m),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+h-(s.y-(s.top??0))})`),e.intersect=function(x){const b=St.rect(e,x),S=b.x-(e.x??0);if(u!=0&&(Math.abs(S)<(e.width??0)/2||Math.abs(S)==(e.width??0)/2&&Math.abs(b.y-(e.y??0))>(e.height??0)/2-h)){let _=h*h*(1-S*S/(u*u));_>0&&(_=Math.sqrt(_)),_=h-_,x.y-(e.y??0)>0&&(_=-_),b.y+=_}return b},i}D(Hj,"linedCylinder");async function Vj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/4,d=u+h,{cssStyles:p}=e,m=Mt.svg(i),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-c/2-c/2*.1,y:-d/2},{x:-c/2-c/2*.1,y:d/2},...Ts(-c/2-c/2*.1,d/2,c/2+c/2*.1,d/2,h,.8),{x:c/2+c/2*.1,y:-d/2},{x:-c/2-c/2*.1,y:-d/2},{x:-c/2,y:-d/2},{x:-c/2,y:d/2*1.1},{x:-c/2,y:-d/2}],b=m.polygon(x.map(_=>[_.x,_.y]),y),S=i.insert(()=>b,":first-child");return S.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",r),S.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-c/2+(e.padding??0)+c/2*.1/2-(s.x-(s.left??0))},${-u/2+(e.padding??0)-h/2-(s.y-(s.top??0))})`),Lt(e,S),e.intersect=function(_){return St.polygon(e,x,_)},i}D(Vj,"linedWaveEdgedRect");async function qj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=5,d=-c/2,p=-u/2,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{}),b=[{x:d-h,y:p+h},{x:d-h,y:p+u+h},{x:d+c-h,y:p+u+h},{x:d+c-h,y:p+u},{x:d+c,y:p+u},{x:d+c,y:p+u-h},{x:d+c+h,y:p+u-h},{x:d+c+h,y:p-h},{x:d+h,y:p-h},{x:d+h,y:p},{x:d,y:p},{x:d,y:p+h}],S=[{x:d,y:p+h},{x:d+c-h,y:p+h},{x:d+c-h,y:p+u},{x:d+c,y:p+u},{x:d+c,y:p},{x:d,y:p}];e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const _=te(b),T=y.path(_,x),w=te(S),E=y.path(w,{...x,fill:"none"}),M=i.insert(()=>E,":first-child");return M.insert(()=>T,":first-child"),M.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",r),o.attr("transform",`translate(${-(s.width/2)-h-(s.x-(s.left??0))}, ${-(s.height/2)+h-(s.y-(s.top??0))})`),Lt(e,M),e.intersect=function(L){return St.polygon(e,b,L)},i}D(qj,"multiRect");async function Uj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/4,d=u+h,p=-c/2,m=-d/2,y=5,{cssStyles:x}=e,b=Ts(p-y,m+d+y,p+c-y,m+d+y,h,.8),S=b?.[b.length-1],_=[{x:p-y,y:m+y},{x:p-y,y:m+d+y},...b,{x:p+c-y,y:S.y-y},{x:p+c,y:S.y-y},{x:p+c,y:S.y-2*y},{x:p+c+y,y:S.y-2*y},{x:p+c+y,y:m-y},{x:p+y,y:m-y},{x:p+y,y:m},{x:p,y:m},{x:p,y:m+y}],T=[{x:p,y:m+y},{x:p+c-y,y:m+y},{x:p+c-y,y:S.y-y},{x:p+c,y:S.y-y},{x:p+c,y:m},{x:p,y:m}],w=Mt.svg(i),E=Dt(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const M=te(_),L=w.path(M,E),N=te(T),$=w.path(N,E),z=i.insert(()=>L,":first-child");return z.insert(()=>$),z.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",x),r&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",r),z.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-(s.width/2)-y-(s.x-(s.left??0))}, ${-(s.height/2)+y-h/2-(s.y-(s.top??0))})`),Lt(e,z),e.intersect=function(P){return St.polygon(e,_,P)},i}D(Uj,"multiWaveEdgedRectangle");async function Wj(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Nt(e);e.labelStyle=r,e.useHtmlLabels||Yn().flowchart?.htmlLabels!==!1||(e.centerLabel=!0);const{shapeSvg:o,bbox:c,label:u}=await Ht(t,e,Ft(e)),h=Math.max(c.width+(e.padding??0)*2,e?.width??0),d=Math.max(c.height+(e.padding??0)*2,e?.height??0),p=-h/2,m=-d/2,{cssStyles:y}=e,x=Mt.svg(o),b=Dt(e,{fill:n.noteBkgColor,stroke:n.noteBorderColor});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const S=x.rectangle(p,m,h,d,b),_=o.insert(()=>S,":first-child");return _.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",y),i&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",i),u.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))}, ${-(c.height/2)-(c.y-(c.top??0))})`),Lt(e,_),e.intersect=function(T){return St.rect(e,T)},o}D(Wj,"note");var _ct=D((t,e,n)=>[`M${t+n/2},${e}`,`L${t+n},${e-n/2}`,`L${t+n/2},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Yj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.width+e.padding,c=s.height+e.padding,u=o+c,h=.5,d=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}];let p;const{cssStyles:m}=e;if(e.look==="handDrawn"){const y=Mt.svg(i),x=Dt(e,{}),b=_ct(0,0,u),S=y.path(b,x);p=i.insert(()=>S,":first-child").attr("transform",`translate(${-u/2+h}, ${u/2})`),m&&p.attr("style",m)}else p=Ls(i,u,u,d),p.attr("transform",`translate(${-u/2+h}, ${u/2})`);return r&&p.attr("style",r),Lt(e,p),e.calcIntersect=function(y,x){const b=y.width,S=[{x:b/2,y:0},{x:b,y:-b/2},{x:b/2,y:-b},{x:0,y:-b/2}],_=St.polygon(y,S,x);return{x:_.x-.5,y:_.y-.5}},e.intersect=function(y){return this.calcIntersect(e,y)},i}D(Yj,"question");async function Gj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0),e?.width??0),u=Math.max(s.height+(e.padding??0),e?.height??0),h=-c/2,d=-u/2,p=d/2,m=[{x:h+p,y:d},{x:h,y:0},{x:h+p,y:-d},{x:-h,y:-d},{x:-h,y:d}],{cssStyles:y}=e,x=Mt.svg(i),b=Dt(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const S=te(m),_=x.path(S,b),T=i.insert(()=>_,":first-child");return T.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",y),r&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",r),T.attr("transform",`translate(${-p/2},0)`),o.attr("transform",`translate(${-p/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Lt(e,T),e.intersect=function(w){return St.polygon(e,m,w)},i}D(Gj,"rect_left_inv_arrow");async function Xj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),o=s.insert("g"),c=s.insert("g").attr("class","label").attr("style",r),u=e.description,h=e.label,d=c.node().appendChild(await fo(h,e.labelStyle,!0,!0));let p={width:0,height:0};if(Cn(ge()?.flowchart?.htmlLabels)){const $=d.children[0],z=Wt(d);p=$.getBoundingClientRect(),z.attr("width",p.width),z.attr("height",p.height)}yt.info("Text 2",u);const m=u||[],y=d.getBBox(),x=c.node().appendChild(await fo(m.join?m.join("<br/>"):m,e.labelStyle,!0,!0)),b=x.children[0],S=Wt(x);p=b.getBoundingClientRect(),S.attr("width",p.width),S.attr("height",p.height);const _=(e.padding||0)/2;Wt(x).attr("transform","translate( "+(p.width>y.width?0:(y.width-p.width)/2)+", "+(y.height+_+5)+")"),Wt(d).attr("transform","translate( "+(p.width<y.width?0:-(y.width-p.width)/2)+", 0)"),p=c.node().getBBox(),c.attr("transform","translate("+-p.width/2+", "+(-p.height/2-_+3)+")");const T=p.width+(e.padding||0),w=p.height+(e.padding||0),E=-p.width/2-_,M=-p.height/2-_;let L,N;if(e.look==="handDrawn"){const $=Mt.svg(s),z=Dt(e,{}),P=$.path(Ns(E,M,T,w,e.rx||0),z),j=$.line(-p.width/2-_,-p.height/2-_+y.height+_,p.width/2+_,-p.height/2-_+y.height+_,z);N=s.insert(()=>(yt.debug("Rough node insert CXC",P),j),":first-child"),L=s.insert(()=>(yt.debug("Rough node insert CXC",P),P),":first-child")}else L=o.insert("rect",":first-child"),N=o.insert("line"),L.attr("class","outer title-state").attr("style",r).attr("x",-p.width/2-_).attr("y",-p.height/2-_).attr("width",p.width+(e.padding||0)).attr("height",p.height+(e.padding||0)),N.attr("class","divider").attr("x1",-p.width/2-_).attr("x2",p.width/2+_).attr("y1",-p.height/2-_+y.height+_).attr("y2",-p.height/2-_+y.height+_);return Lt(e,L),e.intersect=function($){return St.rect(e,$)},s}D(Xj,"rectWithTitle");function Pu(t,e,n,r,i,s,o){const u=(t+n)/2,h=(e+r)/2,d=Math.atan2(r-e,n-t),p=(n-t)/2,m=(r-e)/2,y=p/i,x=m/s,b=Math.sqrt(y**2+x**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const S=Math.sqrt(1-b**2),_=u+S*s*Math.sin(d)*(o?-1:1),T=h-S*i*Math.cos(d)*(o?-1:1),w=Math.atan2((e-T)/s,(t-_)/i);let M=Math.atan2((r-T)/s,(n-_)/i)-w;o&&M<0&&(M+=2*Math.PI),!o&&M>0&&(M-=2*Math.PI);const L=[];for(let N=0;N<20;N++){const $=N/19,z=w+$*M,P=_+i*Math.cos(z),j=T+s*Math.sin(z);L.push({x:P,y:j})}return L}D(Pu,"generateArcPoints");async function Zj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=e?.padding??0,c=e?.padding??0,u=(e?.width?e?.width:s.width)+o*2,h=(e?.height?e?.height:s.height)+c*2,d=e.radius||5,p=e.taper||5,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{});e.stroke&&(x.stroke=e.stroke),e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=[{x:-u/2+p,y:-h/2},{x:u/2-p,y:-h/2},...Pu(u/2-p,-h/2,u/2,-h/2+p,d,d,!0),{x:u/2,y:-h/2+p},{x:u/2,y:h/2-p},...Pu(u/2,h/2-p,u/2-p,h/2,d,d,!0),{x:u/2-p,y:h/2},{x:-u/2+p,y:h/2},...Pu(-u/2+p,h/2,-u/2,h/2-p,d,d,!0),{x:-u/2,y:h/2-p},{x:-u/2,y:-h/2+p},...Pu(-u/2,-h/2+p,-u/2+p,-h/2,d,d,!0)],S=te(b),_=y.path(S,x),T=i.insert(()=>_,":first-child");return T.attr("class","basic label-container outer-path"),m&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",r),Lt(e,T),e.intersect=function(w){return St.polygon(e,b,w)},i}D(Zj,"roundedRect");async function Kj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=e?.padding??0,u=Math.max(s.width+(e.padding??0)*2,e?.width??0),h=Math.max(s.height+(e.padding??0)*2,e?.height??0),d=-s.width/2-c,p=-s.height/2-c,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=[{x:d,y:p},{x:d+u+8,y:p},{x:d+u+8,y:p+h},{x:d-8,y:p+h},{x:d-8,y:p},{x:d,y:p},{x:d,y:p+h}],S=y.polygon(b.map(T=>[T.x,T.y]),x),_=i.insert(()=>S,":first-child");return _.attr("class","basic label-container").attr("style",Xn(m)),r&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",r),m&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",r),o.attr("transform",`translate(${-u/2+4+(e.padding??0)-(s.x-(s.left??0))},${-h/2+(e.padding??0)-(s.y-(s.top??0))})`),Lt(e,_),e.intersect=function(T){return St.rect(e,T)},i}D(Kj,"shadedProcess");async function Qj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=-c/2,d=-u/2,{cssStyles:p}=e,m=Mt.svg(i),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:h,y:d},{x:h,y:d+u},{x:h+c,y:d+u},{x:h+c,y:d-u/2}],b=te(x),S=m.path(b,y),_=i.insert(()=>S,":first-child");return _.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),_.attr("transform",`translate(0, ${u/4})`),o.attr("transform",`translate(${-c/2+(e.padding??0)-(s.x-(s.left??0))}, ${-u/4+(e.padding??0)-(s.y-(s.top??0))})`),Lt(e,_),e.intersect=function(T){return St.polygon(e,x,T)},i}D(Qj,"slopedRect");async function Jj(t,e){const n={rx:0,ry:0,labelPaddingX:e.labelPaddingX??(e?.padding||0)*2,labelPaddingY:(e?.padding||0)*1};return Mm(t,e,n)}D(Jj,"squareRect");async function t$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.height+e.padding,c=s.width+o/4+e.padding,u=o/2,{cssStyles:h}=e,d=Mt.svg(i),p=Dt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=[{x:-c/2+u,y:-o/2},{x:c/2-u,y:-o/2},...Nh(-c/2+u,0,u,50,90,270),{x:c/2-u,y:o/2},...Nh(c/2-u,0,u,50,270,450)],y=te(m),x=d.path(y,p),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container outer-path"),h&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",h),r&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",r),Lt(e,b),e.intersect=function(S){return St.polygon(e,m,S)},i}D(t$,"stadium");async function e$(t,e){return Mm(t,e,{rx:5,ry:5})}D(e$,"state");function n$(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Nt(e);e.labelStyle=r;const{cssStyles:s}=e,{lineColor:o,stateBorder:c,nodeBorder:u}=n,h=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),d=Mt.svg(h),p=Dt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=d.circle(0,0,14,{...p,stroke:o,strokeWidth:2}),y=c??u,x=d.circle(0,0,5,{...p,fill:y,stroke:y,strokeWidth:2,fillStyle:"solid"}),b=h.insert(()=>m,":first-child");return b.insert(()=>x),s&&b.selectAll("path").attr("style",s),i&&b.selectAll("path").attr("style",i),Lt(e,b),e.intersect=function(S){return St.circle(e,7,S)},h}D(n$,"stateEnd");function r$(t,e,{config:{themeVariables:n}}){const{lineColor:r}=n,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s;if(e.look==="handDrawn"){const c=Mt.svg(i).circle(0,0,14,Pit(r));s=i.insert(()=>c),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Lt(e,s),e.intersect=function(o){return St.circle(e,7,o)},i}D(r$,"stateStart");async function i$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=(e?.padding||0)/2,c=s.width+e.padding,u=s.height+e.padding,h=-s.width/2-o,d=-s.height/2-o,p=[{x:0,y:0},{x:c,y:0},{x:c,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:c+8,y:0},{x:c+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(e.look==="handDrawn"){const m=Mt.svg(i),y=Dt(e,{}),x=m.rectangle(h-8,d,c+16,u,y),b=m.line(h,d,h,d+u,y),S=m.line(h+c,d,h+c,d+u,y);i.insert(()=>b,":first-child"),i.insert(()=>S,":first-child");const _=i.insert(()=>x,":first-child"),{cssStyles:T}=e;_.attr("class","basic label-container").attr("style",Xn(T)),Lt(e,_)}else{const m=Ls(i,c,u,p);r&&m.attr("style",r),Lt(e,m)}return e.intersect=function(m){return St.polygon(e,p,m)},i}D(i$,"subroutine");async function a$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=-o/2,h=-c/2,d=.2*c,p=.2*c,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{}),b=[{x:u-d/2,y:h},{x:u+o+d/2,y:h},{x:u+o+d/2,y:h+c},{x:u-d/2,y:h+c}],S=[{x:u+o-d/2,y:h+c},{x:u+o+d/2,y:h+c},{x:u+o+d/2,y:h+c-p}];e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const _=te(b),T=y.path(_,x),w=te(S),E=y.path(w,{...x,fillStyle:"solid"}),M=i.insert(()=>E,":first-child");return M.insert(()=>T,":first-child"),M.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",r),Lt(e,M),e.intersect=function(L){return St.polygon(e,b,L)},i}D(a$,"taggedRect");async function s$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/4,d=.2*c,p=.2*u,m=u+h,{cssStyles:y}=e,x=Mt.svg(i),b=Dt(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const S=[{x:-c/2-c/2*.1,y:m/2},...Ts(-c/2-c/2*.1,m/2,c/2+c/2*.1,m/2,h,.8),{x:c/2+c/2*.1,y:-m/2},{x:-c/2-c/2*.1,y:-m/2}],_=-c/2+c/2*.1,T=-m/2-p*.4,w=[{x:_+c-d,y:(T+u)*1.4},{x:_+c,y:T+u-p},{x:_+c,y:(T+u)*.9},...Ts(_+c,(T+u)*1.3,_+c-d,(T+u)*1.5,-u*.03,.5)],E=te(S),M=x.path(E,b),L=te(w),N=x.path(L,{...b,fillStyle:"solid"}),$=i.insert(()=>N,":first-child");return $.insert(()=>M,":first-child"),$.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",y),r&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",r),$.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-c/2+(e.padding??0)-(s.x-(s.left??0))},${-u/2+(e.padding??0)-h/2-(s.y-(s.top??0))})`),Lt(e,$),e.intersect=function(z){return St.polygon(e,S,z)},i}D(s$,"taggedWaveEdgedRectangle");async function o$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=Math.max(s.width+e.padding,e?.width||0),c=Math.max(s.height+e.padding,e?.height||0),u=-o/2,h=-c/2,d=i.insert("rect",":first-child");return d.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",u).attr("y",h).attr("width",o).attr("height",c),Lt(e,d),e.intersect=function(p){return St.rect(e,p)},i}D(o$,"text");var kct=D((t,e,n,r,i,s)=>`M${t},${e}
    a${i},${s} 0,0,1 0,${-r}
    l${n},0
    a${i},${s} 0,0,1 0,${r}
    M${n},${-r}
    a${i},${s} 0,0,0 0,${r}
    l${-n},0`,"createCylinderPathD"),Tct=D((t,e,n,r,i,s)=>[`M${t},${e}`,`M${t+n},${e}`,`a${i},${s} 0,0,0 0,${-r}`,`l${-n},0`,`a${i},${s} 0,0,0 0,${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),Ect=D((t,e,n,r,i,s)=>[`M${t+n/2},${-r/2}`,`a${i},${s} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function l$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o,halfPadding:c}=await Ht(t,e,Ft(e)),u=e.look==="neo"?c*2:c,h=s.height+u,d=h/2,p=d/(2.5+h/50),m=s.width+p+u,{cssStyles:y}=e;let x;if(e.look==="handDrawn"){const b=Mt.svg(i),S=Tct(0,0,m,h,p,d),_=Ect(0,0,m,h,p,d),T=b.path(S,Dt(e,{})),w=b.path(_,Dt(e,{fill:"none"}));x=i.insert(()=>w,":first-child"),x=i.insert(()=>T,":first-child"),x.attr("class","basic label-container"),y&&x.attr("style",y)}else{const b=kct(0,0,m,h,p,d);x=i.insert("path",":first-child").attr("d",b).attr("class","basic label-container").attr("style",Xn(y)).attr("style",r),x.attr("class","basic label-container"),y&&x.selectAll("path").attr("style",y),r&&x.selectAll("path").attr("style",r)}return x.attr("label-offset-x",p),x.attr("transform",`translate(${-m/2}, ${h/2} )`),o.attr("transform",`translate(${-(s.width/2)-p-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Lt(e,x),e.intersect=function(b){const S=St.rect(e,b),_=S.y-(e.y??0);if(d!=0&&(Math.abs(_)<(e.height??0)/2||Math.abs(_)==(e.height??0)/2&&Math.abs(S.x-(e.x??0))>(e.width??0)/2-p)){let T=p*p*(1-_*_/(d*d));T!=0&&(T=Math.sqrt(Math.abs(T))),T=p-T,b.x-(e.x??0)>0&&(T=-T),S.x+=T}return S},i}D(l$,"tiltedCylinder");async function c$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.width+e.padding,c=s.height+e.padding,u=[{x:-3*c/6,y:0},{x:o+3*c/6,y:0},{x:o,y:-c},{x:0,y:-c}];let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=Mt.svg(i),m=Dt(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${c/2})`),d&&h.attr("style",d)}else h=Ls(i,o,c,u);return r&&h.attr("style",r),e.width=o,e.height=c,Lt(e,h),e.intersect=function(p){return St.polygon(e,u,p)},i}D(c$,"trapezoid");async function u$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=60,c=20,u=Math.max(o,s.width+(e.padding??0)*2,e?.width??0),h=Math.max(c,s.height+(e.padding??0)*2,e?.height??0),{cssStyles:d}=e,p=Mt.svg(i),m=Dt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-u/2*.8,y:-h/2},{x:u/2*.8,y:-h/2},{x:u/2,y:-h/2*.6},{x:u/2,y:h/2},{x:-u/2,y:h/2},{x:-u/2,y:-h/2*.6}],x=te(y),b=p.path(x,m),S=i.insert(()=>b,":first-child");return S.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",d),r&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",r),Lt(e,S),e.intersect=function(_){return St.polygon(e,y,_)},i}D(u$,"trapezoidalPentagon");async function h$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Cn(ge().flowchart?.htmlLabels),u=s.width+(e.padding??0),h=u+s.height,d=u+s.height,p=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-h}],{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=te(p),S=y.path(b,x),_=i.insert(()=>S,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return m&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),e.width=u,e.height=h,Lt(e,_),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${h/2-(s.height+(e.padding??0)/(c?2:1)-(s.y-(s.top??0)))})`),e.intersect=function(T){return yt.info("Triangle intersect",e,p,T),St.polygon(e,p,T)},i}D(h$,"triangle");async function d$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/8,d=u+h,{cssStyles:p}=e,y=70-c,x=y>0?y/2:0,b=Mt.svg(i),S=Dt(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const _=[{x:-c/2-x,y:d/2},...Ts(-c/2-x,d/2,c/2+x,d/2,h,.8),{x:c/2+x,y:-d/2},{x:-c/2-x,y:-d/2}],T=te(_),w=b.path(T,S),E=i.insert(()=>w,":first-child");return E.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-c/2+(e.padding??0)-(s.x-(s.left??0))},${-u/2+(e.padding??0)-h-(s.y-(s.top??0))})`),Lt(e,E),e.intersect=function(M){return St.polygon(e,_,M)},i}D(d$,"waveEdgedRectangle");async function f$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=100,c=50,u=Math.max(s.width+(e.padding??0)*2,e?.width??0),h=Math.max(s.height+(e.padding??0)*2,e?.height??0),d=u/h;let p=u,m=h;p>m*d?m=p/d:p=m*d,p=Math.max(p,o),m=Math.max(m,c);const y=Math.min(m*.2,m/4),x=m+y*2,{cssStyles:b}=e,S=Mt.svg(i),_=Dt(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const T=[{x:-p/2,y:x/2},...Ts(-p/2,x/2,p/2,x/2,y,1),{x:p/2,y:-x/2},...Ts(p/2,-x/2,-p/2,-x/2,y,-1)],w=te(T),E=S.path(w,_),M=i.insert(()=>E,":first-child");return M.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",b),r&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",r),Lt(e,M),e.intersect=function(L){return St.polygon(e,T,L)},i}D(f$,"waveRectangle");async function p$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=5,d=-c/2,p=-u/2,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{}),b=[{x:d-h,y:p-h},{x:d-h,y:p+u},{x:d+c,y:p+u},{x:d+c,y:p-h}],S=`M${d-h},${p-h} L${d+c},${p-h} L${d+c},${p+u} L${d-h},${p+u} L${d-h},${p-h}
                M${d-h},${p} L${d+c},${p}
                M${d},${p-h} L${d},${p+u}`;e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const _=y.path(S,x),T=i.insert(()=>_,":first-child");return T.attr("transform",`translate(${h/2}, ${h/2})`),T.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",r),o.attr("transform",`translate(${-(s.width/2)+h/2-(s.x-(s.left??0))}, ${-(s.height/2)+h/2-(s.y-(s.top??0))})`),Lt(e,T),e.intersect=function(w){return St.polygon(e,b,w)},i}D(p$,"windowPane");async function F2(t,e){const n=e;if(n.alias&&(e.label=n.alias),e.look==="handDrawn"){const{themeVariables:V}=Yn(),{background:K}=V,et={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${K}`]};await F2(t,et)}const r=Yn();e.useHtmlLabels=r.htmlLabels;let i=r.er?.diagramPadding??10,s=r.er?.entityPadding??6;const{cssStyles:o}=e,{labelStyles:c,nodeStyles:u}=Nt(e);if(n.attributes.length===0&&e.label){const V={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};Ma(e.label,r)+V.labelPaddingX*2<r.er.minEntityWidth&&(e.width=r.er.minEntityWidth);const K=await Mm(t,e,V);if(!Cn(r.htmlLabels)){const et=K.select("text"),X=et.node()?.getBBox();et.attr("transform",`translate(${-X.width/2}, 0)`)}return K}r.htmlLabels||(i*=1.25,s*=1.25);let h=Ft(e);h||(h="node default");const d=t.insert("g").attr("class",h).attr("id",e.domId||e.id),p=await Ml(d,e.label??"",r,0,0,["name"],c);p.height+=s;let m=0;const y=[],x=[];let b=0,S=0,_=0,T=0,w=!0,E=!0;for(const V of n.attributes){const K=await Ml(d,V.type,r,0,m,["attribute-type"],c);b=Math.max(b,K.width+i);const et=await Ml(d,V.name,r,0,m,["attribute-name"],c);S=Math.max(S,et.width+i);const X=await Ml(d,V.keys.join(),r,0,m,["attribute-keys"],c);_=Math.max(_,X.width+i);const Q=await Ml(d,V.comment,r,0,m,["attribute-comment"],c);T=Math.max(T,Q.width+i);const tt=Math.max(K.height,et.height,X.height,Q.height)+s;x.push({yOffset:m,rowHeight:tt}),m+=tt}let M=4;_<=i&&(w=!1,_=0,M--),T<=i&&(E=!1,T=0,M--);const L=d.node().getBBox();if(p.width+i*2-(b+S+_+T)>0){const V=p.width+i*2-(b+S+_+T);b+=V/M,S+=V/M,_>0&&(_+=V/M),T>0&&(T+=V/M)}const N=b+S+_+T,$=Mt.svg(d),z=Dt(e,{});e.look!=="handDrawn"&&(z.roughness=0,z.fillStyle="solid");let P=0;x.length>0&&(P=x.reduce((V,K)=>V+(K?.rowHeight??0),0));const j=Math.max(L.width+i*2,e?.width||0,N),W=Math.max((P??0)+p.height,e?.height||0),G=-j/2,B=-W/2;d.selectAll("g:not(:first-child)").each((V,K,et)=>{const X=Wt(et[K]),Q=X.attr("transform");let tt=0,at=0;if(Q){const pt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Q);pt&&(tt=parseFloat(pt[1]),at=parseFloat(pt[2]),X.attr("class").includes("attribute-name")?tt+=b:X.attr("class").includes("attribute-keys")?tt+=b+S:X.attr("class").includes("attribute-comment")&&(tt+=b+S+_))}X.attr("transform",`translate(${G+i/2+tt}, ${at+B+p.height+s/2})`)}),d.select(".name").attr("transform","translate("+-p.width/2+", "+(B+s/2)+")");const H=$.rectangle(G,B,j,W,z),R=d.insert(()=>H,":first-child").attr("style",o.join("")),{themeVariables:I}=Yn(),{rowEven:U,rowOdd:Z,nodeBorder:nt}=I;y.push(0);for(const[V,K]of x.entries()){const X=(V+1)%2===0&&K.yOffset!==0,Q=$.rectangle(G,p.height+B+K?.yOffset,j,K?.rowHeight,{...z,fill:X?U:Z,stroke:nt});d.insert(()=>Q,"g.label").attr("style",o.join("")).attr("class",`row-rect-${X?"even":"odd"}`)}let q=$.line(G,p.height+B,j+G,p.height+B,z);d.insert(()=>q).attr("class","divider"),q=$.line(b+G,p.height+B,b+G,W+B,z),d.insert(()=>q).attr("class","divider"),w&&(q=$.line(b+S+G,p.height+B,b+S+G,W+B,z),d.insert(()=>q).attr("class","divider")),E&&(q=$.line(b+S+_+G,p.height+B,b+S+_+G,W+B,z),d.insert(()=>q).attr("class","divider"));for(const V of y)q=$.line(G,p.height+B+V,j+G,p.height+B+V,z),d.insert(()=>q).attr("class","divider");if(Lt(e,R),u&&e.look!=="handDrawn"){const K=u.split(";")?.filter(et=>et.includes("stroke"))?.map(et=>`${et}`).join("; ");d.selectAll("path").attr("style",K??""),d.selectAll(".row-rect-even path").attr("style",u)}return e.intersect=function(V){return St.rect(e,V)},d}D(F2,"erBox");async function Ml(t,e,n,r=0,i=0,s=[],o=""){const c=t.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${r}, ${i})`).attr("style",o);e!==fA(e)&&(e=fA(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const u=c.node().appendChild(await Ds(c,e,{width:Ma(e,n)+100,style:o,useHtmlLabels:n.htmlLabels},n));if(e.includes("&lt;")||e.includes("&gt;")){let d=u.children[0];for(d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");d.childNodes[0];)d=d.childNodes[0],d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let h=u.getBBox();if(Cn(n.htmlLabels)){const d=u.children[0];d.style.textAlign="start";const p=Wt(u);h=d.getBoundingClientRect(),p.attr("width",h.width),p.attr("height",h.height)}return h}D(Ml,"addText");async function g$(t,e,n,r,i=n.class.padding??12){const s=r?0:3,o=t.insert("g").attr("class",Ft(e)).attr("id",e.domId||e.id);let c=null,u=null,h=null,d=null,p=0,m=0,y=0;if(c=o.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const T=e.annotations[0];await Fu(c,{text:`${T}`},0),p=c.node().getBBox().height}u=o.insert("g").attr("class","label-group text"),await Fu(u,e,0,["font-weight: bolder"]);const x=u.node().getBBox();m=x.height,h=o.insert("g").attr("class","members-group text");let b=0;for(const T of e.members){const w=await Fu(h,T,b,[T.parseClassifier()]);b+=w+s}y=h.node().getBBox().height,y<=0&&(y=i/2),d=o.insert("g").attr("class","methods-group text");let S=0;for(const T of e.methods){const w=await Fu(d,T,S,[T.parseClassifier()]);S+=w+s}let _=o.node().getBBox();if(c!==null){const T=c.node().getBBox();c.attr("transform",`translate(${-T.width/2})`)}return u.attr("transform",`translate(${-x.width/2}, ${p})`),_=o.node().getBBox(),h.attr("transform",`translate(0, ${p+m+i*2})`),_=o.node().getBBox(),d.attr("transform",`translate(0, ${p+m+(y?y+i*4:i*2)})`),_=o.node().getBBox(),{shapeSvg:o,bbox:_}}D(g$,"textHelper");async function Fu(t,e,n,r=[]){const i=t.insert("g").attr("class","label").attr("style",r.join("; ")),s=Yn();let o="useHtmlLabels"in e?e.useHtmlLabels:Cn(s.htmlLabels)??!0,c="";"text"in e?c=e.text:c=e.label,!o&&c.startsWith("\\")&&(c=c.substring(1)),cc(c)&&(o=!0);const u=await Ds(i,r2(Ro(c)),{width:Ma(c,s)+50,classes:"markdown-node-label",useHtmlLabels:o},s);let h,d=1;if(o){const p=u.children[0],m=Wt(u);d=p.innerHTML.split("<br>").length,p.innerHTML.includes("</math>")&&(d+=p.innerHTML.split("<mrow>").length-1);const y=p.getElementsByTagName("img");if(y){const x=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(b=>new Promise(S=>{function _(){if(b.style.display="flex",b.style.flexDirection="column",x){const T=s.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,E=parseInt(T,10)*5+"px";b.style.minWidth=E,b.style.maxWidth=E}else b.style.width="100%";S(b)}D(_,"setupImage"),setTimeout(()=>{b.complete&&_()}),b.addEventListener("error",_),b.addEventListener("load",_)})))}h=p.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}else{r.includes("font-weight: bolder")&&Wt(u).selectAll("tspan").attr("font-weight",""),d=u.children.length;const p=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(p.textContent=c[0]+c.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),c[1]===" "&&(p.textContent=p.textContent[0]+" "+p.textContent.substring(1))),p.textContent==="undefined"&&(p.textContent=""),h=u.getBBox()}return i.attr("transform","translate(0,"+(-h.height/(2*d)+n)+")"),h.height}D(Fu,"addText");async function m$(t,e){const n=ge(),r=n.class.padding??12,i=r,s=e.useHtmlLabels??Cn(n.htmlLabels)??!0,o=e;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:c,bbox:u}=await g$(t,e,n,s,i),{labelStyles:h,nodeStyles:d}=Nt(e);e.labelStyle=h,e.cssStyles=o.styles||"";const p=o.styles?.join(";")||d||"";e.cssStyles||(e.cssStyles=p.replaceAll("!important","").split(";"));const m=o.members.length===0&&o.methods.length===0&&!n.class?.hideEmptyMembersBox,y=Mt.svg(c),x=Dt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=u.width;let S=u.height;o.members.length===0&&o.methods.length===0?S+=i:o.members.length>0&&o.methods.length===0&&(S+=i*2);const _=-b/2,T=-S/2,w=y.rectangle(_-r,T-r-(m?r:o.members.length===0&&o.methods.length===0?-r/2:0),b+2*r,S+2*r+(m?r*2:o.members.length===0&&o.methods.length===0?-r:0),x),E=c.insert(()=>w,":first-child");E.attr("class","basic label-container");const M=E.node().getBBox();c.selectAll(".text").each((z,P,j)=>{const W=Wt(j[P]),G=W.attr("transform");let B=0;if(G){const U=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(G);U&&(B=parseFloat(U[2]))}let H=B+T+r-(m?r:o.members.length===0&&o.methods.length===0?-r/2:0);s||(H-=4);let R=_;(W.attr("class").includes("label-group")||W.attr("class").includes("annotation-group"))&&(R=-W.node()?.getBBox().width/2||0,c.selectAll("text").each(function(I,U,Z){window.getComputedStyle(Z[U]).textAnchor==="middle"&&(R=0)})),W.attr("transform",`translate(${R}, ${H})`)});const L=c.select(".annotation-group").node().getBBox().height-(m?r/2:0)||0,N=c.select(".label-group").node().getBBox().height-(m?r/2:0)||0,$=c.select(".members-group").node().getBBox().height-(m?r/2:0)||0;if(o.members.length>0||o.methods.length>0||m){const z=y.line(M.x,L+N+T+r,M.x+M.width,L+N+T+r,x);c.insert(()=>z).attr("class","divider").attr("style",p)}if(m||o.members.length>0||o.methods.length>0){const z=y.line(M.x,L+N+$+T+i*2+r,M.x+M.width,L+N+$+T+r+i*2,x);c.insert(()=>z).attr("class","divider").attr("style",p)}if(o.look!=="handDrawn"&&c.selectAll("path").attr("style",p),E.select(":nth-child(2)").attr("style",p),c.selectAll(".divider").select("path").attr("style",p),e.labelStyle?c.selectAll("span").attr("style",e.labelStyle):c.selectAll("span").attr("style",p),!s){const z=RegExp(/color\s*:\s*([^;]*)/),P=z.exec(p);if(P){const j=P[0].replace("color","fill");c.selectAll("tspan").attr("style",j)}else if(h){const j=z.exec(h);if(j){const W=j[0].replace("color","fill");c.selectAll("tspan").attr("style",W)}}}return Lt(e,E),e.intersect=function(z){return St.rect(e,z)},c}D(m$,"classBox");async function y$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const i=e,s=e,o=20,c=20,u="verifyMethod"in e,h=Ft(e),d=t.insert("g").attr("class",h).attr("id",e.domId??e.id);let p;u?p=await $i(d,`&lt;&lt;${i.type}&gt;&gt;`,0,e.labelStyle):p=await $i(d,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let m=p;const y=await $i(d,i.name,m,e.labelStyle+"; font-weight: bold;");if(m+=y+c,u){const L=await $i(d,`${i.requirementId?`ID: ${i.requirementId}`:""}`,m,e.labelStyle);m+=L;const N=await $i(d,`${i.text?`Text: ${i.text}`:""}`,m,e.labelStyle);m+=N;const $=await $i(d,`${i.risk?`Risk: ${i.risk}`:""}`,m,e.labelStyle);m+=$,await $i(d,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,m,e.labelStyle)}else{const L=await $i(d,`${s.type?`Type: ${s.type}`:""}`,m,e.labelStyle);m+=L,await $i(d,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,m,e.labelStyle)}const x=(d.node()?.getBBox().width??200)+o,b=(d.node()?.getBBox().height??200)+o,S=-x/2,_=-b/2,T=Mt.svg(d),w=Dt(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=T.rectangle(S,_,x,b,w),M=d.insert(()=>E,":first-child");if(M.attr("class","basic label-container").attr("style",r),d.selectAll(".label").each((L,N,$)=>{const z=Wt($[N]),P=z.attr("transform");let j=0,W=0;if(P){const R=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(P);R&&(j=parseFloat(R[1]),W=parseFloat(R[2]))}const G=W-b/2;let B=S+o/2;(N===0||N===1)&&(B=j),z.attr("transform",`translate(${B}, ${G+o})`)}),m>p+y+c){const L=T.line(S,_+p+y+c,S+x,_+p+y+c,w);d.insert(()=>L).attr("style",r)}return Lt(e,M),e.intersect=function(L){return St.rect(e,L)},d}D(y$,"requirementBox");async function $i(t,e,n,r=""){if(e==="")return 0;const i=t.insert("g").attr("class","label").attr("style",r),s=ge(),o=s.htmlLabels??!0,c=await Ds(i,r2(Ro(e)),{width:Ma(e,s)+50,classes:"markdown-node-label",useHtmlLabels:o,style:r},s);let u;if(o){const h=c.children[0],d=Wt(c);u=h.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}else{const h=c.children[0];for(const d of h.children)d.textContent=d.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),r&&d.setAttribute("style",r);u=c.getBBox(),u.height+=6}return i.attr("transform",`translate(${-u.width/2},${-u.height/2+n})`),u.height}D($i,"addText");var Act=D(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function x$(t,e,{config:n}){const{labelStyles:r,nodeStyles:i}=Nt(e);e.labelStyle=r||"";const s=10,o=e.width;e.width=(e.width??200)-10;const{shapeSvg:c,bbox:u,label:h}=await Ht(t,e,Ft(e)),d=e.padding||10;let p="",m;"ticket"in e&&e.ticket&&n?.kanban?.ticketBaseUrl&&(p=n?.kanban?.ticketBaseUrl.replace("#TICKET#",e.ticket),m=c.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",p).attr("target","_blank"));const y={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let x,b;m?{label:x,bbox:b}=await rb(m,"ticket"in e&&e.ticket||"",y):{label:x,bbox:b}=await rb(c,"ticket"in e&&e.ticket||"",y);const{label:S,bbox:_}=await rb(c,"assigned"in e&&e.assigned||"",y);e.width=o;const T=10,w=e?.width||0,E=Math.max(b.height,_.height)/2,M=Math.max(u.height+T*2,e?.height||0)+E,L=-w/2,N=-M/2;h.attr("transform","translate("+(d-w/2)+", "+(-E-u.height/2)+")"),x.attr("transform","translate("+(d-w/2)+", "+(-E+u.height/2)+")"),S.attr("transform","translate("+(d+w/2-_.width-2*s)+", "+(-E+u.height/2)+")");let $;const{rx:z,ry:P}=e,{cssStyles:j}=e;if(e.look==="handDrawn"){const W=Mt.svg(c),G=Dt(e,{}),B=z||P?W.path(Ns(L,N,w,M,z||0),G):W.rectangle(L,N,w,M,G);$=c.insert(()=>B,":first-child"),$.attr("class","basic label-container").attr("style",j||null)}else{$=c.insert("rect",":first-child"),$.attr("class","basic label-container __APA__").attr("style",i).attr("rx",z??5).attr("ry",P??5).attr("x",L).attr("y",N).attr("width",w).attr("height",M);const W="priority"in e&&e.priority;if(W){const G=c.append("line"),B=L+2,H=N+Math.floor((z??0)/2),R=N+M-Math.floor((z??0)/2);G.attr("x1",B).attr("y1",H).attr("x2",B).attr("y2",R).attr("stroke-width","4").attr("stroke",Act(W))}}return Lt(e,$),e.height=M,e.intersect=function(W){return St.rect(e,W)},c}D(x$,"kanbanItem");async function b$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o,label:c}=await Ht(t,e,Ft(e)),u=s.width+10*o,h=s.height+8*o,d=.15*u,{cssStyles:p}=e,m=s.width+20,y=s.height+20,x=Math.max(u,m),b=Math.max(h,y);c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let S;const _=`M0 0 
    a${d},${d} 1 0,0 ${x*.25},${-1*b*.1}
    a${d},${d} 1 0,0 ${x*.25},0
    a${d},${d} 1 0,0 ${x*.25},0
    a${d},${d} 1 0,0 ${x*.25},${b*.1}

    a${d},${d} 1 0,0 ${x*.15},${b*.33}
    a${d*.8},${d*.8} 1 0,0 0,${b*.34}
    a${d},${d} 1 0,0 ${-1*x*.15},${b*.33}

    a${d},${d} 1 0,0 ${-1*x*.25},${b*.15}
    a${d},${d} 1 0,0 ${-1*x*.25},0
    a${d},${d} 1 0,0 ${-1*x*.25},0
    a${d},${d} 1 0,0 ${-1*x*.25},${-1*b*.15}

    a${d},${d} 1 0,0 ${-1*x*.1},${-1*b*.33}
    a${d*.8},${d*.8} 1 0,0 0,${-1*b*.34}
    a${d},${d} 1 0,0 ${x*.1},${-1*b*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const T=Mt.svg(i),w=Dt(e,{}),E=T.path(_,w);S=i.insert(()=>E,":first-child"),S.attr("class","basic label-container").attr("style",Xn(p))}else S=i.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",_);return S.attr("transform",`translate(${-x/2}, ${-b/2})`),Lt(e,S),e.calcIntersect=function(T,w){return St.rect(T,w)},e.intersect=function(T){return yt.info("Bang intersect",e,T),St.rect(e,T)},i}D(b$,"bang");async function v$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o,label:c}=await Ht(t,e,Ft(e)),u=s.width+2*o,h=s.height+2*o,d=.15*u,p=.25*u,m=.35*u,y=.2*u,{cssStyles:x}=e;let b;const S=`M0 0 
    a${d},${d} 0 0,1 ${u*.25},${-1*u*.1}
    a${m},${m} 1 0,1 ${u*.4},${-1*u*.1}
    a${p},${p} 1 0,1 ${u*.35},${u*.2}

    a${d},${d} 1 0,1 ${u*.15},${h*.35}
    a${y},${y} 1 0,1 ${-1*u*.15},${h*.65}

    a${p},${d} 1 0,1 ${-1*u*.25},${u*.15}
    a${m},${m} 1 0,1 ${-1*u*.5},0
    a${d},${d} 1 0,1 ${-1*u*.25},${-1*u*.15}

    a${d},${d} 1 0,1 ${-1*u*.1},${-1*h*.35}
    a${y},${y} 1 0,1 ${u*.1},${-1*h*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const _=Mt.svg(i),T=Dt(e,{}),w=_.path(S,T);b=i.insert(()=>w,":first-child"),b.attr("class","basic label-container").attr("style",Xn(x))}else b=i.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",S);return c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),b.attr("transform",`translate(${-u/2}, ${-h/2})`),Lt(e,b),e.calcIntersect=function(_,T){return St.rect(_,T)},e.intersect=function(_){return yt.info("Cloud intersect",e,_),St.rect(e,_)},i}D(v$,"cloud");async function w$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o,label:c}=await Ht(t,e,Ft(e)),u=s.width+8*o,h=s.height+2*o,d=5,p=`
    M${-u/2} ${h/2-d}
    v${-h+2*d}
    q0,-${d} ${d},-${d}
    h${u-2*d}
    q${d},0 ${d},${d}
    v${h-2*d}
    q0,${d} -${d},${d}
    h${-u+2*d}
    q-${d},0 -${d},-${d}
    Z
  `,m=i.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",r).attr("d",p);return i.append("line").attr("class","node-line-").attr("x1",-u/2).attr("y1",h/2).attr("x2",u/2).attr("y2",h/2),c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>c.node()),Lt(e,m),e.calcIntersect=function(y,x){return St.rect(y,x)},e.intersect=function(y){return St.rect(e,y)},i}D(w$,"defaultMindmapNode");async function S$(t,e){const n={padding:e.padding??0};return P2(t,e,n)}D(S$,"mindmapCircle");var Mct=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Jj},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Zj},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:t$},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:i$},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:Cj},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:P2},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:b$},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:v$},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Yj},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:Dj},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Fj},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Pj},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:c$},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:$j},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:kj},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:o$},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:gj},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Kj},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:r$},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:n$},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Aj},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Nj},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:bj},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:vj},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:wj},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Ij},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:d$},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Mj},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:l$},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:Hj},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Sj},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:_j},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:h$},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:p$},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:Tj},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:u$},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Ej},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Qj},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Uj},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:qj},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:pj},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:xj},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:s$},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:a$},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:f$},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Gj},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:Vj}],Dct=D(()=>{const e=[...Object.entries({state:e$,choice:mj,note:Wj,rectWithTitle:Xj,labelRect:zj,iconSquare:Bj,iconCircle:Oj,icon:Lj,iconRounded:Rj,imageSquare:jj,anchor:fj,kanbanItem:x$,mindmapCircle:S$,defaultMindmapNode:w$,classBox:m$,erBox:F2,requirementBox:y$}),...Mct.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(i=>[i,n.handler]))];return Object.fromEntries(e)},"generateShapeMap"),C$=Dct();function Nct(t){return t in C$}D(Nct,"isValidShape");var Dm=new Map;async function _$(t,e,n){let r,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const s=e.shape?C$[e.shape]:void 0;if(!s)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let o;n.config.securityLevel==="sandbox"?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o??null),i=await s(r,e,n)}else i=await s(t,e,n),r=i;return e.tooltip&&i.attr("title",e.tooltip),Dm.set(e.id,r),e.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}D(_$,"insertNode");var Jft=D((t,e)=>{Dm.set(e.id,t)},"setNodeElem"),tpt=D(()=>{Dm.clear()},"clear"),ept=D(t=>{const e=Dm.get(t.id);yt.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode"),Lct=D((t,e,n,r,i,s)=>{e.arrowTypeStart&&sM(t,"start",e.arrowTypeStart,n,r,i,s),e.arrowTypeEnd&&sM(t,"end",e.arrowTypeEnd,n,r,i,s)},"addEdgeMarkers"),Oct={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},sM=D((t,e,n,r,i,s,o)=>{const c=Oct[n];if(!c){yt.warn(`Unknown arrow type: ${n}`);return}const u=c.type,d=`${i}_${s}-${u}${e==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const p=o.replace(/[^\dA-Za-z]/g,"_"),m=`${d}_${p}`;if(!document.getElementById(m)){const y=document.getElementById(d);if(y){const x=y.cloneNode(!0);x.id=m,x.querySelectorAll("path, circle, line").forEach(S=>{S.setAttribute("stroke",o),c.fill&&S.setAttribute("fill",o)}),y.parentNode?.appendChild(x)}}t.attr(`marker-${e}`,`url(${r}#${m})`)}else t.attr(`marker-${e}`,`url(${r}#${d})`)},"addEdgeMarker"),Ng=new Map,Pn=new Map,npt=D(()=>{Ng.clear(),Pn.clear()},"clear"),np=D(t=>t?t.reduce((n,r)=>n+";"+r,""):"","getLabelStyles"),Rct=D(async(t,e)=>{let n=Cn(ge().flowchart.htmlLabels);const{labelStyles:r}=Nt(e);e.labelStyle=r;const i=await Ds(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});yt.info("abc82",e,e.labelType);const s=t.insert("g").attr("class","edgeLabel"),o=s.insert("g").attr("class","label").attr("data-id",e.id);o.node().appendChild(i);let c=i.getBBox();if(n){const h=i.children[0],d=Wt(i);c=h.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),Ng.set(e.id,s),e.width=c.width,e.height=c.height;let u;if(e.startLabelLeft){const h=await fo(e.startLabelLeft,np(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),Pn.get(e.id)||Pn.set(e.id,{}),Pn.get(e.id).startLeft=d,Iu(u,e.startLabelLeft)}if(e.startLabelRight){const h=await fo(e.startLabelRight,np(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=d.node().appendChild(h),p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),Pn.get(e.id)||Pn.set(e.id,{}),Pn.get(e.id).startRight=d,Iu(u,e.startLabelRight)}if(e.endLabelLeft){const h=await fo(e.endLabelLeft,np(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),d.node().appendChild(h),Pn.get(e.id)||Pn.set(e.id,{}),Pn.get(e.id).endLeft=d,Iu(u,e.endLabelLeft)}if(e.endLabelRight){const h=await fo(e.endLabelRight,np(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),d.node().appendChild(h),Pn.get(e.id)||Pn.set(e.id,{}),Pn.get(e.id).endRight=d,Iu(u,e.endLabelRight)}return i},"insertEdgeLabel");function Iu(t,e){ge().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}D(Iu,"setTerminalWidth");var Bct=D((t,e)=>{yt.debug("Moving label abc88 ",t.id,t.label,Ng.get(t.id),e);let n=e.updatedPath?e.updatedPath:e.originalPath;const r=ge(),{subGraphTitleTotalMargin:i}=m2(r);if(t.label){const s=Ng.get(t.id);let o=t.x,c=t.y;if(n){const u=yi.calcLabelPosition(n);yt.debug("Moving label "+t.label+" from (",o,",",c,") to (",u.x,",",u.y,") abc88"),e.updatedPath&&(o=u.x,c=u.y)}s.attr("transform",`translate(${o}, ${c+i/2})`)}if(t.startLabelLeft){const s=Pn.get(t.id).startLeft;let o=t.x,c=t.y;if(n){const u=yi.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);o=u.x,c=u.y}s.attr("transform",`translate(${o}, ${c})`)}if(t.startLabelRight){const s=Pn.get(t.id).startRight;let o=t.x,c=t.y;if(n){const u=yi.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);o=u.x,c=u.y}s.attr("transform",`translate(${o}, ${c})`)}if(t.endLabelLeft){const s=Pn.get(t.id).endLeft;let o=t.x,c=t.y;if(n){const u=yi.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);o=u.x,c=u.y}s.attr("transform",`translate(${o}, ${c})`)}if(t.endLabelRight){const s=Pn.get(t.id).endRight;let o=t.x,c=t.y;if(n){const u=yi.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);o=u.x,c=u.y}s.attr("transform",`translate(${o}, ${c})`)}},"positionEdgeLabel"),jct=D((t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),s=Math.abs(e.y-r),o=t.width/2,c=t.height/2;return i>=o||s>=c},"outsideNode"),$ct=D((t,e,n)=>{yt.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,s=Math.abs(r-n.x),o=t.width/2;let c=n.x<e.x?o-s:o+s;const u=t.height/2,h=Math.abs(e.y-n.y),d=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*o>Math.abs(r-e.x)*u){let p=n.y<e.y?e.y-u-i:i-u-e.y;c=d*p/h;const m={x:n.x<e.x?n.x+c:n.x-d+c,y:n.y<e.y?n.y+h-p:n.y-h+p};return c===0&&(m.x=e.x,m.y=e.y),d===0&&(m.x=e.x),h===0&&(m.y=e.y),yt.debug(`abc89 top/bottom calc, Q ${h}, q ${p}, R ${d}, r ${c}`,m),m}else{n.x<e.x?c=e.x-o-r:c=r-o-e.x;let p=h*c/d,m=n.x<e.x?n.x+d-c:n.x-d+c,y=n.y<e.y?n.y+p:n.y-p;return yt.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${c}`,{_x:m,_y:y}),c===0&&(m=e.x,y=e.y),d===0&&(m=e.x),h===0&&(y=e.y),{x:m,y}}},"intersection"),oM=D((t,e)=>{yt.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach(s=>{if(yt.info("abc88 checking point",s,e),!jct(e,s)&&!i){const o=$ct(e,r,s);yt.debug("abc88 inside",s,r,o),yt.debug("abc88 intersection",o,e);let c=!1;n.forEach(u=>{c=c||u.x===o.x&&u.y===o.y}),n.some(u=>u.x===o.x&&u.y===o.y)?yt.warn("abc88 no intersect",o,n):n.push(o),i=!0}else yt.warn("abc88 outside",s,r),r=s,i||n.push(s)}),yt.debug("returning points",n),n},"cutPathAtIntersect");function k$(t){const e=[],n=[];for(let r=1;r<t.length-1;r++){const i=t[r-1],s=t[r],o=t[r+1];(i.x===s.x&&s.y===o.y&&Math.abs(s.x-o.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===o.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-o.y)>5)&&(e.push(s),n.push(r))}return{cornerPoints:e,cornerPointPositions:n}}D(k$,"extractCornerPoints");var lM=D(function(t,e,n){const r=e.x-t.x,i=e.y-t.y,s=Math.sqrt(r*r+i*i),o=n/s;return{x:e.x-o*r,y:e.y-o*i}},"findAdjacentPoint"),zct=D(function(t){const{cornerPointPositions:e}=k$(t),n=[];for(let r=0;r<t.length;r++)if(e.includes(r)){const i=t[r-1],s=t[r+1],o=t[r],c=lM(i,o,5),u=lM(s,o,5),h=u.x-c.x,d=u.y-c.y;n.push(c);const p=Math.sqrt(2)*2;let m={x:o.x,y:o.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){yt.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const y=5;o.x===c.x?m={x:h<0?c.x-y+p:c.x+y-p,y:d<0?c.y-p:c.y+p}:m={x:h<0?c.x-p:c.x+p,y:d<0?c.y-y+p:c.y+y-p}}else yt.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));n.push(m,u)}else n.push(t[r]);return n},"fixCorners"),Pct=D((t,e,n)=>{const r=t-e-n,i=2,s=2,o=i+s,c=Math.floor(r/o),u=Array(c).fill(`${i} ${s}`).join(" ");return`0 ${e} ${u} ${n}`},"generateDashArray"),Fct=D(function(t,e,n,r,i,s,o,c=!1){const{handDrawnSeed:u}=ge();let h=e.points,d=!1;const p=i;var m=s;const y=[];for(const B in e.cssCompiledStyles)n5(B)||y.push(e.cssCompiledStyles[B]);yt.debug("UIO intersect check",e.points,m.x,p.x),m.intersect&&p.intersect&&!c&&(h=h.slice(1,e.points.length-1),h.unshift(p.intersect(h[0])),yt.debug("Last point UIO",e.start,"-->",e.end,h[h.length-1],m,m.intersect(h[h.length-1])),h.push(m.intersect(h[h.length-1])));const x=btoa(JSON.stringify(h));e.toCluster&&(yt.info("to cluster abc88",n.get(e.toCluster)),h=oM(e.points,n.get(e.toCluster).node),d=!0),e.fromCluster&&(yt.debug("from cluster abc88",n.get(e.fromCluster),JSON.stringify(h,null,2)),h=oM(h.reverse(),n.get(e.fromCluster).node).reverse(),d=!0);let b=h.filter(B=>!Number.isNaN(B.y));b=zct(b);let S=vp;switch(S=lg,e.curve){case"linear":S=lg;break;case"basis":S=vp;break;case"cardinal":S=sR;break;case"bumpX":S=eR;break;case"bumpY":S=nR;break;case"catmullRom":S=lR;break;case"monotoneX":S=pR;break;case"monotoneY":S=gR;break;case"natural":S=yR;break;case"step":S=xR;break;case"stepAfter":S=vR;break;case"stepBefore":S=bR;break;default:S=vp}const{x:_,y:T}=zit(e),w=wrt().x(_).y(T).curve(S);let E;switch(e.thickness){case"normal":E="edge-thickness-normal";break;case"thick":E="edge-thickness-thick";break;case"invisible":E="edge-thickness-invisible";break;default:E="edge-thickness-normal"}switch(e.pattern){case"solid":E+=" edge-pattern-solid";break;case"dotted":E+=" edge-pattern-dotted";break;case"dashed":E+=" edge-pattern-dashed";break;default:E+=" edge-pattern-solid"}let M,L=e.curve==="rounded"?T$(E$(b,e),5):w(b);const N=Array.isArray(e.style)?e.style:[e.style];let $=N.find(B=>B?.startsWith("stroke:")),z=!1;if(e.look==="handDrawn"){const B=Mt.svg(t);Object.assign([],b);const H=B.path(L,{roughness:.3,seed:u});E+=" transition",M=Wt(H).select("path").attr("id",e.id).attr("class"," "+E+(e.classes?" "+e.classes:"")).attr("style",N?N.reduce((I,U)=>I+";"+U,""):"");let R=M.attr("d");M.attr("d",R),t.node().appendChild(M.node())}else{const B=y.join(";"),H=N?N.reduce((V,K)=>V+K+";",""):"";let R="";e.animate&&(R=" edge-animation-fast"),e.animation&&(R=" edge-animation-"+e.animation);const I=(B?B+";"+H+";":H)+";"+(N?N.reduce((V,K)=>V+";"+K,""):"");M=t.append("path").attr("d",L).attr("id",e.id).attr("class"," "+E+(e.classes?" "+e.classes:"")+(R??"")).attr("style",I),$=I.match(/stroke:([^;]+)/)?.[1],z=e.animate===!0||!!e.animation||B.includes("animation");const U=M.node(),Z=typeof U.getTotalLength=="function"?U.getTotalLength():0,nt=_A[e.arrowTypeStart]||0,q=_A[e.arrowTypeEnd]||0;if(e.look==="neo"&&!z){const K=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?Pct(Z,nt,q):`0 ${nt} ${Z-nt-q} ${q}`}; stroke-dashoffset: 0;`;M.attr("style",K+M.attr("style"))}}M.attr("data-edge",!0),M.attr("data-et","edge"),M.attr("data-id",e.id),M.attr("data-points",x),e.showPoints&&b.forEach(B=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",B.x).attr("cy",B.y)});let P="";(ge().flowchart.arrowMarkerAbsolute||ge().state.arrowMarkerAbsolute)&&(P=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,P=P.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),yt.info("arrowTypeStart",e.arrowTypeStart),yt.info("arrowTypeEnd",e.arrowTypeEnd),Lct(M,e,P,o,r,$);const j=Math.floor(h.length/2),W=h[j];yi.isLabelCoordinateInPath(W,M.attr("d"))||(d=!0);let G={};return d&&(G.updatedPath=h),G.originalPath=e.points,G},"insertEdge");function T$(t,e){if(t.length<2)return"";let n="";const r=t.length,i=1e-5;for(let s=0;s<r;s++){const o=t[s],c=t[s-1],u=t[s+1];if(s===0)n+=`M${o.x},${o.y}`;else if(s===r-1)n+=`L${o.x},${o.y}`;else{const h=o.x-c.x,d=o.y-c.y,p=u.x-o.x,m=u.y-o.y,y=Math.hypot(h,d),x=Math.hypot(p,m);if(y<i||x<i){n+=`L${o.x},${o.y}`;continue}const b=h/y,S=d/y,_=p/x,T=m/x,w=b*_+S*T,E=Math.max(-1,Math.min(1,w)),M=Math.acos(E);if(M<i||Math.abs(Math.PI-M)<i){n+=`L${o.x},${o.y}`;continue}const L=Math.min(e/Math.sin(M/2),y/2,x/2),N=o.x-b*L,$=o.y-S*L,z=o.x+_*L,P=o.y+T*L;n+=`L${N},${$}`,n+=`Q${o.x},${o.y} ${z},${P}`}}return n}D(T$,"generateRoundedPath");function Lv(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};const n=e.x-t.x,r=e.y-t.y;return{angle:Math.atan2(r,n),deltaX:n,deltaY:r}}D(Lv,"calculateDeltaAndAngle");function E$(t,e){const n=t.map(i=>({...i}));if(t.length>=2&&Un[e.arrowTypeStart]){const i=Un[e.arrowTypeStart],s=t[0],o=t[1],{angle:c}=Lv(s,o),u=i*Math.cos(c),h=i*Math.sin(c);n[0].x=s.x+u,n[0].y=s.y+h}const r=t.length;if(r>=2&&Un[e.arrowTypeEnd]){const i=Un[e.arrowTypeEnd],s=t[r-1],o=t[r-2],{angle:c}=Lv(o,s),u=i*Math.cos(c),h=i*Math.sin(c);n[r-1].x=s.x-u,n[r-1].y=s.y-h}return n}D(E$,"applyMarkerOffsetsToPoints");var Ict=D((t,e,n,r)=>{e.forEach(i=>{rut[i](t,n,r)})},"insertMarkers"),Hct=D((t,e,n)=>{yt.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Vct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),qct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Uct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Wct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Yct=D((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Gct=D((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Xct=D((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Zct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Kct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),Qct=D((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("d","M9,0 L9,18");const i=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),Jct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),tut=D((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),eut=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),nut=D((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");r.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),r.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),r.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),rut={extension:Hct,composition:Vct,aggregation:qct,dependency:Uct,lollipop:Wct,point:Yct,circle:Gct,cross:Xct,barb:Zct,only_one:Kct,zero_or_one:Qct,one_or_more:Jct,zero_or_more:tut,requirement_arrow:eut,requirement_contains:nut},iut=Ict,aut={common:vc,getConfig:Yn,insertCluster:fct,insertEdge:Fct,insertEdgeLabel:Rct,insertMarkers:iut,insertNode:_$,interpolateToCurve:w2,labelHelper:Ht,log:yt,positionEdgeLabel:Bct},Lh={},A$=D(t=>{for(const e of t)Lh[e.name]=e},"registerLayoutLoaders"),sut=D(()=>{A$([{name:"dagre",loader:D(async()=>await ye(()=>import("./dagre-6UL2VRFP-BctJF1O7.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:D(async()=>await ye(()=>import("./cose-bilkent-S5V4N54A-DvLQrMmT.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");sut();var rpt=D(async(t,e)=>{if(!(t.layoutAlgorithm in Lh))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const n=Lh[t.layoutAlgorithm];return(await n.loader()).render(t,e,aut,{algorithm:n.algorithm})},"render"),ipt=D((t="",{fallback:e="dagre"}={})=>{if(t in Lh)return t;if(e in Lh)return yt.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),M$="comm",D$="rule",N$="decl",out="@import",lut="@namespace",cut="@keyframes",uut="@layer",L$=Math.abs,I2=String.fromCharCode;function O$(t){return t.trim()}function kp(t,e,n){return t.replace(e,n)}function hut(t,e,n){return t.indexOf(e,n)}function ql(t,e){return t.charCodeAt(e)|0}function dc(t,e,n){return t.slice(e,n)}function zi(t){return t.length}function dut(t){return t.length}function rp(t,e){return e.push(t),t}var Nm=1,fc=1,R$=0,ri=0,hn=0,kc="";function H2(t,e,n,r,i,s,o,c){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Nm,column:fc,length:o,return:"",siblings:c}}function fut(){return hn}function put(){return hn=ri>0?ql(kc,--ri):0,fc--,hn===10&&(fc=1,Nm--),hn}function wi(){return hn=ri<R$?ql(kc,ri++):0,fc++,hn===10&&(fc=1,Nm++),hn}function fs(){return ql(kc,ri)}function Tp(){return ri}function Lm(t,e){return dc(kc,t,e)}function Oh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gut(t){return Nm=fc=1,R$=zi(kc=t),ri=0,[]}function mut(t){return kc="",t}function ib(t){return O$(Lm(ri-1,Ov(t===91?t+2:t===40?t+1:t)))}function yut(t){for(;(hn=fs())&&hn<33;)wi();return Oh(t)>2||Oh(hn)>3?"":" "}function xut(t,e){for(;--e&&wi()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return Lm(t,Tp()+(e<6&&fs()==32&&wi()==32))}function Ov(t){for(;wi();)switch(hn){case t:return ri;case 34:case 39:t!==34&&t!==39&&Ov(hn);break;case 40:t===41&&Ov(t);break;case 92:wi();break}return ri}function but(t,e){for(;wi()&&t+hn!==57;)if(t+hn===84&&fs()===47)break;return"/*"+Lm(e,ri-1)+"*"+I2(t===47?t:wi())}function vut(t){for(;!Oh(fs());)wi();return Lm(t,ri)}function wut(t){return mut(Ep("",null,null,null,[""],t=gut(t),0,[0],t))}function Ep(t,e,n,r,i,s,o,c,u){for(var h=0,d=0,p=o,m=0,y=0,x=0,b=1,S=1,_=1,T=0,w="",E=i,M=s,L=r,N=w;S;)switch(x=T,T=wi()){case 40:if(x!=108&&ql(N,p-1)==58){hut(N+=kp(ib(T),"&","&\f"),"&\f",L$(h?c[h-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:N+=ib(T);break;case 9:case 10:case 13:case 32:N+=yut(x);break;case 92:N+=xut(Tp()-1,7);continue;case 47:switch(fs()){case 42:case 47:rp(Sut(but(wi(),Tp()),e,n,u),u),(Oh(x||1)==5||Oh(fs()||1)==5)&&zi(N)&&dc(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*b:c[h++]=zi(N)*_;case 125*b:case 59:case 0:switch(T){case 0:case 125:S=0;case 59+d:_==-1&&(N=kp(N,/\f/g,"")),y>0&&(zi(N)-p||b===0&&x===47)&&rp(y>32?uM(N+";",r,n,p-1,u):uM(kp(N," ","")+";",r,n,p-2,u),u);break;case 59:N+=";";default:if(rp(L=cM(N,e,n,h,d,i,c,w,E=[],M=[],p,s),s),T===123)if(d===0)Ep(N,e,L,L,E,s,p,c,M);else{switch(m){case 99:if(ql(N,3)===110)break;case 108:if(ql(N,2)===97)break;default:d=0;case 100:case 109:case 115:}d?Ep(t,L,L,r&&rp(cM(t,L,L,0,0,i,c,w,i,E=[],p,M),M),i,M,p,c,r?E:M):Ep(N,L,L,L,[""],M,0,c,M)}}h=d=y=0,b=_=1,w=N="",p=o;break;case 58:p=1+zi(N),y=x;default:if(b<1){if(T==123)--b;else if(T==125&&b++==0&&put()==125)continue}switch(N+=I2(T),T*b){case 38:_=d>0?1:(N+="\f",-1);break;case 44:c[h++]=(zi(N)-1)*_,_=1;break;case 64:fs()===45&&(N+=ib(wi())),m=fs(),d=p=zi(w=N+=vut(Tp())),T++;break;case 45:x===45&&zi(N)==2&&(b=0)}}return s}function cM(t,e,n,r,i,s,o,c,u,h,d,p){for(var m=i-1,y=i===0?s:[""],x=dut(y),b=0,S=0,_=0;b<r;++b)for(var T=0,w=dc(t,m+1,m=L$(S=o[b])),E=t;T<x;++T)(E=O$(S>0?y[T]+" "+w:kp(w,/&\f/g,y[T])))&&(u[_++]=E);return H2(t,e,n,i===0?D$:c,u,h,d,p)}function Sut(t,e,n,r){return H2(t,e,n,M$,I2(fut()),dc(t,2,-2),0,r)}function uM(t,e,n,r,i){return H2(t,e,n,N$,dc(t,0,r),dc(t,r+1,-1),r,i)}function Rv(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Cut(t,e,n,r){switch(t.type){case uut:if(t.children.length)break;case out:case lut:case N$:return t.return=t.return||t.value;case M$:return"";case cut:return t.return=t.value+"{"+Rv(t.children,r)+"}";case D$:if(!zi(t.value=t.props.join(",")))return""}return zi(n=Rv(t.children,r))?t.return=t.value+"{"+n+"}":""}var _ut=s5(Object.keys,Object),kut=Object.prototype,Tut=kut.hasOwnProperty;function Eut(t){if(!wm(t))return _ut(t);var e=[];for(var n in Object(t))Tut.call(t,n)&&n!="constructor"&&e.push(n);return e}var Bv=Oo(Xi,"DataView"),jv=Oo(Xi,"Promise"),$v=Oo(Xi,"Set"),zv=Oo(Xi,"WeakMap"),hM="[object Map]",Aut="[object Object]",dM="[object Promise]",fM="[object Set]",pM="[object WeakMap]",gM="[object DataView]",Mut=Lo(Bv),Dut=Lo(Dh),Nut=Lo(jv),Lut=Lo($v),Out=Lo(zv),io=Sc;(Bv&&io(new Bv(new ArrayBuffer(1)))!=gM||Dh&&io(new Dh)!=hM||jv&&io(jv.resolve())!=dM||$v&&io(new $v)!=fM||zv&&io(new zv)!=pM)&&(io=function(t){var e=Sc(t),n=e==Aut?t.constructor:void 0,r=n?Lo(n):"";if(r)switch(r){case Mut:return gM;case Dut:return hM;case Nut:return dM;case Lut:return fM;case Out:return pM}return e});var Rut="[object Map]",But="[object Set]",jut=Object.prototype,$ut=jut.hasOwnProperty;function mM(t){if(t==null)return!0;if(Sm(t)&&(wg(t)||typeof t=="string"||typeof t.splice=="function"||b2(t)||v2(t)||vg(t)))return!t.length;var e=io(t);if(e==Rut||e==But)return!t.size;if(wm(t))return!Eut(t).length;for(var n in t)if($ut.call(t,n))return!1;return!0}var B$="c4",zut=D(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),Put=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-DPnsRUJO.js");return{diagram:e}},__vite__mapDeps([8,9]));return{id:B$,diagram:t}},"loader"),Fut={id:B$,detector:zut,loader:Put},Iut=Fut,j$="flowchart",Hut=D((t,e)=>e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(t),"detector"),Vut=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-D5tp3rNY.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:j$,diagram:t}},"loader"),qut={id:j$,detector:Hut,loader:Vut},Uut=qut,$$="flowchart-v2",Wut=D((t,e)=>e?.flowchart?.defaultRenderer==="dagre-d3"?!1:(e?.flowchart?.defaultRenderer==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(t)),"detector"),Yut=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-D5tp3rNY.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:$$,diagram:t}},"loader"),Gut={id:$$,detector:Wut,loader:Yut},Xut=Gut,z$="er",Zut=D(t=>/^\s*erDiagram/.test(t),"detector"),Kut=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-B8vtfbDy.js");return{diagram:e}},__vite__mapDeps([15,12,13,14]));return{id:z$,diagram:t}},"loader"),Qut={id:z$,detector:Zut,loader:Kut},Jut=Qut,P$="gitGraph",tht=D(t=>/^\s*gitGraph/.test(t),"detector"),eht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-DvjFtLwE.js");return{diagram:e}},__vite__mapDeps([16,17,18,19,4,2]));return{id:P$,diagram:t}},"loader"),nht={id:P$,detector:tht,loader:eht},rht=nht,F$="gantt",iht=D(t=>/^\s*gantt/.test(t),"detector"),aht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./ganttDiagram-JELNMOA3-7k60FRMG.js");return{diagram:e}},__vite__mapDeps([20,21,22,23]));return{id:F$,diagram:t}},"loader"),sht={id:F$,detector:iht,loader:aht},oht=sht,I$="info",lht=D(t=>/^\s*info/.test(t),"detector"),cht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./infoDiagram-WHAUD3N6-Cn1BzUOI.js");return{diagram:e}},__vite__mapDeps([24,19,4,2]));return{id:I$,diagram:t}},"loader"),uht={id:I$,detector:lht,loader:cht},H$="pie",hht=D(t=>/^\s*pie/.test(t),"detector"),dht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX-CUYGLF2N.js");return{diagram:e}},__vite__mapDeps([25,17,19,4,2,26,27,22]));return{id:H$,diagram:t}},"loader"),fht={id:H$,detector:hht,loader:dht},V$="quadrantChart",pht=D(t=>/^\s*quadrantChart/.test(t),"detector"),ght=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-CoDrmd_S.js");return{diagram:e}},__vite__mapDeps([28,21,22,23]));return{id:V$,diagram:t}},"loader"),mht={id:V$,detector:pht,loader:ght},yht=mht,q$="xychart",xht=D(t=>/^\s*xychart(-beta)?/.test(t),"detector"),bht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-C9EqaQu2.js");return{diagram:e}},__vite__mapDeps([29,22,27,21,23]));return{id:q$,diagram:t}},"loader"),vht={id:q$,detector:xht,loader:bht},wht=vht,U$="requirement",Sht=D(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),Cht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-9SExg7XR.js");return{diagram:e}},__vite__mapDeps([30,12,13]));return{id:U$,diagram:t}},"loader"),_ht={id:U$,detector:Sht,loader:Cht},kht=_ht,W$="sequence",Tht=D(t=>/^\s*sequenceDiagram/.test(t),"detector"),Eht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-D9yw7rbZ.js");return{diagram:e}},__vite__mapDeps([31,9,18]));return{id:W$,diagram:t}},"loader"),Aht={id:W$,detector:Tht,loader:Eht},Mht=Aht,Y$="class",Dht=D((t,e)=>e?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t),"detector"),Nht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-DXErNdTj.js");return{diagram:e}},__vite__mapDeps([32,33,11,12,13]));return{id:Y$,diagram:t}},"loader"),Lht={id:Y$,detector:Dht,loader:Nht},Oht=Lht,G$="classDiagram",Rht=D((t,e)=>/^\s*classDiagram/.test(t)&&e?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t),"detector"),Bht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-DXErNdTj.js");return{diagram:e}},__vite__mapDeps([34,33,11,12,13]));return{id:G$,diagram:t}},"loader"),jht={id:G$,detector:Rht,loader:Bht},$ht=jht,X$="state",zht=D((t,e)=>e?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t),"detector"),Pht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-D_3SUJr4.js");return{diagram:e}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:X$,diagram:t}},"loader"),Fht={id:X$,detector:zht,loader:Pht},Iht=Fht,Z$="stateDiagram",Hht=D((t,e)=>!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&e?.state?.defaultRenderer==="dagre-wrapper"),"detector"),Vht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-V4xk6PPn.js");return{diagram:e}},__vite__mapDeps([37,36,12,13]));return{id:Z$,diagram:t}},"loader"),qht={id:Z$,detector:Hht,loader:Vht},Uht=qht,K$="journey",Wht=D(t=>/^\s*journey/.test(t),"detector"),Yht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-bTX_NP6Z.js");return{diagram:e}},__vite__mapDeps([38,9,11,26]));return{id:K$,diagram:t}},"loader"),Ght={id:K$,detector:Wht,loader:Yht},Xht=Ght,Zht=D((t,e,n)=>{yt.debug(`rendering svg for syntax error
`);const r=Drt(e),i=r.append("g");r.attr("viewBox","0 0 2412 512"),ZO(r,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),Q$={draw:Zht},Kht=Q$,Qht={db:{},renderer:Q$,parser:{parse:D(()=>{},"parse")}},Jht=Qht,J$="flowchart-elk",tdt=D((t,e={})=>/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&e?.flowchart?.defaultRenderer==="elk"?(e.layout="elk",!0):!1,"detector"),edt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-D5tp3rNY.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:J$,diagram:t}},"loader"),ndt={id:J$,detector:tdt,loader:edt},rdt=ndt,t4="timeline",idt=D(t=>/^\s*timeline/.test(t),"detector"),adt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-YHTBhgHI.js");return{diagram:e}},__vite__mapDeps([39,26]));return{id:t4,diagram:t}},"loader"),sdt={id:t4,detector:idt,loader:adt},odt=sdt,e4="mindmap",ldt=D(t=>/^\s*mindmap/.test(t),"detector"),cdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-DUin3SWG.js");return{diagram:e}},__vite__mapDeps([40,12,13]));return{id:e4,diagram:t}},"loader"),udt={id:e4,detector:ldt,loader:cdt},hdt=udt,n4="kanban",ddt=D(t=>/^\s*kanban/.test(t),"detector"),fdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-C-KHX0wm.js");return{diagram:e}},__vite__mapDeps([41,11]));return{id:n4,diagram:t}},"loader"),pdt={id:n4,detector:ddt,loader:fdt},gdt=pdt,r4="sankey",mdt=D(t=>/^\s*sankey(-beta)?/.test(t),"detector"),ydt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-Z1BkluOW.js");return{diagram:e}},__vite__mapDeps([42,27,22]));return{id:r4,diagram:t}},"loader"),xdt={id:r4,detector:mdt,loader:ydt},bdt=xdt,i4="packet",vdt=D(t=>/^\s*packet(-beta)?/.test(t),"detector"),wdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-DpTw0pG1.js");return{diagram:e}},__vite__mapDeps([43,17,19,4,2]));return{id:i4,diagram:t}},"loader"),Sdt={id:i4,detector:vdt,loader:wdt},a4="radar",Cdt=D(t=>/^\s*radar-beta/.test(t),"detector"),_dt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-D-ccLKmU.js");return{diagram:e}},__vite__mapDeps([44,17,19,4,2]));return{id:a4,diagram:t}},"loader"),kdt={id:a4,detector:Cdt,loader:_dt},s4="block",Tdt=D(t=>/^\s*block(-beta)?/.test(t),"detector"),Edt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-Dd9HJOGS.js");return{diagram:e}},__vite__mapDeps([45,11,5,1,2,14]));return{id:s4,diagram:t}},"loader"),Adt={id:s4,detector:Tdt,loader:Edt},Mdt=Adt,o4="architecture",Ddt=D(t=>/^\s*architecture/.test(t),"detector"),Ndt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-CEX4QEaC.js");return{diagram:e}},__vite__mapDeps([46,17,19,4,2,7]));return{id:o4,diagram:t}},"loader"),Ldt={id:o4,detector:Ddt,loader:Ndt},Odt=Ldt,l4="treemap",Rdt=D(t=>/^\s*treemap/.test(t),"detector"),Bdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-BSy5iWwp.js");return{diagram:e}},__vite__mapDeps([47,13,17,19,4,2,23,27,22]));return{id:l4,diagram:t}},"loader"),jdt={id:l4,detector:Rdt,loader:Bdt},yM=!1,Om=D(()=>{yM||(yM=!0,og("error",Jht,t=>t.toLowerCase().trim()==="error"),og("---",{db:{clear:D(()=>{},"clear")},styles:{},renderer:{draw:D(()=>{},"draw")},parser:{parse:D(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:D(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),Qb(rdt,hdt,Odt),Qb(Iut,gdt,$ht,Oht,Jut,oht,uht,fht,kht,Mht,Xut,Uut,odt,rht,Uht,Iht,Xht,yht,bdt,Sdt,wht,Mdt,kdt,jdt))},"addDiagrams"),$dt=D(async()=>{yt.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(_o).map(async([n,{detector:r,loader:i}])=>{if(i)try{nv(n)}catch{try{const{diagram:s,id:o}=await i();og(o,s,r)}catch(s){throw yt.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete _o[n],s}}}))).filter(n=>n.status==="rejected");if(e.length>0){yt.error(`Failed to load ${e.length} external diagrams`);for(const n of e)yt.error(n);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),zdt="graphics-document document";function c4(t,e){t.attr("role",zdt),e!==""&&t.attr("aria-roledescription",e)}D(c4,"setA11yDiagramInfo");function u4(t,e,n,r){if(t.insert!==void 0){if(n){const i=`chart-desc-${r}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(n)}if(e){const i=`chart-title-${r}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}D(u4,"addSVGa11yTitleDescription");var yo,Pv=(yo=class{constructor(e,n,r,i,s){this.type=e,this.text=n,this.db=r,this.parser=i,this.renderer=s}static async fromText(e,n={}){const r=Yn(),i=K1(e,r);e=jot(e)+`
`;try{nv(i)}catch{const h=vnt(i);if(!h)throw new zO(`Diagram ${i} not found.`);const{id:d,diagram:p}=await h();og(d,p)}const{db:s,parser:o,renderer:c,init:u}=nv(i);return o.parser&&(o.parser.yy=s),s.clear?.(),u?.(r),n.title&&s.setDiagramTitle?.(n.title),await o.parse(e),new yo(i,e,s,o,c)}async render(e,n){await this.renderer.draw(this.text,e,n,this)}getParser(){return this.parser}getType(){return this.type}},D(yo,"Diagram"),yo),xM=[],Pdt=D(()=>{xM.forEach(t=>{t()}),xM=[]},"attachFunctions"),Fdt=D(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function h4(t){const e=t.match($O);if(!e)return{text:t,metadata:{}};let n=$it(e[1],{schema:jit})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const r={};return n.displayMode&&(r.displayMode=n.displayMode.toString()),n.title&&(r.title=n.title.toString()),n.config&&(r.config=n.config),{text:t.slice(e[0].length),metadata:r}}D(h4,"extractFrontMatter");var Idt=D(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,n,r)=>"<"+n+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Hdt=D(t=>{const{text:e,metadata:n}=h4(t),{displayMode:r,title:i,config:s={}}=n;return r&&(s.gantt||(s.gantt={}),s.gantt.displayMode=r),{title:i,config:s,text:e}},"processFrontmatter"),Vdt=D(t=>{const e=yi.detectInit(t)??{},n=yi.detectDirective(t,"wrap");return Array.isArray(n)?e.wrap=n.some(({type:r})=>r==="wrap"):n?.type==="wrap"&&(e.wrap=!0),{text:Cot(t),directive:e}},"processDirectives");function V2(t){const e=Idt(t),n=Hdt(e),r=Vdt(n.text),i=T2(n.config,r.directive);return t=Fdt(r.text),{code:t,title:n.title,config:i}}D(V2,"preprocessDiagram");function d4(t){const e=new TextEncoder().encode(t),n=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(n)}D(d4,"toBase64");var qdt=5e4,Udt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Wdt="sandbox",Ydt="loose",Gdt="http://www.w3.org/2000/svg",Xdt="http://www.w3.org/1999/xlink",Zdt="http://www.w3.org/1999/xhtml",Kdt="100%",Qdt="100%",Jdt="border:0;margin:0;",tft="margin:0",eft="allow-top-navigation-by-user-activation allow-popups",nft='The "iframe" tag is not supported by your browser.',rft=["foreignobject"],ift=["dominant-baseline"];function q2(t){const e=V2(t);return ag(),jnt(e.config??{}),e}D(q2,"processAndSetConfigs");async function f4(t,e){Om();try{const{code:n,config:r}=q2(t);return{diagramType:(await g4(n)).type,config:r}}catch(n){if(e?.suppressErrors)return!1;throw n}}D(f4,"parse");var bM=D((t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),aft=D((t,e=new Map)=>{let n="";if(t.themeCSS!==void 0&&(n+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const o=t.htmlLabels??t.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(c=>{mM(c.styles)||o.forEach(u=>{n+=bM(c.id,u,c.styles)}),mM(c.textStyles)||(n+=bM(c.id,"tspan",(c?.textStyles||[]).map(u=>u.replace("color","fill"))))})}return n},"createCssStyles"),sft=D((t,e,n,r)=>{const i=aft(t,n),s=nrt(e,i,t.themeVariables);return Rv(wut(`${r}{${s}}`),Cut)},"createUserStyles"),oft=D((t="",e,n)=>{let r=t;return!n&&!e&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=Ro(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),lft=D((t="",e)=>{const n=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":Qdt,r=d4(`<body style="${tft}">${t}</body>`);return`<iframe style="width:${Kdt};height:${n};${Jdt}" src="data:text/html;charset=UTF-8;base64,${r}" sandbox="${eft}">
  ${nft}
</iframe>`},"putIntoIFrame"),vM=D((t,e,n,r,i)=>{const s=t.append("div");s.attr("id",n),r&&s.attr("style",r);const o=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",Gdt);return i&&o.attr("xmlns:xlink",i),o.append("g"),t},"appendDivSvgG");function Fv(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}D(Fv,"sandboxedIframe");var cft=D((t,e,n,r)=>{t.getElementById(e)?.remove(),t.getElementById(n)?.remove(),t.getElementById(r)?.remove()},"removeExistingElements"),uft=D(async function(t,e,n){Om();const r=q2(e);e=r.code;const i=Yn();yt.debug(i),e.length>(i?.maxTextSize??qdt)&&(e=Udt);const s="#"+t,o="i"+t,c="#"+o,u="d"+t,h="#"+u,d=D(()=>{const G=Wt(m?c:h).node();G&&"remove"in G&&G.remove()},"removeTempElements");let p=Wt("body");const m=i.securityLevel===Wdt,y=i.securityLevel===Ydt,x=i.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),m){const W=Fv(Wt(n),o);p=Wt(W.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Wt(n);vM(p,t,u,`font-family: ${x}`,Xdt)}else{if(cft(document,t,u,o),m){const W=Fv(Wt("body"),o);p=Wt(W.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Wt("body");vM(p,t,u)}let b,S;try{b=await Pv.fromText(e,{title:r.title})}catch(W){if(i.suppressErrorRendering)throw d(),W;b=await Pv.fromText("error"),S=W}const _=p.select(h).node(),T=b.type,w=_.firstChild,E=w.firstChild,M=b.renderer.getClasses?.(e,b),L=sft(i,T,M,s),N=document.createElement("style");N.innerHTML=L,w.insertBefore(N,E);try{await b.renderer.draw(e,t,eA.version,b)}catch(W){throw i.suppressErrorRendering?d():Kht.draw(e,t,eA.version),W}const $=p.select(`${h} svg`),z=b.db.getAccTitle?.(),P=b.db.getAccDescription?.();m4(T,$,z,P),p.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Zdt);let j=p.select(h).node().innerHTML;if(yt.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),j=oft(j,m,Cn(i.arrowMarkerAbsolute)),m){const W=p.select(h+" svg").node();j=lft(j,W)}else y||(j=oc.sanitize(j,{ADD_TAGS:rft,ADD_ATTR:ift,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Pdt(),S)throw S;return d(),{diagramType:T,svg:j,bindFunctions:b.db.bindFunctions}},"render");function p4(t={}){const e=wn({},t);e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Rnt(e),e?.theme&&e.theme in _a?e.themeVariables=_a[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=_a.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?Ont(e):VO();Z1(n.logLevel),Om()}D(p4,"initialize");var g4=D((t,e={})=>{const{code:n}=V2(t);return Pv.fromText(n,e)},"getDiagramFromText");function m4(t,e,n,r){c4(e,t),u4(e,n,r,e.attr("id"))}D(m4,"addA11yInfo");var Mo=Object.freeze({render:uft,parse:f4,getDiagramFromText:g4,initialize:p4,getConfig:Yn,setConfig:qO,getSiteConfig:VO,updateSiteConfig:Bnt,reset:D(()=>{ag()},"reset"),globalReset:D(()=>{ag(lc)},"globalReset"),defaultConfig:lc});Z1(Yn().logLevel);ag(Yn());var hft=D((t,e,n)=>{yt.warn(t),k2(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),y4=D(async function(t={querySelector:".mermaid"}){try{await dft(t)}catch(e){if(k2(e)&&yt.error(e.str),Da.parseError&&Da.parseError(e),!t.suppressErrors)throw yt.error("Use the suppressErrors option to suppress these errors"),e}},"run"),dft=D(async function({postRenderCallback:t,querySelector:e,nodes:n}={querySelector:".mermaid"}){const r=Mo.getConfig();yt.debug(`${t?"":"No "}Callback function found`);let i;if(n)i=n;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");yt.debug(`Found ${i.length} diagrams`),r?.startOnLoad!==void 0&&(yt.debug("Start On Load: "+r?.startOnLoad),Mo.updateSiteConfig({startOnLoad:r?.startOnLoad}));const s=new yi.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const c=[];for(const u of Array.from(i)){if(yt.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");const h=`mermaid-${s.next()}`;o=u.innerHTML,o=z5(yi.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const d=yi.detectInit(o);d&&yt.debug("Detected early reinit: ",d);try{const{svg:p,bindFunctions:m}=await w4(h,o,u);u.innerHTML=p,t&&await t(h),m&&m(u)}catch(p){hft(p,c,Da.parseError)}}if(c.length>0)throw c[0]},"runThrowsErrors"),x4=D(function(t){Mo.initialize(t)},"initialize"),fft=D(async function(t,e,n){yt.warn("mermaid.init is deprecated. Please use run instead."),t&&x4(t);const r={postRenderCallback:n,querySelector:".mermaid"};typeof e=="string"?r.querySelector=e:e&&(e instanceof HTMLElement?r.nodes=[e]:r.nodes=e),await y4(r)},"init"),pft=D(async(t,{lazyLoad:e=!0}={})=>{Om(),Qb(...t),e===!1&&await $dt()},"registerExternalDiagrams"),b4=D(function(){if(Da.startOnLoad){const{startOnLoad:t}=Mo.getConfig();t&&Da.run().catch(e=>yt.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",b4,!1);var gft=D(function(t){Da.parseError=t},"setParseErrorHandler"),Lg=[],ab=!1,v4=D(async()=>{if(!ab){for(ab=!0;Lg.length>0;){const t=Lg.shift();if(t)try{await t()}catch(e){yt.error("Error executing queue",e)}}ab=!1}},"executeQueue"),mft=D(async(t,e)=>new Promise((n,r)=>{const i=D(()=>new Promise((s,o)=>{Mo.parse(t,e).then(c=>{s(c),n(c)},c=>{yt.error("Error parsing",c),Da.parseError?.(c),o(c),r(c)})}),"performCall");Lg.push(i),v4().catch(r)}),"parse"),w4=D((t,e,n)=>new Promise((r,i)=>{const s=D(()=>new Promise((o,c)=>{Mo.render(t,e,n).then(u=>{o(u),r(u)},u=>{yt.error("Error parsing",u),Da.parseError?.(u),c(u),i(u)})}),"performCall");Lg.push(s),v4().catch(i)}),"render"),yft=D(()=>Object.keys(_o).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),Da={startOnLoad:!0,mermaidAPI:Mo,parse:mft,render:w4,init:fft,run:y4,registerExternalDiagrams:pft,registerLayoutLoaders:A$,initialize:x4,parseError:void 0,contentLoaded:b4,setParseErrorHandler:gft,detectType:K1,registerIconPacks:Flt,getRegisteredDiagramsMetadata:yft},S4=Da;const xft=[{id:"flow",label:"Workflow"},{id:"architecture",label:"Architecture"},{id:"agent-flow",label:"Agent Flow"},{id:"custom",label:"Custom"}];S4.initialize({startOnLoad:!1,theme:"dark",themeVariables:{primaryColor:"#3B82F6",primaryTextColor:"#EDEDEF",primaryBorderColor:"#2A2A2E",lineColor:"#5A5A5D",secondaryColor:"#1C1C1F",tertiaryColor:"#141416",background:"#0A0A0B",mainBkg:"#141416",nodeBorder:"#2A2A2E",clusterBkg:"#1C1C1F",titleColor:"#EDEDEF",edgeLabelBackground:"#141416"}});function bft(){return`flowchart TD
    A[ Analyst\\nProject Brief] --> B[ PM\\nPRD]
    B --> C[ UX Designer\\nUX Spec]
    B --> D[ Architect\\nArchitecture]
    C --> E[ PO\\nValidation]
    D --> E
    E --> F[ Scrum Master\\nTask Sharding]
    D --> G[ Data Engineer\\nDatabase Design]
    F --> H[ Developer\\nImplementation]
    G --> H
    H --> I[ QA\\nTesting]
    I --> J[ DevOps\\nDeploy]
    
    style A fill:#A855F720,stroke:#A855F7
    style B fill:#A855F720,stroke:#A855F7
    style C fill:#10B98120,stroke:#10B981
    style D fill:#3B82F620,stroke:#3B82F6
    style E fill:#A855F720,stroke:#A855F7
    style F fill:#EF444420,stroke:#EF4444
    style G fill:#3B82F620,stroke:#3B82F6
    style H fill:#3B82F620,stroke:#3B82F6
    style I fill:#EF444420,stroke:#EF4444
    style J fill:#3B82F620,stroke:#3B82F6`}function vft(){return`flowchart TB
    subgraph UI[" AG Dev UI (React)"]
      CV[Cockpit View]
      TV[Terminal View]
      GV[Gantt View]
      SV[Strategy Canvas]
    end
    
    subgraph Server[" AG Dev Server (Express)"]
      API[REST API]
      SSE[SSE Stream]
      State[State Manager]
    end
    
    subgraph Bridge[" WebSocket Bridge"]
      WS[WS Client]
    end
    
    subgraph Gateway[" Clawdbot Gateway"]
      Agent[Agent Loop]
      Sessions[Session Manager]
      Tools[Tool Pipeline]
      Hooks[Lifecycle Hooks]
    end
    
    UI --> |HTTP + SSE| Server
    Server --> |WebSocket v3| Bridge
    Bridge --> |Protocol v3| Gateway
    Gateway --> |Events| Bridge
    Bridge --> |SSE Broadcast| Server
    Server --> |Real-time| UI
    
    style UI fill:#3B82F610,stroke:#3B82F6
    style Server fill:#10B98110,stroke:#10B981
    style Bridge fill:#A855F710,stroke:#A855F7
    style Gateway fill:#EF444410,stroke:#EF4444`}function wft(t,e){const n=["flowchart LR"],r=e.filter(o=>t[o.id]?.status==="working"),i=e.filter(o=>t[o.id]?.status==="done"),s=e.filter(o=>!t[o.id]||t[o.id]?.status==="idle");return n.push('  subgraph Active[" Active"]'),r.forEach(o=>n.push(`    ${o.id}["${o.icon} ${o.shortName}"]`)),r.length===0&&n.push('    none_active["No active agents"]'),n.push("  end"),n.push('  subgraph Done[" Done"]'),i.forEach(o=>n.push(`    ${o.id}["${o.icon} ${o.shortName}"]`)),i.length===0&&n.push('    none_done["None yet"]'),n.push("  end"),n.push('  subgraph Waiting[" Waiting"]'),s.forEach(o=>n.push(`    ${o.id}["${o.icon} ${o.shortName}"]`)),n.push("  end"),n.push("  style Active fill:#10B98110,stroke:#10B981"),n.push("  style Done fill:#3B82F610,stroke:#3B82F6"),n.push("  style Waiting fill:#1C1C1F,stroke:#2A2A2E"),n.join(`
`)}const Sft=A.memo(function(){const{agents:e,agentMetas:n}=Mn(),[r,i]=A.useState("flow"),[s,o]=A.useState(`flowchart TD
  A[Start] --> B[End]`),[c,u]=A.useState(!1),[h,d]=A.useState("");A.useRef(null);const p=A.useRef(0),m=A.useCallback(()=>{switch(r){case"flow":return bft();case"architecture":return vft();case"agent-flow":return wft(e,n);case"custom":return s}},[r,e,n,s]),y=A.useCallback(async()=>{const b=m();try{const S=`mermaid-${++p.current}`,{svg:_}=await S4.render(S,b);d(_)}catch(S){d(`<p style="color:#EF4444;padding:20px">Diagram error: ${S instanceof Error?S.message:"Unknown error"}</p>`)}},[m]);A.useEffect(()=>{y()},[y]);const x=()=>{const b=new Blob([h],{type:"image/svg+xml"}),S=URL.createObjectURL(b),_=document.createElement("a");_.href=S,_.download=`ag-dev-${r}.svg`,_.click(),URL.revokeObjectURL(S)};return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Diagrams"}),k.jsx("div",{className:"flex items-center gap-1",children:xft.map(b=>k.jsx("button",{onClick:()=>{i(b.id),u(!1)},className:"px-3 py-1.5 rounded-md text-xs font-medium transition-colors",style:{backgroundColor:r===b.id?F.bg.surfaceActive:"transparent",color:r===b.id?F.text.primary:F.text.secondary},children:b.label},b.id))})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-colors hover:bg-white/5 border",style:{borderColor:F.bg.border,color:F.text.secondary},children:[c?k.jsx(lN,{size:12}):k.jsx(ch,{size:12}),c?"Preview":"Edit"]}),k.jsxs("button",{onClick:y,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-colors hover:bg-white/5 border",style:{borderColor:F.bg.border,color:F.text.secondary},children:[k.jsx(pN,{size:12}),"Refresh"]}),k.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium",style:{backgroundColor:F.accent,color:"#fff"},children:[k.jsx(oN,{size:12}),"Export SVG"]})]})]}),k.jsx("div",{className:"flex-1 flex overflow-hidden",children:c?k.jsxs("div",{className:"flex-1 flex",children:[k.jsx("div",{className:"w-1/2 border-r p-4",style:{borderColor:F.bg.border},children:k.jsx("textarea",{value:r==="custom"?s:m(),onChange:b=>{r==="custom"&&o(b.target.value)},readOnly:r!=="custom",className:"w-full h-full rounded-lg p-3 font-mono text-xs resize-none outline-none border",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary}})}),k.jsx("div",{className:"w-1/2 overflow-auto flex items-center justify-center p-4",dangerouslySetInnerHTML:{__html:h}})]}):k.jsx("div",{className:"flex-1 overflow-auto flex items-center justify-center p-8",style:{backgroundColor:F.bg.primary},dangerouslySetInnerHTML:{__html:h}})})]})}),Cft={agent_status:"#3B82F6",agent_paused:"#F59E0B",agent_resumed:"#10B981",chat_message:"#A855F7",agent_command:"#60A5FA",doc_saved:"#34D399",git_commit:"#10B981",error:"#EF4444",system:"#EAB308"},_ft={agent_status:"",agent_paused:"",agent_resumed:"",chat_message:"",agent_command:"",doc_saved:"",git_commit:"",error:"",system:""},kft=A.memo(function(){const[e,n]=A.useState([]),[r,i]=A.useState(""),[s,o]=A.useState(null),[c,u]=A.useState(!0),h=A.useRef(null);A.useEffect(()=>{const y=async()=>{try{const S=await(await fetch("/api/timeline")).json();n(S.events||[])}catch{}};y();const x=setInterval(y,5e3);return()=>clearInterval(x)},[]),A.useEffect(()=>{c&&h.current&&h.current.scrollTo({top:h.current.scrollHeight,behavior:"smooth"})},[e,c]);const d=e.filter(y=>!(s&&y.type!==s||r&&!JSON.stringify(y).toLowerCase().includes(r.toLowerCase()))),p=[...new Set(e.map(y=>y.type))],m=()=>{const y=d.map(_=>`[${_.time}] ${_.type}: ${_.preview||_.message||JSON.stringify(_)}`).join(`
`),x=new Blob([y],{type:"text/plain"}),b=URL.createObjectURL(x),S=document.createElement("a");S.href=b,S.download=`ag-dev-logs-${new Date().toISOString().slice(0,10)}.txt`,S.click(),URL.revokeObjectURL(b)};return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b",style:{borderColor:F.bg.border},children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Logs"}),k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsxs("div",{className:"flex items-center gap-1.5 rounded-lg border px-2.5 py-1.5",style:{borderColor:F.bg.border},children:[k.jsx(yN,{size:12,style:{color:F.text.muted}}),k.jsx("input",{value:r,onChange:y=>i(y.target.value),placeholder:"Filter logs...",className:"bg-transparent text-xs outline-none w-40",style:{color:F.text.primary}})]}),k.jsxs("select",{value:s||"",onChange:y=>o(y.target.value||null),className:"rounded-lg border px-2.5 py-1.5 text-xs outline-none",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border,color:F.text.primary},children:[k.jsx("option",{value:"",children:"All types"}),p.map(y=>k.jsx("option",{value:y,children:y},y))]}),k.jsx("button",{onClick:m,className:"p-1.5 rounded hover:bg-white/5",style:{color:F.text.secondary},title:"Export",children:k.jsx(oN,{size:14})}),k.jsx("button",{onClick:()=>n([]),className:"p-1.5 rounded hover:bg-white/5",style:{color:F.text.secondary},title:"Clear",children:k.jsx(vN,{size:14})})]})]}),k.jsxs("div",{ref:h,className:"flex-1 overflow-y-auto font-mono text-xs p-4 space-y-0.5",style:{backgroundColor:"#050506"},onScroll:()=>{if(!h.current)return;const{scrollTop:y,scrollHeight:x,clientHeight:b}=h.current;u(x-y-b<50)},children:[d.length===0&&k.jsx("p",{className:"text-center py-12",style:{color:F.text.muted},children:e.length===0?"No log entries yet":"No entries match filter"}),d.map((y,x)=>{const b=Cft[y.type]||F.text.secondary,S=_ft[y.type]||"",_=y.time?new Date(y.time).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"--:--:--";return k.jsxs("div",{className:"flex items-start gap-2 leading-relaxed py-0.5 hover:bg-white/[0.02] rounded px-1",children:[k.jsxs("span",{style:{color:F.text.muted},className:"flex-shrink-0 select-none",children:["[",_,"]"]}),k.jsx("span",{className:"flex-shrink-0",children:S}),k.jsx("span",{className:"font-semibold flex-shrink-0",style:{color:b},children:y.type}),y.agentId&&k.jsx("span",{className:"flex-shrink-0 px-1 rounded text-[9px]",style:{backgroundColor:b+"15",color:b},children:y.agentId}),k.jsx("span",{style:{color:F.text.primary},children:y.preview||y.message||(y.from?`from: ${y.from}`:"")})]},x)})]}),k.jsxs("div",{className:"px-4 py-2 border-t flex items-center justify-between text-[10px]",style:{borderColor:F.bg.border,color:F.text.muted},children:[k.jsxs("span",{children:[d.length," entries",r||s?` (filtered from ${e.length})`:""]}),k.jsx("span",{children:c?" Auto-scroll ON":" Auto-scroll OFF (scroll to bottom to resume)"})]})]})}),Tft=[{id:"cockpit",label:"Cockpit",icon:k.jsx(oH,{size:15}),shortcut:"1"},{id:"pipeline",label:"Pipeline",icon:k.jsx(J9,{size:15}),shortcut:"2"},{id:"gantt",label:"Gantt",icon:k.jsx(E9,{size:15}),shortcut:"3"},{id:"emergence",label:"Emergence",icon:k.jsx(fH,{size:15}),shortcut:"4"},{id:"strategy",label:"Strategy",icon:k.jsx(RH,{size:15}),shortcut:"5"},{id:"terminal",label:"Terminal",icon:k.jsx(bN,{size:15}),shortcut:"6"},{id:"diagrams",label:"Diagrams",icon:k.jsx(AH,{size:15}),shortcut:"7"},{id:"logs",label:"Logs",icon:k.jsx(_H,{size:15}),shortcut:"8"},{id:"docs",label:"Docs",icon:k.jsx(cN,{size:15}),shortcut:"9"}];function Eft(){const{bridge:t}=Mn();return k.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md text-[11px]",title:t.connected?`Connected to Clawdbot gateway (${t.latency}ms)`:"Disconnected from Clawdbot gateway",style:{color:t.connected?F.status.working:F.status.error,backgroundColor:t.connected?F.status.working+"10":F.status.error+"10"},children:[t.connected?k.jsx(VH,{size:12}):k.jsx(IH,{size:12}),k.jsx("span",{className:"hidden sm:inline",children:t.connected?"Connected":"Offline"})]})}function Aft(){const{currentView:t,setView:e,selectedAgentId:n}=Si(),{openCommandPalette:r}=Si(),[i,s]=A.useState(!1),[o,c]=A.useState(!1);A.useEffect(()=>{fetch("/api/project/config").then(h=>h.json()).then(h=>{(!h.configured||!h.name)&&s(!0),c(!0)}).catch(()=>c(!0))},[]),ZH(),KH(),QH("/api/state",15e3),JH();const u=n&&(t==="agent"||t==="cockpit")?"agent":n&&t==="terminal"?"terminal":t;return k.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",style:{backgroundColor:F.bg.primary},children:[k.jsxs("header",{className:"flex items-center justify-between px-3 py-1.5 border-b flex-shrink-0",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsxs("h1",{className:"text-sm font-bold tracking-tight flex items-center gap-1.5",style:{color:F.text.primary},children:[k.jsx("span",{className:"text-base",children:""})," AG Dev"]}),k.jsx("nav",{className:"flex items-center gap-0.5",children:Tft.map(h=>{const d=t===h.id||h.id==="cockpit"&&u==="agent";return k.jsxs("button",{onClick:()=>e(h.id),className:"flex items-center gap-1 px-2.5 py-1.5 rounded-md text-[11px] font-medium transition-all",style:{backgroundColor:d?F.bg.surfaceActive:"transparent",color:d?F.text.primary:F.text.secondary},children:[h.icon,k.jsx("span",{className:"hidden md:inline",children:h.label})]},h.id)})})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(Eft,{}),k.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-2.5 py-1 rounded-lg border text-[11px] transition-colors hover:border-white/20",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.secondary},children:[k.jsx(yN,{size:13}),k.jsx("span",{className:"hidden sm:inline",children:"Search..."}),k.jsx("kbd",{className:"text-[9px] px-1 py-px rounded border ml-2",style:{borderColor:F.bg.borderLight,color:F.text.muted},children:"K"})]})]})]}),k.jsx(Eq,{}),k.jsx("main",{className:"flex-1 flex overflow-hidden",children:k.jsx(Ea,{mode:"wait",children:k.jsxs(Ne.div,{className:"flex-1 flex",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.12},children:[u==="cockpit"&&k.jsx($q,{}),u==="agent"&&k.jsx(zq,{}),u==="pipeline"&&k.jsx(OW,{}),u==="gantt"&&k.jsx(Ctt,{}),u==="emergence"&&k.jsx(ptt,{}),u==="terminal"&&k.jsx(ytt,{}),u==="strategy"&&k.jsx(ktt,{}),u==="diagrams"&&k.jsx(Sft,{}),u==="logs"&&k.jsx(kft,{}),u==="docs"&&k.jsx($et,{})]},u)})}),k.jsx(Mq,{}),k.jsx(_q,{}),k.jsx(Tq,{}),k.jsx(Nq,{}),i&&k.jsx(Lq,{onComplete:()=>{s(!1),window.location.reload()}})]})}z6.createRoot(document.getElementById("root")).render(k.jsx(re.StrictMode,{children:k.jsx(Aft,{})}));export{KO as $,Ju as A,qet as B,hrt as C,T2 as D,HO as E,Yn as F,Aot as G,Drt as H,eA as I,jit as J,Tnt as K,cc as L,Oft as M,Cm as N,Unt as O,Q1 as P,fA as Q,wrt as R,vp as S,Eot as T,nd as U,Jnt as V,ed as W,At as X,zt as Y,bot as Z,D as _,art as a,Cc as a$,yrt as a0,yA as a1,mA as a2,Vft as a3,zft as a4,Ift as a5,Fft as a6,jft as a7,i2 as a8,Hft as a9,Hlt as aA,xrt as aB,Lft as aC,Sm as aD,wg as aE,m5 as aF,Rh as aG,od as aH,Flt as aI,Plt as aJ,Pi as aK,Xu as aL,Yst as aM,p5 as aN,o5 as aO,Kat as aP,xg as aQ,Qat as aR,ad as aS,io as aT,Hst as aU,$A as aV,No as aW,Jat as aX,b2 as aY,Zat as aZ,nst as a_,$ft as aa,_l as ab,Uft as ac,qft as ad,Pft as ae,fct as af,_$ as ag,ept as ah,zit as ai,Cn as aj,Ds as ak,m2 as al,Z5 as am,Ro as an,S5 as ao,Ut as ap,Wi as aq,iut as ar,tpt as as,npt as at,Qft as au,Lt as av,Jft as aw,Fct as ax,Bct as ay,Rct as az,irt as b,Wst as b0,got as b1,ost as b2,lot as b3,y2 as b4,mM as b5,Nt as b6,n5 as b7,Tr as b8,LG as b9,B1 as ba,YL as bb,Xh as bc,ZL as bd,Nft as be,Vet as bf,pot as bg,oot as bh,mot as bi,xm as bj,Gat as bk,x2 as bl,f5 as bm,xot as bn,Sc as bo,Jst as bp,Eut as bq,id as br,vg as bs,Ms as bt,LA as bu,v2 as bv,c5 as bw,$v as bx,ye as by,ge as c,Wt as d,ZO as e,wn as f,ort as g,Ma as h,ni as i,qit as j,vc as k,yt as l,_5 as m,Rft as n,ipt as o,lrt as p,crt as q,rpt as r,srt as s,$it as t,yi as u,Nct as v,Not as w,Wft as x,rrt as y,Bft as z};
