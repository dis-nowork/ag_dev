const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-DyhQoE6M.js","assets/graph-DqUa1GH4.js","assets/_baseUniq-DV6ql89Z.js","assets/layout-BSagvmsm.js","assets/min-1ErRrTC2.js","assets/clone-CIZZyStc.js","assets/cose-bilkent-S5V4N54A-muM0_7HI.js","assets/cytoscape.esm-5J0xJHOV.js","assets/c4Diagram-YG6GDRKO-Djqzazvf.js","assets/chunk-TZMSLE5B-KQuQGskb.js","assets/flowDiagram-NV44I4VS-B5xjCLHv.js","assets/chunk-FMBD7UC4-CJmcyYML.js","assets/chunk-55IACEB6-PQnwdm6j.js","assets/chunk-QN33PNHL-DqHCUDuY.js","assets/channel-iut0KIEu.js","assets/erDiagram-Q2GNP2WA-z0Gyy2kA.js","assets/gitGraphDiagram-NY62KEGX-vTZEFbY2.js","assets/chunk-4BX2VUAB-CpmaYqYC.js","assets/chunk-QZHKN3VN-DoJjcuYL.js","assets/treemap-KMMF4GRG-DuBiA8GI.js","assets/ganttDiagram-JELNMOA3-Ctqnxh_A.js","assets/linear-DVZ8HoV8.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-DX6XiGOO.js","assets/infoDiagram-WHAUD3N6-HLv0GVxG.js","assets/pieDiagram-ADFJNKIX--QQuEYnD.js","assets/arc-BH8JTOFg.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-WLXNJHVc.js","assets/xychartDiagram-PRI3JC2R-EPlMNzu_.js","assets/requirementDiagram-UZGBJVZJ-CVQG8WNB.js","assets/sequenceDiagram-WL72ISMW-Dg9ePxxy.js","assets/classDiagram-2ON5EDUG-BEKXQ7ER.js","assets/chunk-B4BG7PRW-CmX9xXHk.js","assets/classDiagram-v2-WZHVMYZB-BEKXQ7ER.js","assets/stateDiagram-FKZM4ZOC-BSPOXe00.js","assets/chunk-DI55MBZ5-BOhzvH9e.js","assets/stateDiagram-v2-4FDKWEC3-DVaj1zR1.js","assets/journeyDiagram-XKPGCS4Q-DgygRIio.js","assets/timeline-definition-IT6M3QCI-CMsohGh-.js","assets/mindmap-definition-VGOIOE7T-D6YNDqKg.js","assets/kanban-definition-3W4ZIXB7-CrQxP0Ke.js","assets/sankeyDiagram-TZEHDZUN-DzAg1YGX.js","assets/diagram-S2PKOQOG-CZQY3apa.js","assets/diagram-QEK2KX5R-Cr8KXtP8.js","assets/blockDiagram-VD42YOAC-CaYVrb5K.js","assets/architectureDiagram-VXUJARFQ-AkJPI0qX.js","assets/diagram-PSM6KHXK-CTO8u-fb.js"])))=>i.map(i=>d[i]);
function _6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Dh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j0={exports:{}},hu={};var T_;function T6(){if(T_)return hu;T_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return hu.Fragment=e,hu.jsx=n,hu.jsxs=n,hu}var k_;function k6(){return k_||(k_=1,j0.exports=T6()),j0.exports}var C=k6(),$0={exports:{}},Wt={};var E_;function E6(){if(E_)return Wt;E_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function _(I,P,G){this.props=I,this.context=P,this.refs=S,this.updater=G||x}_.prototype.isReactComponent={},_.prototype.setState=function(I,P){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,P,"setState")},_.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function E(){}E.prototype=_.prototype;function T(I,P,G){this.props=I,this.context=P,this.refs=S,this.updater=G||x}var A=T.prototype=new E;A.constructor=T,v(A,_.prototype),A.isPureReactComponent=!0;var D=Array.isArray;function B(){}var L={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function V(I,P,G){var J=G.ref;return{$$typeof:t,type:I,key:P,ref:J!==void 0?J:null,props:G}}function Y(I,P){return V(I.type,P,I.props)}function U(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function X(I){var P={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(G){return P[G]})}var Z=/\/+/g;function $(I,P){return typeof I=="object"&&I!==null&&I.key!=null?X(""+I.key):P.toString(36)}function q(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(B,B):(I.status="pending",I.then(function(P){I.status==="pending"&&(I.status="fulfilled",I.value=P)},function(P){I.status==="pending"&&(I.status="rejected",I.reason=P)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function R(I,P,G,J,nt){var ct=typeof I;(ct==="undefined"||ct==="boolean")&&(I=null);var ut=!1;if(I===null)ut=!0;else switch(ct){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(I.$$typeof){case t:case e:ut=!0;break;case f:return ut=I._init,R(ut(I._payload),P,G,J,nt)}}if(ut)return nt=nt(I),ut=J===""?"."+$(I,0):J,D(nt)?(G="",ut!=null&&(G=ut.replace(Z,"$&/")+"/"),R(nt,P,G,"",function(yt){return yt})):nt!=null&&(U(nt)&&(nt=Y(nt,G+(nt.key==null||I&&I.key===nt.key?"":(""+nt.key).replace(Z,"$&/")+"/")+ut)),P.push(nt)),1;ut=0;var ht=J===""?".":J+":";if(D(I))for(var pt=0;pt<I.length;pt++)J=I[pt],ct=ht+$(J,pt),ut+=R(J,P,G,ct,nt);else if(pt=y(I),typeof pt=="function")for(I=pt.call(I),pt=0;!(J=I.next()).done;)J=J.value,ct=ht+$(J,pt++),ut+=R(J,P,G,ct,nt);else if(ct==="object"){if(typeof I.then=="function")return R(q(I),P,G,J,nt);throw P=String(I),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ut}function F(I,P,G){if(I==null)return I;var J=[],nt=0;return R(I,J,"","",function(ct){return P.call(G,ct,nt++)}),J}function j(I){if(I._status===-1){var P=I._result;P=P(),P.then(function(G){(I._status===0||I._status===-1)&&(I._status=1,I._result=G)},function(G){(I._status===0||I._status===-1)&&(I._status=2,I._result=G)}),I._status===-1&&(I._status=0,I._result=P)}if(I._status===1)return I._result.default;throw I._result}var W=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Q={map:F,forEach:function(I,P,G){F(I,function(){P.apply(this,arguments)},G)},count:function(I){var P=0;return F(I,function(){P++}),P},toArray:function(I){return F(I,function(P){return P})||[]},only:function(I){if(!U(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Wt.Activity=p,Wt.Children=Q,Wt.Component=_,Wt.Fragment=n,Wt.Profiler=i,Wt.PureComponent=T,Wt.StrictMode=r,Wt.Suspense=u,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return L.H.useMemoCache(I)}},Wt.cache=function(I){return function(){return I.apply(null,arguments)}},Wt.cacheSignal=function(){return null},Wt.cloneElement=function(I,P,G){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var J=v({},I.props),nt=I.key;if(P!=null)for(ct in P.key!==void 0&&(nt=""+P.key),P)!z.call(P,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&P.ref===void 0||(J[ct]=P[ct]);var ct=arguments.length-2;if(ct===1)J.children=G;else if(1<ct){for(var ut=Array(ct),ht=0;ht<ct;ht++)ut[ht]=arguments[ht+2];J.children=ut}return V(I.type,nt,J)},Wt.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},Wt.createElement=function(I,P,G){var J,nt={},ct=null;if(P!=null)for(J in P.key!==void 0&&(ct=""+P.key),P)z.call(P,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(nt[J]=P[J]);var ut=arguments.length-2;if(ut===1)nt.children=G;else if(1<ut){for(var ht=Array(ut),pt=0;pt<ut;pt++)ht[pt]=arguments[pt+2];nt.children=ht}if(I&&I.defaultProps)for(J in ut=I.defaultProps,ut)nt[J]===void 0&&(nt[J]=ut[J]);return V(I,ct,nt)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(I){return{$$typeof:c,render:I}},Wt.isValidElement=U,Wt.lazy=function(I){return{$$typeof:f,_payload:{_status:-1,_result:I},_init:j}},Wt.memo=function(I,P){return{$$typeof:h,type:I,compare:P===void 0?null:P}},Wt.startTransition=function(I){var P=L.T,G={};L.T=G;try{var J=I(),nt=L.S;nt!==null&&nt(G,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(B,W)}catch(ct){W(ct)}finally{P!==null&&G.types!==null&&(P.types=G.types),L.T=P}},Wt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Wt.use=function(I){return L.H.use(I)},Wt.useActionState=function(I,P,G){return L.H.useActionState(I,P,G)},Wt.useCallback=function(I,P){return L.H.useCallback(I,P)},Wt.useContext=function(I){return L.H.useContext(I)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(I,P){return L.H.useDeferredValue(I,P)},Wt.useEffect=function(I,P){return L.H.useEffect(I,P)},Wt.useEffectEvent=function(I){return L.H.useEffectEvent(I)},Wt.useId=function(){return L.H.useId()},Wt.useImperativeHandle=function(I,P,G){return L.H.useImperativeHandle(I,P,G)},Wt.useInsertionEffect=function(I,P){return L.H.useInsertionEffect(I,P)},Wt.useLayoutEffect=function(I,P){return L.H.useLayoutEffect(I,P)},Wt.useMemo=function(I,P){return L.H.useMemo(I,P)},Wt.useOptimistic=function(I,P){return L.H.useOptimistic(I,P)},Wt.useReducer=function(I,P,G){return L.H.useReducer(I,P,G)},Wt.useRef=function(I){return L.H.useRef(I)},Wt.useState=function(I){return L.H.useState(I)},Wt.useSyncExternalStore=function(I,P,G){return L.H.useSyncExternalStore(I,P,G)},Wt.useTransition=function(){return L.H.useTransition()},Wt.version="19.2.4",Wt}var A_;function Nh(){return A_||(A_=1,$0.exports=E6()),$0.exports}var k=Nh();const re=Dh(k),Pv=_6({__proto__:null,default:re},[k]);var z0={exports:{}},du={},P0={exports:{}},F0={};var M_;function A6(){return M_||(M_=1,(function(t){function e(R,F){var j=R.length;R.push(F);t:for(;0<j;){var W=j-1>>>1,Q=R[W];if(0<i(Q,F))R[W]=F,R[j]=Q,j=W;else break t}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],j=R.pop();if(j!==F){R[0]=j;t:for(var W=0,Q=R.length,I=Q>>>1;W<I;){var P=2*(W+1)-1,G=R[P],J=P+1,nt=R[J];if(0>i(G,j))J<Q&&0>i(nt,G)?(R[W]=nt,R[J]=j,W=J):(R[W]=G,R[P]=j,W=P);else if(J<Q&&0>i(nt,j))R[W]=nt,R[J]=j,W=J;else break t}}return F}function i(R,F){var j=R.sortIndex-F.sortIndex;return j!==0?j:R.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],h=[],f=1,p=null,m=3,y=!1,x=!1,v=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function A(R){for(var F=n(h);F!==null;){if(F.callback===null)r(h);else if(F.startTime<=R)r(h),F.sortIndex=F.expirationTime,e(u,F);else break;F=n(h)}}function D(R){if(v=!1,A(R),!x)if(n(u)!==null)x=!0,B||(B=!0,X());else{var F=n(h);F!==null&&q(D,F.startTime-R)}}var B=!1,L=-1,z=5,V=-1;function Y(){return S?!0:!(t.unstable_now()-V<z)}function U(){if(S=!1,B){var R=t.unstable_now();V=R;var F=!0;try{t:{x=!1,v&&(v=!1,E(L),L=-1),y=!0;var j=m;try{e:{for(A(R),p=n(u);p!==null&&!(p.expirationTime>R&&Y());){var W=p.callback;if(typeof W=="function"){p.callback=null,m=p.priorityLevel;var Q=W(p.expirationTime<=R);if(R=t.unstable_now(),typeof Q=="function"){p.callback=Q,A(R),F=!0;break e}p===n(u)&&r(u),A(R)}else r(u);p=n(u)}if(p!==null)F=!0;else{var I=n(h);I!==null&&q(D,I.startTime-R),F=!1}}break t}finally{p=null,m=j,y=!1}F=void 0}}finally{F?X():B=!1}}}var X;if(typeof T=="function")X=function(){T(U)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=U,X=function(){$.postMessage(null)}}else X=function(){_(U,0)};function q(R,F){L=_(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var j=m;m=F;try{return R()}finally{m=j}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var j=m;m=R;try{return F()}finally{m=j}},t.unstable_scheduleCallback=function(R,F,j){var W=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?W+j:W):j=W,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=j+Q,R={id:f++,callback:F,priorityLevel:R,startTime:j,expirationTime:Q,sortIndex:-1},j>W?(R.sortIndex=j,e(h,R),n(u)===null&&R===n(h)&&(v?(E(L),L=-1):v=!0,q(D,j-W))):(R.sortIndex=Q,e(u,R),x||y||(x=!0,B||(B=!0,X()))),R},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(R){var F=m;return function(){var j=m;m=F;try{return R.apply(this,arguments)}finally{m=j}}}})(F0)),F0}var D_;function M6(){return D_||(D_=1,P0.exports=A6()),P0.exports}var I0={exports:{}},In={};var N_;function D6(){if(N_)return In;N_=1;var t=Nh();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:h,implementation:f}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(u,h,null,f)},In.flushSync=function(u){var h=l.T,f=r.p;try{if(l.T=null,r.p=2,u)return u()}finally{l.T=h,r.p=f,r.d.f()}},In.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},In.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},In.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):f==="script"&&r.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},In.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},In.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin);r.d.L(u,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},In.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=c(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},In.requestFormReset=function(u){r.d.r(u)},In.unstable_batchedUpdates=function(u,h){return u(h)},In.useFormState=function(u,h,f){return l.H.useFormState(u,h,f)},In.useFormStatus=function(){return l.H.useHostTransitionStatus()},In.version="19.2.4",In}var L_;function xM(){if(L_)return I0.exports;L_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),I0.exports=D6(),I0.exports}var B_;function N6(){if(B_)return du;B_=1;var t=M6(),e=Nh(),n=xM();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var d=a,g=o;;){var b=d.return;if(b===null)break;var w=b.alternate;if(w===null){if(g=b.return,g!==null){d=g;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===d)return u(b),a;if(w===g)return u(b),o;w=w.sibling}throw Error(r(188))}if(d.return!==g.return)d=b,g=w;else{for(var N=!1,H=b.child;H;){if(H===d){N=!0,d=b,g=w;break}if(H===g){N=!0,g=b,d=w;break}H=H.sibling}if(!N){for(H=w.child;H;){if(H===d){N=!0,d=w,g=b;break}if(H===g){N=!0,g=w,d=b;break}H=H.sibling}if(!N)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:o}function f(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=f(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var Z=Symbol.for("react.client.reference");function $(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Z?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case v:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case B:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case T:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case A:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case L:return o=a.displayName||null,o!==null?o:$(a.type)||"Memo";case z:o=a._payload,a=a._init;try{return $(a(o))}catch{}}return null}var q=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},W=[],Q=-1;function I(a){return{current:a}}function P(a){0>Q||(a.current=W[Q],W[Q]=null,Q--)}function G(a,o){Q++,W[Q]=a.current,a.current=o}var J=I(null),nt=I(null),ct=I(null),ut=I(null);function ht(a,o){switch(G(ct,o),G(nt,a),G(J,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?GC(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=GC(o),a=XC(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}P(J),G(J,a)}function pt(){P(J),P(nt),P(ct)}function yt(a){a.memoizedState!==null&&G(ut,a);var o=J.current,d=XC(o,a.type);o!==d&&(G(nt,a),G(J,d))}function Lt(a){nt.current===a&&(P(J),P(nt)),ut.current===a&&(P(ut),ou._currentValue=j)}var vt,Et;function zt(a){if(vt===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);vt=o&&o[1]||"",Et=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vt+a+Et}var Zt=!1;function Xt(a,o){if(!a||Zt)return"";Zt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(lt){var ot=lt}Reflect.construct(a,[],gt)}else{try{gt.call()}catch(lt){ot=lt}a.call(gt.prototype)}}else{try{throw Error()}catch(lt){ot=lt}(gt=a())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(lt){if(lt&&ot&&typeof lt.stack=="string")return[lt.stack,ot.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),N=w[0],H=w[1];if(N&&H){var K=N.split(`
`),st=H.split(`
`);for(b=g=0;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;for(;b<st.length&&!st[b].includes("DetermineComponentFrameRoot");)b++;if(g===K.length||b===st.length)for(g=K.length-1,b=st.length-1;1<=g&&0<=b&&K[g]!==st[b];)b--;for(;1<=g&&0<=b;g--,b--)if(K[g]!==st[b]){if(g!==1||b!==1)do if(g--,b--,0>b||K[g]!==st[b]){var dt=`
`+K[g].replace(" at new "," at ");return a.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",a.displayName)),dt}while(1<=g&&0<=b);break}}}finally{Zt=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?zt(d):""}function Se(a,o){switch(a.tag){case 26:case 27:case 5:return zt(a.type);case 16:return zt("Lazy");case 13:return a.child!==o&&o!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return Xt(a.type,!1);case 11:return Xt(a.type.render,!1);case 1:return Xt(a.type,!0);case 31:return zt("Activity");default:return""}}function hn(a){try{var o="",d=null;do o+=Se(a,d),d=a,a=a.return;while(a);return o}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var We=Object.prototype.hasOwnProperty,Ve=t.unstable_scheduleCallback,An=t.unstable_cancelCallback,or=t.unstable_shouldYield,lr=t.unstable_requestPaint,Ae=t.unstable_now,Xn=t.unstable_getCurrentPriorityLevel,Sn=t.unstable_ImmediatePriority,Cn=t.unstable_UserBlockingPriority,Mn=t.unstable_NormalPriority,zr=t.unstable_LowPriority,Tr=t.unstable_IdlePriority,Zn=t.log,ni=t.unstable_setDisableYieldValue,cr=null,ke=null;function Qe(a){if(typeof Zn=="function"&&ni(a),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(cr,a)}catch{}}var Ye=Math.clz32?Math.clz32:Ti,Yi=Math.log,Da=Math.LN2;function Ti(a){return a>>>=0,a===0?32:31-(Yi(a)/Da|0)|0}var kr=256,ki=262144,ye=4194304;function Ne(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ge(a,o,d){var g=a.pendingLanes;if(g===0)return 0;var b=0,w=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var H=g&134217727;return H!==0?(g=H&~w,g!==0?b=Ne(g):(N&=H,N!==0?b=Ne(N):d||(d=H&~a,d!==0&&(b=Ne(d))))):(H=g&~w,H!==0?b=Ne(H):N!==0?b=Ne(N):d||(d=g&~a,d!==0&&(b=Ne(d)))),b===0?0:o!==0&&o!==b&&(o&w)===0&&(w=b&-b,d=o&-o,w>=d||w===32&&(d&4194048)!==0)?o:b}function ie(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function qe(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nn(){var a=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),a}function dn(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function _n(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ze(a,o,d,g,b,w){var N=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var H=a.entanglements,K=a.expirationTimes,st=a.hiddenUpdates;for(d=N&~d;0<d;){var dt=31-Ye(d),gt=1<<dt;H[dt]=0,K[dt]=-1;var ot=st[dt];if(ot!==null)for(st[dt]=null,dt=0;dt<ot.length;dt++){var lt=ot[dt];lt!==null&&(lt.lane&=-536870913)}d&=~gt}g!==0&&Pn(a,g,0),w!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=w&~(N&~o))}function Pn(a,o,d){a.pendingLanes|=o,a.suspendedLanes&=~o;var g=31-Ye(o);a.entangledLanes|=o,a.entanglements[g]=a.entanglements[g]|1073741824|d&261930}function Dn(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var g=31-Ye(d),b=1<<g;b&o|a[g]&o&&(a[g]|=o),d&=~b}}function Le(a,o){var d=o&-o;return d=(d&42)!==0?1:fn(d),(d&(a.suspendedLanes|o))!==0?0:d}function fn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ur(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Fn(){var a=F.p;return a!==0?a:(a=window.event,a===void 0?32:x_(a.type))}function hr(a,o){var d=F.p;try{return F.p=a,o()}finally{F.p=d}}var Nn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Nn,pn="__reactProps$"+Nn,Pr="__reactContainer$"+Nn,Gi="__reactEvents$"+Nn,Ds="__reactListeners$"+Nn,Sc="__reactHandles$"+Nn,Bt="__reactResources$"+Nn,tt="__reactMarker$"+Nn;function xt(a){delete a[xe],delete a[pn],delete a[Gi],delete a[Ds],delete a[Sc]}function St(a){var o=a[xe];if(o)return o;for(var d=a.parentNode;d;){if(o=d[Pr]||d[xe]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=n_(a);a!==null;){if(d=a[xe])return d;a=n_(a)}return o}a=d,d=a.parentNode}return null}function le(a){if(a=a[xe]||a[Pr]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Be(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function be(a){var o=a[Bt];return o||(o=a[Bt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ae(a){a[tt]=!0}var dr=new Set,ri={};function Er(a,o){Me(a,o),Me(a+"Capture",o)}function Me(a,o){for(ri[a]=o,a=0;a<o.length;a++)dr.add(o[a])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Na={},ad={};function Mm(a){return We.call(ad,a)?!0:We.call(Na,a)?!1:Bo.test(a)?ad[a]=!0:(Na[a]=!0,!1)}function Ro(a,o,d){if(Mm(o))if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+d)}}function Oo(a,o,d){if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+d)}}function ii(a,o,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(o,d,""+g)}}function fr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function sd(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Dm(a,o,d){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var b=g.get,w=g.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return b.call(this)},set:function(N){d=""+N,w.call(this,N)}}),Object.defineProperty(a,o,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(N){d=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function jo(a){if(!a._valueTracker){var o=sd(a)?"checked":"value";a._valueTracker=Dm(a,o,""+a[o])}}function od(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),g="";return a&&(g=sd(a)?a.checked?"true":"false":a.value),a=g,a!==d?(o.setValue(a),!0):!1}function Ns(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Nm=/[\n"\\]/g;function pr(a){return a.replace(Nm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ls(a,o,d,g,b,w,N,H){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+fr(o)):a.value!==""+fr(o)&&(a.value=""+fr(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?Cc(a,N,fr(o)):d!=null?Cc(a,N,fr(d)):g!=null&&a.removeAttribute("value"),b==null&&w!=null&&(a.defaultChecked=!!w),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+fr(H):a.removeAttribute("name")}function ld(a,o,d,g,b,w,N,H){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){jo(a);return}d=d!=null?""+fr(d):"",o=o!=null?""+fr(o):d,H||o===a.value||(a.value=o),a.defaultValue=o}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=H?a.checked:!!g,a.defaultChecked=!!g,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),jo(a)}function Cc(a,o,d){o==="number"&&Ns(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Xi(a,o,d,g){if(a=a.options,o){o={};for(var b=0;b<d.length;b++)o["$"+d[b]]=!0;for(d=0;d<a.length;d++)b=o.hasOwnProperty("$"+a[d].value),a[d].selected!==b&&(a[d].selected=b),b&&g&&(a[d].defaultSelected=!0)}else{for(d=""+fr(d),o=null,b=0;b<a.length;b++){if(a[b].value===d){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}o!==null||a[b].disabled||(o=a[b])}o!==null&&(o.selected=!0)}}function V2(a,o,d){if(o!=null&&(o=""+fr(o),o!==a.value&&(a.value=o),d==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=d!=null?""+fr(d):""}function q2(a,o,d,g){if(o==null){if(g!=null){if(d!=null)throw Error(r(92));if(q(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),o=d}d=fr(o),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g),jo(a)}function $o(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var b$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function U2(a,o,d){var g=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":g?a.setProperty(o,d):typeof d!="number"||d===0||b$.has(o)?o==="float"?a.cssFloat=d:a[o]=(""+d).trim():a[o]=d+"px"}function W2(a,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var b in o)g=o[b],o.hasOwnProperty(b)&&d[b]!==g&&U2(a,b,g)}else for(var w in o)o.hasOwnProperty(w)&&U2(a,w,o[w])}function Lm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cd(a){return w$.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Zi(){}var Bm=null;function Rm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var zo=null,Po=null;function Y2(a){var o=le(a);if(o&&(a=o.stateNode)){var d=a[pn]||null;t:switch(a=o.stateNode,o.type){case"input":if(Ls(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+pr(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var g=d[o];if(g!==a&&g.form===a.form){var b=g[pn]||null;if(!b)throw Error(r(90));Ls(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<d.length;o++)g=d[o],g.form===a.form&&od(g)}break t;case"textarea":V2(a,d.value,d.defaultValue);break t;case"select":o=d.value,o!=null&&Xi(a,!!d.multiple,o,!1)}}}var Om=!1;function G2(a,o,d){if(Om)return a(o,d);Om=!0;try{var g=a(o);return g}finally{if(Om=!1,(zo!==null||Po!==null)&&(Zd(),zo&&(o=zo,a=Po,Po=zo=null,Y2(o),a)))for(o=0;o<a.length;o++)Y2(a[o])}}function _c(a,o){var d=a.stateNode;if(d===null)return null;var g=d[pn]||null;if(g===null)return null;d=g[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break t;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=!1;if(Ki)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){jm=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{jm=!1}var La=null,$m=null,ud=null;function X2(){if(ud)return ud;var a,o=$m,d=o.length,g,b="value"in La?La.value:La.textContent,w=b.length;for(a=0;a<d&&o[a]===b[a];a++);var N=d-a;for(g=1;g<=N&&o[d-g]===b[w-g];g++);return ud=b.slice(a,1<g?1-g:void 0)}function hd(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function dd(){return!0}function Z2(){return!1}function gr(a){function o(d,g,b,w,N){this._reactName=d,this._targetInst=b,this.type=g,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(d=a[H],this[H]=d?d(w):w[H]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?dd:Z2,this.isPropagationStopped=Z2,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),o}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fd=gr(Bs),kc=p({},Bs,{view:0,detail:0}),S$=gr(kc),zm,Pm,Ec,pd=p({},kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ec&&(Ec&&a.type==="mousemove"?(zm=a.screenX-Ec.screenX,Pm=a.screenY-Ec.screenY):Pm=zm=0,Ec=a),zm)},movementY:function(a){return"movementY"in a?a.movementY:Pm}}),K2=gr(pd),C$=p({},pd,{dataTransfer:0}),_$=gr(C$),T$=p({},kc,{relatedTarget:0}),Fm=gr(T$),k$=p({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),E$=gr(k$),A$=p({},Bs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),M$=gr(A$),D$=p({},Bs,{data:0}),Q2=gr(D$),N$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R$(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=B$[a])?!!o[a]:!1}function Im(){return R$}var O$=p({},kc,{key:function(a){if(a.key){var o=N$[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=hd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?L$[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(a){return a.type==="keypress"?hd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?hd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),j$=gr(O$),$$=p({},pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J2=gr($$),z$=p({},kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),P$=gr(z$),F$=p({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),I$=gr(F$),H$=p({},pd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),V$=gr(H$),q$=p({},Bs,{newState:0,oldState:0}),U$=gr(q$),W$=[9,13,27,32],Hm=Ki&&"CompositionEvent"in window,Ac=null;Ki&&"documentMode"in document&&(Ac=document.documentMode);var Y$=Ki&&"TextEvent"in window&&!Ac,tw=Ki&&(!Hm||Ac&&8<Ac&&11>=Ac),ew=" ",nw=!1;function rw(a,o){switch(a){case"keyup":return W$.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Fo=!1;function G$(a,o){switch(a){case"compositionend":return iw(o);case"keypress":return o.which!==32?null:(nw=!0,ew);case"textInput":return a=o.data,a===ew&&nw?null:a;default:return null}}function X$(a,o){if(Fo)return a==="compositionend"||!Hm&&rw(a,o)?(a=X2(),ud=$m=La=null,Fo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return tw&&o.locale!=="ko"?null:o.data;default:return null}}var Z$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aw(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Z$[a.type]:o==="textarea"}function sw(a,o,d,g){zo?Po?Po.push(g):Po=[g]:zo=g,o=rf(o,"onChange"),0<o.length&&(d=new fd("onChange","change",null,d,g),a.push({event:d,listeners:o}))}var Mc=null,Dc=null;function K$(a){HC(a,0)}function gd(a){var o=Be(a);if(od(o))return a}function ow(a,o){if(a==="change")return o}var lw=!1;if(Ki){var Vm;if(Ki){var qm="oninput"in document;if(!qm){var cw=document.createElement("div");cw.setAttribute("oninput","return;"),qm=typeof cw.oninput=="function"}Vm=qm}else Vm=!1;lw=Vm&&(!document.documentMode||9<document.documentMode)}function uw(){Mc&&(Mc.detachEvent("onpropertychange",hw),Dc=Mc=null)}function hw(a){if(a.propertyName==="value"&&gd(Dc)){var o=[];sw(o,Dc,a,Rm(a)),G2(K$,o)}}function Q$(a,o,d){a==="focusin"?(uw(),Mc=o,Dc=d,Mc.attachEvent("onpropertychange",hw)):a==="focusout"&&uw()}function J$(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return gd(Dc)}function tz(a,o){if(a==="click")return gd(o)}function ez(a,o){if(a==="input"||a==="change")return gd(o)}function nz(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Ar=typeof Object.is=="function"?Object.is:nz;function Nc(a,o){if(Ar(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),g=Object.keys(o);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var b=d[g];if(!We.call(o,b)||!Ar(a[b],o[b]))return!1}return!0}function dw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function fw(a,o){var d=dw(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=o&&g>=o)return{node:d,offset:o-a};a=g}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=dw(d)}}function pw(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?pw(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function gw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ns(a.document);o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=Ns(a.document)}return o}function Um(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var rz=Ki&&"documentMode"in document&&11>=document.documentMode,Io=null,Wm=null,Lc=null,Ym=!1;function mw(a,o,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ym||Io==null||Io!==Ns(g)||(g=Io,"selectionStart"in g&&Um(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Lc&&Nc(Lc,g)||(Lc=g,g=rf(Wm,"onSelect"),0<g.length&&(o=new fd("onSelect","select",null,o,d),a.push({event:o,listeners:g}),o.target=Io)))}function Rs(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var Ho={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Gm={},yw={};Ki&&(yw=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function Os(a){if(Gm[a])return Gm[a];if(!Ho[a])return a;var o=Ho[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in yw)return Gm[a]=o[d];return a}var xw=Os("animationend"),bw=Os("animationiteration"),vw=Os("animationstart"),iz=Os("transitionrun"),az=Os("transitionstart"),sz=Os("transitioncancel"),ww=Os("transitionend"),Sw=new Map,Xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xm.push("scrollEnd");function ai(a,o){Sw.set(a,o),Er(o,[a])}var md=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Fr=[],Vo=0,Zm=0;function yd(){for(var a=Vo,o=Zm=Vo=0;o<a;){var d=Fr[o];Fr[o++]=null;var g=Fr[o];Fr[o++]=null;var b=Fr[o];Fr[o++]=null;var w=Fr[o];if(Fr[o++]=null,g!==null&&b!==null){var N=g.pending;N===null?b.next=b:(b.next=N.next,N.next=b),g.pending=b}w!==0&&Cw(d,b,w)}}function xd(a,o,d,g){Fr[Vo++]=a,Fr[Vo++]=o,Fr[Vo++]=d,Fr[Vo++]=g,Zm|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Km(a,o,d,g){return xd(a,o,d,g),bd(a)}function js(a,o){return xd(a,null,null,o),bd(a)}function Cw(a,o,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var b=!1,w=a.return;w!==null;)w.childLanes|=d,g=w.alternate,g!==null&&(g.childLanes|=d),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(b=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,b&&o!==null&&(b=31-Ye(d),a=w.hiddenUpdates,g=a[b],g===null?a[b]=[o]:g.push(o),o.lane=d|536870912),w):null}function bd(a){if(50<tu)throw tu=0,s0=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var qo={};function oz(a,o,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(a,o,d,g){return new oz(a,o,d,g)}function Qm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qi(a,o){var d=a.alternate;return d===null?(d=Mr(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function _w(a,o){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,o=d.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function vd(a,o,d,g,b,w){var N=0;if(g=a,typeof a=="function")Qm(a)&&(N=1);else if(typeof a=="string")N=d6(a,d,J.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case V:return a=Mr(31,d,o,b),a.elementType=V,a.lanes=w,a;case v:return $s(d.children,b,w,o);case S:N=8,b|=24;break;case _:return a=Mr(12,d,o,b|2),a.elementType=_,a.lanes=w,a;case D:return a=Mr(13,d,o,b),a.elementType=D,a.lanes=w,a;case B:return a=Mr(19,d,o,b),a.elementType=B,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:N=10;break t;case E:N=9;break t;case A:N=11;break t;case L:N=14;break t;case z:N=16,g=null;break t}N=29,d=Error(r(130,a===null?"null":typeof a,"")),g=null}return o=Mr(N,d,o,b),o.elementType=a,o.type=g,o.lanes=w,o}function $s(a,o,d,g){return a=Mr(7,a,g,o),a.lanes=d,a}function Jm(a,o,d){return a=Mr(6,a,null,o),a.lanes=d,a}function Tw(a){var o=Mr(18,null,null,0);return o.stateNode=a,o}function ty(a,o,d){return o=Mr(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var kw=new WeakMap;function Ir(a,o){if(typeof a=="object"&&a!==null){var d=kw.get(a);return d!==void 0?d:(o={value:a,source:o,stack:hn(o)},kw.set(a,o),o)}return{value:a,source:o,stack:hn(o)}}var Uo=[],Wo=0,wd=null,Bc=0,Hr=[],Vr=0,Ba=null,Ei=1,Ai="";function Ji(a,o){Uo[Wo++]=Bc,Uo[Wo++]=wd,wd=a,Bc=o}function Ew(a,o,d){Hr[Vr++]=Ei,Hr[Vr++]=Ai,Hr[Vr++]=Ba,Ba=a;var g=Ei;a=Ai;var b=32-Ye(g)-1;g&=~(1<<b),d+=1;var w=32-Ye(o)+b;if(30<w){var N=b-b%5;w=(g&(1<<N)-1).toString(32),g>>=N,b-=N,Ei=1<<32-Ye(o)+b|d<<b|g,Ai=w+a}else Ei=1<<w|d<<b|g,Ai=a}function ey(a){a.return!==null&&(Ji(a,1),Ew(a,1,0))}function ny(a){for(;a===wd;)wd=Uo[--Wo],Uo[Wo]=null,Bc=Uo[--Wo],Uo[Wo]=null;for(;a===Ba;)Ba=Hr[--Vr],Hr[Vr]=null,Ai=Hr[--Vr],Hr[Vr]=null,Ei=Hr[--Vr],Hr[Vr]=null}function Aw(a,o){Hr[Vr++]=Ei,Hr[Vr++]=Ai,Hr[Vr++]=Ba,Ei=o.id,Ai=o.overflow,Ba=a}var Ln=null,Re=null,se=!1,Ra=null,qr=!1,ry=Error(r(519));function Oa(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rc(Ir(o,a)),ry}function Mw(a){var o=a.stateNode,d=a.type,g=a.memoizedProps;switch(o[xe]=a,o[pn]=g,d){case"dialog":Qt("cancel",o),Qt("close",o);break;case"iframe":case"object":case"embed":Qt("load",o);break;case"video":case"audio":for(d=0;d<nu.length;d++)Qt(nu[d],o);break;case"source":Qt("error",o);break;case"img":case"image":case"link":Qt("error",o),Qt("load",o);break;case"details":Qt("toggle",o);break;case"input":Qt("invalid",o),ld(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Qt("invalid",o);break;case"textarea":Qt("invalid",o),q2(o,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||g.suppressHydrationWarning===!0||WC(o.textContent,d)?(g.popover!=null&&(Qt("beforetoggle",o),Qt("toggle",o)),g.onScroll!=null&&Qt("scroll",o),g.onScrollEnd!=null&&Qt("scrollend",o),g.onClick!=null&&(o.onclick=Zi),o=!0):o=!1,o||Oa(a,!0)}function Dw(a){for(Ln=a.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:Ln=Ln.return}}function Yo(a){if(a!==Ln)return!1;if(!se)return Dw(a),se=!0,!1;var o=a.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||w0(a.type,a.memoizedProps)),d=!d),d&&Re&&Oa(a),Dw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Re=e_(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Re=e_(a)}else o===27?(o=Re,Xa(a.type)?(a=k0,k0=null,Re=a):Re=o):Re=Ln?Wr(a.stateNode.nextSibling):null;return!0}function zs(){Re=Ln=null,se=!1}function iy(){var a=Ra;return a!==null&&(br===null?br=a:br.push.apply(br,a),Ra=null),a}function Rc(a){Ra===null?Ra=[a]:Ra.push(a)}var ay=I(null),Ps=null,ta=null;function ja(a,o,d){G(ay,o._currentValue),o._currentValue=d}function ea(a){a._currentValue=ay.current,P(ay)}function sy(a,o,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),a===d)break;a=a.return}}function oy(a,o,d,g){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var w=b.dependencies;if(w!==null){var N=b.child;w=w.firstContext;t:for(;w!==null;){var H=w;w=b;for(var K=0;K<o.length;K++)if(H.context===o[K]){w.lanes|=d,H=w.alternate,H!==null&&(H.lanes|=d),sy(w.return,d,a),g||(N=null);break t}w=H.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(r(341));N.lanes|=d,w=N.alternate,w!==null&&(w.lanes|=d),sy(N,d,a),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===a){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function Go(a,o,d,g){a=null;for(var b=o,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var H=b.type;Ar(b.pendingProps.value,N.value)||(a!==null?a.push(H):a=[H])}}else if(b===ut.current){if(N=b.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(ou):a=[ou])}b=b.return}a!==null&&oy(o,a,d,g),o.flags|=262144}function Sd(a){for(a=a.firstContext;a!==null;){if(!Ar(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Fs(a){Ps=a,ta=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Bn(a){return Nw(Ps,a)}function Cd(a,o){return Ps===null&&Fs(a),Nw(a,o)}function Nw(a,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},ta===null){if(a===null)throw Error(r(308));ta=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ta=ta.next=o;return d}var lz=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){o.aborted=!0,a.forEach(function(d){return d()})}},cz=t.unstable_scheduleCallback,uz=t.unstable_NormalPriority,rn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ly(){return{controller:new lz,data:new Map,refCount:0}}function Oc(a){a.refCount--,a.refCount===0&&cz(uz,function(){a.controller.abort()})}var jc=null,cy=0,Xo=0,Zo=null;function hz(a,o){if(jc===null){var d=jc=[];cy=0,Xo=d0(),Zo={status:"pending",value:void 0,then:function(g){d.push(g)}}}return cy++,o.then(Lw,Lw),o}function Lw(){if(--cy===0&&jc!==null){Zo!==null&&(Zo.status="fulfilled");var a=jc;jc=null,Xo=0,Zo=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function dz(a,o){var d=[],g={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return a.then(function(){g.status="fulfilled",g.value=o;for(var b=0;b<d.length;b++)(0,d[b])(o)},function(b){for(g.status="rejected",g.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),g}var Bw=R.S;R.S=function(a,o){mC=Ae(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&hz(a,o),Bw!==null&&Bw(a,o)};var Is=I(null);function uy(){var a=Is.current;return a!==null?a:Ee.pooledCache}function _d(a,o){o===null?G(Is,Is.current):G(Is,o.pool)}function Rw(){var a=uy();return a===null?null:{parent:rn._currentValue,pool:a}}var Ko=Error(r(460)),hy=Error(r(474)),Td=Error(r(542)),kd={then:function(){}};function Ow(a){return a=a.status,a==="fulfilled"||a==="rejected"}function jw(a,o,d){switch(d=a[d],d===void 0?a.push(o):d!==o&&(o.then(Zi,Zi),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,zw(a),a;default:if(typeof o.status=="string")o.then(Zi,Zi);else{if(a=Ee,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(g){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=g}},function(g){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,zw(a),a}throw Vs=o,Ko}}function Hs(a){try{var o=a._init;return o(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Vs=d,Ko):d}}var Vs=null;function $w(){if(Vs===null)throw Error(r(459));var a=Vs;return Vs=null,a}function zw(a){if(a===Ko||a===Td)throw Error(r(483))}var Qo=null,$c=0;function Ed(a){var o=$c;return $c+=1,Qo===null&&(Qo=[]),jw(Qo,a,o)}function zc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Ad(a,o){throw o.$$typeof===m?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Pw(a){function o(rt,et){if(a){var at=rt.deletions;at===null?(rt.deletions=[et],rt.flags|=16):at.push(et)}}function d(rt,et){if(!a)return null;for(;et!==null;)o(rt,et),et=et.sibling;return null}function g(rt){for(var et=new Map;rt!==null;)rt.key!==null?et.set(rt.key,rt):et.set(rt.index,rt),rt=rt.sibling;return et}function b(rt,et){return rt=Qi(rt,et),rt.index=0,rt.sibling=null,rt}function w(rt,et,at){return rt.index=at,a?(at=rt.alternate,at!==null?(at=at.index,at<et?(rt.flags|=67108866,et):at):(rt.flags|=67108866,et)):(rt.flags|=1048576,et)}function N(rt){return a&&rt.alternate===null&&(rt.flags|=67108866),rt}function H(rt,et,at,ft){return et===null||et.tag!==6?(et=Jm(at,rt.mode,ft),et.return=rt,et):(et=b(et,at),et.return=rt,et)}function K(rt,et,at,ft){var jt=at.type;return jt===v?dt(rt,et,at.props.children,ft,at.key):et!==null&&(et.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===z&&Hs(jt)===et.type)?(et=b(et,at.props),zc(et,at),et.return=rt,et):(et=vd(at.type,at.key,at.props,null,rt.mode,ft),zc(et,at),et.return=rt,et)}function st(rt,et,at,ft){return et===null||et.tag!==4||et.stateNode.containerInfo!==at.containerInfo||et.stateNode.implementation!==at.implementation?(et=ty(at,rt.mode,ft),et.return=rt,et):(et=b(et,at.children||[]),et.return=rt,et)}function dt(rt,et,at,ft,jt){return et===null||et.tag!==7?(et=$s(at,rt.mode,ft,jt),et.return=rt,et):(et=b(et,at),et.return=rt,et)}function gt(rt,et,at){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=Jm(""+et,rt.mode,at),et.return=rt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case y:return at=vd(et.type,et.key,et.props,null,rt.mode,at),zc(at,et),at.return=rt,at;case x:return et=ty(et,rt.mode,at),et.return=rt,et;case z:return et=Hs(et),gt(rt,et,at)}if(q(et)||X(et))return et=$s(et,rt.mode,at,null),et.return=rt,et;if(typeof et.then=="function")return gt(rt,Ed(et),at);if(et.$$typeof===T)return gt(rt,Cd(rt,et),at);Ad(rt,et)}return null}function ot(rt,et,at,ft){var jt=et!==null?et.key:null;if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return jt!==null?null:H(rt,et,""+at,ft);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case y:return at.key===jt?K(rt,et,at,ft):null;case x:return at.key===jt?st(rt,et,at,ft):null;case z:return at=Hs(at),ot(rt,et,at,ft)}if(q(at)||X(at))return jt!==null?null:dt(rt,et,at,ft,null);if(typeof at.then=="function")return ot(rt,et,Ed(at),ft);if(at.$$typeof===T)return ot(rt,et,Cd(rt,at),ft);Ad(rt,at)}return null}function lt(rt,et,at,ft,jt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return rt=rt.get(at)||null,H(et,rt,""+ft,jt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case y:return rt=rt.get(ft.key===null?at:ft.key)||null,K(et,rt,ft,jt);case x:return rt=rt.get(ft.key===null?at:ft.key)||null,st(et,rt,ft,jt);case z:return ft=Hs(ft),lt(rt,et,at,ft,jt)}if(q(ft)||X(ft))return rt=rt.get(at)||null,dt(et,rt,ft,jt,null);if(typeof ft.then=="function")return lt(rt,et,at,Ed(ft),jt);if(ft.$$typeof===T)return lt(rt,et,at,Cd(et,ft),jt);Ad(et,ft)}return null}function Ct(rt,et,at,ft){for(var jt=null,ce=null,Nt=et,Gt=et=0,ne=null;Nt!==null&&Gt<at.length;Gt++){Nt.index>Gt?(ne=Nt,Nt=null):ne=Nt.sibling;var ue=ot(rt,Nt,at[Gt],ft);if(ue===null){Nt===null&&(Nt=ne);break}a&&Nt&&ue.alternate===null&&o(rt,Nt),et=w(ue,et,Gt),ce===null?jt=ue:ce.sibling=ue,ce=ue,Nt=ne}if(Gt===at.length)return d(rt,Nt),se&&Ji(rt,Gt),jt;if(Nt===null){for(;Gt<at.length;Gt++)Nt=gt(rt,at[Gt],ft),Nt!==null&&(et=w(Nt,et,Gt),ce===null?jt=Nt:ce.sibling=Nt,ce=Nt);return se&&Ji(rt,Gt),jt}for(Nt=g(Nt);Gt<at.length;Gt++)ne=lt(Nt,rt,Gt,at[Gt],ft),ne!==null&&(a&&ne.alternate!==null&&Nt.delete(ne.key===null?Gt:ne.key),et=w(ne,et,Gt),ce===null?jt=ne:ce.sibling=ne,ce=ne);return a&&Nt.forEach(function(ts){return o(rt,ts)}),se&&Ji(rt,Gt),jt}function Ft(rt,et,at,ft){if(at==null)throw Error(r(151));for(var jt=null,ce=null,Nt=et,Gt=et=0,ne=null,ue=at.next();Nt!==null&&!ue.done;Gt++,ue=at.next()){Nt.index>Gt?(ne=Nt,Nt=null):ne=Nt.sibling;var ts=ot(rt,Nt,ue.value,ft);if(ts===null){Nt===null&&(Nt=ne);break}a&&Nt&&ts.alternate===null&&o(rt,Nt),et=w(ts,et,Gt),ce===null?jt=ts:ce.sibling=ts,ce=ts,Nt=ne}if(ue.done)return d(rt,Nt),se&&Ji(rt,Gt),jt;if(Nt===null){for(;!ue.done;Gt++,ue=at.next())ue=gt(rt,ue.value,ft),ue!==null&&(et=w(ue,et,Gt),ce===null?jt=ue:ce.sibling=ue,ce=ue);return se&&Ji(rt,Gt),jt}for(Nt=g(Nt);!ue.done;Gt++,ue=at.next())ue=lt(Nt,rt,Gt,ue.value,ft),ue!==null&&(a&&ue.alternate!==null&&Nt.delete(ue.key===null?Gt:ue.key),et=w(ue,et,Gt),ce===null?jt=ue:ce.sibling=ue,ce=ue);return a&&Nt.forEach(function(C6){return o(rt,C6)}),se&&Ji(rt,Gt),jt}function Te(rt,et,at,ft){if(typeof at=="object"&&at!==null&&at.type===v&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case y:t:{for(var jt=at.key;et!==null;){if(et.key===jt){if(jt=at.type,jt===v){if(et.tag===7){d(rt,et.sibling),ft=b(et,at.props.children),ft.return=rt,rt=ft;break t}}else if(et.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===z&&Hs(jt)===et.type){d(rt,et.sibling),ft=b(et,at.props),zc(ft,at),ft.return=rt,rt=ft;break t}d(rt,et);break}else o(rt,et);et=et.sibling}at.type===v?(ft=$s(at.props.children,rt.mode,ft,at.key),ft.return=rt,rt=ft):(ft=vd(at.type,at.key,at.props,null,rt.mode,ft),zc(ft,at),ft.return=rt,rt=ft)}return N(rt);case x:t:{for(jt=at.key;et!==null;){if(et.key===jt)if(et.tag===4&&et.stateNode.containerInfo===at.containerInfo&&et.stateNode.implementation===at.implementation){d(rt,et.sibling),ft=b(et,at.children||[]),ft.return=rt,rt=ft;break t}else{d(rt,et);break}else o(rt,et);et=et.sibling}ft=ty(at,rt.mode,ft),ft.return=rt,rt=ft}return N(rt);case z:return at=Hs(at),Te(rt,et,at,ft)}if(q(at))return Ct(rt,et,at,ft);if(X(at)){if(jt=X(at),typeof jt!="function")throw Error(r(150));return at=jt.call(at),Ft(rt,et,at,ft)}if(typeof at.then=="function")return Te(rt,et,Ed(at),ft);if(at.$$typeof===T)return Te(rt,et,Cd(rt,at),ft);Ad(rt,at)}return typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint"?(at=""+at,et!==null&&et.tag===6?(d(rt,et.sibling),ft=b(et,at),ft.return=rt,rt=ft):(d(rt,et),ft=Jm(at,rt.mode,ft),ft.return=rt,rt=ft),N(rt)):d(rt,et)}return function(rt,et,at,ft){try{$c=0;var jt=Te(rt,et,at,ft);return Qo=null,jt}catch(Nt){if(Nt===Ko||Nt===Td)throw Nt;var ce=Mr(29,Nt,null,rt.mode);return ce.lanes=ft,ce.return=rt,ce}}}var qs=Pw(!0),Fw=Pw(!1),$a=!1;function dy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fy(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function za(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Pa(a,o,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(de&2)!==0){var b=g.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),g.pending=o,o=bd(a),Cw(a,null,d),o}return xd(a,g,o,d),bd(a)}function Pc(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var g=o.lanes;g&=a.pendingLanes,d|=g,o.lanes=d,Dn(a,d)}}function py(a,o){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var b=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var N={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?b=w=N:w=w.next=N,d=d.next}while(d!==null);w===null?b=w=o:w=w.next=o}else b=w=o;d={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}var gy=!1;function Fc(){if(gy){var a=Zo;if(a!==null)throw a}}function Ic(a,o,d,g){gy=!1;var b=a.updateQueue;$a=!1;var w=b.firstBaseUpdate,N=b.lastBaseUpdate,H=b.shared.pending;if(H!==null){b.shared.pending=null;var K=H,st=K.next;K.next=null,N===null?w=st:N.next=st,N=K;var dt=a.alternate;dt!==null&&(dt=dt.updateQueue,H=dt.lastBaseUpdate,H!==N&&(H===null?dt.firstBaseUpdate=st:H.next=st,dt.lastBaseUpdate=K))}if(w!==null){var gt=b.baseState;N=0,dt=st=K=null,H=w;do{var ot=H.lane&-536870913,lt=ot!==H.lane;if(lt?(ee&ot)===ot:(g&ot)===ot){ot!==0&&ot===Xo&&(gy=!0),dt!==null&&(dt=dt.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var Ct=a,Ft=H;ot=o;var Te=d;switch(Ft.tag){case 1:if(Ct=Ft.payload,typeof Ct=="function"){gt=Ct.call(Te,gt,ot);break t}gt=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Ft.payload,ot=typeof Ct=="function"?Ct.call(Te,gt,ot):Ct,ot==null)break t;gt=p({},gt,ot);break t;case 2:$a=!0}}ot=H.callback,ot!==null&&(a.flags|=64,lt&&(a.flags|=8192),lt=b.callbacks,lt===null?b.callbacks=[ot]:lt.push(ot))}else lt={lane:ot,tag:H.tag,payload:H.payload,callback:H.callback,next:null},dt===null?(st=dt=lt,K=gt):dt=dt.next=lt,N|=ot;if(H=H.next,H===null){if(H=b.shared.pending,H===null)break;lt=H,H=lt.next,lt.next=null,b.lastBaseUpdate=lt,b.shared.pending=null}}while(!0);dt===null&&(K=gt),b.baseState=K,b.firstBaseUpdate=st,b.lastBaseUpdate=dt,w===null&&(b.shared.lanes=0),qa|=N,a.lanes=N,a.memoizedState=gt}}function Iw(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function Hw(a,o){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Iw(d[a],o)}var Jo=I(null),Md=I(0);function Vw(a,o){a=ua,G(Md,a),G(Jo,o),ua=a|o.baseLanes}function my(){G(Md,ua),G(Jo,Jo.current)}function yy(){ua=Md.current,P(Jo),P(Md)}var Dr=I(null),Ur=null;function Fa(a){var o=a.alternate;G(Je,Je.current&1),G(Dr,a),Ur===null&&(o===null||Jo.current!==null||o.memoizedState!==null)&&(Ur=a)}function xy(a){G(Je,Je.current),G(Dr,a),Ur===null&&(Ur=a)}function qw(a){a.tag===22?(G(Je,Je.current),G(Dr,a),Ur===null&&(Ur=a)):Ia()}function Ia(){G(Je,Je.current),G(Dr,Dr.current)}function Nr(a){P(Dr),Ur===a&&(Ur=null),P(Je)}var Je=I(0);function Dd(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||_0(d)||T0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var na=0,Yt=null,Ce=null,an=null,Nd=!1,tl=!1,Us=!1,Ld=0,Hc=0,el=null,fz=0;function Xe(){throw Error(r(321))}function by(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!Ar(a[d],o[d]))return!1;return!0}function vy(a,o,d,g,b,w){return na=w,Yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,R.H=a===null||a.memoizedState===null?ES:Oy,Us=!1,w=d(g,b),Us=!1,tl&&(w=Ww(o,d,g,b)),Uw(a),w}function Uw(a){R.H=Uc;var o=Ce!==null&&Ce.next!==null;if(na=0,an=Ce=Yt=null,Nd=!1,Hc=0,el=null,o)throw Error(r(300));a===null||sn||(a=a.dependencies,a!==null&&Sd(a)&&(sn=!0))}function Ww(a,o,d,g){Yt=a;var b=0;do{if(tl&&(el=null),Hc=0,tl=!1,25<=b)throw Error(r(301));if(b+=1,an=Ce=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}R.H=AS,w=o(d,g)}while(tl);return w}function pz(){var a=R.H,o=a.useState()[0];return o=typeof o.then=="function"?Vc(o):o,a=a.useState()[0],(Ce!==null?Ce.memoizedState:null)!==a&&(Yt.flags|=1024),o}function wy(){var a=Ld!==0;return Ld=0,a}function Sy(a,o,d){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~d}function Cy(a){if(Nd){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Nd=!1}na=0,an=Ce=Yt=null,tl=!1,Hc=Ld=0,el=null}function Kn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Yt.memoizedState=an=a:an=an.next=a,an}function tn(){if(Ce===null){var a=Yt.alternate;a=a!==null?a.memoizedState:null}else a=Ce.next;var o=an===null?Yt.memoizedState:an.next;if(o!==null)an=o,Ce=a;else{if(a===null)throw Yt.alternate===null?Error(r(467)):Error(r(310));Ce=a,a={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},an===null?Yt.memoizedState=an=a:an=an.next=a}return an}function Bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vc(a){var o=Hc;return Hc+=1,el===null&&(el=[]),a=jw(el,a,o),o=Yt,(an===null?o.memoizedState:an.next)===null&&(o=o.alternate,R.H=o===null||o.memoizedState===null?ES:Oy),a}function Rd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Vc(a);if(a.$$typeof===T)return Bn(a)}throw Error(r(438,String(a)))}function _y(a){var o=null,d=Yt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var g=Yt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Bd(),Yt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(a),g=0;g<a;g++)d[g]=Y;return o.index++,d}function ra(a,o){return typeof o=="function"?o(a):o}function Od(a){var o=tn();return Ty(o,Ce,a)}function Ty(a,o,d){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var b=a.baseQueue,w=g.pending;if(w!==null){if(b!==null){var N=b.next;b.next=w.next,w.next=N}o.baseQueue=b=w,g.pending=null}if(w=a.baseState,b===null)a.memoizedState=w;else{o=b.next;var H=N=null,K=null,st=o,dt=!1;do{var gt=st.lane&-536870913;if(gt!==st.lane?(ee&gt)===gt:(na&gt)===gt){var ot=st.revertLane;if(ot===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),gt===Xo&&(dt=!0);else if((na&ot)===ot){st=st.next,ot===Xo&&(dt=!0);continue}else gt={lane:0,revertLane:st.revertLane,gesture:null,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},K===null?(H=K=gt,N=w):K=K.next=gt,Yt.lanes|=ot,qa|=ot;gt=st.action,Us&&d(w,gt),w=st.hasEagerState?st.eagerState:d(w,gt)}else ot={lane:gt,revertLane:st.revertLane,gesture:st.gesture,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},K===null?(H=K=ot,N=w):K=K.next=ot,Yt.lanes|=gt,qa|=gt;st=st.next}while(st!==null&&st!==o);if(K===null?N=w:K.next=H,!Ar(w,a.memoizedState)&&(sn=!0,dt&&(d=Zo,d!==null)))throw d;a.memoizedState=w,a.baseState=N,a.baseQueue=K,g.lastRenderedState=w}return b===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function ky(a){var o=tn(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=d.dispatch,b=d.pending,w=o.memoizedState;if(b!==null){d.pending=null;var N=b=b.next;do w=a(w,N.action),N=N.next;while(N!==b);Ar(w,o.memoizedState)||(sn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),d.lastRenderedState=w}return[w,g]}function Yw(a,o,d){var g=Yt,b=tn(),w=se;if(w){if(d===void 0)throw Error(r(407));d=d()}else d=o();var N=!Ar((Ce||b).memoizedState,d);if(N&&(b.memoizedState=d,sn=!0),b=b.queue,My(Zw.bind(null,g,b,a),[a]),b.getSnapshot!==o||N||an!==null&&an.memoizedState.tag&1){if(g.flags|=2048,nl(9,{destroy:void 0},Xw.bind(null,g,b,d,o),null),Ee===null)throw Error(r(349));w||(na&127)!==0||Gw(g,o,d)}return d}function Gw(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=Yt.updateQueue,o===null?(o=Bd(),Yt.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function Xw(a,o,d,g){o.value=d,o.getSnapshot=g,Kw(o)&&Qw(a)}function Zw(a,o,d){return d(function(){Kw(o)&&Qw(a)})}function Kw(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!Ar(a,d)}catch{return!0}}function Qw(a){var o=js(a,2);o!==null&&vr(o,a,2)}function Ey(a){var o=Kn();if(typeof a=="function"){var d=a;if(a=d(),Us){Qe(!0);try{d()}finally{Qe(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:a},o}function Jw(a,o,d,g){return a.baseState=d,Ty(a,Ce,typeof g=="function"?g:ra)}function gz(a,o,d,g,b){if(zd(a))throw Error(r(485));if(a=o.action,a!==null){var w={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};R.T!==null?d(!0):w.isTransition=!1,g(w),d=o.pending,d===null?(w.next=o.pending=w,tS(o,w)):(w.next=d.next,o.pending=d.next=w)}}function tS(a,o){var d=o.action,g=o.payload,b=a.state;if(o.isTransition){var w=R.T,N={};R.T=N;try{var H=d(b,g),K=R.S;K!==null&&K(N,H),eS(a,o,H)}catch(st){Ay(a,o,st)}finally{w!==null&&N.types!==null&&(w.types=N.types),R.T=w}}else try{w=d(b,g),eS(a,o,w)}catch(st){Ay(a,o,st)}}function eS(a,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){nS(a,o,g)},function(g){return Ay(a,o,g)}):nS(a,o,d)}function nS(a,o,d){o.status="fulfilled",o.value=d,rS(o),a.state=d,o=a.pending,o!==null&&(d=o.next,d===o?a.pending=null:(d=d.next,o.next=d,tS(a,d)))}function Ay(a,o,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=d,rS(o),o=o.next;while(o!==g)}a.action=null}function rS(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function iS(a,o){return o}function aS(a,o){if(se){var d=Ee.formState;if(d!==null){t:{var g=Yt;if(se){if(Re){e:{for(var b=Re,w=qr;b.nodeType!==8;){if(!w){b=null;break e}if(b=Wr(b.nextSibling),b===null){b=null;break e}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){Re=Wr(b.nextSibling),g=b.data==="F!";break t}}Oa(g)}g=!1}g&&(o=d[0])}}return d=Kn(),d.memoizedState=d.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iS,lastRenderedState:o},d.queue=g,d=_S.bind(null,Yt,g),g.dispatch=d,g=Ey(!1),w=Ry.bind(null,Yt,!1,g.queue),g=Kn(),b={state:o,dispatch:null,action:a,pending:null},g.queue=b,d=gz.bind(null,Yt,b,w,d),b.dispatch=d,g.memoizedState=a,[o,d,!1]}function sS(a){var o=tn();return oS(o,Ce,a)}function oS(a,o,d){if(o=Ty(a,o,iS)[0],a=Od(ra)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=Vc(o)}catch(N){throw N===Ko?Td:N}else g=o;o=tn();var b=o.queue,w=b.dispatch;return d!==o.memoizedState&&(Yt.flags|=2048,nl(9,{destroy:void 0},mz.bind(null,b,d),null)),[g,w,a]}function mz(a,o){a.action=o}function lS(a){var o=tn(),d=Ce;if(d!==null)return oS(o,d,a);tn(),o=o.memoizedState,d=tn();var g=d.queue.dispatch;return d.memoizedState=a,[o,g,!1]}function nl(a,o,d,g){return a={tag:a,create:d,deps:g,inst:o,next:null},o=Yt.updateQueue,o===null&&(o=Bd(),Yt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,o.lastEffect=a),a}function cS(){return tn().memoizedState}function jd(a,o,d,g){var b=Kn();Yt.flags|=a,b.memoizedState=nl(1|o,{destroy:void 0},d,g===void 0?null:g)}function $d(a,o,d,g){var b=tn();g=g===void 0?null:g;var w=b.memoizedState.inst;Ce!==null&&g!==null&&by(g,Ce.memoizedState.deps)?b.memoizedState=nl(o,w,d,g):(Yt.flags|=a,b.memoizedState=nl(1|o,w,d,g))}function uS(a,o){jd(8390656,8,a,o)}function My(a,o){$d(2048,8,a,o)}function yz(a){Yt.flags|=4;var o=Yt.updateQueue;if(o===null)o=Bd(),Yt.updateQueue=o,o.events=[a];else{var d=o.events;d===null?o.events=[a]:d.push(a)}}function hS(a){var o=tn().memoizedState;return yz({ref:o,nextImpl:a}),function(){if((de&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function dS(a,o){return $d(4,2,a,o)}function fS(a,o){return $d(4,4,a,o)}function pS(a,o){if(typeof o=="function"){a=a();var d=o(a);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function gS(a,o,d){d=d!=null?d.concat([a]):null,$d(4,4,pS.bind(null,o,a),d)}function Dy(){}function mS(a,o){var d=tn();o=o===void 0?null:o;var g=d.memoizedState;return o!==null&&by(o,g[1])?g[0]:(d.memoizedState=[a,o],a)}function yS(a,o){var d=tn();o=o===void 0?null:o;var g=d.memoizedState;if(o!==null&&by(o,g[1]))return g[0];if(g=a(),Us){Qe(!0);try{a()}finally{Qe(!1)}}return d.memoizedState=[g,o],g}function Ny(a,o,d){return d===void 0||(na&1073741824)!==0&&(ee&261930)===0?a.memoizedState=o:(a.memoizedState=d,a=xC(),Yt.lanes|=a,qa|=a,d)}function xS(a,o,d,g){return Ar(d,o)?d:Jo.current!==null?(a=Ny(a,d,g),Ar(a,o)||(sn=!0),a):(na&42)===0||(na&1073741824)!==0&&(ee&261930)===0?(sn=!0,a.memoizedState=d):(a=xC(),Yt.lanes|=a,qa|=a,o)}function bS(a,o,d,g,b){var w=F.p;F.p=w!==0&&8>w?w:8;var N=R.T,H={};R.T=H,Ry(a,!1,o,d);try{var K=b(),st=R.S;if(st!==null&&st(H,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var dt=dz(K,g);qc(a,o,dt,Rr(a))}else qc(a,o,g,Rr(a))}catch(gt){qc(a,o,{then:function(){},status:"rejected",reason:gt},Rr())}finally{F.p=w,N!==null&&H.types!==null&&(N.types=H.types),R.T=N}}function xz(){}function Ly(a,o,d,g){if(a.tag!==5)throw Error(r(476));var b=vS(a).queue;bS(a,b,o,j,d===null?xz:function(){return wS(a),d(g)})}function vS(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:j},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:d},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function wS(a){var o=vS(a);o.next===null&&(o=a.alternate.memoizedState),qc(a,o.next.queue,{},Rr())}function By(){return Bn(ou)}function SS(){return tn().memoizedState}function CS(){return tn().memoizedState}function bz(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var d=Rr();a=za(d);var g=Pa(o,a,d);g!==null&&(vr(g,o,d),Pc(g,o,d)),o={cache:ly()},a.payload=o;return}o=o.return}}function vz(a,o,d){var g=Rr();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},zd(a)?TS(o,d):(d=Km(a,o,d,g),d!==null&&(vr(d,a,g),kS(d,o,g)))}function _S(a,o,d){var g=Rr();qc(a,o,d,g)}function qc(a,o,d,g){var b={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(zd(a))TS(o,b);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var N=o.lastRenderedState,H=w(N,d);if(b.hasEagerState=!0,b.eagerState=H,Ar(H,N))return xd(a,o,b,0),Ee===null&&yd(),!1}catch{}if(d=Km(a,o,b,g),d!==null)return vr(d,a,g),kS(d,o,g),!0}return!1}function Ry(a,o,d,g){if(g={lane:2,revertLane:d0(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},zd(a)){if(o)throw Error(r(479))}else o=Km(a,d,g,2),o!==null&&vr(o,a,2)}function zd(a){var o=a.alternate;return a===Yt||o!==null&&o===Yt}function TS(a,o){tl=Nd=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function kS(a,o,d){if((d&4194048)!==0){var g=o.lanes;g&=a.pendingLanes,d|=g,o.lanes=d,Dn(a,d)}}var Uc={readContext:Bn,use:Rd,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Uc.useEffectEvent=Xe;var ES={readContext:Bn,use:Rd,useCallback:function(a,o){return Kn().memoizedState=[a,o===void 0?null:o],a},useContext:Bn,useEffect:uS,useImperativeHandle:function(a,o,d){d=d!=null?d.concat([a]):null,jd(4194308,4,pS.bind(null,o,a),d)},useLayoutEffect:function(a,o){return jd(4194308,4,a,o)},useInsertionEffect:function(a,o){jd(4,2,a,o)},useMemo:function(a,o){var d=Kn();o=o===void 0?null:o;var g=a();if(Us){Qe(!0);try{a()}finally{Qe(!1)}}return d.memoizedState=[g,o],g},useReducer:function(a,o,d){var g=Kn();if(d!==void 0){var b=d(o);if(Us){Qe(!0);try{d(o)}finally{Qe(!1)}}}else b=o;return g.memoizedState=g.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},g.queue=a,a=a.dispatch=vz.bind(null,Yt,a),[g.memoizedState,a]},useRef:function(a){var o=Kn();return a={current:a},o.memoizedState=a},useState:function(a){a=Ey(a);var o=a.queue,d=_S.bind(null,Yt,o);return o.dispatch=d,[a.memoizedState,d]},useDebugValue:Dy,useDeferredValue:function(a,o){var d=Kn();return Ny(d,a,o)},useTransition:function(){var a=Ey(!1);return a=bS.bind(null,Yt,a.queue,!0,!1),Kn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,d){var g=Yt,b=Kn();if(se){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Ee===null)throw Error(r(349));(ee&127)!==0||Gw(g,o,d)}b.memoizedState=d;var w={value:d,getSnapshot:o};return b.queue=w,uS(Zw.bind(null,g,w,a),[a]),g.flags|=2048,nl(9,{destroy:void 0},Xw.bind(null,g,w,d,o),null),d},useId:function(){var a=Kn(),o=Ee.identifierPrefix;if(se){var d=Ai,g=Ei;d=(g&~(1<<32-Ye(g)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Ld++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=fz++,o="_"+o+"r_"+d.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:By,useFormState:aS,useActionState:aS,useOptimistic:function(a){var o=Kn();o.memoizedState=o.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Ry.bind(null,Yt,!0,d),d.dispatch=o,[a,o]},useMemoCache:_y,useCacheRefresh:function(){return Kn().memoizedState=bz.bind(null,Yt)},useEffectEvent:function(a){var o=Kn(),d={impl:a};return o.memoizedState=d,function(){if((de&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Oy={readContext:Bn,use:Rd,useCallback:mS,useContext:Bn,useEffect:My,useImperativeHandle:gS,useInsertionEffect:dS,useLayoutEffect:fS,useMemo:yS,useReducer:Od,useRef:cS,useState:function(){return Od(ra)},useDebugValue:Dy,useDeferredValue:function(a,o){var d=tn();return xS(d,Ce.memoizedState,a,o)},useTransition:function(){var a=Od(ra)[0],o=tn().memoizedState;return[typeof a=="boolean"?a:Vc(a),o]},useSyncExternalStore:Yw,useId:SS,useHostTransitionStatus:By,useFormState:sS,useActionState:sS,useOptimistic:function(a,o){var d=tn();return Jw(d,Ce,a,o)},useMemoCache:_y,useCacheRefresh:CS};Oy.useEffectEvent=hS;var AS={readContext:Bn,use:Rd,useCallback:mS,useContext:Bn,useEffect:My,useImperativeHandle:gS,useInsertionEffect:dS,useLayoutEffect:fS,useMemo:yS,useReducer:ky,useRef:cS,useState:function(){return ky(ra)},useDebugValue:Dy,useDeferredValue:function(a,o){var d=tn();return Ce===null?Ny(d,a,o):xS(d,Ce.memoizedState,a,o)},useTransition:function(){var a=ky(ra)[0],o=tn().memoizedState;return[typeof a=="boolean"?a:Vc(a),o]},useSyncExternalStore:Yw,useId:SS,useHostTransitionStatus:By,useFormState:lS,useActionState:lS,useOptimistic:function(a,o){var d=tn();return Ce!==null?Jw(d,Ce,a,o):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:_y,useCacheRefresh:CS};AS.useEffectEvent=hS;function jy(a,o,d,g){o=a.memoizedState,d=d(g,o),d=d==null?o:p({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var $y={enqueueSetState:function(a,o,d){a=a._reactInternals;var g=Rr(),b=za(g);b.payload=o,d!=null&&(b.callback=d),o=Pa(a,b,g),o!==null&&(vr(o,a,g),Pc(o,a,g))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var g=Rr(),b=za(g);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=Pa(a,b,g),o!==null&&(vr(o,a,g),Pc(o,a,g))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=Rr(),g=za(d);g.tag=2,o!=null&&(g.callback=o),o=Pa(a,g,d),o!==null&&(vr(o,a,d),Pc(o,a,d))}};function MS(a,o,d,g,b,w,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,w,N):o.prototype&&o.prototype.isPureReactComponent?!Nc(d,g)||!Nc(b,w):!0}function DS(a,o,d,g){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,g),o.state!==a&&$y.enqueueReplaceState(o,o.state,null)}function Ws(a,o){var d=o;if("ref"in o){d={};for(var g in o)g!=="ref"&&(d[g]=o[g])}if(a=a.defaultProps){d===o&&(d=p({},d));for(var b in a)d[b]===void 0&&(d[b]=a[b])}return d}function NS(a){md(a)}function LS(a){console.error(a)}function BS(a){md(a)}function Pd(a,o){try{var d=a.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function RS(a,o,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function zy(a,o,d){return d=za(d),d.tag=3,d.payload={element:null},d.callback=function(){Pd(a,o)},d}function OS(a){return a=za(a),a.tag=3,a}function jS(a,o,d,g){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var w=g.value;a.payload=function(){return b(w)},a.callback=function(){RS(o,d,g)}}var N=d.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){RS(o,d,g),typeof b!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var H=g.stack;this.componentDidCatch(g.value,{componentStack:H!==null?H:""})})}function wz(a,o,d,g,b){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=d.alternate,o!==null&&Go(o,d,b,!0),d=Dr.current,d!==null){switch(d.tag){case 31:case 13:return Ur===null?Kd():d.alternate===null&&Ze===0&&(Ze=3),d.flags&=-257,d.flags|=65536,d.lanes=b,g===kd?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([g]):o.add(g),c0(a,g,b)),!1;case 22:return d.flags|=65536,g===kd?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([g]):d.add(g)),c0(a,g,b)),!1}throw Error(r(435,d.tag))}return c0(a,g,b),Kd(),!1}if(se)return o=Dr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,g!==ry&&(a=Error(r(422),{cause:g}),Rc(Ir(a,d)))):(g!==ry&&(o=Error(r(423),{cause:g}),Rc(Ir(o,d))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,g=Ir(g,d),b=zy(a.stateNode,g,b),py(a,b),Ze!==4&&(Ze=2)),!1;var w=Error(r(520),{cause:g});if(w=Ir(w,d),Jc===null?Jc=[w]:Jc.push(w),Ze!==4&&(Ze=2),o===null)return!0;g=Ir(g,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,a=b&-b,d.lanes|=a,a=zy(d.stateNode,g,a),py(d,a),!1;case 1:if(o=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ua===null||!Ua.has(w))))return d.flags|=65536,b&=-b,d.lanes|=b,b=OS(b),jS(b,a,d,g),py(d,b),!1}d=d.return}while(d!==null);return!1}var Py=Error(r(461)),sn=!1;function Rn(a,o,d,g){o.child=a===null?Fw(o,null,d,g):qs(o,a.child,d,g)}function $S(a,o,d,g,b){d=d.render;var w=o.ref;if("ref"in g){var N={};for(var H in g)H!=="ref"&&(N[H]=g[H])}else N=g;return Fs(o),g=vy(a,o,d,N,w,b),H=wy(),a!==null&&!sn?(Sy(a,o,b),ia(a,o,b)):(se&&H&&ey(o),o.flags|=1,Rn(a,o,g,b),o.child)}function zS(a,o,d,g,b){if(a===null){var w=d.type;return typeof w=="function"&&!Qm(w)&&w.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=w,PS(a,o,w,g,b)):(a=vd(d.type,null,g,o,o.mode,b),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!Yy(a,b)){var N=w.memoizedProps;if(d=d.compare,d=d!==null?d:Nc,d(N,g)&&a.ref===o.ref)return ia(a,o,b)}return o.flags|=1,a=Qi(w,g),a.ref=o.ref,a.return=o,o.child=a}function PS(a,o,d,g,b){if(a!==null){var w=a.memoizedProps;if(Nc(w,g)&&a.ref===o.ref)if(sn=!1,o.pendingProps=g=w,Yy(a,b))(a.flags&131072)!==0&&(sn=!0);else return o.lanes=a.lanes,ia(a,o,b)}return Fy(a,o,d,g,b)}function FS(a,o,d,g){var b=g.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,a!==null){for(g=o.child=a.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;g=b&~w}else g=0,o.child=null;return IS(a,o,w,d,g)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&_d(o,w!==null?w.cachePool:null),w!==null?Vw(o,w):my(),qw(o);else return g=o.lanes=536870912,IS(a,o,w!==null?w.baseLanes|d:d,d,g)}else w!==null?(_d(o,w.cachePool),Vw(o,w),Ia(),o.memoizedState=null):(a!==null&&_d(o,null),my(),Ia());return Rn(a,o,b,d),o.child}function Wc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function IS(a,o,d,g,b){var w=uy();return w=w===null?null:{parent:rn._currentValue,pool:w},o.memoizedState={baseLanes:d,cachePool:w},a!==null&&_d(o,null),my(),qw(o),a!==null&&Go(a,o,g,!0),o.childLanes=b,null}function Fd(a,o){return o=Hd({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function HS(a,o,d){return qs(o,a.child,null,d),a=Fd(o,o.pendingProps),a.flags|=2,Nr(o),o.memoizedState=null,a}function Sz(a,o,d){var g=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(se){if(g.mode==="hidden")return a=Fd(o,g),o.lanes=536870912,Wc(null,a);if(xy(o),(a=Re)?(a=t_(a,qr),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ba!==null?{id:Ei,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},d=Tw(a),d.return=o,o.child=d,Ln=o,Re=null)):a=null,a===null)throw Oa(o);return o.lanes=536870912,null}return Fd(o,g)}var w=a.memoizedState;if(w!==null){var N=w.dehydrated;if(xy(o),b)if(o.flags&256)o.flags&=-257,o=HS(a,o,d);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(sn||Go(a,o,d,!1),b=(d&a.childLanes)!==0,sn||b){if(g=Ee,g!==null&&(N=Le(g,d),N!==0&&N!==w.retryLane))throw w.retryLane=N,js(a,N),vr(g,a,N),Py;Kd(),o=HS(a,o,d)}else a=w.treeContext,Re=Wr(N.nextSibling),Ln=o,se=!0,Ra=null,qr=!1,a!==null&&Aw(o,a),o=Fd(o,g),o.flags|=4096;return o}return a=Qi(a.child,{mode:g.mode,children:g.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Id(a,o){var d=o.ref;if(d===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(o.flags|=4194816)}}function Fy(a,o,d,g,b){return Fs(o),d=vy(a,o,d,g,void 0,b),g=wy(),a!==null&&!sn?(Sy(a,o,b),ia(a,o,b)):(se&&g&&ey(o),o.flags|=1,Rn(a,o,d,b),o.child)}function VS(a,o,d,g,b,w){return Fs(o),o.updateQueue=null,d=Ww(o,g,d,b),Uw(a),g=wy(),a!==null&&!sn?(Sy(a,o,w),ia(a,o,w)):(se&&g&&ey(o),o.flags|=1,Rn(a,o,d,w),o.child)}function qS(a,o,d,g,b){if(Fs(o),o.stateNode===null){var w=qo,N=d.contextType;typeof N=="object"&&N!==null&&(w=Bn(N)),w=new d(g,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=$y,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=g,w.state=o.memoizedState,w.refs={},dy(o),N=d.contextType,w.context=typeof N=="object"&&N!==null?Bn(N):qo,w.state=o.memoizedState,N=d.getDerivedStateFromProps,typeof N=="function"&&(jy(o,d,N,g),w.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&$y.enqueueReplaceState(w,w.state,null),Ic(o,g,w,b),Fc(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(a===null){w=o.stateNode;var H=o.memoizedProps,K=Ws(d,H);w.props=K;var st=w.context,dt=d.contextType;N=qo,typeof dt=="object"&&dt!==null&&(N=Bn(dt));var gt=d.getDerivedStateFromProps;dt=typeof gt=="function"||typeof w.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,dt||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(H||st!==N)&&DS(o,w,g,N),$a=!1;var ot=o.memoizedState;w.state=ot,Ic(o,g,w,b),Fc(),st=o.memoizedState,H||ot!==st||$a?(typeof gt=="function"&&(jy(o,d,gt,g),st=o.memoizedState),(K=$a||MS(o,d,K,g,ot,st,N))?(dt||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=st),w.props=g,w.state=st,w.context=N,g=K):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{w=o.stateNode,fy(a,o),N=o.memoizedProps,dt=Ws(d,N),w.props=dt,gt=o.pendingProps,ot=w.context,st=d.contextType,K=qo,typeof st=="object"&&st!==null&&(K=Bn(st)),H=d.getDerivedStateFromProps,(st=typeof H=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==gt||ot!==K)&&DS(o,w,g,K),$a=!1,ot=o.memoizedState,w.state=ot,Ic(o,g,w,b),Fc();var lt=o.memoizedState;N!==gt||ot!==lt||$a||a!==null&&a.dependencies!==null&&Sd(a.dependencies)?(typeof H=="function"&&(jy(o,d,H,g),lt=o.memoizedState),(dt=$a||MS(o,d,dt,g,ot,lt,K)||a!==null&&a.dependencies!==null&&Sd(a.dependencies))?(st||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,lt,K),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,lt,K)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===a.memoizedProps&&ot===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ot===a.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=lt),w.props=g,w.state=lt,w.context=K,g=dt):(typeof w.componentDidUpdate!="function"||N===a.memoizedProps&&ot===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ot===a.memoizedState||(o.flags|=1024),g=!1)}return w=g,Id(a,o),g=(o.flags&128)!==0,w||g?(w=o.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&g?(o.child=qs(o,a.child,null,b),o.child=qs(o,null,d,b)):Rn(a,o,d,b),o.memoizedState=w.state,a=o.child):a=ia(a,o,b),a}function US(a,o,d,g){return zs(),o.flags|=256,Rn(a,o,d,g),o.child}var Iy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hy(a){return{baseLanes:a,cachePool:Rw()}}function Vy(a,o,d){return a=a!==null?a.childLanes&~d:0,o&&(a|=Br),a}function WS(a,o,d){var g=o.pendingProps,b=!1,w=(o.flags&128)!==0,N;if((N=w)||(N=a!==null&&a.memoizedState===null?!1:(Je.current&2)!==0),N&&(b=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(se){if(b?Fa(o):Ia(),(a=Re)?(a=t_(a,qr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ba!==null?{id:Ei,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},d=Tw(a),d.return=o,o.child=d,Ln=o,Re=null)):a=null,a===null)throw Oa(o);return T0(a)?o.lanes=32:o.lanes=536870912,null}var H=g.children;return g=g.fallback,b?(Ia(),b=o.mode,H=Hd({mode:"hidden",children:H},b),g=$s(g,b,d,null),H.return=o,g.return=o,H.sibling=g,o.child=H,g=o.child,g.memoizedState=Hy(d),g.childLanes=Vy(a,N,d),o.memoizedState=Iy,Wc(null,g)):(Fa(o),qy(o,H))}var K=a.memoizedState;if(K!==null&&(H=K.dehydrated,H!==null)){if(w)o.flags&256?(Fa(o),o.flags&=-257,o=Uy(a,o,d)):o.memoizedState!==null?(Ia(),o.child=a.child,o.flags|=128,o=null):(Ia(),H=g.fallback,b=o.mode,g=Hd({mode:"visible",children:g.children},b),H=$s(H,b,d,null),H.flags|=2,g.return=o,H.return=o,g.sibling=H,o.child=g,qs(o,a.child,null,d),g=o.child,g.memoizedState=Hy(d),g.childLanes=Vy(a,N,d),o.memoizedState=Iy,o=Wc(null,g));else if(Fa(o),T0(H)){if(N=H.nextSibling&&H.nextSibling.dataset,N)var st=N.dgst;N=st,g=Error(r(419)),g.stack="",g.digest=N,Rc({value:g,source:null,stack:null}),o=Uy(a,o,d)}else if(sn||Go(a,o,d,!1),N=(d&a.childLanes)!==0,sn||N){if(N=Ee,N!==null&&(g=Le(N,d),g!==0&&g!==K.retryLane))throw K.retryLane=g,js(a,g),vr(N,a,g),Py;_0(H)||Kd(),o=Uy(a,o,d)}else _0(H)?(o.flags|=192,o.child=a.child,o=null):(a=K.treeContext,Re=Wr(H.nextSibling),Ln=o,se=!0,Ra=null,qr=!1,a!==null&&Aw(o,a),o=qy(o,g.children),o.flags|=4096);return o}return b?(Ia(),H=g.fallback,b=o.mode,K=a.child,st=K.sibling,g=Qi(K,{mode:"hidden",children:g.children}),g.subtreeFlags=K.subtreeFlags&65011712,st!==null?H=Qi(st,H):(H=$s(H,b,d,null),H.flags|=2),H.return=o,g.return=o,g.sibling=H,o.child=g,Wc(null,g),g=o.child,H=a.child.memoizedState,H===null?H=Hy(d):(b=H.cachePool,b!==null?(K=rn._currentValue,b=b.parent!==K?{parent:K,pool:K}:b):b=Rw(),H={baseLanes:H.baseLanes|d,cachePool:b}),g.memoizedState=H,g.childLanes=Vy(a,N,d),o.memoizedState=Iy,Wc(a.child,g)):(Fa(o),d=a.child,a=d.sibling,d=Qi(d,{mode:"visible",children:g.children}),d.return=o,d.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=d,o.memoizedState=null,d)}function qy(a,o){return o=Hd({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Hd(a,o){return a=Mr(22,a,null,o),a.lanes=0,a}function Uy(a,o,d){return qs(o,a.child,null,d),a=qy(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function YS(a,o,d){a.lanes|=o;var g=a.alternate;g!==null&&(g.lanes|=o),sy(a.return,o,d)}function Wy(a,o,d,g,b,w){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:b,treeForkCount:w}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=d,N.tailMode=b,N.treeForkCount=w)}function GS(a,o,d){var g=o.pendingProps,b=g.revealOrder,w=g.tail;g=g.children;var N=Je.current,H=(N&2)!==0;if(H?(N=N&1|2,o.flags|=128):N&=1,G(Je,N),Rn(a,o,g,d),g=se?Bc:0,!H&&a!==null&&(a.flags&128)!==0)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&YS(a,d,o);else if(a.tag===19)YS(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(d=o.child,b=null;d!==null;)a=d.alternate,a!==null&&Dd(a)===null&&(b=d),d=d.sibling;d=b,d===null?(b=o.child,o.child=null):(b=d.sibling,d.sibling=null),Wy(o,!1,b,d,w,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=o.child,o.child=null;b!==null;){if(a=b.alternate,a!==null&&Dd(a)===null){o.child=b;break}a=b.sibling,b.sibling=d,d=b,b=a}Wy(o,!0,d,null,w,g);break;case"together":Wy(o,!1,null,null,void 0,g);break;default:o.memoizedState=null}return o.child}function ia(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),qa|=o.lanes,(d&o.childLanes)===0)if(a!==null){if(Go(a,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,d=Qi(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=Qi(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function Yy(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Sd(a)))}function Cz(a,o,d){switch(o.tag){case 3:ht(o,o.stateNode.containerInfo),ja(o,rn,a.memoizedState.cache),zs();break;case 27:case 5:yt(o);break;case 4:ht(o,o.stateNode.containerInfo);break;case 10:ja(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,xy(o),null;break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(Fa(o),o.flags|=128,null):(d&o.child.childLanes)!==0?WS(a,o,d):(Fa(o),a=ia(a,o,d),a!==null?a.sibling:null);Fa(o);break;case 19:var b=(a.flags&128)!==0;if(g=(d&o.childLanes)!==0,g||(Go(a,o,d,!1),g=(d&o.childLanes)!==0),b){if(g)return GS(a,o,d);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),G(Je,Je.current),g)break;return null;case 22:return o.lanes=0,FS(a,o,d,o.pendingProps);case 24:ja(o,rn,a.memoizedState.cache)}return ia(a,o,d)}function XS(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps)sn=!0;else{if(!Yy(a,d)&&(o.flags&128)===0)return sn=!1,Cz(a,o,d);sn=(a.flags&131072)!==0}else sn=!1,se&&(o.flags&1048576)!==0&&Ew(o,Bc,o.index);switch(o.lanes=0,o.tag){case 16:t:{var g=o.pendingProps;if(a=Hs(o.elementType),o.type=a,typeof a=="function")Qm(a)?(g=Ws(a,g),o.tag=1,o=qS(null,o,a,g,d)):(o.tag=0,o=Fy(null,o,a,g,d));else{if(a!=null){var b=a.$$typeof;if(b===A){o.tag=11,o=$S(null,o,a,g,d);break t}else if(b===L){o.tag=14,o=zS(null,o,a,g,d);break t}}throw o=$(a)||a,Error(r(306,o,""))}}return o;case 0:return Fy(a,o,o.type,o.pendingProps,d);case 1:return g=o.type,b=Ws(g,o.pendingProps),qS(a,o,g,b,d);case 3:t:{if(ht(o,o.stateNode.containerInfo),a===null)throw Error(r(387));g=o.pendingProps;var w=o.memoizedState;b=w.element,fy(a,o),Ic(o,g,null,d);var N=o.memoizedState;if(g=N.cache,ja(o,rn,g),g!==w.cache&&oy(o,[rn],d,!0),Fc(),g=N.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=US(a,o,g,d);break t}else if(g!==b){b=Ir(Error(r(424)),o),Rc(b),o=US(a,o,g,d);break t}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Re=Wr(a.firstChild),Ln=o,se=!0,Ra=null,qr=!0,d=Fw(o,null,g,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(zs(),g===b){o=ia(a,o,d);break t}Rn(a,o,g,d)}o=o.child}return o;case 26:return Id(a,o),a===null?(d=s_(o.type,null,o.pendingProps,null))?o.memoizedState=d:se||(d=o.type,a=o.pendingProps,g=af(ct.current).createElement(d),g[xe]=o,g[pn]=a,On(g,d,a),ae(g),o.stateNode=g):o.memoizedState=s_(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return yt(o),a===null&&se&&(g=o.stateNode=r_(o.type,o.pendingProps,ct.current),Ln=o,qr=!0,b=Re,Xa(o.type)?(k0=b,Re=Wr(g.firstChild)):Re=b),Rn(a,o,o.pendingProps.children,d),Id(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&se&&((b=g=Re)&&(g=Jz(g,o.type,o.pendingProps,qr),g!==null?(o.stateNode=g,Ln=o,Re=Wr(g.firstChild),qr=!1,b=!0):b=!1),b||Oa(o)),yt(o),b=o.type,w=o.pendingProps,N=a!==null?a.memoizedProps:null,g=w.children,w0(b,w)?g=null:N!==null&&w0(b,N)&&(o.flags|=32),o.memoizedState!==null&&(b=vy(a,o,pz,null,null,d),ou._currentValue=b),Id(a,o),Rn(a,o,g,d),o.child;case 6:return a===null&&se&&((a=d=Re)&&(d=t6(d,o.pendingProps,qr),d!==null?(o.stateNode=d,Ln=o,Re=null,a=!0):a=!1),a||Oa(o)),null;case 13:return WS(a,o,d);case 4:return ht(o,o.stateNode.containerInfo),g=o.pendingProps,a===null?o.child=qs(o,null,g,d):Rn(a,o,g,d),o.child;case 11:return $S(a,o,o.type,o.pendingProps,d);case 7:return Rn(a,o,o.pendingProps,d),o.child;case 8:return Rn(a,o,o.pendingProps.children,d),o.child;case 12:return Rn(a,o,o.pendingProps.children,d),o.child;case 10:return g=o.pendingProps,ja(o,o.type,g.value),Rn(a,o,g.children,d),o.child;case 9:return b=o.type._context,g=o.pendingProps.children,Fs(o),b=Bn(b),g=g(b),o.flags|=1,Rn(a,o,g,d),o.child;case 14:return zS(a,o,o.type,o.pendingProps,d);case 15:return PS(a,o,o.type,o.pendingProps,d);case 19:return GS(a,o,d);case 31:return Sz(a,o,d);case 22:return FS(a,o,d,o.pendingProps);case 24:return Fs(o),g=Bn(rn),a===null?(b=uy(),b===null&&(b=Ee,w=ly(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=d),b=w),o.memoizedState={parent:g,cache:b},dy(o),ja(o,rn,b)):((a.lanes&d)!==0&&(fy(a,o),Ic(o,null,null,d),Fc()),b=a.memoizedState,w=o.memoizedState,b.parent!==g?(b={parent:g,cache:g},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),ja(o,rn,g)):(g=w.cache,ja(o,rn,g),g!==b.cache&&oy(o,[rn],d,!0))),Rn(a,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function aa(a){a.flags|=4}function Gy(a,o,d,g,b){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(SC())a.flags|=8192;else throw Vs=kd,hy}else a.flags&=-16777217}function ZS(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!h_(o))if(SC())a.flags|=8192;else throw Vs=kd,hy}function Vd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?nn():536870912,a.lanes|=o,sl|=o)}function Yc(a,o){if(!se)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Oe(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(o)for(var b=a.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)d|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=d,o}function _z(a,o,d){var g=o.pendingProps;switch(ny(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(o),null;case 1:return Oe(o),null;case 3:return d=o.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),ea(rn),pt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Yo(o)?aa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,iy())),Oe(o),null;case 26:var b=o.type,w=o.memoizedState;return a===null?(aa(o),w!==null?(Oe(o),ZS(o,w)):(Oe(o),Gy(o,b,null,g,d))):w?w!==a.memoizedState?(aa(o),Oe(o),ZS(o,w)):(Oe(o),o.flags&=-16777217):(a=a.memoizedProps,a!==g&&aa(o),Oe(o),Gy(o,b,a,g,d)),null;case 27:if(Lt(o),d=ct.current,b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==g&&aa(o);else{if(!g){if(o.stateNode===null)throw Error(r(166));return Oe(o),null}a=J.current,Yo(o)?Mw(o):(a=r_(b,g,d),o.stateNode=a,aa(o))}return Oe(o),null;case 5:if(Lt(o),b=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==g&&aa(o);else{if(!g){if(o.stateNode===null)throw Error(r(166));return Oe(o),null}if(w=J.current,Yo(o))Mw(o);else{var N=af(ct.current);switch(w){case 1:w=N.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=N.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=N.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof g.is=="string"?N.createElement("select",{is:g.is}):N.createElement("select"),g.multiple?w.multiple=!0:g.size&&(w.size=g.size);break;default:w=typeof g.is=="string"?N.createElement(b,{is:g.is}):N.createElement(b)}}w[xe]=o,w[pn]=g;t:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)w.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break t;for(;N.sibling===null;){if(N.return===null||N.return===o)break t;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=w;t:switch(On(w,b,g),b){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break t;case"img":g=!0;break t;default:g=!1}g&&aa(o)}}return Oe(o),Gy(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,d),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==g&&aa(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(r(166));if(a=ct.current,Yo(o)){if(a=o.stateNode,d=o.memoizedProps,g=null,b=Ln,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}a[xe]=o,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||WC(a.nodeValue,d)),a||Oa(o,!0)}else a=af(a).createTextNode(g),a[xe]=o,o.stateNode=a}return Oe(o),null;case 31:if(d=o.memoizedState,a===null||a.memoizedState!==null){if(g=Yo(o),d!==null){if(a===null){if(!g)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[xe]=o}else zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Oe(o),a=!1}else d=iy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return o.flags&256?(Nr(o),o):(Nr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Oe(o),null;case 13:if(g=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Yo(o),g!==null&&g.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[xe]=o}else zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Oe(o),b=!1}else b=iy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(Nr(o),o):(Nr(o),null)}return Nr(o),(o.flags&128)!==0?(o.lanes=d,o):(d=g!==null,a=a!==null&&a.memoizedState!==null,d&&(g=o.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool),w=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==b&&(g.flags|=2048)),d!==a&&d&&(o.child.flags|=8192),Vd(o,o.updateQueue),Oe(o),null);case 4:return pt(),a===null&&m0(o.stateNode.containerInfo),Oe(o),null;case 10:return ea(o.type),Oe(o),null;case 19:if(P(Je),g=o.memoizedState,g===null)return Oe(o),null;if(b=(o.flags&128)!==0,w=g.rendering,w===null)if(b)Yc(g,!1);else{if(Ze!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=Dd(a),w!==null){for(o.flags|=128,Yc(g,!1),a=w.updateQueue,o.updateQueue=a,Vd(o,a),o.subtreeFlags=0,a=d,d=o.child;d!==null;)_w(d,a),d=d.sibling;return G(Je,Je.current&1|2),se&&Ji(o,g.treeForkCount),o.child}a=a.sibling}g.tail!==null&&Ae()>Gd&&(o.flags|=128,b=!0,Yc(g,!1),o.lanes=4194304)}else{if(!b)if(a=Dd(w),a!==null){if(o.flags|=128,b=!0,a=a.updateQueue,o.updateQueue=a,Vd(o,a),Yc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!se)return Oe(o),null}else 2*Ae()-g.renderingStartTime>Gd&&d!==536870912&&(o.flags|=128,b=!0,Yc(g,!1),o.lanes=4194304);g.isBackwards?(w.sibling=o.child,o.child=w):(a=g.last,a!==null?a.sibling=w:o.child=w,g.last=w)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Ae(),a.sibling=null,d=Je.current,G(Je,b?d&1|2:d&1),se&&Ji(o,g.treeForkCount),a):(Oe(o),null);case 22:case 23:return Nr(o),yy(),g=o.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(d&536870912)!==0&&(o.flags&128)===0&&(Oe(o),o.subtreeFlags&6&&(o.flags|=8192)):Oe(o),d=o.updateQueue,d!==null&&Vd(o,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048),a!==null&&P(Is),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ea(rn),Oe(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Tz(a,o){switch(ny(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ea(rn),pt(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Lt(o),null;case 31:if(o.memoizedState!==null){if(Nr(o),o.alternate===null)throw Error(r(340));zs()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Nr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));zs()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return P(Je),null;case 4:return pt(),null;case 10:return ea(o.type),null;case 22:case 23:return Nr(o),yy(),a!==null&&P(Is),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ea(rn),null;case 25:return null;default:return null}}function KS(a,o){switch(ny(o),o.tag){case 3:ea(rn),pt();break;case 26:case 27:case 5:Lt(o);break;case 4:pt();break;case 31:o.memoizedState!==null&&Nr(o);break;case 13:Nr(o);break;case 19:P(Je);break;case 10:ea(o.type);break;case 22:case 23:Nr(o),yy(),a!==null&&P(Is);break;case 24:ea(rn)}}function Gc(a,o){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var b=g.next;d=b;do{if((d.tag&a)===a){g=void 0;var w=d.create,N=d.inst;g=w(),N.destroy=g}d=d.next}while(d!==b)}}catch(H){we(o,o.return,H)}}function Ha(a,o,d){try{var g=o.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var w=b.next;g=w;do{if((g.tag&a)===a){var N=g.inst,H=N.destroy;if(H!==void 0){N.destroy=void 0,b=o;var K=d,st=H;try{st()}catch(dt){we(b,K,dt)}}}g=g.next}while(g!==w)}}catch(dt){we(o,o.return,dt)}}function QS(a){var o=a.updateQueue;if(o!==null){var d=a.stateNode;try{Hw(o,d)}catch(g){we(a,a.return,g)}}}function JS(a,o,d){d.props=Ws(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){we(a,o,g)}}function Xc(a,o){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(b){we(a,o,b)}}function Mi(a,o){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(b){we(a,o,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){we(a,o,b)}else d.current=null}function tC(a){var o=a.type,d=a.memoizedProps,g=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break t;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(b){we(a,a.return,b)}}function Xy(a,o,d){try{var g=a.stateNode;Yz(g,a.type,d,o),g[pn]=o}catch(b){we(a,a.return,b)}}function eC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xa(a.type)||a.tag===4}function Zy(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||eC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xa(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ky(a,o,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(a),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Zi));else if(g!==4&&(g===27&&Xa(a.type)&&(d=a.stateNode,o=null),a=a.child,a!==null))for(Ky(a,o,d),a=a.sibling;a!==null;)Ky(a,o,d),a=a.sibling}function qd(a,o,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(g!==4&&(g===27&&Xa(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(qd(a,o,d),a=a.sibling;a!==null;)qd(a,o,d),a=a.sibling}function nC(a){var o=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);On(o,g,d),o[xe]=a,o[pn]=d}catch(w){we(a,a.return,w)}}var sa=!1,on=!1,Qy=!1,rC=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function kz(a,o){if(a=a.containerInfo,b0=df,a=gw(a),Um(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else t:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var b=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break t}var N=0,H=-1,K=-1,st=0,dt=0,gt=a,ot=null;e:for(;;){for(var lt;gt!==d||b!==0&&gt.nodeType!==3||(H=N+b),gt!==w||g!==0&&gt.nodeType!==3||(K=N+g),gt.nodeType===3&&(N+=gt.nodeValue.length),(lt=gt.firstChild)!==null;)ot=gt,gt=lt;for(;;){if(gt===a)break e;if(ot===d&&++st===b&&(H=N),ot===w&&++dt===g&&(K=N),(lt=gt.nextSibling)!==null)break;gt=ot,ot=gt.parentNode}gt=lt}d=H===-1||K===-1?null:{start:H,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(v0={focusedElem:a,selectionRange:d},df=!1,Tn=o;Tn!==null;)if(o=Tn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Tn=a;else for(;Tn!==null;){switch(o=Tn,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)b=a[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,d=o,b=w.memoizedProps,w=w.memoizedState,g=d.stateNode;try{var Ct=Ws(d.type,b);a=g.getSnapshotBeforeUpdate(Ct,w),g.__reactInternalSnapshotBeforeUpdate=a}catch(Ft){we(d,d.return,Ft)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,d=a.nodeType,d===9)C0(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":C0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Tn=a;break}Tn=o.return}}function iC(a,o,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:la(a,d),g&4&&Gc(5,d);break;case 1:if(la(a,d),g&4)if(a=d.stateNode,o===null)try{a.componentDidMount()}catch(N){we(d,d.return,N)}else{var b=Ws(d.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(b,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){we(d,d.return,N)}}g&64&&QS(d),g&512&&Xc(d,d.return);break;case 3:if(la(a,d),g&64&&(a=d.updateQueue,a!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Hw(a,o)}catch(N){we(d,d.return,N)}}break;case 27:o===null&&g&4&&nC(d);case 26:case 5:la(a,d),o===null&&g&4&&tC(d),g&512&&Xc(d,d.return);break;case 12:la(a,d);break;case 31:la(a,d),g&4&&oC(a,d);break;case 13:la(a,d),g&4&&lC(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=Oz.bind(null,d),e6(a,d))));break;case 22:if(g=d.memoizedState!==null||sa,!g){o=o!==null&&o.memoizedState!==null||on,b=sa;var w=on;sa=g,(on=o)&&!w?ca(a,d,(d.subtreeFlags&8772)!==0):la(a,d),sa=b,on=w}break;case 30:break;default:la(a,d)}}function aC(a){var o=a.alternate;o!==null&&(a.alternate=null,aC(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&xt(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Pe=null,mr=!1;function oa(a,o,d){for(d=d.child;d!==null;)sC(a,o,d),d=d.sibling}function sC(a,o,d){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(cr,d)}catch{}switch(d.tag){case 26:on||Mi(d,o),oa(a,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:on||Mi(d,o);var g=Pe,b=mr;Xa(d.type)&&(Pe=d.stateNode,mr=!1),oa(a,o,d),iu(d.stateNode),Pe=g,mr=b;break;case 5:on||Mi(d,o);case 6:if(g=Pe,b=mr,Pe=null,oa(a,o,d),Pe=g,mr=b,Pe!==null)if(mr)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(d.stateNode)}catch(w){we(d,o,w)}else try{Pe.removeChild(d.stateNode)}catch(w){we(d,o,w)}break;case 18:Pe!==null&&(mr?(a=Pe,QC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),pl(a)):QC(Pe,d.stateNode));break;case 4:g=Pe,b=mr,Pe=d.stateNode.containerInfo,mr=!0,oa(a,o,d),Pe=g,mr=b;break;case 0:case 11:case 14:case 15:Ha(2,d,o),on||Ha(4,d,o),oa(a,o,d);break;case 1:on||(Mi(d,o),g=d.stateNode,typeof g.componentWillUnmount=="function"&&JS(d,o,g)),oa(a,o,d);break;case 21:oa(a,o,d);break;case 22:on=(g=on)||d.memoizedState!==null,oa(a,o,d),on=g;break;default:oa(a,o,d)}}function oC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{pl(a)}catch(d){we(o,o.return,d)}}}function lC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{pl(a)}catch(d){we(o,o.return,d)}}function Ez(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new rC),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new rC),o;default:throw Error(r(435,a.tag))}}function Ud(a,o){var d=Ez(a);o.forEach(function(g){if(!d.has(g)){d.add(g);var b=jz.bind(null,a,g);g.then(b,b)}})}function yr(a,o){var d=o.deletions;if(d!==null)for(var g=0;g<d.length;g++){var b=d[g],w=a,N=o,H=N;t:for(;H!==null;){switch(H.tag){case 27:if(Xa(H.type)){Pe=H.stateNode,mr=!1;break t}break;case 5:Pe=H.stateNode,mr=!1;break t;case 3:case 4:Pe=H.stateNode.containerInfo,mr=!0;break t}H=H.return}if(Pe===null)throw Error(r(160));sC(w,N,b),Pe=null,mr=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)cC(o,a),o=o.sibling}var si=null;function cC(a,o){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:yr(o,a),xr(a),g&4&&(Ha(3,a,a.return),Gc(3,a),Ha(5,a,a.return));break;case 1:yr(o,a),xr(a),g&512&&(on||d===null||Mi(d,d.return)),g&64&&sa&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var b=si;if(yr(o,a),xr(a),g&512&&(on||d===null||Mi(d,d.return)),g&4){var w=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){t:{g=a.type,d=a.memoizedProps,b=b.ownerDocument||b;e:switch(g){case"title":w=b.getElementsByTagName("title")[0],(!w||w[tt]||w[xe]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(g),b.head.insertBefore(w,b.querySelector("head > title"))),On(w,g,d),w[xe]=a,ae(w),g=w;break t;case"link":var N=c_("link","href",b).get(g+(d.href||""));if(N){for(var H=0;H<N.length;H++)if(w=N[H],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){N.splice(H,1);break e}}w=b.createElement(g),On(w,g,d),b.head.appendChild(w);break;case"meta":if(N=c_("meta","content",b).get(g+(d.content||""))){for(H=0;H<N.length;H++)if(w=N[H],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){N.splice(H,1);break e}}w=b.createElement(g),On(w,g,d),b.head.appendChild(w);break;default:throw Error(r(468,g))}w[xe]=a,ae(w),g=w}a.stateNode=g}else u_(b,a.type,a.stateNode);else a.stateNode=l_(b,g,a.memoizedProps);else w!==g?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,g===null?u_(b,a.type,a.stateNode):l_(b,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Xy(a,a.memoizedProps,d.memoizedProps)}break;case 27:yr(o,a),xr(a),g&512&&(on||d===null||Mi(d,d.return)),d!==null&&g&4&&Xy(a,a.memoizedProps,d.memoizedProps);break;case 5:if(yr(o,a),xr(a),g&512&&(on||d===null||Mi(d,d.return)),a.flags&32){b=a.stateNode;try{$o(b,"")}catch(Ct){we(a,a.return,Ct)}}g&4&&a.stateNode!=null&&(b=a.memoizedProps,Xy(a,b,d!==null?d.memoizedProps:b)),g&1024&&(Qy=!0);break;case 6:if(yr(o,a),xr(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(Ct){we(a,a.return,Ct)}}break;case 3:if(lf=null,b=si,si=sf(o.containerInfo),yr(o,a),si=b,xr(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{pl(o.containerInfo)}catch(Ct){we(a,a.return,Ct)}Qy&&(Qy=!1,uC(a));break;case 4:g=si,si=sf(a.stateNode.containerInfo),yr(o,a),xr(a),si=g;break;case 12:yr(o,a),xr(a);break;case 31:yr(o,a),xr(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Ud(a,g)));break;case 13:yr(o,a),xr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Yd=Ae()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Ud(a,g)));break;case 22:b=a.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,st=sa,dt=on;if(sa=st||b,on=dt||K,yr(o,a),on=dt,sa=st,xr(a),g&8192)t:for(o=a.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(d===null||K||sa||on||Ys(a)),d=null,o=a;;){if(o.tag===5||o.tag===26){if(d===null){K=d=o;try{if(w=K.stateNode,b)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{H=K.stateNode;var gt=K.memoizedProps.style,ot=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;H.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(Ct){we(K,K.return,Ct)}}}else if(o.tag===6){if(d===null){K=o;try{K.stateNode.nodeValue=b?"":K.memoizedProps}catch(Ct){we(K,K.return,Ct)}}}else if(o.tag===18){if(d===null){K=o;try{var lt=K.stateNode;b?JC(lt,!0):JC(K.stateNode,!1)}catch(Ct){we(K,K.return,Ct)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Ud(a,d))));break;case 19:yr(o,a),xr(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Ud(a,g)));break;case 30:break;case 21:break;default:yr(o,a),xr(a)}}function xr(a){var o=a.flags;if(o&2){try{for(var d,g=a.return;g!==null;){if(eC(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,w=Zy(a);qd(a,w,b);break;case 5:var N=d.stateNode;d.flags&32&&($o(N,""),d.flags&=-33);var H=Zy(a);qd(a,H,N);break;case 3:case 4:var K=d.stateNode.containerInfo,st=Zy(a);Ky(a,st,K);break;default:throw Error(r(161))}}catch(dt){we(a,a.return,dt)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function uC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;uC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function la(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)iC(a,o.alternate,o),o=o.sibling}function Ys(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ha(4,o,o.return),Ys(o);break;case 1:Mi(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&JS(o,o.return,d),Ys(o);break;case 27:iu(o.stateNode);case 26:case 5:Mi(o,o.return),Ys(o);break;case 22:o.memoizedState===null&&Ys(o);break;case 30:Ys(o);break;default:Ys(o)}a=a.sibling}}function ca(a,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,b=a,w=o,N=w.flags;switch(w.tag){case 0:case 11:case 15:ca(b,w,d),Gc(4,w);break;case 1:if(ca(b,w,d),g=w,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(st){we(g,g.return,st)}if(g=w,b=g.updateQueue,b!==null){var H=g.stateNode;try{var K=b.shared.hiddenCallbacks;if(K!==null)for(b.shared.hiddenCallbacks=null,b=0;b<K.length;b++)Iw(K[b],H)}catch(st){we(g,g.return,st)}}d&&N&64&&QS(w),Xc(w,w.return);break;case 27:nC(w);case 26:case 5:ca(b,w,d),d&&g===null&&N&4&&tC(w),Xc(w,w.return);break;case 12:ca(b,w,d);break;case 31:ca(b,w,d),d&&N&4&&oC(b,w);break;case 13:ca(b,w,d),d&&N&4&&lC(b,w);break;case 22:w.memoizedState===null&&ca(b,w,d),Xc(w,w.return);break;case 30:break;default:ca(b,w,d)}o=o.sibling}}function Jy(a,o){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Oc(d))}function t0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Oc(a))}function oi(a,o,d,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)hC(a,o,d,g),o=o.sibling}function hC(a,o,d,g){var b=o.flags;switch(o.tag){case 0:case 11:case 15:oi(a,o,d,g),b&2048&&Gc(9,o);break;case 1:oi(a,o,d,g);break;case 3:oi(a,o,d,g),b&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Oc(a)));break;case 12:if(b&2048){oi(a,o,d,g),a=o.stateNode;try{var w=o.memoizedProps,N=w.id,H=w.onPostCommit;typeof H=="function"&&H(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){we(o,o.return,K)}}else oi(a,o,d,g);break;case 31:oi(a,o,d,g);break;case 13:oi(a,o,d,g);break;case 23:break;case 22:w=o.stateNode,N=o.alternate,o.memoizedState!==null?w._visibility&2?oi(a,o,d,g):Zc(a,o):w._visibility&2?oi(a,o,d,g):(w._visibility|=2,rl(a,o,d,g,(o.subtreeFlags&10256)!==0||!1)),b&2048&&Jy(N,o);break;case 24:oi(a,o,d,g),b&2048&&t0(o.alternate,o);break;default:oi(a,o,d,g)}}function rl(a,o,d,g,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,N=o,H=d,K=g,st=N.flags;switch(N.tag){case 0:case 11:case 15:rl(w,N,H,K,b),Gc(8,N);break;case 23:break;case 22:var dt=N.stateNode;N.memoizedState!==null?dt._visibility&2?rl(w,N,H,K,b):Zc(w,N):(dt._visibility|=2,rl(w,N,H,K,b)),b&&st&2048&&Jy(N.alternate,N);break;case 24:rl(w,N,H,K,b),b&&st&2048&&t0(N.alternate,N);break;default:rl(w,N,H,K,b)}o=o.sibling}}function Zc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=a,g=o,b=g.flags;switch(g.tag){case 22:Zc(d,g),b&2048&&Jy(g.alternate,g);break;case 24:Zc(d,g),b&2048&&t0(g.alternate,g);break;default:Zc(d,g)}o=o.sibling}}var Kc=8192;function il(a,o,d){if(a.subtreeFlags&Kc)for(a=a.child;a!==null;)dC(a,o,d),a=a.sibling}function dC(a,o,d){switch(a.tag){case 26:il(a,o,d),a.flags&Kc&&a.memoizedState!==null&&f6(d,si,a.memoizedState,a.memoizedProps);break;case 5:il(a,o,d);break;case 3:case 4:var g=si;si=sf(a.stateNode.containerInfo),il(a,o,d),si=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=Kc,Kc=16777216,il(a,o,d),Kc=g):il(a,o,d));break;default:il(a,o,d)}}function fC(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Qc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var g=o[d];Tn=g,gC(g,a)}fC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pC(a),a=a.sibling}function pC(a){switch(a.tag){case 0:case 11:case 15:Qc(a),a.flags&2048&&Ha(9,a,a.return);break;case 3:Qc(a);break;case 12:Qc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Wd(a)):Qc(a);break;default:Qc(a)}}function Wd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var g=o[d];Tn=g,gC(g,a)}fC(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ha(8,o,o.return),Wd(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Wd(o));break;default:Wd(o)}a=a.sibling}}function gC(a,o){for(;Tn!==null;){var d=Tn;switch(d.tag){case 0:case 11:case 15:Ha(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Oc(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Tn=g;else t:for(d=a;Tn!==null;){g=Tn;var b=g.sibling,w=g.return;if(aC(g),g===d){Tn=null;break t}if(b!==null){b.return=w,Tn=b;break t}Tn=w}}}var Az={getCacheForType:function(a){var o=Bn(rn),d=o.data.get(a);return d===void 0&&(d=a(),o.data.set(a,d)),d},cacheSignal:function(){return Bn(rn).controller.signal}},Mz=typeof WeakMap=="function"?WeakMap:Map,de=0,Ee=null,Kt=null,ee=0,ve=0,Lr=null,Va=!1,al=!1,e0=!1,ua=0,Ze=0,qa=0,Gs=0,n0=0,Br=0,sl=0,Jc=null,br=null,r0=!1,Yd=0,mC=0,Gd=1/0,Xd=null,Ua=null,gn=0,Wa=null,ol=null,ha=0,i0=0,a0=null,yC=null,tu=0,s0=null;function Rr(){return(de&2)!==0&&ee!==0?ee&-ee:R.T!==null?d0():Fn()}function xC(){if(Br===0)if((ee&536870912)===0||se){var a=ki;ki<<=1,(ki&3932160)===0&&(ki=262144),Br=a}else Br=536870912;return a=Dr.current,a!==null&&(a.flags|=32),Br}function vr(a,o,d){(a===Ee&&(ve===2||ve===9)||a.cancelPendingCommit!==null)&&(ll(a,0),Ya(a,ee,Br,!1)),_n(a,d),((de&2)===0||a!==Ee)&&(a===Ee&&((de&2)===0&&(Gs|=d),Ze===4&&Ya(a,ee,Br,!1)),Di(a))}function bC(a,o,d){if((de&6)!==0)throw Error(r(327));var g=!d&&(o&127)===0&&(o&a.expiredLanes)===0||ie(a,o),b=g?Lz(a,o):l0(a,o,!0),w=g;do{if(b===0){al&&!g&&Ya(a,o,0,!1);break}else{if(d=a.current.alternate,w&&!Dz(d)){b=l0(a,o,!1),w=!1;continue}if(b===2){if(w=o,a.errorRecoveryDisabledLanes&w)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;t:{var H=a;b=Jc;var K=H.current.memoizedState.isDehydrated;if(K&&(ll(H,N).flags|=256),N=l0(H,N,!1),N!==2){if(e0&&!K){H.errorRecoveryDisabledLanes|=w,Gs|=w,b=4;break t}w=br,br=b,w!==null&&(br===null?br=w:br.push.apply(br,w))}b=N}if(w=!1,b!==2)continue}}if(b===1){ll(a,0),Ya(a,o,0,!0);break}t:{switch(g=a,w=b,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ya(g,o,Br,!Va);break t;case 2:br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(b=Yd+300-Ae(),10<b)){if(Ya(g,o,Br,!Va),Ge(g,0,!0)!==0)break t;ha=o,g.timeoutHandle=ZC(vC.bind(null,g,d,br,Xd,r0,o,Br,Gs,sl,Va,w,"Throttled",-0,0),b);break t}vC(g,d,br,Xd,r0,o,Br,Gs,sl,Va,w,null,-0,0)}}break}while(!0);Di(a)}function vC(a,o,d,g,b,w,N,H,K,st,dt,gt,ot,lt){if(a.timeoutHandle=-1,gt=o.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zi},dC(o,w,gt);var Ct=(w&62914560)===w?Yd-Ae():(w&4194048)===w?mC-Ae():0;if(Ct=p6(gt,Ct),Ct!==null){ha=w,a.cancelPendingCommit=Ct(AC.bind(null,a,o,w,d,g,b,N,H,K,dt,gt,null,ot,lt)),Ya(a,w,N,!st);return}}AC(a,o,w,d,g,b,N,H,K)}function Dz(a){for(var o=a;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var b=d[g],w=b.getSnapshot;b=b.value;try{if(!Ar(w(),b))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ya(a,o,d,g){o&=~n0,o&=~Gs,a.suspendedLanes|=o,a.pingedLanes&=~o,g&&(a.warmLanes|=o),g=a.expirationTimes;for(var b=o;0<b;){var w=31-Ye(b),N=1<<w;g[w]=-1,b&=~N}d!==0&&Pn(a,d,o)}function Zd(){return(de&6)===0?(eu(0),!1):!0}function o0(){if(Kt!==null){if(ve===0)var a=Kt.return;else a=Kt,ta=Ps=null,Cy(a),Qo=null,$c=0,a=Kt;for(;a!==null;)KS(a.alternate,a),a=a.return;Kt=null}}function ll(a,o){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,Zz(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),ha=0,o0(),Ee=a,Kt=d=Qi(a.current,null),ee=o,ve=0,Lr=null,Va=!1,al=ie(a,o),e0=!1,sl=Br=n0=Gs=qa=Ze=0,br=Jc=null,r0=!1,(o&8)!==0&&(o|=o&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=o;0<g;){var b=31-Ye(g),w=1<<b;o|=a[b],g&=~w}return ua=o,yd(),d}function wC(a,o){Yt=null,R.H=Uc,o===Ko||o===Td?(o=$w(),ve=3):o===hy?(o=$w(),ve=4):ve=o===Py?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Lr=o,Kt===null&&(Ze=1,Pd(a,Ir(o,a.current)))}function SC(){var a=Dr.current;return a===null?!0:(ee&4194048)===ee?Ur===null:(ee&62914560)===ee||(ee&536870912)!==0?a===Ur:!1}function CC(){var a=R.H;return R.H=Uc,a===null?Uc:a}function _C(){var a=R.A;return R.A=Az,a}function Kd(){Ze=4,Va||(ee&4194048)!==ee&&Dr.current!==null||(al=!0),(qa&134217727)===0&&(Gs&134217727)===0||Ee===null||Ya(Ee,ee,Br,!1)}function l0(a,o,d){var g=de;de|=2;var b=CC(),w=_C();(Ee!==a||ee!==o)&&(Xd=null,ll(a,o)),o=!1;var N=Ze;t:do try{if(ve!==0&&Kt!==null){var H=Kt,K=Lr;switch(ve){case 8:o0(),N=6;break t;case 3:case 2:case 9:case 6:Dr.current===null&&(o=!0);var st=ve;if(ve=0,Lr=null,cl(a,H,K,st),d&&al){N=0;break t}break;default:st=ve,ve=0,Lr=null,cl(a,H,K,st)}}Nz(),N=Ze;break}catch(dt){wC(a,dt)}while(!0);return o&&a.shellSuspendCounter++,ta=Ps=null,de=g,R.H=b,R.A=w,Kt===null&&(Ee=null,ee=0,yd()),N}function Nz(){for(;Kt!==null;)TC(Kt)}function Lz(a,o){var d=de;de|=2;var g=CC(),b=_C();Ee!==a||ee!==o?(Xd=null,Gd=Ae()+500,ll(a,o)):al=ie(a,o);t:do try{if(ve!==0&&Kt!==null){o=Kt;var w=Lr;e:switch(ve){case 1:ve=0,Lr=null,cl(a,o,w,1);break;case 2:case 9:if(Ow(w)){ve=0,Lr=null,kC(o);break}o=function(){ve!==2&&ve!==9||Ee!==a||(ve=7),Di(a)},w.then(o,o);break t;case 3:ve=7;break t;case 4:ve=5;break t;case 7:Ow(w)?(ve=0,Lr=null,kC(o)):(ve=0,Lr=null,cl(a,o,w,7));break;case 5:var N=null;switch(Kt.tag){case 26:N=Kt.memoizedState;case 5:case 27:var H=Kt;if(N?h_(N):H.stateNode.complete){ve=0,Lr=null;var K=H.sibling;if(K!==null)Kt=K;else{var st=H.return;st!==null?(Kt=st,Qd(st)):Kt=null}break e}}ve=0,Lr=null,cl(a,o,w,5);break;case 6:ve=0,Lr=null,cl(a,o,w,6);break;case 8:o0(),Ze=6;break t;default:throw Error(r(462))}}Bz();break}catch(dt){wC(a,dt)}while(!0);return ta=Ps=null,R.H=g,R.A=b,de=d,Kt!==null?0:(Ee=null,ee=0,yd(),Ze)}function Bz(){for(;Kt!==null&&!or();)TC(Kt)}function TC(a){var o=XS(a.alternate,a,ua);a.memoizedProps=a.pendingProps,o===null?Qd(a):Kt=o}function kC(a){var o=a,d=o.alternate;switch(o.tag){case 15:case 0:o=VS(d,o,o.pendingProps,o.type,void 0,ee);break;case 11:o=VS(d,o,o.pendingProps,o.type.render,o.ref,ee);break;case 5:Cy(o);default:KS(d,o),o=Kt=_w(o,ua),o=XS(d,o,ua)}a.memoizedProps=a.pendingProps,o===null?Qd(a):Kt=o}function cl(a,o,d,g){ta=Ps=null,Cy(o),Qo=null,$c=0;var b=o.return;try{if(wz(a,b,o,d,ee)){Ze=1,Pd(a,Ir(d,a.current)),Kt=null;return}}catch(w){if(b!==null)throw Kt=b,w;Ze=1,Pd(a,Ir(d,a.current)),Kt=null;return}o.flags&32768?(se||g===1?a=!0:al||(ee&536870912)!==0?a=!1:(Va=a=!0,(g===2||g===9||g===3||g===6)&&(g=Dr.current,g!==null&&g.tag===13&&(g.flags|=16384))),EC(o,a)):Qd(o)}function Qd(a){var o=a;do{if((o.flags&32768)!==0){EC(o,Va);return}a=o.return;var d=_z(o.alternate,o,ua);if(d!==null){Kt=d;return}if(o=o.sibling,o!==null){Kt=o;return}Kt=o=a}while(o!==null);Ze===0&&(Ze=5)}function EC(a,o){do{var d=Tz(a.alternate,a);if(d!==null){d.flags&=32767,Kt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(a=a.sibling,a!==null)){Kt=a;return}Kt=a=d}while(a!==null);Ze=6,Kt=null}function AC(a,o,d,g,b,w,N,H,K){a.cancelPendingCommit=null;do Jd();while(gn!==0);if((de&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=Zm,ze(a,d,w,N,H,K),a===Ee&&(Kt=Ee=null,ee=0),ol=o,Wa=a,ha=d,i0=w,a0=b,yC=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,$z(Mn,function(){return BC(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=R.T,R.T=null,b=F.p,F.p=2,N=de,de|=4;try{kz(a,o,d)}finally{de=N,F.p=b,R.T=g}}gn=1,MC(),DC(),NC()}}function MC(){if(gn===1){gn=0;var a=Wa,o=ol,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=R.T,R.T=null;var g=F.p;F.p=2;var b=de;de|=4;try{cC(o,a);var w=v0,N=gw(a.containerInfo),H=w.focusedElem,K=w.selectionRange;if(N!==H&&H&&H.ownerDocument&&pw(H.ownerDocument.documentElement,H)){if(K!==null&&Um(H)){var st=K.start,dt=K.end;if(dt===void 0&&(dt=st),"selectionStart"in H)H.selectionStart=st,H.selectionEnd=Math.min(dt,H.value.length);else{var gt=H.ownerDocument||document,ot=gt&&gt.defaultView||window;if(ot.getSelection){var lt=ot.getSelection(),Ct=H.textContent.length,Ft=Math.min(K.start,Ct),Te=K.end===void 0?Ft:Math.min(K.end,Ct);!lt.extend&&Ft>Te&&(N=Te,Te=Ft,Ft=N);var rt=fw(H,Ft),et=fw(H,Te);if(rt&&et&&(lt.rangeCount!==1||lt.anchorNode!==rt.node||lt.anchorOffset!==rt.offset||lt.focusNode!==et.node||lt.focusOffset!==et.offset)){var at=gt.createRange();at.setStart(rt.node,rt.offset),lt.removeAllRanges(),Ft>Te?(lt.addRange(at),lt.extend(et.node,et.offset)):(at.setEnd(et.node,et.offset),lt.addRange(at))}}}}for(gt=[],lt=H;lt=lt.parentNode;)lt.nodeType===1&&gt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<gt.length;H++){var ft=gt[H];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}df=!!b0,v0=b0=null}finally{de=b,F.p=g,R.T=d}}a.current=o,gn=2}}function DC(){if(gn===2){gn=0;var a=Wa,o=ol,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=R.T,R.T=null;var g=F.p;F.p=2;var b=de;de|=4;try{iC(a,o.alternate,o)}finally{de=b,F.p=g,R.T=d}}gn=3}}function NC(){if(gn===4||gn===3){gn=0,lr();var a=Wa,o=ol,d=ha,g=yC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?gn=5:(gn=0,ol=Wa=null,LC(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Ua=null),ur(d),o=o.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(cr,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=R.T,b=F.p,F.p=2,R.T=null;try{for(var w=a.onRecoverableError,N=0;N<g.length;N++){var H=g[N];w(H.value,{componentStack:H.stack})}}finally{R.T=o,F.p=b}}(ha&3)!==0&&Jd(),Di(a),b=a.pendingLanes,(d&261930)!==0&&(b&42)!==0?a===s0?tu++:(tu=0,s0=a):tu=0,eu(0)}}function LC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Oc(o)))}function Jd(){return MC(),DC(),NC(),BC()}function BC(){if(gn!==5)return!1;var a=Wa,o=i0;i0=0;var d=ur(ha),g=R.T,b=F.p;try{F.p=32>d?32:d,R.T=null,d=a0,a0=null;var w=Wa,N=ha;if(gn=0,ol=Wa=null,ha=0,(de&6)!==0)throw Error(r(331));var H=de;if(de|=4,pC(w.current),hC(w,w.current,N,d),de=H,eu(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(cr,w)}catch{}return!0}finally{F.p=b,R.T=g,LC(a,o)}}function RC(a,o,d){o=Ir(d,o),o=zy(a.stateNode,o,2),a=Pa(a,o,2),a!==null&&(_n(a,2),Di(a))}function we(a,o,d){if(a.tag===3)RC(a,a,d);else for(;o!==null;){if(o.tag===3){RC(o,a,d);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ua===null||!Ua.has(g))){a=Ir(d,a),d=OS(2),g=Pa(o,d,2),g!==null&&(jS(d,g,o,a),_n(g,2),Di(g));break}}o=o.return}}function c0(a,o,d){var g=a.pingCache;if(g===null){g=a.pingCache=new Mz;var b=new Set;g.set(o,b)}else b=g.get(o),b===void 0&&(b=new Set,g.set(o,b));b.has(d)||(e0=!0,b.add(d),a=Rz.bind(null,a,o,d),o.then(a,a))}function Rz(a,o,d){var g=a.pingCache;g!==null&&g.delete(o),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Ee===a&&(ee&d)===d&&(Ze===4||Ze===3&&(ee&62914560)===ee&&300>Ae()-Yd?(de&2)===0&&ll(a,0):n0|=d,sl===ee&&(sl=0)),Di(a)}function OC(a,o){o===0&&(o=nn()),a=js(a,o),a!==null&&(_n(a,o),Di(a))}function Oz(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),OC(a,d)}function jz(a,o){var d=0;switch(a.tag){case 31:case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(d=b.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(o),OC(a,d)}function $z(a,o){return Ve(a,o)}var tf=null,ul=null,u0=!1,ef=!1,h0=!1,Ga=0;function Di(a){a!==ul&&a.next===null&&(ul===null?tf=ul=a:ul=ul.next=a),ef=!0,u0||(u0=!0,Pz())}function eu(a,o){if(!h0&&ef){h0=!0;do for(var d=!1,g=tf;g!==null;){if(a!==0){var b=g.pendingLanes;if(b===0)var w=0;else{var N=g.suspendedLanes,H=g.pingedLanes;w=(1<<31-Ye(42|a)+1)-1,w&=b&~(N&~H),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,PC(g,w))}else w=ee,w=Ge(g,g===Ee?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||ie(g,w)||(d=!0,PC(g,w));g=g.next}while(d);h0=!1}}function zz(){jC()}function jC(){ef=u0=!1;var a=0;Ga!==0&&Xz()&&(a=Ga);for(var o=Ae(),d=null,g=tf;g!==null;){var b=g.next,w=$C(g,o);w===0?(g.next=null,d===null?tf=b:d.next=b,b===null&&(ul=d)):(d=g,(a!==0||(w&3)!==0)&&(ef=!0)),g=b}gn!==0&&gn!==5||eu(a),Ga!==0&&(Ga=0)}function $C(a,o){for(var d=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var N=31-Ye(w),H=1<<N,K=b[N];K===-1?((H&d)===0||(H&g)!==0)&&(b[N]=qe(H,o)):K<=o&&(a.expiredLanes|=H),w&=~H}if(o=Ee,d=ee,d=Ge(a,a===o?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===o&&(ve===2||ve===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&An(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ie(a,d)){if(o=d&-d,o===a.callbackPriority)return o;switch(g!==null&&An(g),ur(d)){case 2:case 8:d=Cn;break;case 32:d=Mn;break;case 268435456:d=Tr;break;default:d=Mn}return g=zC.bind(null,a),d=Ve(d,g),a.callbackPriority=o,a.callbackNode=d,o}return g!==null&&g!==null&&An(g),a.callbackPriority=2,a.callbackNode=null,2}function zC(a,o){if(gn!==0&&gn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Jd()&&a.callbackNode!==d)return null;var g=ee;return g=Ge(a,a===Ee?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(bC(a,g,o),$C(a,Ae()),a.callbackNode!=null&&a.callbackNode===d?zC.bind(null,a):null)}function PC(a,o){if(Jd())return null;bC(a,o,!0)}function Pz(){Kz(function(){(de&6)!==0?Ve(Sn,zz):jC()})}function d0(){if(Ga===0){var a=Xo;a===0&&(a=kr,kr<<=1,(kr&261888)===0&&(kr=256)),Ga=a}return Ga}function FC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:cd(""+a)}function IC(a,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,a.id&&d.setAttribute("form",a.id),o.parentNode.insertBefore(d,o),a=new FormData(a),d.parentNode.removeChild(d),a}function Fz(a,o,d,g,b){if(o==="submit"&&d&&d.stateNode===b){var w=FC((b[pn]||null).action),N=g.submitter;N&&(o=(o=N[pn]||null)?FC(o.formAction):N.getAttribute("formAction"),o!==null&&(w=o,N=null));var H=new fd("action","action",null,g,b);a.push({event:H,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ga!==0){var K=N?IC(b,N):new FormData(b);Ly(d,{pending:!0,data:K,method:b.method,action:w},null,K)}}else typeof w=="function"&&(H.preventDefault(),K=N?IC(b,N):new FormData(b),Ly(d,{pending:!0,data:K,method:b.method,action:w},w,K))},currentTarget:b}]})}}for(var f0=0;f0<Xm.length;f0++){var p0=Xm[f0],Iz=p0.toLowerCase(),Hz=p0[0].toUpperCase()+p0.slice(1);ai(Iz,"on"+Hz)}ai(xw,"onAnimationEnd"),ai(bw,"onAnimationIteration"),ai(vw,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(iz,"onTransitionRun"),ai(az,"onTransitionStart"),ai(sz,"onTransitionCancel"),ai(ww,"onTransitionEnd"),Me("onMouseEnter",["mouseout","mouseover"]),Me("onMouseLeave",["mouseout","mouseover"]),Me("onPointerEnter",["pointerout","pointerover"]),Me("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function HC(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],b=g.event;g=g.listeners;t:{var w=void 0;if(o)for(var N=g.length-1;0<=N;N--){var H=g[N],K=H.instance,st=H.currentTarget;if(H=H.listener,K!==w&&b.isPropagationStopped())break t;w=H,b.currentTarget=st;try{w(b)}catch(dt){md(dt)}b.currentTarget=null,w=K}else for(N=0;N<g.length;N++){if(H=g[N],K=H.instance,st=H.currentTarget,H=H.listener,K!==w&&b.isPropagationStopped())break t;w=H,b.currentTarget=st;try{w(b)}catch(dt){md(dt)}b.currentTarget=null,w=K}}}}function Qt(a,o){var d=o[Gi];d===void 0&&(d=o[Gi]=new Set);var g=a+"__bubble";d.has(g)||(VC(o,a,2,!1),d.add(g))}function g0(a,o,d){var g=0;o&&(g|=4),VC(d,a,g,o)}var nf="_reactListening"+Math.random().toString(36).slice(2);function m0(a){if(!a[nf]){a[nf]=!0,dr.forEach(function(d){d!=="selectionchange"&&(Vz.has(d)||g0(d,!1,a),g0(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[nf]||(o[nf]=!0,g0("selectionchange",!1,o))}}function VC(a,o,d,g){switch(x_(o)){case 2:var b=y6;break;case 8:b=x6;break;default:b=N0}d=b.bind(null,o,d,a),b=void 0,!jm||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(o,d,{capture:!0,passive:b}):a.addEventListener(o,d,!0):b!==void 0?a.addEventListener(o,d,{passive:b}):a.addEventListener(o,d,!1)}function y0(a,o,d,g,b){var w=g;if((o&1)===0&&(o&2)===0&&g!==null)t:for(;;){if(g===null)return;var N=g.tag;if(N===3||N===4){var H=g.stateNode.containerInfo;if(H===b)break;if(N===4)for(N=g.return;N!==null;){var K=N.tag;if((K===3||K===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;H!==null;){if(N=St(H),N===null)return;if(K=N.tag,K===5||K===6||K===26||K===27){g=w=N;continue t}H=H.parentNode}}g=g.return}G2(function(){var st=w,dt=Rm(d),gt=[];t:{var ot=Sw.get(a);if(ot!==void 0){var lt=fd,Ct=a;switch(a){case"keypress":if(hd(d)===0)break t;case"keydown":case"keyup":lt=j$;break;case"focusin":Ct="focus",lt=Fm;break;case"focusout":Ct="blur",lt=Fm;break;case"beforeblur":case"afterblur":lt=Fm;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=K2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=_$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=P$;break;case xw:case bw:case vw:lt=E$;break;case ww:lt=I$;break;case"scroll":case"scrollend":lt=S$;break;case"wheel":lt=V$;break;case"copy":case"cut":case"paste":lt=M$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=J2;break;case"toggle":case"beforetoggle":lt=U$}var Ft=(o&4)!==0,Te=!Ft&&(a==="scroll"||a==="scrollend"),rt=Ft?ot!==null?ot+"Capture":null:ot;Ft=[];for(var et=st,at;et!==null;){var ft=et;if(at=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||at===null||rt===null||(ft=_c(et,rt),ft!=null&&Ft.push(ru(et,ft,at))),Te)break;et=et.return}0<Ft.length&&(ot=new lt(ot,Ct,null,d,dt),gt.push({event:ot,listeners:Ft}))}}if((o&7)===0){t:{if(ot=a==="mouseover"||a==="pointerover",lt=a==="mouseout"||a==="pointerout",ot&&d!==Bm&&(Ct=d.relatedTarget||d.fromElement)&&(St(Ct)||Ct[Pr]))break t;if((lt||ot)&&(ot=dt.window===dt?dt:(ot=dt.ownerDocument)?ot.defaultView||ot.parentWindow:window,lt?(Ct=d.relatedTarget||d.toElement,lt=st,Ct=Ct?St(Ct):null,Ct!==null&&(Te=s(Ct),Ft=Ct.tag,Ct!==Te||Ft!==5&&Ft!==27&&Ft!==6)&&(Ct=null)):(lt=null,Ct=st),lt!==Ct)){if(Ft=K2,ft="onMouseLeave",rt="onMouseEnter",et="mouse",(a==="pointerout"||a==="pointerover")&&(Ft=J2,ft="onPointerLeave",rt="onPointerEnter",et="pointer"),Te=lt==null?ot:Be(lt),at=Ct==null?ot:Be(Ct),ot=new Ft(ft,et+"leave",lt,d,dt),ot.target=Te,ot.relatedTarget=at,ft=null,St(dt)===st&&(Ft=new Ft(rt,et+"enter",Ct,d,dt),Ft.target=at,Ft.relatedTarget=Te,ft=Ft),Te=ft,lt&&Ct)e:{for(Ft=qz,rt=lt,et=Ct,at=0,ft=rt;ft;ft=Ft(ft))at++;ft=0;for(var jt=et;jt;jt=Ft(jt))ft++;for(;0<at-ft;)rt=Ft(rt),at--;for(;0<ft-at;)et=Ft(et),ft--;for(;at--;){if(rt===et||et!==null&&rt===et.alternate){Ft=rt;break e}rt=Ft(rt),et=Ft(et)}Ft=null}else Ft=null;lt!==null&&qC(gt,ot,lt,Ft,!1),Ct!==null&&Te!==null&&qC(gt,Te,Ct,Ft,!0)}}t:{if(ot=st?Be(st):window,lt=ot.nodeName&&ot.nodeName.toLowerCase(),lt==="select"||lt==="input"&&ot.type==="file")var ce=ow;else if(aw(ot))if(lw)ce=ez;else{ce=J$;var Nt=Q$}else lt=ot.nodeName,!lt||lt.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?st&&Lm(st.elementType)&&(ce=ow):ce=tz;if(ce&&(ce=ce(a,st))){sw(gt,ce,d,dt);break t}Nt&&Nt(a,ot,st),a==="focusout"&&st&&ot.type==="number"&&st.memoizedProps.value!=null&&Cc(ot,"number",ot.value)}switch(Nt=st?Be(st):window,a){case"focusin":(aw(Nt)||Nt.contentEditable==="true")&&(Io=Nt,Wm=st,Lc=null);break;case"focusout":Lc=Wm=Io=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,mw(gt,d,dt);break;case"selectionchange":if(rz)break;case"keydown":case"keyup":mw(gt,d,dt)}var Gt;if(Hm)t:{switch(a){case"compositionstart":var ne="onCompositionStart";break t;case"compositionend":ne="onCompositionEnd";break t;case"compositionupdate":ne="onCompositionUpdate";break t}ne=void 0}else Fo?rw(a,d)&&(ne="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(ne="onCompositionStart");ne&&(tw&&d.locale!=="ko"&&(Fo||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Fo&&(Gt=X2()):(La=dt,$m="value"in La?La.value:La.textContent,Fo=!0)),Nt=rf(st,ne),0<Nt.length&&(ne=new Q2(ne,a,null,d,dt),gt.push({event:ne,listeners:Nt}),Gt?ne.data=Gt:(Gt=iw(d),Gt!==null&&(ne.data=Gt)))),(Gt=Y$?G$(a,d):X$(a,d))&&(ne=rf(st,"onBeforeInput"),0<ne.length&&(Nt=new Q2("onBeforeInput","beforeinput",null,d,dt),gt.push({event:Nt,listeners:ne}),Nt.data=Gt)),Fz(gt,a,st,d,dt)}HC(gt,o)})}function ru(a,o,d){return{instance:a,listener:o,currentTarget:d}}function rf(a,o){for(var d=o+"Capture",g=[];a!==null;){var b=a,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=_c(a,d),b!=null&&g.unshift(ru(a,b,w)),b=_c(a,o),b!=null&&g.push(ru(a,b,w))),a.tag===3)return g;a=a.return}return[]}function qz(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function qC(a,o,d,g,b){for(var w=o._reactName,N=[];d!==null&&d!==g;){var H=d,K=H.alternate,st=H.stateNode;if(H=H.tag,K!==null&&K===g)break;H!==5&&H!==26&&H!==27||st===null||(K=st,b?(st=_c(d,w),st!=null&&N.unshift(ru(d,st,K))):b||(st=_c(d,w),st!=null&&N.push(ru(d,st,K)))),d=d.return}N.length!==0&&a.push({event:o,listeners:N})}var Uz=/\r\n?/g,Wz=/\u0000|\uFFFD/g;function UC(a){return(typeof a=="string"?a:""+a).replace(Uz,`
`).replace(Wz,"")}function WC(a,o){return o=UC(o),UC(a)===o}function _e(a,o,d,g,b,w){switch(d){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||$o(a,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&$o(a,""+g);break;case"className":Oo(a,"class",g);break;case"tabIndex":Oo(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Oo(a,d,g);break;case"style":W2(a,g,w);break;case"data":if(o!=="object"){Oo(a,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=cd(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(o!=="input"&&_e(a,o,"name",b.name,b,null),_e(a,o,"formEncType",b.formEncType,b,null),_e(a,o,"formMethod",b.formMethod,b,null),_e(a,o,"formTarget",b.formTarget,b,null)):(_e(a,o,"encType",b.encType,b,null),_e(a,o,"method",b.method,b,null),_e(a,o,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=cd(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=Zi);break;case"onScroll":g!=null&&Qt("scroll",a);break;case"onScrollEnd":g!=null&&Qt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=cd(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":Qt("beforetoggle",a),Qt("toggle",a),Ro(a,"popover",g);break;case"xlinkActuate":ii(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ii(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ii(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ii(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ii(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ii(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ii(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ii(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ii(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ro(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=v$.get(d)||d,Ro(a,d,g))}}function x0(a,o,d,g,b,w){switch(d){case"style":W2(a,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof g=="string"?$o(a,g):(typeof g=="number"||typeof g=="bigint")&&$o(a,""+g);break;case"onScroll":g!=null&&Qt("scroll",a);break;case"onScrollEnd":g!=null&&Qt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ri.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),o=d.slice(2,b?d.length-7:void 0),w=a[pn]||null,w=w!=null?w[d]:null,typeof w=="function"&&a.removeEventListener(o,w,b),typeof g=="function")){typeof w!="function"&&w!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(o,g,b);break t}d in a?a[d]=g:g===!0?a.setAttribute(d,""):Ro(a,d,g)}}}function On(a,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",a),Qt("load",a);var g=!1,b=!1,w;for(w in d)if(d.hasOwnProperty(w)){var N=d[w];if(N!=null)switch(w){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:_e(a,o,w,N,d,null)}}b&&_e(a,o,"srcSet",d.srcSet,d,null),g&&_e(a,o,"src",d.src,d,null);return;case"input":Qt("invalid",a);var H=w=N=b=null,K=null,st=null;for(g in d)if(d.hasOwnProperty(g)){var dt=d[g];if(dt!=null)switch(g){case"name":b=dt;break;case"type":N=dt;break;case"checked":K=dt;break;case"defaultChecked":st=dt;break;case"value":w=dt;break;case"defaultValue":H=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,o));break;default:_e(a,o,g,dt,d,null)}}ld(a,w,H,K,st,N,b,!1);return;case"select":Qt("invalid",a),g=N=w=null;for(b in d)if(d.hasOwnProperty(b)&&(H=d[b],H!=null))switch(b){case"value":w=H;break;case"defaultValue":N=H;break;case"multiple":g=H;default:_e(a,o,b,H,d,null)}o=w,d=N,a.multiple=!!g,o!=null?Xi(a,!!g,o,!1):d!=null&&Xi(a,!!g,d,!0);return;case"textarea":Qt("invalid",a),w=b=g=null;for(N in d)if(d.hasOwnProperty(N)&&(H=d[N],H!=null))switch(N){case"value":g=H;break;case"defaultValue":b=H;break;case"children":w=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:_e(a,o,N,H,d,null)}q2(a,g,b,w);return;case"option":for(K in d)d.hasOwnProperty(K)&&(g=d[K],g!=null)&&(K==="selected"?a.selected=g&&typeof g!="function"&&typeof g!="symbol":_e(a,o,K,g,d,null));return;case"dialog":Qt("beforetoggle",a),Qt("toggle",a),Qt("cancel",a),Qt("close",a);break;case"iframe":case"object":Qt("load",a);break;case"video":case"audio":for(g=0;g<nu.length;g++)Qt(nu[g],a);break;case"image":Qt("error",a),Qt("load",a);break;case"details":Qt("toggle",a);break;case"embed":case"source":case"link":Qt("error",a),Qt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in d)if(d.hasOwnProperty(st)&&(g=d[st],g!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:_e(a,o,st,g,d,null)}return;default:if(Lm(o)){for(dt in d)d.hasOwnProperty(dt)&&(g=d[dt],g!==void 0&&x0(a,o,dt,g,d,void 0));return}}for(H in d)d.hasOwnProperty(H)&&(g=d[H],g!=null&&_e(a,o,H,g,d,null))}function Yz(a,o,d,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,N=null,H=null,K=null,st=null,dt=null;for(lt in d){var gt=d[lt];if(d.hasOwnProperty(lt)&&gt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":K=gt;default:g.hasOwnProperty(lt)||_e(a,o,lt,null,g,gt)}}for(var ot in g){var lt=g[ot];if(gt=d[ot],g.hasOwnProperty(ot)&&(lt!=null||gt!=null))switch(ot){case"type":w=lt;break;case"name":b=lt;break;case"checked":st=lt;break;case"defaultChecked":dt=lt;break;case"value":N=lt;break;case"defaultValue":H=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,o));break;default:lt!==gt&&_e(a,o,ot,lt,g,gt)}}Ls(a,N,H,K,st,dt,w,b);return;case"select":lt=N=H=ot=null;for(w in d)if(K=d[w],d.hasOwnProperty(w)&&K!=null)switch(w){case"value":break;case"multiple":lt=K;default:g.hasOwnProperty(w)||_e(a,o,w,null,g,K)}for(b in g)if(w=g[b],K=d[b],g.hasOwnProperty(b)&&(w!=null||K!=null))switch(b){case"value":ot=w;break;case"defaultValue":H=w;break;case"multiple":N=w;default:w!==K&&_e(a,o,b,w,g,K)}o=H,d=N,g=lt,ot!=null?Xi(a,!!d,ot,!1):!!g!=!!d&&(o!=null?Xi(a,!!d,o,!0):Xi(a,!!d,d?[]:"",!1));return;case"textarea":lt=ot=null;for(H in d)if(b=d[H],d.hasOwnProperty(H)&&b!=null&&!g.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:_e(a,o,H,null,g,b)}for(N in g)if(b=g[N],w=d[N],g.hasOwnProperty(N)&&(b!=null||w!=null))switch(N){case"value":ot=b;break;case"defaultValue":lt=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==w&&_e(a,o,N,b,g,w)}V2(a,ot,lt);return;case"option":for(var Ct in d)ot=d[Ct],d.hasOwnProperty(Ct)&&ot!=null&&!g.hasOwnProperty(Ct)&&(Ct==="selected"?a.selected=!1:_e(a,o,Ct,null,g,ot));for(K in g)ot=g[K],lt=d[K],g.hasOwnProperty(K)&&ot!==lt&&(ot!=null||lt!=null)&&(K==="selected"?a.selected=ot&&typeof ot!="function"&&typeof ot!="symbol":_e(a,o,K,ot,g,lt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in d)ot=d[Ft],d.hasOwnProperty(Ft)&&ot!=null&&!g.hasOwnProperty(Ft)&&_e(a,o,Ft,null,g,ot);for(st in g)if(ot=g[st],lt=d[st],g.hasOwnProperty(st)&&ot!==lt&&(ot!=null||lt!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,o));break;default:_e(a,o,st,ot,g,lt)}return;default:if(Lm(o)){for(var Te in d)ot=d[Te],d.hasOwnProperty(Te)&&ot!==void 0&&!g.hasOwnProperty(Te)&&x0(a,o,Te,void 0,g,ot);for(dt in g)ot=g[dt],lt=d[dt],!g.hasOwnProperty(dt)||ot===lt||ot===void 0&&lt===void 0||x0(a,o,dt,ot,g,lt);return}}for(var rt in d)ot=d[rt],d.hasOwnProperty(rt)&&ot!=null&&!g.hasOwnProperty(rt)&&_e(a,o,rt,null,g,ot);for(gt in g)ot=g[gt],lt=d[gt],!g.hasOwnProperty(gt)||ot===lt||ot==null&&lt==null||_e(a,o,gt,ot,g,lt)}function YC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gz(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var b=d[g],w=b.transferSize,N=b.initiatorType,H=b.duration;if(w&&H&&YC(N)){for(N=0,H=b.responseEnd,g+=1;g<d.length;g++){var K=d[g],st=K.startTime;if(st>H)break;var dt=K.transferSize,gt=K.initiatorType;dt&&YC(gt)&&(K=K.responseEnd,N+=dt*(K<H?1:(H-st)/(K-st)))}if(--g,o+=8*(w+N)/(b.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var b0=null,v0=null;function af(a){return a.nodeType===9?a:a.ownerDocument}function GC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XC(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function w0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var S0=null;function Xz(){var a=window.event;return a&&a.type==="popstate"?a===S0?!1:(S0=a,!0):(S0=null,!1)}var ZC=typeof setTimeout=="function"?setTimeout:void 0,Zz=typeof clearTimeout=="function"?clearTimeout:void 0,KC=typeof Promise=="function"?Promise:void 0,Kz=typeof queueMicrotask=="function"?queueMicrotask:typeof KC<"u"?function(a){return KC.resolve(null).then(a).catch(Qz)}:ZC;function Qz(a){setTimeout(function(){throw a})}function Xa(a){return a==="head"}function QC(a,o){var d=o,g=0;do{var b=d.nextSibling;if(a.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(g===0){a.removeChild(b),pl(o);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")iu(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,iu(d);for(var w=d.firstChild;w;){var N=w.nextSibling,H=w.nodeName;w[tt]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=N}}else d==="body"&&iu(a.ownerDocument.body);d=b}while(d);pl(o)}function JC(a,o){var d=a;a=0;do{var g=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=g}while(d)}function C0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":C0(d),xt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function Jz(a,o,d,g){for(;a.nodeType===1;){var b=d;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[tt])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Wr(a.nextSibling),a===null)break}return null}function t6(a,o,d){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Wr(a.nextSibling),a===null))return null;return a}function t_(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Wr(a.nextSibling),a===null))return null;return a}function _0(a){return a.data==="$?"||a.data==="$~"}function T0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function e6(a,o){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||d.readyState!=="loading")o();else{var g=function(){o(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Wr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var k0=null;function e_(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(o===0)return Wr(a.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}a=a.nextSibling}return null}function n_(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return a;o--}else d!=="/$"&&d!=="/&"||o++}a=a.previousSibling}return null}function r_(a,o,d){switch(o=af(d),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function iu(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);xt(a)}var Yr=new Map,i_=new Set;function sf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var da=F.d;F.d={f:n6,r:r6,D:i6,C:a6,L:s6,m:o6,X:c6,S:l6,M:u6};function n6(){var a=da.f(),o=Zd();return a||o}function r6(a){var o=le(a);o!==null&&o.tag===5&&o.type==="form"?wS(o):da.r(a)}var hl=typeof document>"u"?null:document;function a_(a,o,d){var g=hl;if(g&&typeof o=="string"&&o){var b=pr(o);b='link[rel="'+a+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),i_.has(b)||(i_.add(b),a={rel:a,crossOrigin:d,href:o},g.querySelector(b)===null&&(o=g.createElement("link"),On(o,"link",a),ae(o),g.head.appendChild(o)))}}function i6(a){da.D(a),a_("dns-prefetch",a,null)}function a6(a,o){da.C(a,o),a_("preconnect",a,o)}function s6(a,o,d){da.L(a,o,d);var g=hl;if(g&&a&&o){var b='link[rel="preload"][as="'+pr(o)+'"]';o==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+pr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+pr(d.imageSizes)+'"]')):b+='[href="'+pr(a)+'"]';var w=b;switch(o){case"style":w=dl(a);break;case"script":w=fl(a)}Yr.has(w)||(a=p({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:a,as:o},d),Yr.set(w,a),g.querySelector(b)!==null||o==="style"&&g.querySelector(au(w))||o==="script"&&g.querySelector(su(w))||(o=g.createElement("link"),On(o,"link",a),ae(o),g.head.appendChild(o)))}}function o6(a,o){da.m(a,o);var d=hl;if(d&&a){var g=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+pr(g)+'"][href="'+pr(a)+'"]',w=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=fl(a)}if(!Yr.has(w)&&(a=p({rel:"modulepreload",href:a},o),Yr.set(w,a),d.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(su(w)))return}g=d.createElement("link"),On(g,"link",a),ae(g),d.head.appendChild(g)}}}function l6(a,o,d){da.S(a,o,d);var g=hl;if(g&&a){var b=be(g).hoistableStyles,w=dl(a);o=o||"default";var N=b.get(w);if(!N){var H={loading:0,preload:null};if(N=g.querySelector(au(w)))H.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},d),(d=Yr.get(w))&&E0(a,d);var K=N=g.createElement("link");ae(K),On(K,"link",a),K._p=new Promise(function(st,dt){K.onload=st,K.onerror=dt}),K.addEventListener("load",function(){H.loading|=1}),K.addEventListener("error",function(){H.loading|=2}),H.loading|=4,of(N,o,g)}N={type:"stylesheet",instance:N,count:1,state:H},b.set(w,N)}}}function c6(a,o){da.X(a,o);var d=hl;if(d&&a){var g=be(d).hoistableScripts,b=fl(a),w=g.get(b);w||(w=d.querySelector(su(b)),w||(a=p({src:a,async:!0},o),(o=Yr.get(b))&&A0(a,o),w=d.createElement("script"),ae(w),On(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(b,w))}}function u6(a,o){da.M(a,o);var d=hl;if(d&&a){var g=be(d).hoistableScripts,b=fl(a),w=g.get(b);w||(w=d.querySelector(su(b)),w||(a=p({src:a,async:!0,type:"module"},o),(o=Yr.get(b))&&A0(a,o),w=d.createElement("script"),ae(w),On(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(b,w))}}function s_(a,o,d,g){var b=(b=ct.current)?sf(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=dl(d.href),d=be(b).hoistableStyles,g=d.get(o),g||(g={type:"style",instance:null,count:0,state:null},d.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=dl(d.href);var w=be(b).hoistableStyles,N=w.get(a);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,N),(w=b.querySelector(au(a)))&&!w._p&&(N.instance=w,N.state.loading=5),Yr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Yr.set(a,d),w||h6(b,a,d,N.state))),o&&g===null)throw Error(r(528,""));return N}if(o&&g!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=fl(d),d=be(b).hoistableScripts,g=d.get(o),g||(g={type:"script",instance:null,count:0,state:null},d.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function dl(a){return'href="'+pr(a)+'"'}function au(a){return'link[rel="stylesheet"]['+a+"]"}function o_(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function h6(a,o,d,g){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=a.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),On(o,"link",d),ae(o),a.head.appendChild(o))}function fl(a){return'[src="'+pr(a)+'"]'}function su(a){return"script[async]"+a}function l_(a,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var g=a.querySelector('style[data-href~="'+pr(d.href)+'"]');if(g)return o.instance=g,ae(g),g;var b=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),ae(g),On(g,"style",b),of(g,d.precedence,a),o.instance=g;case"stylesheet":b=dl(d.href);var w=a.querySelector(au(b));if(w)return o.state.loading|=4,o.instance=w,ae(w),w;g=o_(d),(b=Yr.get(b))&&E0(g,b),w=(a.ownerDocument||a).createElement("link"),ae(w);var N=w;return N._p=new Promise(function(H,K){N.onload=H,N.onerror=K}),On(w,"link",g),o.state.loading|=4,of(w,d.precedence,a),o.instance=w;case"script":return w=fl(d.src),(b=a.querySelector(su(w)))?(o.instance=b,ae(b),b):(g=d,(b=Yr.get(w))&&(g=p({},d),A0(g,b)),a=a.ownerDocument||a,b=a.createElement("script"),ae(b),On(b,"link",g),a.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,of(g,d.precedence,a));return o.instance}function of(a,o,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,w=b,N=0;N<g.length;N++){var H=g[N];if(H.dataset.precedence===o)w=H;else if(w!==b)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(a,o.firstChild))}function E0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function A0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var lf=null;function c_(a,o,d){if(lf===null){var g=new Map,b=lf=new Map;b.set(d,g)}else b=lf,g=b.get(d),g||(g=new Map,b.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),b=0;b<d.length;b++){var w=d[b];if(!(w[tt]||w[xe]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(o)||"";N=a+N;var H=g.get(N);H?H.push(w):g.set(N,[w])}}return g}function u_(a,o,d){a=a.ownerDocument||a,a.head.insertBefore(d,o==="title"?a.querySelector("head > title"):null)}function d6(a,o,d){if(d===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function h_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function f6(a,o,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=dl(g.href),w=o.querySelector(au(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=cf.bind(a),o.then(a,a)),d.state.loading|=4,d.instance=w,ae(w);return}w=o.ownerDocument||o,g=o_(g),(b=Yr.get(b))&&E0(g,b),w=w.createElement("link"),ae(w);var N=w;N._p=new Promise(function(H,K){N.onload=H,N.onerror=K}),On(w,"link",g),d.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=cf.bind(a),o.addEventListener("load",d),o.addEventListener("error",d))}}var M0=0;function p6(a,o){return a.stylesheets&&a.count===0&&hf(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var g=setTimeout(function(){if(a.stylesheets&&hf(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&M0===0&&(M0=62500*Gz());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&hf(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>M0?50:800)+o);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(b)}}:null}function cf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var uf=null;function hf(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,uf=new Map,o.forEach(g6,a),uf=null,cf.call(a))}function g6(a,o){if(!(o.state.loading&4)){var d=uf.get(a);if(d)var g=d.get(null);else{d=new Map,uf.set(a,d);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var N=b[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(d.set(N.dataset.precedence,N),g=N)}g&&d.set(null,g)}b=o.instance,N=b.getAttribute("data-precedence"),w=d.get(N)||g,w===g&&d.set(null,b),d.set(N,b),this.count++,g=cf.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),w?w.parentNode.insertBefore(b,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),o.state.loading|=4}}var ou={$$typeof:T,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function m6(a,o,d,g,b,w,N,H,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dn(0),this.hiddenUpdates=dn(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function d_(a,o,d,g,b,w,N,H,K,st,dt,gt){return a=new m6(a,o,d,N,K,st,dt,gt,H),o=1,w===!0&&(o|=24),w=Mr(3,null,null,o),a.current=w,w.stateNode=a,o=ly(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:g,isDehydrated:d,cache:o},dy(w),a}function f_(a){return a?(a=qo,a):qo}function p_(a,o,d,g,b,w){b=f_(b),g.context===null?g.context=b:g.pendingContext=b,g=za(o),g.payload={element:d},w=w===void 0?null:w,w!==null&&(g.callback=w),d=Pa(a,g,o),d!==null&&(vr(d,a,o),Pc(d,a,o))}function g_(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function D0(a,o){g_(a,o),(a=a.alternate)&&g_(a,o)}function m_(a){if(a.tag===13||a.tag===31){var o=js(a,67108864);o!==null&&vr(o,a,67108864),D0(a,67108864)}}function y_(a){if(a.tag===13||a.tag===31){var o=Rr();o=fn(o);var d=js(a,o);d!==null&&vr(d,a,o),D0(a,o)}}var df=!0;function y6(a,o,d,g){var b=R.T;R.T=null;var w=F.p;try{F.p=2,N0(a,o,d,g)}finally{F.p=w,R.T=b}}function x6(a,o,d,g){var b=R.T;R.T=null;var w=F.p;try{F.p=8,N0(a,o,d,g)}finally{F.p=w,R.T=b}}function N0(a,o,d,g){if(df){var b=L0(g);if(b===null)y0(a,o,g,ff,d),b_(a,g);else if(v6(b,a,o,d,g))g.stopPropagation();else if(b_(a,g),o&4&&-1<b6.indexOf(a)){for(;b!==null;){var w=le(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=Ne(w.pendingLanes);if(N!==0){var H=w;for(H.pendingLanes|=2,H.entangledLanes|=2;N;){var K=1<<31-Ye(N);H.entanglements[1]|=K,N&=~K}Di(w),(de&6)===0&&(Gd=Ae()+500,eu(0))}}break;case 31:case 13:H=js(w,2),H!==null&&vr(H,w,2),Zd(),D0(w,2)}if(w=L0(g),w===null&&y0(a,o,g,ff,d),w===b)break;b=w}b!==null&&g.stopPropagation()}else y0(a,o,g,null,d)}}function L0(a){return a=Rm(a),B0(a)}var ff=null;function B0(a){if(ff=null,a=St(a),a!==null){var o=s(a);if(o===null)a=null;else{var d=o.tag;if(d===13){if(a=l(o),a!==null)return a;a=null}else if(d===31){if(a=c(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return ff=a,null}function x_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xn()){case Sn:return 2;case Cn:return 8;case Mn:case zr:return 32;case Tr:return 268435456;default:return 32}default:return 32}}var R0=!1,Za=null,Ka=null,Qa=null,lu=new Map,cu=new Map,Ja=[],b6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(a,o){switch(a){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":lu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(o.pointerId)}}function uu(a,o,d,g,b,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[b]},o!==null&&(o=le(o),o!==null&&m_(o)),a):(a.eventSystemFlags|=g,o=a.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),a)}function v6(a,o,d,g,b){switch(o){case"focusin":return Za=uu(Za,a,o,d,g,b),!0;case"dragenter":return Ka=uu(Ka,a,o,d,g,b),!0;case"mouseover":return Qa=uu(Qa,a,o,d,g,b),!0;case"pointerover":var w=b.pointerId;return lu.set(w,uu(lu.get(w)||null,a,o,d,g,b)),!0;case"gotpointercapture":return w=b.pointerId,cu.set(w,uu(cu.get(w)||null,a,o,d,g,b)),!0}return!1}function v_(a){var o=St(a.target);if(o!==null){var d=s(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){a.blockedOn=o,hr(a.priority,function(){y_(d)});return}}else if(o===31){if(o=c(d),o!==null){a.blockedOn=o,hr(a.priority,function(){y_(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function pf(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=L0(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Bm=g,d.target.dispatchEvent(g),Bm=null}else return o=le(d),o!==null&&m_(o),a.blockedOn=d,!1;o.shift()}return!0}function w_(a,o,d){pf(a)&&d.delete(o)}function w6(){R0=!1,Za!==null&&pf(Za)&&(Za=null),Ka!==null&&pf(Ka)&&(Ka=null),Qa!==null&&pf(Qa)&&(Qa=null),lu.forEach(w_),cu.forEach(w_)}function gf(a,o){a.blockedOn===o&&(a.blockedOn=null,R0||(R0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,w6)))}var mf=null;function S_(a){mf!==a&&(mf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mf===a&&(mf=null);for(var o=0;o<a.length;o+=3){var d=a[o],g=a[o+1],b=a[o+2];if(typeof g!="function"){if(B0(g||d)===null)continue;break}var w=le(d);w!==null&&(a.splice(o,3),o-=3,Ly(w,{pending:!0,data:b,method:d.method,action:g},g,b))}}))}function pl(a){function o(K){return gf(K,a)}Za!==null&&gf(Za,a),Ka!==null&&gf(Ka,a),Qa!==null&&gf(Qa,a),lu.forEach(o),cu.forEach(o);for(var d=0;d<Ja.length;d++){var g=Ja[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Ja.length&&(d=Ja[0],d.blockedOn===null);)v_(d),d.blockedOn===null&&Ja.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var b=d[g],w=d[g+1],N=b[pn]||null;if(typeof w=="function")N||S_(d);else if(N){var H=null;if(w&&w.hasAttribute("formAction")){if(b=w,N=w[pn]||null)H=N.formAction;else if(B0(b)!==null)continue}else H=N.action;typeof H=="function"?d[g+1]=H:(d.splice(g,3),g-=3),S_(d)}}}function C_(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(N){return b=N})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function O0(a){this._internalRoot=a}yf.prototype.render=O0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,g=Rr();p_(d,g,a,o,null,null)},yf.prototype.unmount=O0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;p_(a.current,2,null,a,null,null),Zd(),o[Pr]=null}};function yf(a){this._internalRoot=a}yf.prototype.unstable_scheduleHydration=function(a){if(a){var o=Fn();a={blockedOn:null,target:a,priority:o};for(var d=0;d<Ja.length&&o!==0&&o<Ja[d].priority;d++);Ja.splice(d,0,a),d===0&&v_(a)}};var __=e.version;if(__!=="19.2.4")throw Error(r(527,__,"19.2.4"));F.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var S6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{cr=xf.inject(S6),ke=xf}catch{}}return du.createRoot=function(a,o){if(!i(a))throw Error(r(299));var d=!1,g="",b=NS,w=LS,N=BS;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=d_(a,1,!1,null,null,d,g,null,b,w,N,C_),a[Pr]=o.current,m0(a),new O0(o)},du.hydrateRoot=function(a,o,d){if(!i(a))throw Error(r(299));var g=!1,b="",w=NS,N=LS,H=BS,K=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(N=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.formState!==void 0&&(K=d.formState)),o=d_(a,1,!0,o,d??null,g,b,K,w,N,H,C_),o.context=f_(null),d=o.current,g=Rr(),g=fn(g),b=za(g),b.callback=null,Pa(d,b,g),d=g,o.current.lanes=d,_n(o,d),Di(o),a[Pr]=o.current,m0(a),new yf(o)},du.version="19.2.4",du}var R_;function L6(){if(R_)return z0.exports;R_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),z0.exports=N6(),z0.exports}var B6=L6();const R6=Dh(B6),Fv=k.createContext({});function Iv(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const bM=typeof window<"u",vM=bM?k.useLayoutEffect:k.useEffect,Ag=k.createContext(null);function Hv(t,e){t.indexOf(e)===-1&&t.push(e)}function Vv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fi=(t,e,n)=>n>e?e:n<t?t:n;let qv=()=>{};const Ca={},wM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function SM(t){return typeof t=="object"&&t!==null}const CM=t=>/^0[^.\s]+$/u.test(t);function Uv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qr=t=>t,O6=(t,e)=>n=>e(t(n)),Lh=(...t)=>t.reduce(O6),th=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Wv{constructor(){this.subscriptions=[]}add(e){return Hv(this.subscriptions,e),()=>Vv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const l=this.subscriptions[s];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ba=t=>t*1e3,Kr=t=>t/1e3;function _M(t,e){return e?t*(1e3/e):0}const TM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,j6=1e-7,$6=12;function z6(t,e,n,r,i){let s,l,c=0;do l=e+(n-e)/2,s=TM(l,r,i)-t,s>0?n=l:e=l;while(Math.abs(s)>j6&&++c<$6);return l}function Bh(t,e,n,r){if(t===e&&n===r)return Qr;const i=s=>z6(s,0,1,t,n);return s=>s===0||s===1?s:TM(i(s),e,r)}const kM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,EM=t=>e=>1-t(1-e),AM=Bh(.33,1.53,.69,.99),Yv=EM(AM),MM=kM(Yv),DM=t=>(t*=2)<1?.5*Yv(t):.5*(2-Math.pow(2,-10*(t-1))),Gv=t=>1-Math.sin(Math.acos(t)),NM=EM(Gv),LM=kM(Gv),P6=Bh(.42,0,1,1),F6=Bh(0,0,.58,1),BM=Bh(.42,0,.58,1),I6=t=>Array.isArray(t)&&typeof t[0]!="number",RM=t=>Array.isArray(t)&&typeof t[0]=="number",H6={linear:Qr,easeIn:P6,easeInOut:BM,easeOut:F6,circIn:Gv,circInOut:LM,circOut:NM,backIn:Yv,backInOut:MM,backOut:AM,anticipate:DM},V6=t=>typeof t=="string",O_=t=>{if(RM(t)){qv(t.length===4);const[e,n,r,i]=t;return Bh(e,n,r,i)}else if(V6(t))return H6[t];return t},bf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function q6(t,e){let n=new Set,r=new Set,i=!1,s=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){l.has(f)&&(h.schedule(f),t()),f(c)}const h={schedule:(f,p=!1,m=!1)=>{const x=m&&i?n:r;return p&&l.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),l.delete(f)},process:f=>{if(c=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,h.process(f))}};return h}const U6=40;function OM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,l=bf.reduce((T,A)=>(T[A]=q6(s),T),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:f,update:p,preRender:m,render:y,postRender:x}=l,v=()=>{const T=Ca.useManualTiming?i.timestamp:performance.now();n=!1,Ca.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,U6),1)),i.timestamp=T,i.isProcessing=!0,c.process(i),u.process(i),h.process(i),f.process(i),p.process(i),m.process(i),y.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},S=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:bf.reduce((T,A)=>{const D=l[A];return T[A]=(B,L=!1,z=!1)=>(n||S(),D.schedule(B,L,z)),T},{}),cancel:T=>{for(let A=0;A<bf.length;A++)l[bf[A]].cancel(T)},state:i,steps:l}}const{schedule:$e,cancel:gs,state:zn,steps:H0}=OM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qr,!0);let tp;function W6(){tp=void 0}const Jn={now:()=>(tp===void 0&&Jn.set(zn.isProcessing||Ca.useManualTiming?zn.timestamp:performance.now()),tp),set:t=>{tp=t,queueMicrotask(W6)}},jM=t=>e=>typeof e=="string"&&e.startsWith(t),$M=jM("--"),Y6=jM("var(--"),Xv=t=>Y6(t)?G6.test(t.split("/*")[0].trim()):!1,G6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function j_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const uc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},eh={...uc,transform:t=>Fi(0,1,t)},vf={...uc,default:1},zu=t=>Math.round(t*1e5)/1e5,Zv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function X6(t){return t==null}const Z6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kv=(t,e)=>n=>!!(typeof n=="string"&&Z6.test(n)&&n.startsWith(t)||e&&!X6(n)&&Object.prototype.hasOwnProperty.call(n,e)),zM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,l,c]=r.match(Zv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},K6=t=>Fi(0,255,t),V0={...uc,transform:t=>Math.round(K6(t))},no={test:Kv("rgb","red"),parse:zM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+V0.transform(t)+", "+V0.transform(e)+", "+V0.transform(n)+", "+zu(eh.transform(r))+")"};function Q6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const rb={test:Kv("#"),parse:Q6,transform:no.transform},Rh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),rs=Rh("deg"),zi=Rh("%"),_t=Rh("px"),J6=Rh("vh"),t8=Rh("vw"),$_={...zi,parse:t=>zi.parse(t)/100,transform:t=>zi.transform(t*100)},kl={test:Kv("hsl","hue"),parse:zM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zi.transform(zu(e))+", "+zi.transform(zu(n))+", "+zu(eh.transform(r))+")"},ln={test:t=>no.test(t)||rb.test(t)||kl.test(t),parse:t=>no.test(t)?no.parse(t):kl.test(t)?kl.parse(t):rb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?no.transform(t):kl.transform(t),getAnimatableNone:t=>{const e=ln.parse(t);return e.alpha=0,ln.transform(e)}},e8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function n8(t){return isNaN(t)&&typeof t=="string"&&(t.match(Zv)?.length||0)+(t.match(e8)?.length||0)>0}const PM="number",FM="color",r8="var",i8="var(",z_="${}",a8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const c=e.replace(a8,u=>(ln.test(u)?(r.color.push(s),i.push(FM),n.push(ln.parse(u))):u.startsWith(i8)?(r.var.push(s),i.push(r8),n.push(u)):(r.number.push(s),i.push(PM),n.push(parseFloat(u))),++s,z_)).split(z_);return{values:n,split:c,indexes:r,types:i}}function IM(t){return nh(t).values}function HM(t){const{split:e,types:n}=nh(t),r=e.length;return i=>{let s="";for(let l=0;l<r;l++)if(s+=e[l],i[l]!==void 0){const c=n[l];c===PM?s+=zu(i[l]):c===FM?s+=ln.transform(i[l]):s+=i[l]}return s}}const s8=t=>typeof t=="number"?0:ln.test(t)?ln.getAnimatableNone(t):t;function o8(t){const e=IM(t);return HM(t)(e.map(s8))}const ms={test:n8,parse:IM,createTransformer:HM,getAnimatableNone:o8};function q0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function l8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,l=0;if(!e)i=s=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;i=q0(u,c,t+1/3),s=q0(u,c,t),l=q0(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}function _p(t,e){return n=>n>0?e:t}const Ue=(t,e,n)=>t+(e-t)*n,U0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},c8=[rb,no,kl],u8=t=>c8.find(e=>e.test(t));function P_(t){const e=u8(t);if(!e)return!1;let n=e.parse(t);return e===kl&&(n=l8(n)),n}const F_=(t,e)=>{const n=P_(t),r=P_(e);if(!n||!r)return _p(t,e);const i={...n};return s=>(i.red=U0(n.red,r.red,s),i.green=U0(n.green,r.green,s),i.blue=U0(n.blue,r.blue,s),i.alpha=Ue(n.alpha,r.alpha,s),no.transform(i))},ib=new Set(["none","hidden"]);function h8(t,e){return ib.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function d8(t,e){return n=>Ue(t,e,n)}function Qv(t){return typeof t=="number"?d8:typeof t=="string"?Xv(t)?_p:ln.test(t)?F_:g8:Array.isArray(t)?VM:typeof t=="object"?ln.test(t)?F_:f8:_p}function VM(t,e){const n=[...t],r=n.length,i=t.map((s,l)=>Qv(s)(s,e[l]));return s=>{for(let l=0;l<r;l++)n[l]=i[l](s);return n}}function f8(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Qv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function p8(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],l=t.indexes[s][r[s]],c=t.values[l]??0;n[i]=c,r[s]++}return n}const g8=(t,e)=>{const n=ms.createTransformer(e),r=nh(t),i=nh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ib.has(t)&&!i.values.length||ib.has(e)&&!r.values.length?h8(t,e):Lh(VM(p8(r,i),i.values),n):_p(t,e)};function qM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ue(t,e,n):Qv(t)(t,e)}const m8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$e.update(e,n),stop:()=>gs(e),now:()=>zn.isProcessing?zn.timestamp:Jn.now()}},UM=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Tp=2e4;function Jv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Tp;)e+=n,r=t.next(e);return e>=Tp?1/0:e}function y8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Jv(r),Tp);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Kr(i)}}const x8=5;function WM(t,e,n){const r=Math.max(e-x8,0);return _M(n-t(r),e-r)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},W0=.001;function b8({duration:t=Ke.duration,bounce:e=Ke.bounce,velocity:n=Ke.velocity,mass:r=Ke.mass}){let i,s,l=1-e;l=Fi(Ke.minDamping,Ke.maxDamping,l),t=Fi(Ke.minDuration,Ke.maxDuration,Kr(t)),l<1?(i=h=>{const f=h*l,p=f*t,m=f-n,y=ab(h,l),x=Math.exp(-p);return W0-m/y*x},s=h=>{const p=h*l*t,m=p*n+n,y=Math.pow(l,2)*Math.pow(h,2)*t,x=Math.exp(-p),v=ab(Math.pow(h,2),l);return(-i(h)+W0>0?-1:1)*((m-y)*x)/v}):(i=h=>{const f=Math.exp(-h*t),p=(h-n)*t+1;return-W0+f*p},s=h=>{const f=Math.exp(-h*t),p=(n-h)*(t*t);return f*p});const c=5/t,u=w8(i,s,c);if(t=ba(t),isNaN(u))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const v8=12;function w8(t,e,n){let r=n;for(let i=1;i<v8;i++)r=r-t(r)/e(r);return r}function ab(t,e){return t*Math.sqrt(1-e*e)}const S8=["duration","bounce"],C8=["stiffness","damping","mass"];function I_(t,e){return e.some(n=>t[n]!==void 0)}function _8(t){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...t};if(!I_(t,C8)&&I_(t,S8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ke.mass,stiffness:i,damping:s}}else{const n=b8(t);e={...e,...n,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function kp(t=Ke.visualDuration,e=Ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:s},{stiffness:u,damping:h,mass:f,duration:p,velocity:m,isResolvedFromDuration:y}=_8({...n,velocity:-Kr(n.velocity||0)}),x=m||0,v=h/(2*Math.sqrt(u*f)),S=l-s,_=Kr(Math.sqrt(u/f)),E=Math.abs(S)<5;r||(r=E?Ke.restSpeed.granular:Ke.restSpeed.default),i||(i=E?Ke.restDelta.granular:Ke.restDelta.default);let T;if(v<1){const D=ab(_,v);T=B=>{const L=Math.exp(-v*_*B);return l-L*((x+v*_*S)/D*Math.sin(D*B)+S*Math.cos(D*B))}}else if(v===1)T=D=>l-Math.exp(-_*D)*(S+(x+_*S)*D);else{const D=_*Math.sqrt(v*v-1);T=B=>{const L=Math.exp(-v*_*B),z=Math.min(D*B,300);return l-L*((x+v*_*S)*Math.sinh(z)+D*S*Math.cosh(z))/D}}const A={calculatedDuration:y&&p||null,next:D=>{const B=T(D);if(y)c.done=D>=p;else{let L=D===0?x:0;v<1&&(L=D===0?ba(x):WM(T,D,B));const z=Math.abs(L)<=r,V=Math.abs(l-B)<=i;c.done=z&&V}return c.value=c.done?l:B,c},toString:()=>{const D=Math.min(Jv(A),Tp),B=UM(L=>A.next(D*L).value,D,30);return D+"ms "+B},toTransition:()=>{}};return A}kp.applyToOptions=t=>{const e=y8(t,100,kp);return t.ease=e.ease,t.duration=ba(e.duration),t.type="keyframes",t};function sb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:l,min:c,max:u,restDelta:h=.5,restSpeed:f}){const p=t[0],m={done:!1,value:p},y=z=>c!==void 0&&z<c||u!==void 0&&z>u,x=z=>c===void 0?u:u===void 0||Math.abs(c-z)<Math.abs(u-z)?c:u;let v=n*e;const S=p+v,_=l===void 0?S:l(S);_!==S&&(v=_-p);const E=z=>-v*Math.exp(-z/r),T=z=>_+E(z),A=z=>{const V=E(z),Y=T(z);m.done=Math.abs(V)<=h,m.value=m.done?_:Y};let D,B;const L=z=>{y(m.value)&&(D=z,B=kp({keyframes:[m.value,x(m.value)],velocity:WM(T,z,m.value),damping:i,stiffness:s,restDelta:h,restSpeed:f}))};return L(0),{calculatedDuration:null,next:z=>{let V=!1;return!B&&D===void 0&&(V=!0,A(z),L(z)),D!==void 0&&z>=D?B.next(z-D):(!V&&A(z),m)}}}function T8(t,e,n){const r=[],i=n||Ca.mix||qM,s=t.length-1;for(let l=0;l<s;l++){let c=i(t[l],t[l+1]);if(e){const u=Array.isArray(e)?e[l]||Qr:e;c=Lh(u,c)}r.push(c)}return r}function k8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(qv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=T8(e,r,i),u=c.length,h=f=>{if(l&&f<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const m=th(t[p],t[p+1],f);return c[p](m)};return n?f=>h(Fi(t[0],t[s-1],f)):h}function E8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=th(0,e,r);t.push(Ue(n,1,i))}}function A8(t){const e=[0];return E8(e,t.length-1),e}function M8(t,e){return t.map(n=>n*e)}function D8(t,e){return t.map(()=>e||BM).splice(0,t.length-1)}function Pu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=I6(r)?r.map(O_):O_(r),s={done:!1,value:e[0]},l=M8(n&&n.length===e.length?n:A8(e),t),c=k8(l,e,{ease:Array.isArray(i)?i:D8(e,i)});return{calculatedDuration:t,next:u=>(s.value=c(u),s.done=u>=t,s)}}const N8=t=>t!==null;function t1(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(N8),c=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!c||r===void 0?s[c]:r}const L8={decay:sb,inertia:sb,tween:Pu,keyframes:Pu,spring:kp};function YM(t){typeof t.type=="string"&&(t.type=L8[t.type])}class e1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const B8=t=>t/100;class n1 extends e1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Jn.now()&&this.tick(Jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;YM(e);const{type:n=Pu,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:l=0}=e;let{keyframes:c}=e;const u=n||Pu;u!==Pu&&typeof c[0]!="number"&&(this.mixKeyframes=Lh(B8,qM(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Jv(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:f,repeat:p,repeatType:m,repeatDelay:y,type:x,onUpdate:v,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,A=r;if(p){const z=Math.min(this.currentTime,i)/c;let V=Math.floor(z),Y=z%1;!Y&&z>=1&&(Y=1),Y===1&&V--,V=Math.min(V,p+1),V%2&&(m==="reverse"?(Y=1-Y,y&&(Y-=y/c)):m==="mirror"&&(A=l)),T=Fi(0,1,Y)*c}const D=E?{done:!1,value:f[0]}:A.next(T);s&&(D.value=s(D.value));let{done:B}=D;!E&&u!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return L&&x!==sb&&(D.value=t1(f,this.options,S,this.speed)),v&&v(D.value),L&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Kr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Kr(e)}get time(){return Kr(this.currentTime)}set time(e){e=ba(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Jn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Kr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=m8,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function R8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ro=t=>t*180/Math.PI,ob=t=>{const e=ro(Math.atan2(t[1],t[0]));return lb(e)},O8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ob,rotateZ:ob,skewX:t=>ro(Math.atan(t[1])),skewY:t=>ro(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lb=t=>(t=t%360,t<0&&(t+=360),t),H_=ob,V_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),q_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),j8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:V_,scaleY:q_,scale:t=>(V_(t)+q_(t))/2,rotateX:t=>lb(ro(Math.atan2(t[6],t[5]))),rotateY:t=>lb(ro(Math.atan2(-t[2],t[0]))),rotateZ:H_,rotate:H_,skewX:t=>ro(Math.atan(t[4])),skewY:t=>ro(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cb(t){return t.includes("scale")?1:0}function ub(t,e){if(!t||t==="none")return cb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=j8,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=O8,i=c}if(!i)return cb(e);const s=r[e],l=i[1].split(",").map(z8);return typeof s=="function"?s(l):l[s]}const $8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ub(n,e)};function z8(t){return parseFloat(t.trim())}const hc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dc=new Set(hc),U_=t=>t===uc||t===_t,P8=new Set(["x","y","z"]),F8=hc.filter(t=>!P8.has(t));function I8(t){const e=[];return F8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const cs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ub(e,"x"),y:(t,{transform:e})=>ub(e,"y")};cs.translateX=cs.x;cs.translateY=cs.y;const uo=new Set;let hb=!1,db=!1,fb=!1;function GM(){if(db){const t=Array.from(uo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=I8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,l])=>{r.getValue(s)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}db=!1,hb=!1,uo.forEach(t=>t.complete(fb)),uo.clear()}function XM(){uo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(db=!0)})}function H8(){fb=!0,XM(),GM(),fb=!1}class r1{constructor(e,n,r,i,s,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(uo.add(this),hb||(hb=!0,$e.read(XM),$e.resolveKeyframes(GM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),l=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&s===void 0&&i.set(e[0])}R8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),uo.delete(this)}cancel(){this.state==="scheduled"&&(uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const V8=t=>t.startsWith("--");function q8(t,e,n){V8(e)?t.style.setProperty(e,n):t.style[e]=n}const U8=Uv(()=>window.ScrollTimeline!==void 0),W8={};function Y8(t,e){const n=Uv(t);return()=>W8[e]??n()}const ZM=Y8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Eu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,W_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eu([0,.65,.55,1]),circOut:Eu([.55,0,1,.45]),backIn:Eu([.31,.01,.66,-.59]),backOut:Eu([.33,1.53,.69,.99])};function KM(t,e){if(t)return typeof t=="function"?ZM()?UM(t,e):"ease-out":RM(t)?Eu(t):Array.isArray(t)?t.map(n=>KM(n,e)||W_.easeOut):W_[t]}function G8(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:l="loop",ease:c="easeOut",times:u}={},h=void 0){const f={[e]:n};u&&(f.offset=u);const p=KM(c,i);Array.isArray(p)&&(f.easing=p);const m={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"};return h&&(m.pseudoElement=h),t.animate(f,m)}function QM(t){return typeof t=="function"&&"applyToOptions"in t}function X8({type:t,...e}){return QM(t)&&ZM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Z8 extends e1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:l=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=l,this.options=e,qv(typeof e.type!="string");const h=X8(e);this.animation=G8(n,r,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=t1(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):q8(n,r,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Kr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Kr(e)}get time(){return Kr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ba(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&U8()?(this.animation.timeline=e,Qr):n(this)}}const JM={anticipate:DM,backInOut:MM,circInOut:LM};function K8(t){return t in JM}function Q8(t){typeof t.ease=="string"&&K8(t.ease)&&(t.ease=JM[t.ease])}const Y0=10;class J8 extends Z8{constructor(e){Q8(e),YM(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new n1({...l,autoplay:!1}),u=Math.max(Y0,Jn.now()-this.startTime),h=Fi(0,Y0,u-Y0);n.setWithVelocity(c.sample(Math.max(0,u-h)).value,c.sample(u).value,h),c.stop()}}const Y_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ms.test(t)||t==="0")&&!t.startsWith("url("));function tP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function eP(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],l=Y_(i,e),c=Y_(s,e);return!l||!c?!1:tP(t)||(n==="spring"||QM(n))&&r}function pb(t){t.duration=0,t.type="keyframes"}const nP=new Set(["opacity","clipPath","filter","transform"]),rP=Uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iP(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return rP()&&n&&nP.has(n)&&(n!=="transform"||!h)&&!u&&!r&&i!=="mirror"&&s!==0&&l!=="inertia"}const aP=40;class sP extends e1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:l="loop",keyframes:c,name:u,motionValue:h,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Jn.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:l,name:u,motionValue:h,element:f,...p},y=f?.KeyframeResolver||r1;this.keyframeResolver=new y(c,(x,v,S)=>this.onKeyframesResolved(x,v,m,!S),u,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:l,velocity:c,delay:u,isHandoff:h,onUpdate:f}=r;this.resolvedAt=Jn.now(),eP(e,s,l,c)||((Ca.instantAnimations||!u)&&f?.(t1(e,r,n)),e[0]=e[e.length-1],pb(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>aP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!h&&iP(m),x=m.motionValue?.owner?.current,v=y?new J8({...m,element:x}):new n1(m);v.finished.then(()=>{this.notifyFinished()}).catch(Qr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),H8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function tD(t,e,n,r=0,i=1){const s=Array.from(t).sort((h,f)=>h.sortNodePosition(f)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(s,l):i===1?s*r:c-s*r}const oP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lP(t){const e=oP.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function eD(t,e,n=1){const[r,i]=lP(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const l=s.trim();return wM(l)?parseFloat(l):l}return Xv(i)?eD(i,e,n+1):i}const cP={type:"spring",stiffness:500,damping:25,restSpeed:10},uP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hP={type:"keyframes",duration:.8},dP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fP=(t,{keyframes:e})=>e.length>2?hP:dc.has(t)?t.startsWith("scale")?uP(e[1]):cP:dP,pP=t=>t!==null;function gP(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(pP),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function i1(t,e){return t?.[e]??t?.default??t}function mP({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:l,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const a1=(t,e,n,r={},i,s)=>l=>{const c=i1(r,t)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-ba(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:m=>{e.set(m),c.onUpdate&&c.onUpdate(m)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:i};mP(c)||Object.assign(f,fP(t,f)),f.duration&&(f.duration=ba(f.duration)),f.repeatDelay&&(f.repeatDelay=ba(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(pb(f),f.delay===0&&(p=!0)),(Ca.instantAnimations||Ca.skipAnimations)&&(p=!0,pb(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,p&&!s&&e.get()!==void 0){const m=gP(f.keyframes,c);if(m!==void 0){$e.update(()=>{f.onUpdate(m),f.onComplete()});return}}return c.isSync?new n1(f):new sP(f)};function G_(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function s1(t,e,n,r){if(typeof e=="function"){const[i,s]=G_(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=G_(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Rl(t,e,n){const r=t.getProps();return s1(r,e,n!==void 0?n:r.custom,t)}const nD=new Set(["width","height","top","left","right","bottom",...hc]),X_=30,yP=t=>!isNaN(parseFloat(t));class xP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Jn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Wv);const r=this.events[e].add(n);return e==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>X_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,X_);return _M(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(t,e){return new xP(t,e)}const gb=t=>Array.isArray(t);function bP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xl(n))}function vP(t){return gb(t)?t[t.length-1]||0:t}function wP(t,e){const n=Rl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const l in s){const c=vP(s[l]);bP(t,l,c)}}const qn=t=>!!(t&&t.getVelocity);function SP(t){return!!(qn(t)&&t.add)}function mb(t,e){const n=t.getValue("willChange");if(SP(n))return n.add(e);if(!n&&Ca.WillChange){const r=new Ca.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function o1(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const CP="framerAppearId",rD="data-"+o1(CP);function iD(t){return t.props[rD]}function _P({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aD(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:l,...c}=e;const u=s?.reduceMotion;r&&(s=r);const h=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const m=t.getValue(p,t.latestValues[p]??null),y=c[p];if(y===void 0||f&&_P(f,p))continue;const x={delay:n,...i1(s||{},p)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===v&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const T=iD(t);if(T){const A=window.MotionHandoffAnimation(T,p,$e);A!==null&&(x.startTime=A,S=!0)}}mb(t,p);const _=u??t.shouldReduceMotion;m.start(a1(p,m,y,_&&nD.has(p)?{type:!1}:x,t,S));const E=m.animation;E&&h.push(E)}return l&&Promise.all(h).then(()=>{$e.update(()=>{l&&wP(t,l)})}),h}function yb(t,e,n={}){const r=Rl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(aD(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return TP(t,e,u,h,f,p,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,h]=c==="beforeChildren"?[s,l]:[l,s];return u().then(()=>h())}else return Promise.all([s(),l(n.delay)])}function TP(t,e,n=0,r=0,i=0,s=1,l){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(yb(u,e,{...l,delay:n+(typeof r=="function"?0:r)+tD(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function kP(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>yb(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=yb(t,e,n);else{const i=typeof e=="function"?Rl(t,e,n.custom):e;r=Promise.all(aD(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const EP={test:t=>t==="auto",parse:t=>t},sD=t=>e=>e.test(t),oD=[uc,_t,zi,rs,t8,J6,EP],Z_=t=>oD.find(sD(t));function AP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||CM(t):!0}const MP=new Set(["brightness","contrast","saturate","opacity"]);function DP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Zv)||[];if(!r)return t;const i=n.replace(r,"");let s=MP.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const NP=/\b([a-z-]*)\(.*?\)/gu,xb={...ms,getAnimatableNone:t=>{const e=t.match(NP);return e?e.map(DP).join(" "):t}},K_={...uc,transform:Math.round},LP={rotate:rs,rotateX:rs,rotateY:rs,rotateZ:rs,scale:vf,scaleX:vf,scaleY:vf,scaleZ:vf,skew:rs,skewX:rs,skewY:rs,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:eh,originX:$_,originY:$_,originZ:_t},l1={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,top:_t,right:_t,bottom:_t,left:_t,inset:_t,insetBlock:_t,insetBlockStart:_t,insetBlockEnd:_t,insetInline:_t,insetInlineStart:_t,insetInlineEnd:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,paddingBlock:_t,paddingBlockStart:_t,paddingBlockEnd:_t,paddingInline:_t,paddingInlineStart:_t,paddingInlineEnd:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,marginBlock:_t,marginBlockStart:_t,marginBlockEnd:_t,marginInline:_t,marginInlineStart:_t,marginInlineEnd:_t,fontSize:_t,backgroundPositionX:_t,backgroundPositionY:_t,...LP,zIndex:K_,fillOpacity:eh,strokeOpacity:eh,numOctaves:K_},BP={...l1,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:xb,WebkitFilter:xb},lD=t=>BP[t];function cD(t,e){let n=lD(t);return n!==xb&&(n=ms),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RP=new Set(["auto","none","0"]);function OP(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!RP.has(s)&&nh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=cD(n,i)}class jP extends r1{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Xv(p))){const m=eD(p,n.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!nD.has(r)||e.length!==2)return;const[i,s]=e,l=Z_(i),c=Z_(s),u=j_(i),h=j_(s);if(u!==h&&cs[r]){this.needsMeasurement=!0;return}if(l!==c)if(U_(l)&&U_(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else cs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||AP(e[i]))&&r.push(i);r.length&&OP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,l=r[s];r[s]=cs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function $P(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const uD=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bb(t){return SM(t)&&"offsetHeight"in t}const{schedule:c1}=OM(queueMicrotask,!1),ci={x:!1,y:!1};function hD(){return ci.x||ci.y}function zP(t){return t==="x"||t==="y"?ci[t]?null:(ci[t]=!0,()=>{ci[t]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function dD(t,e){const n=$P(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Q_(t){return!(t.pointerType==="touch"||hD())}function PP(t,e,n={}){const[r,i,s]=dD(t,n),l=c=>{if(!Q_(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const f=p=>{Q_(p)&&(h(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),s}const fD=(t,e)=>e?t===e?!0:fD(t,e.parentElement):!1,u1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pD(t){return FP.has(t.tagName)||t.isContentEditable===!0}const ep=new WeakSet;function J_(t){return e=>{e.key==="Enter"&&t(e)}}function G0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IP=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=J_(()=>{if(ep.has(n))return;G0(n,"down");const i=J_(()=>{G0(n,"up")}),s=()=>G0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tT(t){return u1(t)&&!hD()}function HP(t,e,n={}){const[r,i,s]=dD(t,n),l=c=>{const u=c.currentTarget;if(!tT(c))return;ep.add(u);const h=e(u,c),f=(y,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),ep.has(u)&&ep.delete(u),tT(y)&&typeof h=="function"&&h(y,{success:x})},p=y=>{f(y,u===window||u===document||n.useGlobalTarget||fD(u,y.target))},m=y=>{f(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),bb(c)&&(c.addEventListener("focus",h=>IP(h,i)),!pD(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function gD(t){return SM(t)&&"ownerSVGElement"in t}function VP(t){return gD(t)&&t.tagName==="svg"}const qP=[...oD,ln,ms],UP=t=>qP.find(sD(t)),eT=()=>({translate:0,scale:1,origin:0,originPoint:0}),El=()=>({x:eT(),y:eT()}),nT=()=>({min:0,max:0}),yn=()=>({x:nT(),y:nT()}),vb={current:null},mD={current:!1},WP=typeof window<"u";function YP(){if(mD.current=!0,!!WP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vb.current=t.matches;t.addEventListener("change",e),e()}else vb.current=!1}const GP=new WeakMap;function Mg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rh(t){return typeof t=="string"||Array.isArray(t)}const h1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d1=["initial",...h1];function Dg(t){return Mg(t.animate)||d1.some(e=>rh(t[e]))}function yD(t){return!!(Dg(t)||t.variants)}function XP(t,e,n){for(const r in e){const i=e[r],s=n[r];if(qn(i))t.addValue(r,i);else if(qn(s))t.addValue(r,Xl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Xl(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const rT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ep={};function xD(t){Ep=t}function ZP(){return Ep}class KP{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Jn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,$e.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=Dg(n),this.isVariantNode=yD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const y=p[m];u[m]!==void 0&&qn(y)&&y.set(u[m])}}mount(e){this.current=e,GP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(mD.current||YP(),this.shouldReduceMotion=vb.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=dc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&$e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ep){const n=Ep[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rT.length;r++){const i=rT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,l=e[s];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=XP(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Xl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(wM(r)||CM(r))?r=parseFloat(r):!UP(r)&&ms.test(n)&&(r=cD(e,n)),this.setBaseTarget(e,qn(r)?r.get():r)),qn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=s1(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!qn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Wv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){c1.render(this.render)}}class bD extends KP{constructor(){super(...arguments),this.KeyframeResolver=jP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class _s{constructor(e){this.isMounted=!1,this.node=e}update(){}}function vD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function QP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function X0(t){return t===void 0||t===1}function wb({scale:t,scaleX:e,scaleY:n}){return!X0(t)||!X0(e)||!X0(n)}function Ks(t){return wb(t)||wD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wD(t){return iT(t.x)||iT(t.y)}function iT(t){return t&&t!=="0%"}function Ap(t,e,n){const r=t-n,i=e*r;return n+i}function aT(t,e,n,r,i){return i!==void 0&&(t=Ap(t,i,r)),Ap(t,n,r)+e}function Sb(t,e=0,n=1,r,i){t.min=aT(t.min,e,n,r,i),t.max=aT(t.max,e,n,r,i)}function SD(t,{x:e,y:n}){Sb(t.x,e.translate,e.scale,e.originPoint),Sb(t.y,n.translate,n.scale,n.originPoint)}const sT=.999999999999,oT=1.0000000000001;function tF(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,l;for(let c=0;c<i;c++){s=n[c],l=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ml(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,SD(t,l)),r&&Ks(s.latestValues)&&Ml(t,s.latestValues))}e.x<oT&&e.x>sT&&(e.x=1),e.y<oT&&e.y>sT&&(e.y=1)}function Al(t,e){t.min=t.min+e,t.max=t.max+e}function lT(t,e,n,r,i=.5){const s=Ue(t.min,t.max,i);Sb(t,e,n,s,r)}function Ml(t,e){lT(t.x,e.x,e.scaleX,e.scale,e.originX),lT(t.y,e.y,e.scaleY,e.scale,e.originY)}function CD(t,e){return vD(JP(t.getBoundingClientRect(),e))}function eF(t,e,n){const r=CD(t,n),{scroll:i}=e;return i&&(Al(r.x,i.offset.x),Al(r.y,i.offset.y)),r}const nF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rF=hc.length;function iF(t,e,n){let r="",i=!0;for(let s=0;s<rF;s++){const l=hc[s],c=t[l];if(c===void 0)continue;let u=!0;if(typeof c=="number")u=c===(l.startsWith("scale")?1:0);else{const h=parseFloat(c);u=l.startsWith("scale")?h===1:h===0}if(!u||n){const h=uD(c,l1[l]);if(!u){i=!1;const f=nF[l]||l;r+=`${f}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function f1(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let l=!1,c=!1;for(const u in e){const h=e[u];if(dc.has(u)){l=!0;continue}else if($M(u)){i[u]=h;continue}else{const f=uD(h,l1[u]);u.startsWith("origin")?(c=!0,s[u]=f):r[u]=f}}if(e.transform||(l||n?r.transform=iF(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:f=0}=s;r.transformOrigin=`${u} ${h} ${f}`}}function _D(t,{style:e,vars:n},r,i){const s=t.style;let l;for(l in e)s[l]=e[l];i?.applyProjectionStyles(s,r);for(l in n)s.setProperty(l,n[l])}function cT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_t.test(t))t=parseFloat(t);else return t;const n=cT(t,e.target.x),r=cT(t,e.target.y);return`${n}% ${r}%`}},aF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ms.parse(t);if(i.length>5)return r;const s=ms.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=u;const h=Ue(c,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),s(i)}},Cb={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:aF};function TD(t,{layout:e,layoutId:n}){return dc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cb[t]||t==="opacity")}function p1(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const l in r)(qn(r[l])||i&&qn(i[l])||TD(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(s[l]=r[l]);return s}function sF(t){return window.getComputedStyle(t)}class oF extends bD{constructor(){super(...arguments),this.type="html",this.renderInstance=_D}readValueFromInstance(e,n){if(dc.has(n))return this.projection?.isProjecting?cb(n):$8(e,n);{const r=sF(e),i=($M(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CD(e,n)}build(e,n,r){f1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return p1(e,n,r)}}const lF={offset:"stroke-dashoffset",array:"stroke-dasharray"},cF={offset:"strokeDashoffset",array:"strokeDasharray"};function uF(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?lF:cF;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const hF=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function kD(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:l=0,...c},u,h,f){if(f1(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m}=t;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=f?.transformBox??"fill-box",delete p.transformBox);for(const y of hF)p[y]!==void 0&&(m[y]=p[y],delete p[y]);e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&uF(p,i,s,l,!1)}const ED=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),AD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dF(t,e,n,r){_D(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(ED.has(i)?i:o1(i),e.attrs[i])}function MD(t,e,n){const r=p1(t,e,n);for(const i in t)if(qn(t[i])||qn(e[i])){const s=hc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class fF extends bD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(dc.has(n)){const r=lD(n);return r&&r.default||0}return n=ED.has(n)?n:o1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return MD(e,n,r)}build(e,n,r){kD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){dF(e,n,r,i)}mount(e){this.isSVGTag=AD(e.tagName),super.mount(e)}}const pF=d1.length;function DD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?DD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<pF;n++){const r=d1[n],i=t.props[r];(rh(i)||i===!1)&&(e[r]=i)}return e}function ND(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const gF=[...h1].reverse(),mF=h1.length;function yF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>kP(t,n,r)))}function xF(t){let e=yF(t),n=uT(),r=!0;const i=u=>(h,f)=>{const p=Rl(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:m,transitionEnd:y,...x}=p;h={...h,...x,...y}}return h};function s(u){e=u(t)}function l(u){const{props:h}=t,f=DD(t.parent)||{},p=[],m=new Set;let y={},x=1/0;for(let S=0;S<mF;S++){const _=gF[S],E=n[_],T=h[_]!==void 0?h[_]:f[_],A=rh(T),D=_===u?E.isActive:null;D===!1&&(x=S);let B=T===f[_]&&T!==h[_]&&A;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),E.protectedKeys={...y},!E.isActive&&D===null||!T&&!E.prevProp||Mg(T)||typeof T=="boolean")continue;const L=bF(E.prevProp,T);let z=L||_===u&&E.isActive&&!B&&A||S>x&&A,V=!1;const Y=Array.isArray(T)?T:[T];let U=Y.reduce(i(_),{});D===!1&&(U={});const{prevResolvedValues:X={}}=E,Z={...X,...U},$=F=>{z=!0,m.has(F)&&(V=!0,m.delete(F)),E.needsAnimating[F]=!0;const j=t.getValue(F);j&&(j.liveStyle=!1)};for(const F in Z){const j=U[F],W=X[F];if(y.hasOwnProperty(F))continue;let Q=!1;gb(j)&&gb(W)?Q=!ND(j,W):Q=j!==W,Q?j!=null?$(F):m.add(F):j!==void 0&&m.has(F)?$(F):E.protectedKeys[F]=!0}E.prevProp=T,E.prevResolvedValues=U,E.isActive&&(y={...y,...U}),r&&t.blockInitialAnimation&&(z=!1);const q=B&&L;z&&(!q||V)&&p.push(...Y.map(F=>{const j={type:_};if(typeof F=="string"&&r&&!q&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,Q=Rl(W,F);if(W.enteringChildren&&Q){const{delayChildren:I}=Q.transition||{};j.delay=tD(W.enteringChildren,t,I)}}return{animation:F,options:j}}))}if(m.size){const S={};if(typeof h.initial!="boolean"){const _=Rl(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(S.transition=_.transition)}m.forEach(_=>{const E=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),S[_]=E??null}),p.push({animation:S})}let v=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(p):Promise.resolve()}function c(u,h){if(n[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(u,h)),n[u].isActive=h;const f=l(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:l,setActive:c,setAnimateFunction:s,getState:()=>n,reset:()=>{n=uT()}}}function bF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ND(e,t):!1}function Xs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uT(){return{animate:Xs(!0),whileInView:Xs(),whileHover:Xs(),whileTap:Xs(),whileDrag:Xs(),whileFocus:Xs(),exit:Xs()}}function hT(t,e){t.min=e.min,t.max=e.max}function li(t,e){hT(t.x,e.x),hT(t.y,e.y)}function dT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const LD=1e-4,vF=1-LD,wF=1+LD,BD=.01,SF=0-BD,CF=0+BD;function tr(t){return t.max-t.min}function _F(t,e,n){return Math.abs(t-e)<=n}function fT(t,e,n,r=.5){t.origin=r,t.originPoint=Ue(e.min,e.max,t.origin),t.scale=tr(n)/tr(e),t.translate=Ue(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vF&&t.scale<=wF||isNaN(t.scale))&&(t.scale=1),(t.translate>=SF&&t.translate<=CF||isNaN(t.translate))&&(t.translate=0)}function Fu(t,e,n,r){fT(t.x,e.x,n.x,r?r.originX:void 0),fT(t.y,e.y,n.y,r?r.originY:void 0)}function pT(t,e,n){t.min=n.min+e.min,t.max=t.min+tr(e)}function TF(t,e,n){pT(t.x,e.x,n.x),pT(t.y,e.y,n.y)}function gT(t,e,n){t.min=e.min-n.min,t.max=t.min+tr(e)}function Mp(t,e,n){gT(t.x,e.x,n.x),gT(t.y,e.y,n.y)}function mT(t,e,n,r,i){return t-=e,t=Ap(t,1/n,r),i!==void 0&&(t=Ap(t,1/i,r)),t}function kF(t,e=0,n=1,r=.5,i,s=t,l=t){if(zi.test(e)&&(e=parseFloat(e),e=Ue(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Ue(s.min,s.max,r);t===s&&(c-=e),t.min=mT(t.min,e,n,c,i),t.max=mT(t.max,e,n,c,i)}function yT(t,e,[n,r,i],s,l){kF(t,e[n],e[r],e[i],e.scale,s,l)}const EF=["x","scaleX","originX"],AF=["y","scaleY","originY"];function xT(t,e,n,r){yT(t.x,e,EF,n?n.x:void 0,r?r.x:void 0),yT(t.y,e,AF,n?n.y:void 0,r?r.y:void 0)}function bT(t){return t.translate===0&&t.scale===1}function RD(t){return bT(t.x)&&bT(t.y)}function vT(t,e){return t.min===e.min&&t.max===e.max}function MF(t,e){return vT(t.x,e.x)&&vT(t.y,e.y)}function wT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OD(t,e){return wT(t.x,e.x)&&wT(t.y,e.y)}function ST(t){return tr(t.x)/tr(t.y)}function CT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Xr(t){return[t("x"),t("y")]}function DF(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,l=n?.z||0;if((i||s||l)&&(r=`translate3d(${i}px, ${s}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:p,rotateY:m,skewX:y,skewY:x}=n;h&&(r=`perspective(${h}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const jD=["TopLeft","TopRight","BottomLeft","BottomRight"],NF=jD.length,_T=t=>typeof t=="string"?parseFloat(t):t,TT=t=>typeof t=="number"||_t.test(t);function LF(t,e,n,r,i,s){i?(t.opacity=Ue(0,n.opacity??1,BF(r)),t.opacityExit=Ue(e.opacity??1,0,RF(r))):s&&(t.opacity=Ue(e.opacity??1,n.opacity??1,r));for(let l=0;l<NF;l++){const c=`border${jD[l]}Radius`;let u=kT(e,c),h=kT(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||TT(u)===TT(h)?(t[c]=Math.max(Ue(_T(u),_T(h),r),0),(zi.test(h)||zi.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Ue(e.rotate||0,n.rotate||0,r))}function kT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const BF=$D(0,.5,NM),RF=$D(.5,.95,Qr);function $D(t,e,n){return r=>r<t?0:r>e?1:n(th(t,e,r))}function OF(t,e,n){const r=qn(t)?t:Xl(t);return r.start(a1("",r,e,n)),r.animation}function ih(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const jF=(t,e)=>t.depth-e.depth;class $F{constructor(){this.children=[],this.isDirty=!1}add(e){Hv(this.children,e),this.isDirty=!0}remove(e){Vv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jF),this.isDirty=!1,this.children.forEach(e)}}function zF(t,e){const n=Jn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(gs(r),t(s-e))};return $e.setup(r,!0),()=>gs(r)}function np(t){return qn(t)?t.get():t}class PF{constructor(){this.members=[]}add(e){Hv(this.members,e),e.scheduleRender()}remove(e){if(Vv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;i!==void 0&&s!==void 0&&i===s||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:c}=e.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const rp={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Z0=["","X","Y","Z"],FF=1e3;let IF=0;function K0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$e,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zD(r)}function PD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=IF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qF),this.nodes.forEach(GF),this.nodes.forEach(XF),this.nodes.forEach(UF)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new $F)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Wv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=gD(l)&&!VP(l),this.instance=l;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let f,p=0;const m=()=>this.root.updateBlockedByResize=!1;$e.read(()=>{p=window.innerWidth}),t(l,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,f&&f(),f=zF(m,250),rp.hasAnimatedSinceResize&&(rp.hasAnimatedSinceResize=!1,this.nodes.forEach(MT)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||tI,{onLayoutAnimationStart:v,onLayoutAnimationComplete:S}=h.getProps(),_=!this.targetLayout||!OD(this.targetLayout,y),E=!p&&m;if(this.options.layoutRoot||this.resumeFrom||E||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...i1(x,"layout"),onPlay:v,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(f,E)}else p||MT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ET);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(AT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YF),this.nodes.forEach(HF),this.nodes.forEach(VF)):this.nodes.forEach(AT),this.clearAllSnapshots();const c=Jn.now();zn.delta=Fi(0,1e3/60,c-zn.timestamp),zn.timestamp=c,zn.isProcessing=!0,H0.update.process(zn),H0.preRender.process(zn),H0.render.process(zn),zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,c1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WF),this.sharedNodes.forEach(KF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tr(this.snapshot.measuredBox.x)&&!tr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!RD(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Ks(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),eI(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return yn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nI))){const{scroll:h}=this.root;h&&(Al(c.x,h.offset.x),Al(c.y,h.offset.y))}return c}removeElementScroll(l){const c=yn();if(li(c,l),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&li(c,l),Al(c.x,f.offset.x),Al(c.y,f.offset.y))}return c}applyTransform(l,c=!1){const u=yn();li(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ml(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ks(f.latestValues)&&Ml(u,f.latestValues)}return Ks(this.latestValues)&&Ml(u,this.latestValues),u}removeTransform(l){const c=yn();li(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Ks(h.latestValues))continue;wb(h.latestValues)&&h.updateSnapshot();const f=yn(),p=h.measurePageBox();li(f,p),xT(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return Ks(this.latestValues)&&xT(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=zn.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),SD(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wb(this.parent.latestValues)||wD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,u){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Mp(this.relativeTargetOrigin,c,u),li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===zn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;li(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;tF(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=yn());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dT(this.prevProjectionDelta.x,this.projectionDelta.x),dT(this.prevProjectionDelta.y,this.projectionDelta.y)),Fu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!CT(this.projectionDelta.x,this.prevProjectionDelta.x)||!CT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=El(),this.projectionDelta=El(),this.projectionDeltaWithTransform=El()}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},p=El();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=yn(),y=u?u.source:void 0,x=this.layout?this.layout.source:void 0,v=y!==x,S=this.getStack(),_=!S||S.members.length<=1,E=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(JF));this.animationProgress=0;let T;this.mixTargetDelta=A=>{const D=A/1e3;DT(p.x,l.x,D),DT(p.y,l.y,D),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mp(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QF(this.relativeTarget,this.relativeTargetOrigin,m,D),T&&MF(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=yn()),li(T,this.relativeTarget)),v&&(this.animationValues=f,LF(f,h,this.latestValues,D,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{rp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xl(0)),this.currentAnimation=OF(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&FD(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||yn();const p=tr(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+p;const m=tr(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+m}li(c,u),Ml(c,f),Fu(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new PF),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&K0("z",l,h,this.animationValues);for(let f=0;f<Z0.length;f++)K0(`rotate${Z0[f]}`,l,h,this.animationValues),K0(`skew${Z0[f]}`,l,h,this.animationValues);l.render();for(const f in h)l.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=np(c?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=np(c?.pointerEvents)||""),this.hasProjected&&!Ks(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=DF(this.projectionDeltaWithTransform,this.treeScale,f);u&&(p=u(f,p)),l.transform=p;const{x:m,y}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?l.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Cb){if(f[x]===void 0)continue;const{correct:v,applyTo:S,isCSSVariable:_}=Cb[x],E=p==="none"?f[x]:v(f[x],h);if(S){const T=S.length;for(let A=0;A<T;A++)l[S[A]]=E}else _?this.options.visualElement.renderState.vars[x]=E:l[x]=E}this.options.layoutId&&(l.pointerEvents=h===this?np(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(ET),this.root.sharedNodes.clear()}}}function HF(t){t.updateLayout()}function VF(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Xr(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],m=tr(p);p.min=n[f].min,p.max=p.min+m}):FD(i,e.layoutBox,n)&&Xr(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],m=tr(n[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const l=El();Fu(l,n,e.layoutBox);const c=El();s?Fu(c,t.applyTransform(r,!0),e.measuredBox):Fu(c,n,e.layoutBox);const u=!RD(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=yn();Mp(y,e.layoutBox,p.layoutBox);const x=yn();Mp(x,n,m.layoutBox),OD(y,x)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function qF(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WF(t){t.clearSnapshot()}function ET(t){t.clearMeasurements()}function AT(t){t.isLayoutDirty=!1}function YF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GF(t){t.resolveTargetDelta()}function XF(t){t.calcProjection()}function ZF(t){t.resetSkewAndRotation()}function KF(t){t.removeLeadSnapshot()}function DT(t,e,n){t.translate=Ue(e.translate,0,n),t.scale=Ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function NT(t,e,n,r){t.min=Ue(e.min,n.min,r),t.max=Ue(e.max,n.max,r)}function QF(t,e,n,r){NT(t.x,e.x,n.x,r),NT(t.y,e.y,n.y,r)}function JF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tI={duration:.45,ease:[.4,0,.1,1]},LT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BT=LT("applewebkit/")&&!LT("chrome/")?Math.round:Qr;function RT(t){t.min=BT(t.min),t.max=BT(t.max)}function eI(t){RT(t.x),RT(t.y)}function FD(t,e,n){return t==="position"||t==="preserve-aspect"&&!_F(ST(e),ST(n),.2)}function nI(t){return t!==t.root&&t.scroll?.wasRoot}const rI=PD({attachResizeListener:(t,e)=>ih(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Q0={current:void 0},ID=PD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Q0.current){const t=new rI({});t.mount(window),t.setOptions({layoutScroll:!0}),Q0.current=t}return Q0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),g1=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function OT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iI(...t){return e=>{let n=!1;const r=t.map(i=>{const s=OT(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():OT(t[i],null)}}}}function aI(...t){return k.useCallback(iI(...t),t)}class sI extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=bb(r)&&r.offsetWidth||0,s=bb(r)&&r.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=i-l.width-l.left,l.bottom=s-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function oI({children:t,isPresent:e,anchorX:n,anchorY:r,root:i}){const s=k.useId(),l=k.useRef(null),c=k.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=k.useContext(g1),h=t.props?.ref??t?.ref,f=aI(l,h);return k.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:x,right:v,bottom:S}=c.current;if(e||!l.current||!p||!m)return;const _=n==="left"?`left: ${x}`:`right: ${v}`,E=r==="bottom"?`bottom: ${S}`:`top: ${y}`;l.current.dataset.motionPopId=s;const T=document.createElement("style");u&&(T.nonce=u);const A=i??document.head;return A.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${_}px !important;
            ${E}px !important;
          }
        `),()=>{A.contains(T)&&A.removeChild(T)}},[e]),C.jsx(sI,{isPresent:e,childRef:l,sizeRef:c,children:k.cloneElement(t,{ref:f})})}const lI=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:l,anchorX:c,anchorY:u,root:h})=>{const f=Iv(cI),p=k.useId();let m=!0,y=k.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:x=>{f.set(x,!0);for(const v of f.values())if(!v)return;r&&r()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,r]);return s&&m&&(y={...y}),k.useMemo(()=>{f.forEach((x,v)=>f.set(v,!1))},[n]),k.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=C.jsx(oI,{isPresent:n,anchorX:c,anchorY:u,root:h,children:t})),C.jsx(Ag.Provider,{value:y,children:t})};function cI(){return new Map}function HD(t=!0){const e=k.useContext(Ag);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=k.useId();k.useEffect(()=>{if(t)return i(s)},[t]);const l=k.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,l]:[!0]}const wf=t=>t.key||"";function jT(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const _a=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:l=!1,anchorX:c="left",anchorY:u="top",root:h})=>{const[f,p]=HD(l),m=k.useMemo(()=>jT(t),[t]),y=l&&!f?[]:m.map(wf),x=k.useRef(!0),v=k.useRef(m),S=Iv(()=>new Map),_=k.useRef(new Set),[E,T]=k.useState(m),[A,D]=k.useState(m);vM(()=>{x.current=!1,v.current=m;for(let z=0;z<A.length;z++){const V=wf(A[z]);y.includes(V)?(S.delete(V),_.current.delete(V)):S.get(V)!==!0&&S.set(V,!1)}},[A,y.length,y.join("-")]);const B=[];if(m!==E){let z=[...m];for(let V=0;V<A.length;V++){const Y=A[V],U=wf(Y);y.includes(U)||(z.splice(V,0,Y),B.push(Y))}return s==="wait"&&B.length&&(z=B),D(jT(z)),T(m),null}const{forceRender:L}=k.useContext(Fv);return C.jsx(C.Fragment,{children:A.map(z=>{const V=wf(z),Y=l&&!f?!1:m===A||y.includes(V),U=()=>{if(_.current.has(V))return;if(_.current.add(V),S.has(V))S.set(V,!0);else return;let X=!0;S.forEach(Z=>{Z||(X=!1)}),X&&(L?.(),D(v.current),l&&p?.(),r&&r())};return C.jsx(lI,{isPresent:Y,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:h,onExitComplete:Y?void 0:U,anchorX:c,anchorY:u,children:z},V)})})},VD=k.createContext({strict:!1}),$T={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let zT=!1;function uI(){if(zT)return;const t={};for(const e in $T)t[e]={isEnabled:n=>$T[e].some(r=>!!n[r])};xD(t),zT=!0}function qD(){return uI(),ZP()}function hI(t){const e=qD();for(const n in t)e[n]={...e[n],...t[n]};xD(e)}const dI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dI.has(t)}let UD=t=>!Dp(t);function fI(t){typeof t=="function"&&(UD=e=>e.startsWith("on")?!Dp(e):t(e))}try{fI(require("@emotion/is-prop-valid").default)}catch{}function pI(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(UD(i)||n===!0&&Dp(i)||!e&&!Dp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Ng=k.createContext({});function gI(t,e){if(Dg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rh(n)?n:void 0,animate:rh(r)?r:void 0}}return t.inherit!==!1?e:{}}function mI(t){const{initial:e,animate:n}=gI(t,k.useContext(Ng));return k.useMemo(()=>({initial:e,animate:n}),[PT(e),PT(n)])}function PT(t){return Array.isArray(t)?t.join(" "):t}const m1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WD(t,e,n){for(const r in e)!qn(e[r])&&!TD(r,n)&&(t[r]=e[r])}function yI({transformTemplate:t},e){return k.useMemo(()=>{const n=m1();return f1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function xI(t,e){const n=t.style||{},r={};return WD(r,n,t),Object.assign(r,yI(t,e)),r}function bI(t,e){const n={},r=xI(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const YD=()=>({...m1(),attrs:{}});function vI(t,e,n,r){const i=k.useMemo(()=>{const s=YD();return kD(s,e,AD(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};WD(s,t.style,t),i.style={...s,...i.style}}return i}const wI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function y1(t){return typeof t!="string"||t.includes("-")?!1:!!(wI.indexOf(t)>-1||/[A-Z]/u.test(t))}function SI(t,e,n,{latestValues:r},i,s=!1,l){const u=(l??y1(t)?vI:bI)(e,r,i,t),h=pI(e,typeof t=="string",s),f=t!==k.Fragment?{...h,...u,ref:n}:{},{children:p}=e,m=k.useMemo(()=>qn(p)?p.get():p,[p]);return k.createElement(t,{...f,children:m})}function CI({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:_I(n,r,i,t),renderState:e()}}function _I(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=np(s[m]);let{initial:l,animate:c}=t;const u=Dg(t),h=yD(t);e&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let f=n?n.initial===!1:!1;f=f||l===!1;const p=f?c:l;if(p&&typeof p!="boolean"&&!Mg(p)){const m=Array.isArray(p)?p:[p];for(let y=0;y<m.length;y++){const x=s1(t,m[y]);if(x){const{transitionEnd:v,transition:S,..._}=x;for(const E in _){let T=_[E];if(Array.isArray(T)){const A=f?T.length-1:0;T=T[A]}T!==null&&(i[E]=T)}for(const E in v)i[E]=v[E]}}}return i}const GD=t=>(e,n)=>{const r=k.useContext(Ng),i=k.useContext(Ag),s=()=>CI(t,e,r,i);return n?s():Iv(s)},TI=GD({scrapeMotionValuesFromProps:p1,createRenderState:m1}),kI=GD({scrapeMotionValuesFromProps:MD,createRenderState:YD}),EI=Symbol.for("motionComponentSymbol");function AI(t,e,n){const r=k.useRef(n);k.useInsertionEffect(()=>{r.current=n});const i=k.useRef(null);return k.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const l=r.current;if(typeof l=="function")if(s){const c=l(s);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):l(s);else l&&(l.current=s)},[e])}const XD=k.createContext({});function Au(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function MI(t,e,n,r,i,s){const{visualElement:l}=k.useContext(Ng),c=k.useContext(VD),u=k.useContext(Ag),h=k.useContext(g1).reducedMotion,f=k.useRef(null),p=k.useRef(!1);r=r||c.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h,isSVG:s}),p.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const m=f.current,y=k.useContext(XD);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&DI(f.current,n,i,y);const x=k.useRef(!1);k.useInsertionEffect(()=>{m&&x.current&&m.update(n,u)});const v=n[rD],S=k.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return vM(()=>{p.current=!0,m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),k.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),S.current=!1),m.enteringChildren=void 0)}),m}function DI(t,e,n,r){const{layoutId:i,layout:s,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ZD(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!l||c&&Au(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:h})}function ZD(t){if(t)return t.options.allowProjection!==!1?t.projection:ZD(t.parent)}function J0(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&hI(r);const s=n?n==="svg":y1(t),l=s?kI:TI;function c(h,f){let p;const m={...k.useContext(g1),...h,layoutId:NI(h)},{isStatic:y}=m,x=mI(h),v=l(h,y);if(!y&&bM){LI();const S=BI(m);p=S.MeasureLayout,x.visualElement=MI(t,v,m,i,S.ProjectionNode,s)}return C.jsxs(Ng.Provider,{value:x,children:[p&&x.visualElement?C.jsx(p,{visualElement:x.visualElement,...m}):null,SI(t,h,AI(v,x.visualElement,f),v,y,e,s)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=k.forwardRef(c);return u[EI]=t,u}function NI({layoutId:t}){const e=k.useContext(Fv).id;return e&&t!==void 0?e+"-"+t:t}function LI(t,e){k.useContext(VD).strict}function BI(t){const e=qD(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function RI(t,e){if(typeof Proxy>"u")return J0;const n=new Map,r=(s,l)=>J0(s,l,t,e),i=(s,l)=>r(s,l);return new Proxy(i,{get:(s,l)=>l==="create"?r:(n.has(l)||n.set(l,J0(l,void 0,t,e)),n.get(l))})}const OI=(t,e)=>e.isSVG??y1(t)?new fF(e):new oF(e,{allowProjection:t!==k.Fragment});class jI extends _s{constructor(e){super(e),e.animationState||(e.animationState=xF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $I=0;class zI extends _s{constructor(){super(...arguments),this.id=$I++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PI={animation:{Feature:jI},exit:{Feature:zI}};function Oh(t){return{point:{x:t.pageX,y:t.pageY}}}const FI=t=>e=>u1(e)&&t(e,Oh(e));function Iu(t,e,n,r){return ih(t,e,FI(n),r)}const KD=({current:t})=>t?t.ownerDocument.defaultView:null,FT=(t,e)=>Math.abs(t-e);function II(t,e){const n=FT(t.x,e.x),r=FT(t.y,e.y);return Math.sqrt(n**2+r**2)}const IT=new Set(["auto","scroll"]);class QD{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:l=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ex(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,v=II(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!v)return;const{point:S}=y,{timestamp:_}=zn;this.history.push({...S,timestamp:_});const{onStart:E,onMove:T}=this.handlers;x||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=tx(x,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:v,onSessionEnd:S,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=ex(y.type==="pointercancel"?this.lastMoveEventInfo:tx(x,this.transformPagePoint),this.history);this.startEvent&&v&&v(y,E),S&&S(y,E)},!u1(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const u=Oh(e),h=tx(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=zn;this.history=[{...f,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,ex(h,this.history)),this.removeListeners=Lh(Iu(this.contextWindow,"pointermove",this.handlePointerMove),Iu(this.contextWindow,"pointerup",this.handlePointerUp),Iu(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(IT.has(r.overflowX)||IT.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),$e.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),gs(this.updatePoint)}}function tx(t,e){return e?{point:e(t.point)}:t}function HT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ex({point:t},e){return{point:t,delta:HT(t,JD(e)),offset:HT(t,HI(e)),velocity:VI(e,.1)}}function HI(t){return t[0]}function JD(t){return t[t.length-1]}function VI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=JD(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ba(e)));)n--;if(!r)return{x:0,y:0};const s=Kr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function qI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ue(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ue(n,t,r.max):Math.min(t,n)),t}function VT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UI(t,{top:e,left:n,bottom:r,right:i}){return{x:VT(t.x,n,i),y:VT(t.y,e,r)}}function qT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function WI(t,e){return{x:qT(t.x,e.x),y:qT(t.y,e.y)}}function YI(t,e){let n=.5;const r=tr(t),i=tr(e);return i>r?n=th(e.min,e.max-r,t.min):r>i&&(n=th(t.min,t.max-i,e.min)),Fi(0,1,n)}function GI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _b=.35;function XI(t=_b){return t===!1?t=0:t===!0&&(t=_b),{x:UT(t,"left","right"),y:UT(t,"top","bottom")}}function UT(t,e,n){return{min:WT(t,e),max:WT(t,n)}}function WT(t,e){return typeof t=="number"?t:t[e]||0}const ZI=new WeakMap;class KI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{n?(this.stopAnimation(),this.snapToCursor(Oh(p).point)):this.pauseAnimation()},l=(p,m)=>{this.stopAnimation();const{drag:y,dragPropagation:x,onDragStart:v}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zP(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xr(_=>{let E=this.getAxisMotionValue(_).get()||0;if(zi.test(E)){const{projection:T}=this.visualElement;if(T&&T.layout){const A=T.layout.layoutBox[_];A&&(E=tr(A)*(parseFloat(E)/100))}}this.originPoint[_]=E}),v&&$e.postRender(()=>v(p,m)),mb(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:v,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:_}=m;if(x&&this.currentDirection===null){this.currentDirection=QI(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),S&&S(p,m)},u=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m,this.stop(p,m),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Xr(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new QD(e,{onSessionStart:s,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:KD(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&$e.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Sf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=qI(l,this.constraints[e],this.elastic[e])),s.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Au(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=UI(r.layoutBox,e):this.constraints=!1,this.elastic=XI(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=GI(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Au(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=eF(r,i.root,this.visualElement.getTransformPagePoint());let l=WI(i.layout.layoutBox,s);if(n){const c=n(QP(l));this.hasMutatedConstraints=!!c,c&&(l=vD(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Xr(f=>{if(!Sf(f,n,this.currentDirection))return;let p=u&&u[f]||{};l&&(p={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,x)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return mb(this.visualElement,e),r.start(a1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Xr(n=>{const{drag:r}=this.getProps();if(!Sf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n],u=s.get()||0;s.set(e[n]-Ue(l,c,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Au(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();i[l]=YI({min:u,max:u},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xr(l=>{if(!Sf(l,e,null))return;const c=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];c.set(Ue(u,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;ZI.set(this.visualElement,this);const e=this.visualElement.current,n=Iu(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps(),p=u.target,m=p!==e&&pD(p);h&&f&&!m&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Au(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$e.read(r);const l=ih(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Xr(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{l(),n(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:l=_b,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:l,dragMomentum:c}}}function Sf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function QI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class JI extends _s{constructor(e){super(e),this.removeGroupControls=Qr,this.removeListeners=Qr,this.controls=new KI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const YT=t=>(e,n)=>{t&&$e.postRender(()=>t(e,n))};class t9 extends _s{constructor(){super(...arguments),this.removePointerDownListener=Qr}onPointerDown(e){this.session=new QD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:YT(e),onStart:YT(n),onMove:r,onEnd:(s,l)=>{delete this.session,i&&$e.postRender(()=>i(s,l))}}}mount(){this.removePointerDownListener=Iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let nx=!1;class e9 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),nx&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),rp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:l}=r;return l&&(l.isPresent=s,e.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),nx=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?l.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?l.promote():l.relegate()||$e.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),c1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;nx=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tN(t){const[e,n]=HD(),r=k.useContext(Fv);return C.jsx(e9,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(XD),isPresent:e,safeToRemove:n})}const n9={pan:{Feature:t9},drag:{Feature:JI,ProjectionNode:ID,MeasureLayout:tN}};function GT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&$e.postRender(()=>s(e,Oh(e)))}class r9 extends _s{mount(){const{current:e}=this.node;e&&(this.unmount=PP(e,(n,r)=>(GT(this.node,r,"Start"),i=>GT(this.node,i,"End"))))}unmount(){}}class i9 extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lh(ih(this.node.current,"focus",()=>this.onFocus()),ih(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&$e.postRender(()=>s(e,Oh(e)))}class a9 extends _s{mount(){const{current:e}=this.node;e&&(this.unmount=HP(e,(n,r)=>(XT(this.node,r,"Start"),(i,{success:s})=>XT(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tb=new WeakMap,rx=new WeakMap,s9=t=>{const e=Tb.get(t.target);e&&e(t)},o9=t=>{t.forEach(s9)};function l9({root:t,...e}){const n=t||document;rx.has(n)||rx.set(n,{});const r=rx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(o9,{root:t,...e})),r[i]}function c9(t,e,n){const r=l9(e);return Tb.set(t,n),r.observe(t),()=>{Tb.delete(t),r.unobserve(t)}}const u9={some:0,all:1};class h9 extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:u9[i]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=h?f:p;m&&m(u)};return c9(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(d9(e,n))&&this.startObserver()}unmount(){}}function d9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const f9={inView:{Feature:h9},tap:{Feature:a9},focus:{Feature:i9},hover:{Feature:r9}},p9={layout:{ProjectionNode:ID,MeasureLayout:tN}},g9={...PI,...f9,...n9,...p9},De=RI(g9,OI);const eN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const m9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const y9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const ZT=t=>{const e=y9(t);return e.charAt(0).toUpperCase()+e.slice(1)};var x9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const b9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const v9=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},u)=>k.createElement("svg",{ref:u,...x9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:eN("lucide",i),...!s&&!b9(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,f])=>k.createElement(h,f)),...Array.isArray(s)?s:[s]]));const Ut=(t,e)=>{const n=k.forwardRef(({className:r,...i},s)=>k.createElement(v9,{ref:s,iconNode:e,className:eN(`lucide-${m9(ZT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=ZT(t),n};const w9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nN=Ut("arrow-left",w9);const S9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],C9=Ut("chart-column",S9);const _9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kb=Ut("check",_9);const T9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lg=Ut("chevron-down",T9);const k9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],E9=Ut("chevron-left",k9);const A9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],x1=Ut("chevron-right",A9);const M9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],D9=Ut("chevron-up",M9);const N9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L9=Ut("circle-alert",N9);const B9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],R9=Ut("circle-check-big",B9);const O9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],j9=Ut("circle-check",O9);const $9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],z9=Ut("circle",$9);const P9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F9=Ut("clock",P9);const I9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rN=Ut("download",I9);const H9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iN=Ut("eye",H9);const V9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],aN=Ut("file-text",V9);const q9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],sN=Ut("file",q9);const U9=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],oN=Ut("folder",U9);const W9=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],lN=Ut("git-branch",W9);const Y9=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],ix=Ut("github",Y9);const G9=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],X9=Ut("grip-vertical",G9);const Z9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],K9=Ut("history",Z9);const Q9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],J9=Ut("info",Q9);const tH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eH=Ut("layout-dashboard",tH);const nH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],KT=Ut("loader-circle",nH);const rH=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],iH=Ut("message-square",rH);const aH=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],sH=Ut("network",aH);const oH=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],cN=Ut("pause",oH);const lH=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ah=Ut("pen-line",lH);const cH=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],uN=Ut("play",cH);const uH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hN=Ut("refresh-cw",uH);const hH=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],sh=Ut("rocket",hH);const dH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dN=Ut("rotate-ccw",dH);const fH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fN=Ut("save",fH);const pH=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],gH=Ut("scroll-text",pH);const mH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pN=Ut("search",mH);const yH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gN=Ut("send",yH);const xH=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],bH=Ut("share-2",xH);const vH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wH=Ut("shield",vH);const SH=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],CH=Ut("skip-forward",SH);const _H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],TH=Ut("target",_H);const kH=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],mN=Ut("terminal",kH);const EH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yN=Ut("trash-2",EH);const AH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],b1=Ut("triangle-alert",AH);const MH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],DH=Ut("users",MH);const NH=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],LH=Ut("wifi-off",NH);const BH=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],RH=Ut("wifi",BH);const OH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bg=Ut("x",OH),QT=t=>{let e;const n=new Set,r=(h,f)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const m=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,m))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h))},u=e=t(r,i,c);return c},jH=(t=>t?QT(t):QT),$H=t=>t;function zH(t,e=$H){const n=re.useSyncExternalStore(t.subscribe,re.useCallback(()=>e(t.getState()),[t,e]),re.useCallback(()=>e(t.getInitialState()),[t,e]));return re.useDebugValue(n),n}const JT=t=>{const e=jH(t),n=r=>zH(e,r);return Object.assign(n,e),n},Rg=(t=>t?JT(t):JT),vi=Rg(t=>({currentView:"cockpit",selectedAgentId:null,commandPaletteOpen:!1,chatOpen:!1,chatAgentId:null,sidebarCollapsed:!1,setView:e=>t({currentView:e}),selectAgent:e=>t({selectedAgentId:e,currentView:e?"agent":"cockpit"}),openCommandPalette:()=>t({commandPaletteOpen:!0}),closeCommandPalette:()=>t({commandPaletteOpen:!1}),toggleChat:()=>t(e=>({chatOpen:!e.chatOpen})),openChat:e=>t({chatOpen:!0,chatAgentId:e||null}),closeChat:()=>t({chatOpen:!1}),setChatAgent:e=>t({chatAgentId:e}),toggleSidebar:()=>t(e=>({sidebarCollapsed:!e.sidebarCollapsed}))})),PH={status:"idle",currentTask:null,checklist:[],progress:0,activityHistory:Array(20).fill(0),sessionKey:null,model:null,tokens:null},En=Rg(t=>({agents:{},pendingActions:0,pendingActionDetails:[],projectName:"AG Dev",totalTasks:0,completedTasks:0,bridge:{connected:!1,gatewayUrl:"",latency:0},agentMetas:[],squads:{},loaded:!1,setAgents:e=>t({agents:e}),updateAgent:(e,n)=>t(r=>({agents:{...r.agents,[e]:{...r.agents[e]||PH,...n}}})),setPendingActions:e=>t({pendingActions:e}),addPendingActionDetail:e=>t(n=>({pendingActionDetails:[...n.pendingActionDetails,e],pendingActions:n.pendingActionDetails.length+1})),clearPendingActions:()=>t({pendingActions:0,pendingActionDetails:[]}),setProjectInfo:(e,n,r)=>t({projectName:e,totalTasks:n,completedTasks:r}),setBridgeStatus:e=>t(n=>({bridge:{...n.bridge,...e}})),setAgentMetas:e=>t({agentMetas:e,loaded:!0}),setSquads:e=>t({squads:e})})),Og=Rg(t=>({toasts:[],addToast:(e,n)=>{const r=`toast-${Date.now()}-${Math.random().toString(36).slice(2,6)}`;t(i=>({toasts:[...i.toasts,{id:r,type:e,message:n,timestamp:Date.now()}]})),setTimeout(()=>{t(i=>({toasts:i.toasts.filter(s=>s.id!==r)}))},5e3)},removeToast:e=>t(n=>({toasts:n.toasts.filter(r=>r.id!==e)}))})),O={bg:{primary:"#0A0A0B",surface:"#141416",surfaceHover:"#1C1C1F",surfaceActive:"#222226",border:"#2A2A2E",borderLight:"#35353A"},text:{primary:"#EDEDEF",secondary:"#8B8B8E",muted:"#5A5A5D"},squads:{builders:{main:"#3B82F6",light:"#60A5FA",bg:"rgba(59,130,246,0.1)",glow:"rgba(59,130,246,0.3)"},thinkers:{main:"#A855F7",light:"#C084FC",bg:"rgba(168,85,247,0.1)",glow:"rgba(168,85,247,0.3)"},guardians:{main:"#EF4444",light:"#F87171",bg:"rgba(239,68,68,0.1)",glow:"rgba(239,68,68,0.3)"},creators:{main:"#10B981",light:"#34D399",bg:"rgba(16,185,129,0.1)",glow:"rgba(16,185,129,0.3)"}},status:{idle:"#6B7280",working:"#10B981",blocked:"#EAB308",error:"#EF4444",complete:"#10B981",paused:"#F59E0B"},accent:"#3B82F6"},tk=[{main:"#3B82F6",light:"#60A5FA"},{main:"#A855F7",light:"#C084FC"},{main:"#EF4444",light:"#F87171"},{main:"#10B981",light:"#34D399"},{main:"#F59E0B",light:"#FBBF24"},{main:"#EC4899",light:"#F472B6"},{main:"#06B6D4",light:"#22D3EE"},{main:"#8B5CF6",light:"#A78BFA"}],ek={builders:O.squads.builders,thinkers:O.squads.thinkers,guardians:O.squads.guardians,creators:O.squads.creators},ax={};let nk=0;function FH(t){return{main:t.main,light:t.light,bg:`${t.main}1A`,glow:`${t.main}4D`}}function Ii(t){if(ek[t])return ek[t];if(ax[t])return ax[t];const e=tk[nk%tk.length];nk++;const n=FH(e);return ax[t]=n,n}function jh(t,e){return e.find(n=>n.id===t)}const Cf={builders:{label:"Builders",icon:"",agents:["dev","devops","data-engineer","architect"]},thinkers:{label:"Thinkers",icon:"",agents:["analyst","pm","po"]},guardians:{label:"Guardians",icon:"",agents:["qa","sm","aios-master"]},creators:{label:"Creators",icon:"",agents:["ux-design-expert","squad-creator"]}},rk=[{id:"dev",name:"Developer",shortName:"DEV",icon:"",squad:"builders",role:"Fullstack development"},{id:"devops",name:"DevOps",shortName:"OPS",icon:"",squad:"builders",role:"Infrastructure & CI/CD"},{id:"data-engineer",name:"Data Engineer",shortName:"DAT",icon:"",squad:"builders",role:"Data pipelines & storage"},{id:"architect",name:"Architect",shortName:"ARC",icon:"",squad:"builders",role:"System design & architecture"},{id:"analyst",name:"Analyst",shortName:"ANL",icon:"",squad:"thinkers",role:"Research & analysis"},{id:"pm",name:"Product Manager",shortName:"PM",icon:"",squad:"thinkers",role:"Product definition & PRD"},{id:"po",name:"Product Owner",shortName:"PO",icon:"",squad:"thinkers",role:"Validation & acceptance"},{id:"qa",name:"QA Engineer",shortName:"QA",icon:"",squad:"guardians",role:"Testing & quality"},{id:"sm",name:"Scrum Master",shortName:"SM",icon:"",squad:"guardians",role:"Sprint management"},{id:"aios-master",name:"AIOS Master",shortName:"AIO",icon:"",squad:"guardians",role:"System orchestration"},{id:"ux-design-expert",name:"UX Designer",shortName:"UX",icon:"",squad:"creators",role:"User experience & design"},{id:"squad-creator",name:"Squad Creator",shortName:"SQD",icon:"",squad:"creators",role:"Team formation & squads"}];function IH(){const{setAgentMetas:t,setSquads:e,loaded:n}=En(),r=k.useRef(!1);k.useEffect(()=>{r.current||n||(r.current=!0,fetch("/api/agents/meta").then(i=>{if(!i.ok)throw new Error("not ok");return i.json()}).then(i=>{const s=(i.agents||[]).map(c=>({id:c.id,name:c.name||c.title||c.id,shortName:c.shortName||(c.name||c.id).slice(0,3).toUpperCase(),icon:c.icon||"",squad:c.squad||"builders",role:c.role||c.title||""}));let l={};if(i.squads)if(Array.isArray(i.squads))for(const c of i.squads)l[c.id]={label:c.label||c.name||c.id,icon:c.icon||"",agents:c.agents||[]};else l=i.squads;if(s.length>0&&Object.keys(l).length===0){const c={};for(const u of s)c[u.squad]||(c[u.squad]=[]),c[u.squad].push(u.id);for(const[u,h]of Object.entries(c))l[u]={label:u.charAt(0).toUpperCase()+u.slice(1),icon:Cf[u]?.icon||"",agents:h}}s.length>0?(t(s),e(Object.keys(l).length>0?l:Cf)):(t(rk),e(Cf))}).catch(()=>{t(rk),e(Cf)}))},[])}function HH(){const{updateAgent:t,setPendingActions:e,setProjectInfo:n,setBridgeStatus:r,addPendingActionDetail:i}=En(),{addToast:s}=Og(),l=k.useRef(null);k.useEffect(()=>{const u=new EventSource("/api/sse");return l.current=u,u.onmessage=h=>{try{const f=JSON.parse(h.data);f.type==="agent_update"&&f.agentId?t(f.agentId,f.state):f.type==="state"?(f.agents&&Object.entries(f.agents).forEach(([p,m])=>{t(p,m)}),f.project&&n(f.project.name||"AG Dev",f.project.totalTasks||0,f.project.completedTasks||0)):f.type==="clawdbot_event"?c(f):f.type==="agent_stream"?f.agentId&&f.delta&&t(f.agentId,{output:f.delta,thinking:f.thinking||void 0}):f.type==="bridge_status"?r({connected:f.connected??!1,gatewayUrl:f.gatewayUrl||"",latency:f.latency??0}):f.type==="consent_pending"?(typeof f.count=="number"&&e(f.count),f.action&&i({id:f.action.id||`pa-${Date.now()}`,agentId:f.action.agentId||"",type:f.action.type||"unknown",description:f.action.description||"",timestamp:Date.now()})):f.type==="toast"&&s(f.level||"info",f.message||"Notification")}catch{}},u.onerror=()=>{r({connected:!1})},()=>{u.close(),l.current=null}},[]);function c(u){const{event:h,agentId:f,payload:p}=u;switch(h){case"session_started":f&&t(f,{status:"working",sessionKey:p?.sessionKey||null}),s("success",`Agent ${f||"unknown"} session started`);break;case"session_stopped":f&&t(f,{status:"idle",sessionKey:null}),s("info",`Agent ${f||"unknown"} session stopped`);break;case"session_error":f&&t(f,{status:"error"}),s("error",`Agent ${f||"unknown"} error: ${p?.message||"unknown"}`);break;case"model_change":f&&p?.model&&t(f,{model:p.model});break;case"token_update":f&&p?.tokens&&t(f,{tokens:p.tokens});break}}}function VH(t,e=1e4){const{setAgents:n,setProjectInfo:r}=En();k.useEffect(()=>{const i=async()=>{try{const l=await fetch(t);if(!l.ok)return;const c=await l.json();c.agents&&n(c.agents),c.project&&r(c.project?.name||"",c.project?.totalTasks||0,c.project?.completedTasks||0)}catch{}};i();const s=setInterval(i,e);return()=>clearInterval(s)},[t,e])}function qH(){const{openCommandPalette:t,toggleChat:e,setView:n,currentView:r,selectedAgentId:i,selectAgent:s}=vi();k.useEffect(()=>{const l=c=>{const u=c.metaKey||c.ctrlKey,h=c.target,f=h.tagName==="INPUT"||h.tagName==="TEXTAREA"||h.isContentEditable;if(u&&c.key==="k"){c.preventDefault(),t();return}if(u&&c.key==="j"){c.preventDefault(),e();return}if(!f){if(c.key==="1"){n("cockpit");return}if(c.key==="2"){n("pipeline");return}if(c.key==="3"){n("gantt");return}if(c.key==="4"){n("emergence");return}if(c.key==="5"){n("strategy");return}if(c.key==="6"){n("terminal");return}if(c.key==="7"){n("diagrams");return}if(c.key==="8"){n("logs");return}if(c.key==="9"){n("docs");return}if(c.key==="Escape"){r!=="cockpit"&&s(null);return}}};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[r,i])}var ik=1,UH=.9,WH=.8,YH=.17,sx=.1,ox=.999,GH=.9999,XH=.99,ZH=/[\\\/_+.#"@\[\(\{&]/,KH=/[\\\/_+.#"@\[\(\{&]/g,QH=/[\s-]/,xN=/[\s-]/g;function Eb(t,e,n,r,i,s,l){if(s===e.length)return i===t.length?ik:XH;var c=`${i},${s}`;if(l[c]!==void 0)return l[c];for(var u=r.charAt(s),h=n.indexOf(u,i),f=0,p,m,y,x;h>=0;)p=Eb(t,e,n,r,h+1,s+1,l),p>f&&(h===i?p*=ik:ZH.test(t.charAt(h-1))?(p*=WH,y=t.slice(i,h-1).match(KH),y&&i>0&&(p*=Math.pow(ox,y.length))):QH.test(t.charAt(h-1))?(p*=UH,x=t.slice(i,h-1).match(xN),x&&i>0&&(p*=Math.pow(ox,x.length))):(p*=YH,i>0&&(p*=Math.pow(ox,h-i))),t.charAt(h)!==e.charAt(s)&&(p*=GH)),(p<sx&&n.charAt(h-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(h-1)!==r.charAt(s))&&(m=Eb(t,e,n,r,h+1,s+2,l),m*sx>p&&(p=m*sx)),p>f&&(f=p),h=n.indexOf(u,h+1);return l[c]=f,f}function ak(t){return t.toLowerCase().replace(xN," ")}function JH(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Eb(t,e,ak(t),ak(e),0,0,{})}function hs(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function sk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ys(...t){return e=>{let n=!1;const r=t.map(i=>{const s=sk(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():sk(t[i],null)}}}}function Eo(...t){return k.useCallback(ys(...t),t)}function t7(t,e){const n=k.createContext(e),r=s=>{const{children:l,...c}=s,u=k.useMemo(()=>c,Object.values(c));return C.jsx(n.Provider,{value:u,children:l})};r.displayName=t+"Provider";function i(s){const l=k.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function e7(t,e=[]){let n=[];function r(s,l){const c=k.createContext(l),u=n.length;n=[...n,l];const h=p=>{const{scope:m,children:y,...x}=p,v=m?.[t]?.[u]||c,S=k.useMemo(()=>x,Object.values(x));return C.jsx(v.Provider,{value:S,children:y})};h.displayName=s+"Provider";function f(p,m){const y=m?.[t]?.[u]||c,x=k.useContext(y);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[h,f]}const i=()=>{const s=n.map(l=>k.createContext(l));return function(c){const u=c?.[t]||s;return k.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[r,n7(i,...e)]}function n7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(s)[`__scope${h}`];return{...c,...p}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var oh=globalThis?.document?k.useLayoutEffect:()=>{},r7=Pv[" useId ".trim().toString()]||(()=>{}),i7=0;function va(t){const[e,n]=k.useState(r7());return oh(()=>{n(r=>r??String(i7++))},[t]),e?`radix-${e}`:""}var a7=Pv[" useInsertionEffect ".trim().toString()]||oh;function s7({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,l]=o7({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:i;{const f=k.useRef(t!==void 0);k.useEffect(()=>{const p=f.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,r])}const h=k.useCallback(f=>{if(c){const p=l7(f)?f(t):f;p!==t&&l.current?.(p)}else s(f)},[c,t,s,l]);return[u,h]}function o7({defaultProp:t,onChange:e}){const[n,r]=k.useState(t),i=k.useRef(n),s=k.useRef(e);return a7(()=>{s.current=e},[e]),k.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function l7(t){return typeof t=="function"}var io=xM();const c7=Dh(io);function $h(t){const e=u7(t),n=k.forwardRef((r,i)=>{const{children:s,...l}=r,c=k.Children.toArray(s),u=c.find(d7);if(u){const h=u.props.children,f=c.map(p=>p===u?k.Children.count(h)>1?k.Children.only(null):k.isValidElement(h)?h.props.children:null:p);return C.jsx(e,{...l,ref:i,children:k.isValidElement(h)?k.cloneElement(h,void 0,f):null})}return C.jsx(e,{...l,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function u7(t){const e=k.forwardRef((n,r)=>{const{children:i,...s}=n;if(k.isValidElement(i)){const l=p7(i),c=f7(s,i.props);return i.type!==k.Fragment&&(c.ref=r?ys(r,l):l),k.cloneElement(i,c)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var h7=Symbol("radix.slottable");function d7(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===h7}function f7(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const u=s(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function p7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var g7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bN=g7.reduce((t,e)=>{const n=$h(`Primitive.${e}`),r=k.forwardRef((i,s)=>{const{asChild:l,...c}=i,u=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function m7(t,e){t&&io.flushSync(()=>t.dispatchEvent(e))}function lh(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>e.current?.(...n),[])}function y7(t,e=globalThis?.document){const n=lh(t);k.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var x7="DismissableLayer",Ab="dismissableLayer.update",b7="dismissableLayer.pointerDownOutside",v7="dismissableLayer.focusOutside",ok,vN=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wN=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:c,...u}=t,h=k.useContext(vN),[f,p]=k.useState(null),m=f?.ownerDocument??globalThis?.document,[,y]=k.useState({}),x=Eo(e,L=>p(L)),v=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(S),E=f?v.indexOf(f):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,A=E>=_,D=C7(L=>{const z=L.target,V=[...h.branches].some(Y=>Y.contains(z));!A||V||(i?.(L),l?.(L),L.defaultPrevented||c?.())},m),B=_7(L=>{const z=L.target;[...h.branches].some(Y=>Y.contains(z))||(s?.(L),l?.(L),L.defaultPrevented||c?.())},m);return y7(L=>{E===h.layers.size-1&&(r?.(L),!L.defaultPrevented&&c&&(L.preventDefault(),c()))},m),k.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(ok=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),lk(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ok)}},[f,m,n,h]),k.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),lk())},[f,h]),k.useEffect(()=>{const L=()=>y({});return document.addEventListener(Ab,L),()=>document.removeEventListener(Ab,L)},[]),C.jsx(bN.div,{...u,ref:x,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:hs(t.onFocusCapture,B.onFocusCapture),onBlurCapture:hs(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:hs(t.onPointerDownCapture,D.onPointerDownCapture)})});wN.displayName=x7;var w7="DismissableLayerBranch",S7=k.forwardRef((t,e)=>{const n=k.useContext(vN),r=k.useRef(null),i=Eo(e,r);return k.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),C.jsx(bN.div,{...t,ref:i})});S7.displayName=w7;function C7(t,e=globalThis?.document){const n=lh(t),r=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let u=function(){SN(b7,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function _7(t,e=globalThis?.document){const n=lh(t),r=k.useRef(!1);return k.useEffect(()=>{const i=s=>{s.target&&!r.current&&SN(v7,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lk(){const t=new CustomEvent(Ab);document.dispatchEvent(t)}function SN(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?m7(i,s):i.dispatchEvent(s)}var T7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],k7=T7.reduce((t,e)=>{const n=$h(`Primitive.${e}`),r=k.forwardRef((i,s)=>{const{asChild:l,...c}=i,u=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),lx="focusScope.autoFocusOnMount",cx="focusScope.autoFocusOnUnmount",ck={bubbles:!1,cancelable:!0},E7="FocusScope",CN=k.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=t,[c,u]=k.useState(null),h=lh(i),f=lh(s),p=k.useRef(null),m=Eo(e,v=>u(v)),y=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let v=function(T){if(y.paused||!c)return;const A=T.target;c.contains(A)?p.current=A:is(p.current,{select:!0})},S=function(T){if(y.paused||!c)return;const A=T.relatedTarget;A!==null&&(c.contains(A)||is(p.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&is(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",S);const E=new MutationObserver(_);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),E.disconnect()}}},[r,c,y.paused]),k.useEffect(()=>{if(c){hk.add(y);const v=document.activeElement;if(!c.contains(v)){const _=new CustomEvent(lx,ck);c.addEventListener(lx,h),c.dispatchEvent(_),_.defaultPrevented||(A7(B7(_N(c)),{select:!0}),document.activeElement===v&&is(c))}return()=>{c.removeEventListener(lx,h),setTimeout(()=>{const _=new CustomEvent(cx,ck);c.addEventListener(cx,f),c.dispatchEvent(_),_.defaultPrevented||is(v??document.body,{select:!0}),c.removeEventListener(cx,f),hk.remove(y)},0)}}},[c,h,f,y]);const x=k.useCallback(v=>{if(!n&&!r||y.paused)return;const S=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(S&&_){const E=v.currentTarget,[T,A]=M7(E);T&&A?!v.shiftKey&&_===A?(v.preventDefault(),n&&is(T,{select:!0})):v.shiftKey&&_===T&&(v.preventDefault(),n&&is(A,{select:!0})):_===E&&v.preventDefault()}},[n,r,y.paused]);return C.jsx(k7.div,{tabIndex:-1,...l,ref:m,onKeyDown:x})});CN.displayName=E7;function A7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(is(r,{select:e}),document.activeElement!==n)return}function M7(t){const e=_N(t),n=uk(e,t),r=uk(e.reverse(),t);return[n,r]}function _N(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uk(t,e){for(const n of t)if(!D7(n,{upTo:e}))return n}function D7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function N7(t){return t instanceof HTMLInputElement&&"select"in t}function is(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&N7(t)&&e&&t.select()}}var hk=L7();function L7(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=dk(t,e),t.unshift(e)},remove(e){t=dk(t,e),t[0]?.resume()}}}function dk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function B7(t){return t.filter(e=>e.tagName!=="A")}var R7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O7=R7.reduce((t,e)=>{const n=$h(`Primitive.${e}`),r=k.forwardRef((i,s)=>{const{asChild:l,...c}=i,u=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),j7="Portal",TN=k.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=k.useState(!1);oh(()=>s(!0),[]);const l=n||i&&globalThis?.document?.body;return l?c7.createPortal(C.jsx(O7.div,{...r,ref:e}),l):null});TN.displayName=j7;function $7(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var jg=t=>{const{present:e,children:n}=t,r=z7(e),i=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),s=Eo(r.ref,P7(i));return typeof n=="function"||r.isPresent?k.cloneElement(i,{ref:s}):null};jg.displayName="Presence";function z7(t){const[e,n]=k.useState(),r=k.useRef(null),i=k.useRef(t),s=k.useRef("none"),l=t?"mounted":"unmounted",[c,u]=$7(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const h=_f(r.current);s.current=c==="mounted"?h:"none"},[c]),oh(()=>{const h=r.current,f=i.current;if(f!==t){const m=s.current,y=_f(h);t?u("MOUNT"):y==="none"||h?.display==="none"?u("UNMOUNT"):u(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),oh(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,p=y=>{const v=_f(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&v&&(u("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},m=y=>{y.target===e&&(s.current=_f(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:k.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function _f(t){return t?.animationName||"none"}function P7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var F7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zh=F7.reduce((t,e)=>{const n=$h(`Primitive.${e}`),r=k.forwardRef((i,s)=>{const{asChild:l,...c}=i,u=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),ux=0;function I7(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??fk()),document.body.insertAdjacentElement("beforeend",t[1]??fk()),ux++,()=>{ux===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ux--}},[])}function fk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $i=function(){return $i=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$i.apply(this,arguments)};function kN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function H7(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ip="right-scroll-bar-position",ap="width-before-scroll-bar",V7="with-scroll-bars-hidden",q7="--removed-body-scroll-bar-size";function hx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function U7(t,e){var n=k.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var W7=typeof window<"u"?k.useLayoutEffect:k.useEffect,pk=new WeakMap;function Y7(t,e){var n=U7(null,function(r){return t.forEach(function(i){return hx(i,r)})});return W7(function(){var r=pk.get(n);if(r){var i=new Set(r),s=new Set(t),l=n.current;i.forEach(function(c){s.has(c)||hx(c,null)}),s.forEach(function(c){i.has(c)||hx(c,l)})}pk.set(n,t)},[t]),n}function G7(t){return t}function X7(t,e){e===void 0&&(e=G7);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var l=e(s,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(s),l=n}var u=function(){var f=l;l=[],f.forEach(s)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(f){l.push(f),h()},filter:function(f){return l=l.filter(f),n}}}};return i}function Z7(t){t===void 0&&(t={});var e=X7(null);return e.options=$i({async:!0,ssr:!1},t),e}var EN=function(t){var e=t.sideCar,n=kN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,$i({},n))};EN.isSideCarExport=!0;function K7(t,e){return t.useMedium(e),EN}var AN=Z7(),dx=function(){},$g=k.forwardRef(function(t,e){var n=k.useRef(null),r=k.useState({onScrollCapture:dx,onWheelCapture:dx,onTouchMoveCapture:dx}),i=r[0],s=r[1],l=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,y=t.noRelative,x=t.noIsolation,v=t.inert,S=t.allowPinchZoom,_=t.as,E=_===void 0?"div":_,T=t.gapMode,A=kN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,B=Y7([n,e]),L=$i($i({},A),i);return k.createElement(k.Fragment,null,f&&k.createElement(D,{sideCar:AN,removeScrollBar:h,shards:p,noRelative:y,noIsolation:x,inert:v,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:T}),l?k.cloneElement(k.Children.only(c),$i($i({},L),{ref:B})):k.createElement(E,$i({},L,{className:u,ref:B}),c))});$g.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$g.classNames={fullWidth:ap,zeroRight:ip};var Q7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Q7();return e&&t.setAttribute("nonce",e),t}function tV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function eV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=J7())&&(tV(e,n),eV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rV=function(){var t=nV();return function(e,n){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},MN=function(){var t=rV(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},iV={left:0,top:0,right:0,gap:0},fx=function(t){return parseInt(t||"",10)||0},aV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[fx(n),fx(r),fx(i)]},sV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return iV;var e=aV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},oV=MN(),Ol="data-scroll-locked",lV=function(t,e,n,r){var i=t.left,s=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(V7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ol,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ip,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ap,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ip," .").concat(ip,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ap," .").concat(ap,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ol,`] {
    `).concat(q7,": ").concat(c,`px;
  }
`)},gk=function(){var t=parseInt(document.body.getAttribute(Ol)||"0",10);return isFinite(t)?t:0},cV=function(){k.useEffect(function(){return document.body.setAttribute(Ol,(gk()+1).toString()),function(){var t=gk()-1;t<=0?document.body.removeAttribute(Ol):document.body.setAttribute(Ol,t.toString())}},[])},uV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;cV();var s=k.useMemo(function(){return sV(i)},[i]);return k.createElement(oV,{styles:lV(s,!e,i,n?"":"!important")})},Mb=!1;if(typeof window<"u")try{var Tf=Object.defineProperty({},"passive",{get:function(){return Mb=!0,!0}});window.addEventListener("test",Tf,Tf),window.removeEventListener("test",Tf,Tf)}catch{Mb=!1}var gl=Mb?{passive:!1}:!1,hV=function(t){return t.tagName==="TEXTAREA"},DN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hV(t)&&n[e]==="visible")},dV=function(t){return DN(t,"overflowY")},fV=function(t){return DN(t,"overflowX")},mk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=NN(t,r);if(i){var s=LN(t,r),l=s[1],c=s[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},pV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},gV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},NN=function(t,e){return t==="v"?dV(e):fV(e)},LN=function(t,e){return t==="v"?pV(e):gV(e)},mV=function(t,e){return t==="h"&&e==="rtl"?-1:1},yV=function(t,e,n,r,i){var s=mV(t,window.getComputedStyle(e).direction),l=s*r,c=n.target,u=e.contains(c),h=!1,f=l>0,p=0,m=0;do{if(!c)break;var y=LN(t,c),x=y[0],v=y[1],S=y[2],_=v-S-s*x;(x||_)&&NN(t,c)&&(p+=_,m+=x);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(f&&Math.abs(p)<1||!f&&Math.abs(m)<1)&&(h=!0),h},kf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yk=function(t){return[t.deltaX,t.deltaY]},xk=function(t){return t&&"current"in t?t.current:t},xV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},vV=0,ml=[];function wV(t){var e=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),i=k.useState(vV++)[0],s=k.useState(MN)[0],l=k.useRef(t);k.useEffect(function(){l.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=H7([t.lockRef.current],(t.shards||[]).map(xk),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=k.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var _=kf(v),E=n.current,T="deltaX"in v?v.deltaX:E[0]-_[0],A="deltaY"in v?v.deltaY:E[1]-_[1],D,B=v.target,L=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in v&&L==="h"&&B.type==="range")return!1;var z=window.getSelection(),V=z&&z.anchorNode,Y=V?V===B||V.contains(B):!1;if(Y)return!1;var U=mk(L,B);if(!U)return!0;if(U?D=L:(D=L==="v"?"h":"v",U=mk(L,B)),!U)return!1;if(!r.current&&"changedTouches"in v&&(T||A)&&(r.current=D),!D)return!0;var X=r.current||D;return yV(X,S,v,X==="h"?T:A)},[]),u=k.useCallback(function(v){var S=v;if(!(!ml.length||ml[ml.length-1]!==s)){var _="deltaY"in S?yk(S):kf(S),E=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&xV(D.delta,_)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var T=(l.current.shards||[]).map(xk).filter(Boolean).filter(function(D){return D.contains(S.target)}),A=T.length>0?c(S,T[0]):!l.current.noIsolation;A&&S.cancelable&&S.preventDefault()}}},[]),h=k.useCallback(function(v,S,_,E){var T={name:v,delta:S,target:_,should:E,shadowParent:SV(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),f=k.useCallback(function(v){n.current=kf(v),r.current=void 0},[]),p=k.useCallback(function(v){h(v.type,yk(v),v.target,c(v,t.lockRef.current))},[]),m=k.useCallback(function(v){h(v.type,kf(v),v.target,c(v,t.lockRef.current))},[]);k.useEffect(function(){return ml.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",u,gl),document.addEventListener("touchmove",u,gl),document.addEventListener("touchstart",f,gl),function(){ml=ml.filter(function(v){return v!==s}),document.removeEventListener("wheel",u,gl),document.removeEventListener("touchmove",u,gl),document.removeEventListener("touchstart",f,gl)}},[]);var y=t.removeScrollBar,x=t.inert;return k.createElement(k.Fragment,null,x?k.createElement(s,{styles:bV(i)}):null,y?k.createElement(uV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function SV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const CV=K7(AN,wV);var BN=k.forwardRef(function(t,e){return k.createElement($g,$i({},t,{ref:e,sideCar:CV}))});BN.classNames=$g.classNames;var _V=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yl=new WeakMap,Ef=new WeakMap,Af={},px=0,RN=function(t){return t&&(t.host||RN(t.parentNode))},TV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=RN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},kV=function(t,e,n,r){var i=TV(e,Array.isArray(t)?t:[t]);Af[n]||(Af[n]=new WeakMap);var s=Af[n],l=[],c=new Set,u=new Set(i),h=function(p){!p||c.has(p)||(c.add(p),h(p.parentNode))};i.forEach(h);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(m){if(c.has(m))f(m);else try{var y=m.getAttribute(r),x=y!==null&&y!=="false",v=(yl.get(m)||0)+1,S=(s.get(m)||0)+1;yl.set(m,v),s.set(m,S),l.push(m),v===1&&x&&Ef.set(m,!0),S===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return f(e),c.clear(),px++,function(){l.forEach(function(p){var m=yl.get(p)-1,y=s.get(p)-1;yl.set(p,m),s.set(p,y),m||(Ef.has(p)||p.removeAttribute(r),Ef.delete(p)),y||p.removeAttribute(n)}),px--,px||(yl=new WeakMap,yl=new WeakMap,Ef=new WeakMap,Af={})}},EV=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=_V(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),kV(r,i,n,"aria-hidden")):function(){return null}},zg="Dialog",[ON]=e7(zg),[AV,Ci]=ON(zg),jN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:l=!0}=t,c=k.useRef(null),u=k.useRef(null),[h,f]=s7({prop:r,defaultProp:i??!1,onChange:s,caller:zg});return C.jsx(AV,{scope:e,triggerRef:c,contentRef:u,contentId:va(),titleId:va(),descriptionId:va(),open:h,onOpenChange:f,onOpenToggle:k.useCallback(()=>f(p=>!p),[f]),modal:l,children:n})};jN.displayName=zg;var $N="DialogTrigger",MV=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ci($N,n),s=Eo(e,i.triggerRef);return C.jsx(zh.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":S1(i.open),...r,ref:s,onClick:hs(t.onClick,i.onOpenToggle)})});MV.displayName=$N;var v1="DialogPortal",[DV,zN]=ON(v1,{forceMount:void 0}),PN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ci(v1,e);return C.jsx(DV,{scope:e,forceMount:n,children:k.Children.map(r,l=>C.jsx(jg,{present:n||s.open,children:C.jsx(TN,{asChild:!0,container:i,children:l})}))})};PN.displayName=v1;var Np="DialogOverlay",FN=k.forwardRef((t,e)=>{const n=zN(Np,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ci(Np,t.__scopeDialog);return s.modal?C.jsx(jg,{present:r||s.open,children:C.jsx(LV,{...i,ref:e})}):null});FN.displayName=Np;var NV=$h("DialogOverlay.RemoveScroll"),LV=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ci(Np,n);return C.jsx(BN,{as:NV,allowPinchZoom:!0,shards:[i.contentRef],children:C.jsx(zh.div,{"data-state":S1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),go="DialogContent",IN=k.forwardRef((t,e)=>{const n=zN(go,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ci(go,t.__scopeDialog);return C.jsx(jg,{present:r||s.open,children:s.modal?C.jsx(BV,{...i,ref:e}):C.jsx(RV,{...i,ref:e})})});IN.displayName=go;var BV=k.forwardRef((t,e)=>{const n=Ci(go,t.__scopeDialog),r=k.useRef(null),i=Eo(e,n.contentRef,r);return k.useEffect(()=>{const s=r.current;if(s)return EV(s)},[]),C.jsx(HN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:hs(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:hs(t.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&s.preventDefault()}),onFocusOutside:hs(t.onFocusOutside,s=>s.preventDefault())})}),RV=k.forwardRef((t,e)=>{const n=Ci(go,t.__scopeDialog),r=k.useRef(!1),i=k.useRef(!1);return C.jsx(HN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;n.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),HN=k.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=t,c=Ci(go,n),u=k.useRef(null),h=Eo(e,u);return I7(),C.jsxs(C.Fragment,{children:[C.jsx(CN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:C.jsx(wN,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":S1(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(zV,{titleId:c.titleId}),C.jsx(FV,{contentRef:u,descriptionId:c.descriptionId})]})]})}),w1="DialogTitle",OV=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ci(w1,n);return C.jsx(zh.h2,{id:i.titleId,...r,ref:e})});OV.displayName=w1;var VN="DialogDescription",jV=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ci(VN,n);return C.jsx(zh.p,{id:i.descriptionId,...r,ref:e})});jV.displayName=VN;var qN="DialogClose",$V=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ci(qN,n);return C.jsx(zh.button,{type:"button",...r,ref:e,onClick:hs(t.onClick,()=>i.onOpenChange(!1))})});$V.displayName=qN;function S1(t){return t?"open":"closed"}var UN="DialogTitleWarning",[Zdt,WN]=t7(UN,{contentName:go,titleName:w1,docsSlug:"dialog"}),zV=({titleId:t})=>{const e=WN(UN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},PV="DialogDescriptionWarning",FV=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WN(PV).contentName}}.`;return k.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IV=jN,HV=PN,VV=FN,qV=IN,UV=Symbol.for("react.lazy"),Lp=Pv[" use ".trim().toString()];function WV(t){return typeof t=="object"&&t!==null&&"then"in t}function YN(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===UV&&"_payload"in t&&WV(t._payload)}function YV(t){const e=GV(t),n=k.forwardRef((r,i)=>{let{children:s,...l}=r;YN(s)&&typeof Lp=="function"&&(s=Lp(s._payload));const c=k.Children.toArray(s),u=c.find(ZV);if(u){const h=u.props.children,f=c.map(p=>p===u?k.Children.count(h)>1?k.Children.only(null):k.isValidElement(h)?h.props.children:null:p);return C.jsx(e,{...l,ref:i,children:k.isValidElement(h)?k.cloneElement(h,void 0,f):null})}return C.jsx(e,{...l,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function GV(t){const e=k.forwardRef((n,r)=>{let{children:i,...s}=n;if(YN(i)&&typeof Lp=="function"&&(i=Lp(i._payload)),k.isValidElement(i)){const l=QV(i),c=KV(s,i.props);return i.type!==k.Fragment&&(c.ref=r?ys(r,l):l),k.cloneElement(i,c)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var XV=Symbol("radix.slottable");function ZV(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XV}function KV(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const u=s(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function QV(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var JV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ts=JV.reduce((t,e)=>{const n=YV(`Primitive.${e}`),r=k.forwardRef((i,s)=>{const{asChild:l,...c}=i,u=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),pu='[cmdk-group=""]',gx='[cmdk-group-items=""]',tq='[cmdk-group-heading=""]',GN='[cmdk-item=""]',bk=`${GN}:not([aria-disabled="true"])`,Db="cmdk-item-select",Sl="data-value",eq=(t,e,n)=>JH(t,e,n),XN=k.createContext(void 0),Ph=()=>k.useContext(XN),ZN=k.createContext(void 0),C1=()=>k.useContext(ZN),KN=k.createContext(void 0),QN=k.forwardRef((t,e)=>{let n=Cl(()=>{var P,G;return{search:"",value:(G=(P=t.value)!=null?P:t.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Cl(()=>new Set),i=Cl(()=>new Map),s=Cl(()=>new Map),l=Cl(()=>new Set),c=JN(t),{label:u,children:h,value:f,onValueChange:p,filter:m,shouldFilter:y,loop:x,disablePointerSelection:v=!1,vimBindings:S=!0,..._}=t,E=va(),T=va(),A=va(),D=k.useRef(null),B=dq();mo(()=>{if(f!==void 0){let P=f.trim();n.current.value=P,L.emit()}},[f]),mo(()=>{B(6,Z)},[]);let L=k.useMemo(()=>({subscribe:P=>(l.current.add(P),()=>l.current.delete(P)),snapshot:()=>n.current,setState:(P,G,J)=>{var nt,ct,ut,ht;if(!Object.is(n.current[P],G)){if(n.current[P]=G,P==="search")X(),Y(),B(1,U);else if(P==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let pt=document.getElementById(A);pt?pt.focus():(nt=document.getElementById(E))==null||nt.focus()}if(B(7,()=>{var pt;n.current.selectedItemId=(pt=$())==null?void 0:pt.id,L.emit()}),J||B(5,Z),((ct=c.current)==null?void 0:ct.value)!==void 0){let pt=G??"";(ht=(ut=c.current).onValueChange)==null||ht.call(ut,pt);return}}L.emit()}},emit:()=>{l.current.forEach(P=>P())}}),[]),z=k.useMemo(()=>({value:(P,G,J)=>{var nt;G!==((nt=s.current.get(P))==null?void 0:nt.value)&&(s.current.set(P,{value:G,keywords:J}),n.current.filtered.items.set(P,V(G,J)),B(2,()=>{Y(),L.emit()}))},item:(P,G)=>(r.current.add(P),G&&(i.current.has(G)?i.current.get(G).add(P):i.current.set(G,new Set([P]))),B(3,()=>{X(),Y(),n.current.value||U(),L.emit()}),()=>{s.current.delete(P),r.current.delete(P),n.current.filtered.items.delete(P);let J=$();B(4,()=>{X(),J?.getAttribute("id")===P&&U(),L.emit()})}),group:P=>(i.current.has(P)||i.current.set(P,new Set),()=>{s.current.delete(P),i.current.delete(P)}),filter:()=>c.current.shouldFilter,label:u||t["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:E,inputId:A,labelId:T,listInnerRef:D}),[]);function V(P,G){var J,nt;let ct=(nt=(J=c.current)==null?void 0:J.filter)!=null?nt:eq;return P?ct(P,n.current.search,G):0}function Y(){if(!n.current.search||c.current.shouldFilter===!1)return;let P=n.current.filtered.items,G=[];n.current.filtered.groups.forEach(nt=>{let ct=i.current.get(nt),ut=0;ct.forEach(ht=>{let pt=P.get(ht);ut=Math.max(pt,ut)}),G.push([nt,ut])});let J=D.current;q().sort((nt,ct)=>{var ut,ht;let pt=nt.getAttribute("id"),yt=ct.getAttribute("id");return((ut=P.get(yt))!=null?ut:0)-((ht=P.get(pt))!=null?ht:0)}).forEach(nt=>{let ct=nt.closest(gx);ct?ct.appendChild(nt.parentElement===ct?nt:nt.closest(`${gx} > *`)):J.appendChild(nt.parentElement===J?nt:nt.closest(`${gx} > *`))}),G.sort((nt,ct)=>ct[1]-nt[1]).forEach(nt=>{var ct;let ut=(ct=D.current)==null?void 0:ct.querySelector(`${pu}[${Sl}="${encodeURIComponent(nt[0])}"]`);ut?.parentElement.appendChild(ut)})}function U(){let P=q().find(J=>J.getAttribute("aria-disabled")!=="true"),G=P?.getAttribute(Sl);L.setState("value",G||void 0)}function X(){var P,G,J,nt;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ct=0;for(let ut of r.current){let ht=(G=(P=s.current.get(ut))==null?void 0:P.value)!=null?G:"",pt=(nt=(J=s.current.get(ut))==null?void 0:J.keywords)!=null?nt:[],yt=V(ht,pt);n.current.filtered.items.set(ut,yt),yt>0&&ct++}for(let[ut,ht]of i.current)for(let pt of ht)if(n.current.filtered.items.get(pt)>0){n.current.filtered.groups.add(ut);break}n.current.filtered.count=ct}function Z(){var P,G,J;let nt=$();nt&&(((P=nt.parentElement)==null?void 0:P.firstChild)===nt&&((J=(G=nt.closest(pu))==null?void 0:G.querySelector(tq))==null||J.scrollIntoView({block:"nearest"})),nt.scrollIntoView({block:"nearest"}))}function $(){var P;return(P=D.current)==null?void 0:P.querySelector(`${GN}[aria-selected="true"]`)}function q(){var P;return Array.from(((P=D.current)==null?void 0:P.querySelectorAll(bk))||[])}function R(P){let G=q()[P];G&&L.setState("value",G.getAttribute(Sl))}function F(P){var G;let J=$(),nt=q(),ct=nt.findIndex(ht=>ht===J),ut=nt[ct+P];(G=c.current)!=null&&G.loop&&(ut=ct+P<0?nt[nt.length-1]:ct+P===nt.length?nt[0]:nt[ct+P]),ut&&L.setState("value",ut.getAttribute(Sl))}function j(P){let G=$(),J=G?.closest(pu),nt;for(;J&&!nt;)J=P>0?uq(J,pu):hq(J,pu),nt=J?.querySelector(bk);nt?L.setState("value",nt.getAttribute(Sl)):F(P)}let W=()=>R(q().length-1),Q=P=>{P.preventDefault(),P.metaKey?W():P.altKey?j(1):F(1)},I=P=>{P.preventDefault(),P.metaKey?R(0):P.altKey?j(-1):F(-1)};return k.createElement(Ts.div,{ref:e,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:P=>{var G;(G=_.onKeyDown)==null||G.call(_,P);let J=P.nativeEvent.isComposing||P.keyCode===229;if(!(P.defaultPrevented||J))switch(P.key){case"n":case"j":{S&&P.ctrlKey&&Q(P);break}case"ArrowDown":{Q(P);break}case"p":case"k":{S&&P.ctrlKey&&I(P);break}case"ArrowUp":{I(P);break}case"Home":{P.preventDefault(),R(0);break}case"End":{P.preventDefault(),W();break}case"Enter":{P.preventDefault();let nt=$();if(nt){let ct=new Event(Db);nt.dispatchEvent(ct)}}}}},k.createElement("label",{"cmdk-label":"",htmlFor:z.inputId,id:z.labelId,style:pq},u),Pg(t,P=>k.createElement(ZN.Provider,{value:L},k.createElement(XN.Provider,{value:z},P))))}),nq=k.forwardRef((t,e)=>{var n,r;let i=va(),s=k.useRef(null),l=k.useContext(KN),c=Ph(),u=JN(t),h=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:l?.forceMount;mo(()=>{if(!h)return c.item(i,l?.id)},[h]);let f=t3(i,s,[t.value,t.children,s],t.keywords),p=C1(),m=xs(B=>B.value&&B.value===f.current),y=xs(B=>h||c.filter()===!1?!0:B.search?B.filtered.items.get(i)>0:!0);k.useEffect(()=>{let B=s.current;if(!(!B||t.disabled))return B.addEventListener(Db,x),()=>B.removeEventListener(Db,x)},[y,t.onSelect,t.disabled]);function x(){var B,L;v(),(L=(B=u.current).onSelect)==null||L.call(B,f.current)}function v(){p.setState("value",f.current,!0)}if(!y)return null;let{disabled:S,value:_,onSelect:E,forceMount:T,keywords:A,...D}=t;return k.createElement(Ts.div,{ref:ys(s,e),...D,id:i,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!m,"data-disabled":!!S,"data-selected":!!m,onPointerMove:S||c.getDisablePointerSelection()?void 0:v,onClick:S?void 0:x},t.children)}),rq=k.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,l=va(),c=k.useRef(null),u=k.useRef(null),h=va(),f=Ph(),p=xs(y=>i||f.filter()===!1?!0:y.search?y.filtered.groups.has(l):!0);mo(()=>f.group(l),[]),t3(l,c,[t.value,t.heading,u]);let m=k.useMemo(()=>({id:l,forceMount:i}),[i]);return k.createElement(Ts.div,{ref:ys(c,e),...s,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&k.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),Pg(t,y=>k.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},k.createElement(KN.Provider,{value:m},y))))}),iq=k.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=k.useRef(null),s=xs(l=>!l.search);return!n&&!s?null:k.createElement(Ts.div,{ref:ys(i,e),...r,"cmdk-separator":"",role:"separator"})}),aq=k.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=C1(),l=xs(h=>h.search),c=xs(h=>h.selectedItemId),u=Ph();return k.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),k.createElement(Ts.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":c,id:u.inputId,type:"text",value:i?t.value:l,onChange:h=>{i||s.setState("search",h.target.value),n?.(h.target.value)}})}),sq=k.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=k.useRef(null),l=k.useRef(null),c=xs(h=>h.selectedItemId),u=Ph();return k.useEffect(()=>{if(l.current&&s.current){let h=l.current,f=s.current,p,m=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let y=h.offsetHeight;f.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return m.observe(h),()=>{cancelAnimationFrame(p),m.unobserve(h)}}},[]),k.createElement(Ts.div,{ref:ys(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:u.listId},Pg(t,h=>k.createElement("div",{ref:ys(l,u.listInnerRef),"cmdk-list-sizer":""},h)))}),oq=k.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:l,...c}=t;return k.createElement(IV,{open:n,onOpenChange:r},k.createElement(HV,{container:l},k.createElement(VV,{"cmdk-overlay":"",className:i}),k.createElement(qV,{"aria-label":t.label,"cmdk-dialog":"",className:s},k.createElement(QN,{ref:e,...c}))))}),lq=k.forwardRef((t,e)=>xs(n=>n.filtered.count===0)?k.createElement(Ts.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),cq=k.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return k.createElement(Ts.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Pg(t,l=>k.createElement("div",{"aria-hidden":!0},l)))}),as=Object.assign(QN,{List:sq,Item:nq,Input:aq,Group:rq,Separator:iq,Dialog:oq,Empty:lq,Loading:cq});function uq(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function hq(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function JN(t){let e=k.useRef(t);return mo(()=>{e.current=t}),e}var mo=typeof window>"u"?k.useEffect:k.useLayoutEffect;function Cl(t){let e=k.useRef();return e.current===void 0&&(e.current=t()),e}function xs(t){let e=C1(),n=()=>t(e.snapshot());return k.useSyncExternalStore(e.subscribe,n,n)}function t3(t,e,n,r=[]){let i=k.useRef(),s=Ph();return mo(()=>{var l;let c=(()=>{var h;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(h=f.current.textContent)==null?void 0:h.trim():i.current}})(),u=r.map(h=>h.trim());s.value(t,c,u),(l=e.current)==null||l.setAttribute(Sl,c),i.current=c}),i}var dq=()=>{let[t,e]=k.useState(),n=Cl(()=>new Map);return mo(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function fq(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Pg({asChild:t,children:e},n){return t&&k.isValidElement(e)?k.cloneElement(fq(e),{ref:e.ref},n(e.props.children)):n(e)}var pq={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function gq(){const{commandPaletteOpen:t,closeCommandPalette:e,setView:n,selectAgent:r,openChat:i}=vi(),{agents:s,agentMetas:l}=En(),[c,u]=k.useState(""),h=k.useRef(null);k.useEffect(()=>{t&&(u(""),setTimeout(()=>h.current?.focus(),50))},[t]);const f=p=>{p(),e()};return C.jsx(_a,{children:t&&C.jsxs(C.Fragment,{children:[C.jsx(De.div,{className:"fixed inset-0 z-50",style:{backgroundColor:"rgba(0,0,0,0.6)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),C.jsx(De.div,{className:"fixed top-[20%] left-1/2 z-50 w-full max-w-lg -translate-x-1/2",initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.15},children:C.jsxs(as,{className:"rounded-xl border overflow-hidden shadow-2xl",style:{backgroundColor:O.bg.surface,borderColor:O.bg.border},loop:!0,children:[C.jsx(as.Input,{ref:h,value:c,onValueChange:u,placeholder:"Search agents, views, actions...",className:"w-full border-b px-4 py-3 text-sm outline-none",style:{backgroundColor:"transparent",borderColor:O.bg.border,color:O.text.primary},onKeyDown:p=>{p.key==="Escape"&&e()}}),C.jsxs(as.List,{className:"max-h-72 overflow-y-auto p-2",style:{color:O.text.primary},children:[C.jsx(as.Empty,{className:"py-6 text-center text-sm",style:{color:O.text.secondary},children:"No results found."}),C.jsxs(as.Group,{heading:"Views",className:"mb-2",children:[C.jsx(Ni,{label:" Cockpit",shortcut:"1",onSelect:()=>f(()=>n("cockpit"))}),C.jsx(Ni,{label:" Pipeline",shortcut:"2",onSelect:()=>f(()=>n("pipeline"))}),C.jsx(Ni,{label:" Gantt Timeline",shortcut:"3",onSelect:()=>f(()=>n("gantt"))}),C.jsx(Ni,{label:" Emergence Map",shortcut:"4",onSelect:()=>f(()=>n("emergence"))}),C.jsx(Ni,{label:" Strategy Canvas",shortcut:"5",onSelect:()=>f(()=>n("strategy"))}),C.jsx(Ni,{label:" Terminal",shortcut:"6",onSelect:()=>f(()=>n("terminal"))})]}),C.jsx(as.Group,{heading:"Agents",className:"mb-2",children:l.map(p=>{const m=s[p.id];return C.jsx(Ni,{label:`${p.icon} ${p.name}`,hint:m?.status||"idle",onSelect:()=>f(()=>r(p.id))},p.id)})}),C.jsxs(as.Group,{heading:"Actions",className:"mb-2",children:[C.jsx(Ni,{label:" Open Chat",shortcut:"J",onSelect:()=>f(()=>i())}),C.jsx(Ni,{label:" Pause All Agents",onSelect:()=>f(()=>fetch("/api/agents/pause-all",{method:"POST"}))}),C.jsx(Ni,{label:" Resume All Agents",onSelect:()=>f(()=>fetch("/api/agents/resume-all",{method:"POST"}))})]})]})]})})]})})}function Ni({label:t,hint:e,shortcut:n,onSelect:r}){return C.jsxs(as.Item,{onSelect:r,className:"flex items-center justify-between px-3 py-2 rounded-md text-sm cursor-pointer transition-colors",style:{color:O.text.primary},children:[C.jsx("span",{children:t}),C.jsxs("span",{className:"flex items-center gap-2",children:[e&&C.jsx("span",{className:"text-xs",style:{color:O.text.muted},children:e}),n&&C.jsx("kbd",{className:"text-[10px] px-1.5 py-0.5 rounded border",style:{backgroundColor:O.bg.surfaceHover,borderColor:O.bg.border,color:O.text.secondary},children:n})]})]})}const mq=Rg(t=>({messages:[],isLoading:!1,addMessage:e=>t(n=>({messages:[...n.messages,{...e,id:`msg-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,timestamp:Date.now()}]})),setLoading:e=>t({isLoading:e}),clearMessages:()=>t({messages:[]})}));function yq(){const{chatOpen:t,closeChat:e,chatAgentId:n,setChatAgent:r}=vi(),{agentMetas:i}=En(),{messages:s,addMessage:l,isLoading:c,setLoading:u}=mq(),[h,f]=k.useState(""),[p,m]=k.useState(!1),y=k.useRef(null),x=k.useRef(null);k.useEffect(()=>{t&&setTimeout(()=>x.current?.focus(),100)},[t]),k.useEffect(()=>{y.current?.scrollTo({top:y.current.scrollHeight,behavior:"smooth"})},[s]);const v=async()=>{if(!h.trim())return;const _=h.trim();f(""),l({from:"human",text:_}),u(!0);try{const T=await(await fetch("/api/bridge/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:_,agentId:n||void 0})})).json();T.reply?l({from:"agent",agentId:n||void 0,text:T.reply}):T.queued}catch{l({from:"system",text:" Failed to send message"})}finally{u(!1)}},S=i.find(_=>_.id===n);return C.jsx(_a,{children:t&&C.jsxs(De.div,{className:"fixed bottom-4 right-4 z-40 flex flex-col rounded-xl border shadow-2xl overflow-hidden",style:{width:380,height:480,backgroundColor:O.bg.surface,borderColor:O.bg.border},initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},children:[C.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:O.bg.border},children:[C.jsxs("button",{onClick:()=>m(!p),className:"flex items-center gap-2 text-sm font-medium hover:opacity-80 transition-opacity",style:{color:O.text.primary},children:[C.jsx("span",{children:S?.icon||""}),C.jsx("span",{children:S?.name||"Main Chat"}),C.jsx(Lg,{size:14,style:{color:O.text.secondary}})]}),C.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-white/5 transition-colors",children:C.jsx(Bg,{size:16,style:{color:O.text.secondary}})})]}),C.jsx(_a,{children:p&&C.jsxs(De.div,{className:"absolute top-12 left-2 right-2 z-50 rounded-lg border overflow-hidden shadow-xl",style:{backgroundColor:O.bg.surfaceHover,borderColor:O.bg.border},initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},children:[C.jsx("button",{onClick:()=>{r(""),m(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors",style:{color:O.text.primary},children:" Main Chat"}),i.map(_=>C.jsxs("button",{onClick:()=>{r(_.id),m(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors",style:{color:O.text.primary},children:[_.icon," ",_.name]},_.id))]})}),C.jsxs("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s.length===0&&C.jsx("p",{className:"text-xs text-center py-8",style:{color:O.text.muted},children:S?`Chat with ${S.name}. Ask questions or give commands.`:"Send a message to the command center."}),s.map(_=>C.jsx("div",{className:`flex ${_.from==="human"?"justify-end":"justify-start"}`,children:C.jsx("div",{className:"max-w-[80%] rounded-lg px-3 py-2 text-sm",style:{backgroundColor:_.from==="human"?O.accent+"20":_.from==="system"?O.status.error+"15":O.bg.surfaceHover,color:O.text.primary},children:_.text})},_.id)),c&&C.jsx("div",{className:"flex justify-start",children:C.jsx("div",{className:"rounded-lg px-3 py-2 text-sm",style:{backgroundColor:O.bg.surfaceHover},children:C.jsx(De.span,{className:"inline-block",style:{color:O.text.secondary},animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0},children:"thinking..."})})})]}),C.jsx("div",{className:"border-t p-3",style:{borderColor:O.bg.border},children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{ref:x,value:h,onChange:_=>f(_.target.value),onKeyDown:_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),v())},placeholder:"Type a message...",className:"flex-1 rounded-lg px-3 py-2 text-sm outline-none border",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.primary}}),C.jsx("button",{onClick:v,disabled:!h.trim(),className:"rounded-lg p-2 transition-colors disabled:opacity-30",style:{backgroundColor:O.accent,color:"#fff"},children:C.jsx(gN,{size:16})})]})})]})})}const xq=k.memo(function(){const{pendingActions:e,pendingActionDetails:n,clearPendingActions:r}=En(),{addToast:i}=Og(),[s,l]=k.useState(!1);if(e<=0)return null;const c=async()=>{try{(await fetch("/api/agents/approve-all",{method:"POST"})).ok?(r(),i("success","All pending actions approved")):i("error","Failed to approve actions")}catch{i("error","Failed to approve actions")}},u=async()=>{try{(await fetch("/api/agents/dismiss-all",{method:"POST"})).ok?(r(),i("info","All pending actions dismissed")):i("error","Failed to dismiss actions")}catch{i("error","Failed to dismiss actions")}};return C.jsxs(De.div,{className:"border-b",style:{backgroundColor:O.status.blocked+"10",borderColor:O.status.blocked+"30"},initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:[C.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[C.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[C.jsx(b1,{size:14,style:{color:O.status.blocked}}),C.jsxs("span",{style:{color:O.status.blocked},children:[e," pending action",e>1?"s":""," need approval"]}),n.length>0&&C.jsx("button",{onClick:()=>l(!s),className:"p-0.5 rounded hover:bg-white/5 transition-colors",style:{color:O.text.secondary},children:s?C.jsx(D9,{size:14}):C.jsx(Lg,{size:14})})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("button",{onClick:c,className:"flex items-center gap-1 rounded px-2 py-1 text-xs transition-colors hover:bg-white/5",style:{color:O.status.complete},children:[C.jsx(kb,{size:12})," Approve all"]}),C.jsxs("button",{onClick:u,className:"flex items-center gap-1 rounded px-2 py-1 text-xs transition-colors hover:bg-white/5",style:{color:O.status.error},children:[C.jsx(Bg,{size:12})," Dismiss"]})]})]}),C.jsx(_a,{children:s&&n.length>0&&C.jsx(De.div,{className:"px-4 pb-2 space-y-1",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:n.map(h=>C.jsxs("div",{className:"flex items-center gap-2 text-[11px] py-1 px-2 rounded",style:{backgroundColor:O.bg.surfaceHover,color:O.text.secondary},children:[C.jsx("span",{style:{color:O.status.blocked},children:""}),C.jsx("span",{className:"font-medium",style:{color:O.text.primary},children:h.agentId}),C.jsx("span",{children:""}),C.jsx("span",{children:h.type}),C.jsx("span",{style:{color:O.text.muted},children:""}),C.jsx("span",{className:"truncate flex-1",children:h.description})]},h.id))})})]})}),bq={cockpit:" Cockpit",agent:" Agent Focus",pipeline:" Pipeline",emergence:" Emergence",terminal:" Terminal",gantt:" Gantt",strategy:" Strategy",docs:" Docs",diagrams:" Diagrams",logs:" Logs"},vq=k.memo(function(){const{agents:e,totalTasks:n,completedTasks:r,projectName:i,bridge:s}=En(),{currentView:l}=vi(),c=Object.values(e),u=c.filter(y=>y.status==="working").length,h=c.filter(y=>y.status==="done").length,f=c.filter(y=>y.status==="error").length,p=c.reduce((y,x)=>(x.tokens&&(y.input+=x.tokens.input,y.output+=x.tokens.output,y.cost+=x.tokens.cost),y),{input:0,output:0,cost:0}),m=p.input>0||p.output>0;return C.jsxs("div",{className:"flex items-center justify-between px-4 py-1.5 text-[11px] border-t",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.secondary},children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("span",{style:{color:O.text.muted},children:bq[l]}),C.jsx("span",{children:i}),C.jsxs("span",{className:"flex items-center gap-1",title:s.connected?`Connected to ${s.gatewayUrl} (${s.latency}ms)`:"Disconnected from Clawdbot",children:[C.jsx("span",{children:s.connected?"":""}),C.jsx("span",{style:{color:s.connected?O.status.working:O.status.error},children:s.connected?"Bridge":"Offline"}),s.connected&&s.latency>0&&C.jsxs("span",{style:{color:O.text.muted},children:[s.latency,"ms"]})]})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[u>0&&C.jsxs("span",{children:[C.jsx("span",{style:{color:O.status.working},children:""})," ",u," active"]}),f>0&&C.jsxs("span",{children:[C.jsx("span",{style:{color:O.status.error},children:""})," ",f," error"]}),C.jsxs("span",{children:["Tasks: ",r,"/",n]}),C.jsxs("span",{children:["Agents: ",h," ",u," ",c.length>0?c.length-h-u:0,""]}),m&&C.jsxs("span",{title:`In: ${p.input.toLocaleString()} | Out: ${p.output.toLocaleString()} | $${p.cost.toFixed(4)}`,children:[" ",((p.input+p.output)/1e3).toFixed(1),"k tokens"]}),C.jsxs("span",{className:"flex items-center gap-1",children:[C.jsx("kbd",{className:"px-1 rounded border text-[9px]",style:{borderColor:O.bg.borderLight,color:O.text.muted},children:"K"}),C.jsx("span",{style:{color:O.text.muted},children:"search"})]})]})]})}),wq={success:{icon:C.jsx(R9,{size:16}),color:O.status.complete,bg:O.status.complete+"15"},error:{icon:C.jsx(L9,{size:16}),color:O.status.error,bg:O.status.error+"15"},warning:{icon:C.jsx(b1,{size:16}),color:O.status.blocked,bg:O.status.blocked+"15"},info:{icon:C.jsx(J9,{size:16}),color:O.accent,bg:O.accent+"15"}},Sq=k.memo(function(){const{toasts:e,removeToast:n}=Og();return C.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:C.jsx(_a,{children:e.map(r=>{const i=wq[r.type];return C.jsxs(De.div,{className:"flex items-center gap-2 px-4 py-3 rounded-lg border shadow-lg pointer-events-auto",style:{backgroundColor:O.bg.surface,borderColor:i.color+"40"},initial:{opacity:0,x:50,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.95},transition:{duration:.2},children:[C.jsx("span",{style:{color:i.color},children:i.icon}),C.jsx("span",{className:"text-sm flex-1",style:{color:O.text.primary},children:r.message}),C.jsx("button",{onClick:()=>n(r.id),className:"p-0.5 rounded hover:bg-white/10 transition-colors",style:{color:O.text.muted},children:C.jsx(Bg,{size:14})})]},r.id)})})})}),vk=["Repository","Template","Agents","Confirm"];function Cq({onComplete:t}){const[e,n]=k.useState(0),[r,i]=k.useState([]),[s,l]=k.useState(!1),[c,u]=k.useState(""),[h,f]=k.useState(""),[p,m]=k.useState(""),[y,x]=k.useState(""),[v,S]=k.useState("idle"),[_,E]=k.useState(""),[T,A]=k.useState(""),[D,B]=k.useState(null),[L,z]=k.useState([]),[V,Y]=k.useState({}),[U,X]=k.useState([]);k.useEffect(()=>{fetch("/api/templates").then(j=>j.json()).then(j=>i(j.templates||[])).catch(()=>{}),fetch("/api/agents/meta").then(j=>j.json()).then(j=>{X(j.agents||[]),z((j.agents||[]).map(Q=>Q.id));const W={};(j.squads||[]).forEach(Q=>{W[Q.id]=Q.agents}),Y(W)}).catch(()=>{})},[]),k.useEffect(()=>{if(h.trim()){const j=h.match(/github\.com\/[\w.-]+\/([\w.-]+?)(?:\.git)?$/i);if(j){const W=j[1];m(W.replace(/[-_]/g," ").replace(/\b\w/g,Q=>Q.toUpperCase())),y||x(`ag-dev/${W}`)}}},[h]),k.useEffect(()=>{if(D){const j=r.find(W=>W.id===D);j&&(z(j.agents),Y(j.squads))}},[D,r]);const Z=async()=>{if(h.trim()){S("setting-up"),E("Connecting to repository..."),u("");try{const W=await(await fetch("/api/project/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:h,branch:y||void 0})})).json();W.ok?(A(W.path),m(W.name||p),x(W.branch||y),S("done"),E(`Ready  working on branch ${W.branch}`)):(u(W.error||"Setup failed"),S("error"))}catch(j){u(j.message||"Network error"),S("error")}}},$=()=>e===0?v==="done":e===1?!0:e===2?L.length>0:!0,q=async()=>{l(!0),u("");try{const W=await(await fetch("/api/project/init",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p,projectRoot:T,templateId:D,agents:L,squads:V})})).json();W.ok||W.success?t():u(W.error||"Failed to initialize")}catch(j){u(j.message||"Network error")}finally{l(!1)}},R=j=>{z(W=>W.includes(j)?W.filter(Q=>Q!==j):[...W,j])},F=r.find(j=>j.id===D);return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0,0,0,0.85)"},children:C.jsxs(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl rounded-2xl border overflow-hidden",style:{backgroundColor:O.bg.surface,borderColor:O.bg.border},children:[C.jsxs("div",{className:"px-6 pt-6 pb-4 border-b",style:{borderColor:O.bg.border},children:[C.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[C.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:O.squads.builders.bg},children:C.jsx(sh,{size:20,style:{color:O.squads.builders.main}})}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-lg font-bold",style:{color:O.text.primary},children:"Initialize AG Dev"}),C.jsx("p",{className:"text-xs",style:{color:O.text.secondary},children:"Connect a repository and configure your agents"})]})]}),C.jsx("div",{className:"flex gap-2",children:vk.map((j,W)=>C.jsxs("button",{onClick:()=>W<=e&&n(W),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all",style:{backgroundColor:W===e?O.squads.builders.bg:W<e?O.status.complete+"15":"transparent",color:W===e?O.squads.builders.main:W<e?O.status.complete:O.text.muted,cursor:W<=e?"pointer":"default"},children:[W<e?C.jsx(kb,{size:12}):C.jsx("span",{className:"w-3 text-center",children:W+1}),j]},j))})]}),C.jsx("div",{className:"px-6 py-5 min-h-[320px]",children:C.jsx(_a,{mode:"wait",children:C.jsxs(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15},children:[e===0&&C.jsxs("div",{className:"space-y-4",children:[C.jsx("p",{className:"text-xs",style:{color:O.text.secondary},children:"Paste your GitHub repository URL. AG Dev will connect to it and create a working branch for the agents."}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium mb-1.5",style:{color:O.text.secondary},children:[C.jsx(ix,{size:12,className:"inline mr-1"})," Repository URL"]}),C.jsx("input",{type:"text",value:h,onChange:j=>{f(j.target.value),S("idle"),u("")},placeholder:"https://github.com/user/repo",className:"w-full px-3 py-2.5 rounded-lg border text-sm outline-none transition-colors focus:border-blue-500",style:{backgroundColor:O.bg.primary,borderColor:v==="done"?O.status.complete+"60":O.bg.border,color:O.text.primary},autoFocus:!0,onKeyDown:j=>{j.key==="Enter"&&h.trim()&&v!=="setting-up"&&Z()}})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"block text-xs font-medium mb-1.5",style:{color:O.text.secondary},children:[C.jsx(lN,{size:12,className:"inline mr-1"})," Working Branch"]}),C.jsx("input",{type:"text",value:y,onChange:j=>x(j.target.value),placeholder:"ag-dev/feature-name",className:"w-full px-3 py-2 rounded-lg border text-sm outline-none transition-colors focus:border-blue-500",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.primary}}),C.jsx("p",{className:"text-[10px] mt-1",style:{color:O.text.muted},children:"Agents will work on this branch. Leave as-is or customize."})]}),C.jsxs("button",{onClick:Z,disabled:v==="setting-up"||!h.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-sm font-semibold transition-all",style:{backgroundColor:v==="done"?O.status.complete+"15":v==="setting-up"?O.bg.surfaceHover:O.squads.builders.main,color:v==="done"?O.status.complete:v==="setting-up"?O.text.secondary:"#fff",opacity:h.trim()?1:.4},children:[v==="setting-up"&&C.jsx(KT,{size:16,className:"animate-spin"}),v==="done"&&C.jsx(kb,{size:16}),v==="idle"&&C.jsx(ix,{size:16}),v==="error"&&C.jsx(ix,{size:16}),v==="setting-up"?"Connecting...":v==="done"?_:"Connect Repository"]}),c&&C.jsxs("p",{className:"text-xs px-3 py-2 rounded-lg",style:{backgroundColor:O.status.error+"15",color:O.status.error},children:[" ",c]})]}),e===1&&C.jsxs("div",{className:"space-y-3",children:[C.jsx("p",{className:"text-xs mb-3",style:{color:O.text.secondary},children:"Choose a template to pre-configure agents for your project type."}),C.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[C.jsxs("button",{onClick:()=>B(null),className:"flex items-center gap-3 p-3 rounded-lg border text-left transition-all hover:border-white/20",style:{backgroundColor:D?O.bg.primary:O.squads.builders.bg,borderColor:D?O.bg.border:O.squads.builders.main},children:[C.jsx("span",{className:"text-xl",children:""}),C.jsxs("div",{children:[C.jsx("div",{className:"text-sm font-medium",style:{color:O.text.primary},children:"Custom"}),C.jsx("div",{className:"text-[11px]",style:{color:O.text.secondary},children:"Pick your own agents"})]})]}),r.map(j=>C.jsxs("button",{onClick:()=>B(j.id),className:"flex items-center gap-3 p-3 rounded-lg border text-left transition-all hover:border-white/20",style:{backgroundColor:D===j.id?O.squads.builders.bg:O.bg.primary,borderColor:D===j.id?O.squads.builders.main:O.bg.border},children:[C.jsx("span",{className:"text-xl",children:j.icon}),C.jsxs("div",{className:"flex-1",children:[C.jsx("div",{className:"text-sm font-medium",style:{color:O.text.primary},children:j.name}),C.jsx("div",{className:"text-[11px]",style:{color:O.text.secondary},children:j.description}),C.jsxs("div",{className:"text-[10px] mt-1",style:{color:O.text.muted},children:[j.agents.length," agents  ",Object.keys(j.squads||{}).length," squads"]})]})]},j.id))]})]}),e===2&&C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("p",{className:"text-xs",style:{color:O.text.secondary},children:[C.jsx(DH,{size:12,className:"inline mr-1"}),"Select agents (",L.length," active)"]}),C.jsxs("div",{className:"flex gap-1",children:[C.jsx("button",{onClick:()=>z(U.map(j=>j.id)),className:"text-[10px] px-2 py-0.5 rounded",style:{color:O.squads.builders.main,backgroundColor:O.squads.builders.bg},children:"All"}),C.jsx("button",{onClick:()=>z([]),className:"text-[10px] px-2 py-0.5 rounded",style:{color:O.text.muted,backgroundColor:O.bg.primary},children:"None"})]})]}),C.jsx("div",{className:"grid grid-cols-2 gap-1.5 max-h-[250px] overflow-y-auto pr-1",children:U.map(j=>{const W=L.includes(j.id),Q=j.squad==="builders"?O.squads.builders:j.squad==="thinkers"?O.squads.thinkers:j.squad==="guardians"?O.squads.guardians:O.squads.creators;return C.jsxs("button",{onClick:()=>R(j.id),className:"flex items-center gap-2 p-2 rounded-lg border text-left transition-all",style:{backgroundColor:W?Q.bg:O.bg.primary,borderColor:W?Q.main+"50":O.bg.border,opacity:W?1:.5},children:[C.jsx("div",{className:"w-5 h-5 rounded flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:W?Q.main:O.bg.surfaceHover,color:W?"#fff":O.text.muted},children:W?"":""}),C.jsxs("div",{children:[C.jsx("div",{className:"text-xs font-medium",style:{color:O.text.primary},children:j.name}),C.jsx("div",{className:"text-[10px]",style:{color:O.text.muted},children:j.squad})]})]},j.id)})})]}),e===3&&C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"rounded-lg border p-4",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border},children:[C.jsx("h3",{className:"text-sm font-bold mb-3",style:{color:O.text.primary},children:"Configuration Summary"}),C.jsxs("div",{className:"space-y-2 text-xs",children:[C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{style:{color:O.text.secondary},children:"Repository"}),C.jsx("span",{className:"max-w-[300px] truncate",style:{color:O.text.primary},children:h})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{style:{color:O.text.secondary},children:"Project"}),C.jsx("span",{style:{color:O.text.primary},children:p})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{style:{color:O.text.secondary},children:"Branch"}),C.jsx("span",{style:{color:O.squads.builders.main},children:y})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{style:{color:O.text.secondary},children:"Template"}),C.jsx("span",{style:{color:O.text.primary},children:F?.name||"Custom"})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{style:{color:O.text.secondary},children:"Agents"}),C.jsxs("span",{style:{color:O.text.primary},children:[L.length," active"]})]}),C.jsx("div",{className:"border-t pt-2 mt-2",style:{borderColor:O.bg.border},children:C.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:L.map(j=>{const W=U.find(Q=>Q.id===j);return C.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded",style:{backgroundColor:O.bg.surfaceHover,color:O.text.primary},children:W?.name||j},j)})})})]})]}),c&&C.jsxs("div",{className:"text-xs px-3 py-2 rounded-lg",style:{backgroundColor:O.status.error+"15",color:O.status.error},children:[" ",c]})]})]},e)})}),C.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",style:{borderColor:O.bg.border},children:[C.jsxs("button",{onClick:()=>e>0&&n(e-1),disabled:e===0,className:"flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors",style:{color:e>0?O.text.secondary:O.text.muted,backgroundColor:e>0?O.bg.surfaceHover:"transparent",opacity:e>0?1:.3},children:[C.jsx(E9,{size:14})," Back"]}),e<vk.length-1?C.jsxs("button",{onClick:()=>$()&&n(e+1),disabled:!$(),className:"flex items-center gap-1 px-4 py-1.5 rounded-lg text-xs font-bold transition-all",style:{backgroundColor:$()?O.squads.builders.main:O.bg.surfaceHover,color:$()?"#fff":O.text.muted},children:["Next ",C.jsx(x1,{size:14})]}):C.jsx("button",{onClick:q,disabled:s,className:"flex items-center gap-1.5 px-5 py-2 rounded-lg text-xs font-bold transition-all",style:{backgroundColor:s?O.bg.surfaceHover:O.status.complete,color:"#fff"},children:s?C.jsxs(C.Fragment,{children:[C.jsx(KT,{size:14,className:"animate-spin"})," Initializing..."]}):C.jsxs(C.Fragment,{children:[C.jsx(sh,{size:14})," Launch Project"]})})]})]})})}const e3=k.memo(function({data:e,width:n=80,height:r=24,color:i="#3B82F6",filled:s=!0}){if(!e||e.length<2)return null;const l=Math.max(...e,1),c=Math.min(...e,0),u=l-c||1,h=e.map((p,m)=>{const y=m/(e.length-1)*n,x=r-(p-c)/u*r;return`${y},${x}`}).join(" "),f=`0,${r} ${h} ${n},${r}`;return C.jsxs("svg",{width:n,height:r,viewBox:`0 0 ${n} ${r}`,className:"block",children:[s&&C.jsx("polygon",{points:f,fill:i,opacity:.15}),C.jsx("polyline",{points:h,fill:"none",stroke:i,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]})});function _q({status:t,color:e}){if(t==="working")return C.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[C.jsx(De.span,{className:"absolute inline-flex h-full w-full rounded-full opacity-60",style:{backgroundColor:e},animate:{scale:[1,1.8,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),C.jsx("span",{className:"relative inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:e}})]});const n=t==="idle"?O.status.idle:t==="done"?O.status.complete:t==="error"?O.status.error:t==="paused"?O.status.paused:O.status.idle;return C.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:n,opacity:t==="idle"?.4:1}})}const Tq=k.memo(function({meta:e,state:n,onClick:r}){const i=Ii(e.squad),s=n.status==="working",l=n.status==="done",c=n.activityHistory?.length?n.activityHistory:Array(20).fill(0).map(()=>s?Math.random()*80+20:l?Math.random()*10:0);return C.jsxs(De.button,{onClick:r,className:"relative flex flex-col gap-2 rounded-lg border p-3 text-left transition-colors cursor-pointer w-full",style:{backgroundColor:O.bg.surface,borderColor:s?i.main+"40":O.bg.border},whileHover:{backgroundColor:O.bg.surfaceHover,borderColor:i.main+"60",transition:{duration:.15}},whileTap:{scale:.98},children:[C.jsxs("div",{className:"flex items-center justify-between w-full",children:[C.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[C.jsx("span",{className:"text-sm flex-shrink-0",children:e.icon}),C.jsx("span",{className:"text-xs font-semibold truncate",style:{color:O.text.primary},children:e.shortName})]}),C.jsx(_q,{status:n.status,color:i.main})]}),(s||l)&&C.jsx("div",{className:"w-full h-1 rounded-full overflow-hidden",style:{backgroundColor:O.bg.border},children:C.jsx(De.div,{className:"h-full rounded-full",style:{backgroundColor:i.main},initial:{width:0},animate:{width:`${n.progress||0}%`},transition:{duration:.5,ease:"easeOut"}})}),C.jsx("p",{className:"text-[10px] leading-tight truncate w-full",style:{color:O.text.secondary},children:n.currentTask||(l?" done":n.status==="idle"?"idle":n.status)}),C.jsx(e3,{data:c,width:120,height:20,color:i.main})]})}),kq=[{id:"",label:"Default (server decides)"},{id:"anthropic/claude-sonnet-4-20250514",label:"Claude Sonnet 4"},{id:"anthropic/claude-opus-4-5",label:"Claude Opus 4.5"},{id:"openai/gpt-4o",label:"GPT-4o"}];function Eq({open:t,onClose:e,preselectedAgentId:n}){const{addToast:r}=Og(),{agentMetas:i}=En(),[s,l]=k.useState(n||""),[c,u]=k.useState(""),[h,f]=k.useState(""),[p,m]=k.useState(!1),y=async()=>{if(!(!s||!c.trim())){m(!0);try{const x=await fetch(`/api/agents/${s}/spawn`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:c.trim(),model:h||void 0})});if(x.ok)r("success",`Agent ${s} spawned successfully`),u(""),f(""),e();else{const v=await x.json().catch(()=>({}));r("error",v.error||`Failed to spawn agent ${s}`)}}catch{r("error","Network error spawning agent")}finally{m(!1)}}};return C.jsx(_a,{children:t&&C.jsxs(C.Fragment,{children:[C.jsx(De.div,{className:"fixed inset-0 z-50 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),C.jsx(De.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},children:C.jsxs("div",{className:"w-full max-w-md rounded-xl border shadow-2xl overflow-hidden",style:{backgroundColor:O.bg.surface,borderColor:O.bg.border},onClick:x=>x.stopPropagation(),children:[C.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b",style:{borderColor:O.bg.border},children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(sh,{size:18,style:{color:O.accent}}),C.jsx("h2",{className:"text-sm font-semibold",style:{color:O.text.primary},children:"Spawn Agent"})]}),C.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-white/5 transition-colors",children:C.jsx(Bg,{size:16,style:{color:O.text.secondary}})})]}),C.jsxs("div",{className:"p-5 space-y-4",children:[C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-medium",style:{color:O.text.secondary},children:"Agent"}),C.jsxs("select",{value:s,onChange:x=>l(x.target.value),className:"w-full rounded-lg px-3 py-2 text-sm outline-none border",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.primary},children:[C.jsx("option",{value:"",children:"Select an agent..."}),i.map(x=>C.jsxs("option",{value:x.id,children:[x.icon," ",x.name,"  ",x.role]},x.id))]})]}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-medium",style:{color:O.text.secondary},children:"Task Description"}),C.jsx("textarea",{value:c,onChange:x=>u(x.target.value),placeholder:"Describe the task for this agent...",rows:4,className:"w-full rounded-lg px-3 py-2 text-sm outline-none border resize-none",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.primary}})]}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsxs("label",{className:"text-xs font-medium",style:{color:O.text.secondary},children:["Model ",C.jsx("span",{style:{color:O.text.muted},children:"(optional)"})]}),C.jsx("select",{value:h,onChange:x=>f(x.target.value),className:"w-full rounded-lg px-3 py-2 text-sm outline-none border",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.primary},children:kq.map(x=>C.jsx("option",{value:x.id,children:x.label},x.id))})]})]}),C.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-4 border-t",style:{borderColor:O.bg.border},children:[C.jsx("button",{onClick:e,className:"px-3 py-1.5 rounded-lg text-sm transition-colors hover:bg-white/5",style:{color:O.text.secondary},children:"Cancel"}),C.jsxs("button",{onClick:y,disabled:!s||!c.trim()||p,className:"flex items-center gap-1.5 px-4 py-1.5 rounded-lg text-sm font-medium transition-colors disabled:opacity-40",style:{backgroundColor:O.accent,color:"#fff"},children:[C.jsx(sh,{size:14}),p?"Spawning...":"Spawn"]})]})]})})]})})}const wk={status:"idle",currentTask:null,checklist:[],progress:0,activityHistory:Array(20).fill(0),sessionKey:null,model:null,tokens:null},Aq=k.memo(function(){const{agents:e,agentMetas:n,squads:r,loaded:i}=En(),{selectAgent:s}=vi(),[l,c]=k.useState(!1),u=k.useMemo(()=>Object.keys(r),[r]);return i?C.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[C.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("div",{}),C.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors hover:opacity-90",style:{backgroundColor:O.accent,color:"#fff"},children:[C.jsx(sh,{size:14}),"Spawn Agent"]})]}),u.map(h=>{const f=r[h];if(!f)return null;const p=Ii(h),m=n.filter(y=>y.squad===h);return m.length===0?null:C.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[C.jsx("span",{className:"text-sm",children:f.icon}),C.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider",style:{color:p.main},children:f.label}),C.jsx("div",{className:"flex-1 h-px",style:{backgroundColor:p.main+"20"}}),C.jsxs("span",{className:"text-[10px]",style:{color:O.text.muted},children:[m.filter(y=>(e[y.id]||wk).status==="working").length," active"]})]}),C.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:m.map(y=>C.jsx(Tq,{meta:y,state:e[y.id]||wk,onClick:()=>s(y.id)},y.id))})]},h)})]}),C.jsx(Eq,{open:l,onClose:()=>c(!1)})]}):C.jsx("div",{className:"flex-1 flex items-center justify-center",children:C.jsx(De.div,{className:"text-sm",style:{color:O.text.muted},animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0},children:"Loading agents..."})})}),Sk={status:"idle",currentTask:null,checklist:[],progress:0,activityHistory:Array(20).fill(0)},Mq=k.memo(function(){const{selectedAgentId:e,selectAgent:n,openChat:r}=vi(),{agents:i,agentMetas:s}=En(),[l,c]=k.useState([]),u=k.useRef(null),h=e?jh(e,s):null,f=e&&i[e]||Sk,p=h?Ii(h.squad):{main:"#666",bg:"transparent"};if(k.useEffect(()=>{f.thinking&&(c(y=>[...y,f.thinking].slice(-20)),u.current?.scrollTo({top:u.current.scrollHeight,behavior:"smooth"}))},[f.thinking]),!h||!e)return C.jsx("div",{className:"flex-1 flex items-center justify-center",style:{color:O.text.muted},children:"Select an agent to view details"});const m=async y=>{try{await fetch(`/api/agents/${e}/${y}`,{method:"POST"})}catch{}};return C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",style:{borderColor:O.bg.border},children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("button",{onClick:()=>n(null),className:"p-1.5 rounded-lg hover:bg-white/5 transition-colors",style:{color:O.text.secondary},children:C.jsx(nN,{size:18})}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("span",{className:"text-xl",children:h.icon}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-base font-semibold",style:{color:O.text.primary},children:h.name}),C.jsx("p",{className:"text-xs",style:{color:O.text.secondary},children:h.role})]})]}),C.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:f.status==="working"?p.bg:f.status==="done"?O.status.complete+"15":f.status==="error"?O.status.error+"15":O.bg.surfaceHover,color:f.status==="working"?p.main:f.status==="done"?O.status.complete:f.status==="error"?O.status.error:O.text.secondary},children:f.status})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[f.status==="working"?C.jsx(Mf,{icon:C.jsx(cN,{size:14}),label:"Pause",color:O.status.paused,onClick:()=>m("pause")}):f.status==="paused"?C.jsx(Mf,{icon:C.jsx(uN,{size:14}),label:"Resume",color:O.status.working,onClick:()=>m("resume")}):null,C.jsx(Mf,{icon:C.jsx(dN,{size:14}),label:"Restart",color:O.text.secondary,onClick:()=>m("restart")}),C.jsx(Mf,{icon:C.jsx(iH,{size:14}),label:"Chat",color:p.main,onClick:()=>r(e)})]})]}),C.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[C.jsxs("div",{className:"w-80 flex-shrink-0 border-r overflow-y-auto p-4 space-y-4",style:{borderColor:O.bg.border},children:[C.jsx(xl,{title:"Current Task",children:C.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:O.bg.surfaceHover},children:[C.jsx("p",{className:"text-sm font-medium",style:{color:O.text.primary},children:f.currentTask||"No active task"}),f.progress>0&&C.jsxs("div",{className:"mt-2",children:[C.jsxs("div",{className:"flex justify-between text-[10px] mb-1",style:{color:O.text.secondary},children:[C.jsx("span",{children:"Progress"}),C.jsxs("span",{children:[f.progress,"%"]})]}),C.jsx("div",{className:"h-1.5 rounded-full overflow-hidden",style:{backgroundColor:O.bg.border},children:C.jsx(De.div,{className:"h-full rounded-full",style:{backgroundColor:p.main},animate:{width:`${f.progress}%`},transition:{duration:.5}})})]})]})}),C.jsx(xl,{title:" Thinking",children:C.jsx("div",{ref:u,className:"rounded-lg p-3 max-h-40 overflow-y-auto space-y-1",style:{backgroundColor:O.bg.surfaceHover},children:l.length>0?l.map((y,x)=>C.jsx("p",{className:"text-xs leading-relaxed",style:{color:O.text.secondary},children:y},x)):C.jsx("p",{className:"text-xs italic",style:{color:O.text.muted},children:f.status==="working"?"Waiting for thoughts...":"Agent is not active"})})}),C.jsx(xl,{title:"Checklist",children:C.jsx("div",{className:"space-y-1.5",children:f.checklist.length>0?f.checklist.map((y,x)=>C.jsxs("div",{className:"flex items-start gap-2",children:[y.done?C.jsx(j9,{size:14,className:"mt-0.5 flex-shrink-0",style:{color:O.status.complete}}):C.jsx(z9,{size:14,className:"mt-0.5 flex-shrink-0",style:{color:O.text.muted}}),C.jsx("span",{className:"text-xs",style:{color:y.done?O.text.secondary:O.text.primary},children:y.text})]},x)):C.jsx("p",{className:"text-xs",style:{color:O.text.muted},children:"No checklist items"})})}),C.jsx(xl,{title:"Activity",children:C.jsx(e3,{data:f.activityHistory||Array(20).fill(0),width:240,height:40,color:p.main})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[C.jsx(xl,{title:"Output",children:C.jsx("div",{className:"rounded-lg p-4 font-mono text-xs leading-relaxed whitespace-pre-wrap min-h-[200px]",style:{backgroundColor:O.bg.primary,color:O.text.primary,border:`1px solid ${O.bg.border}`},children:f.output||"No output yet..."})}),f.filesChanged&&f.filesChanged.length>0&&C.jsx(xl,{title:"Files Changed",className:"mt-4",children:C.jsx("div",{className:"space-y-1",children:f.filesChanged.map((y,x)=>C.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[C.jsx(aN,{size:12,style:{color:O.text.muted}}),C.jsx("span",{style:{color:O.text.primary},children:y.path}),y.additions>0&&C.jsxs("span",{style:{color:O.status.complete},children:["+",y.additions]}),y.deletions>0&&C.jsxs("span",{style:{color:O.status.error},children:["-",y.deletions]})]},x))})})]})]})]})});function xl({title:t,children:e,className:n=""}){return C.jsxs("div",{className:n,children:[C.jsx("h4",{className:"text-[10px] font-semibold uppercase tracking-wider mb-2",style:{color:O.text.muted},children:t}),e]})}function Mf({icon:t,label:e,color:n,onClick:r}){return C.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-colors hover:bg-white/5 border",style:{borderColor:n+"30",color:n},children:[t,e]})}function Dq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return k.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Fg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function _1(t){return"nodeType"in t}function sr(t){var e,n;return t?fc(t)?t:_1(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function T1(t){const{Document:e}=sr(t);return t instanceof e}function Fh(t){return fc(t)?!1:t instanceof sr(t).HTMLElement}function n3(t){return t instanceof sr(t).SVGElement}function pc(t){return t?fc(t)?t.document:_1(t)?T1(t)?t:Fh(t)||n3(t)?t.ownerDocument:document:document:document}const wi=Fg?k.useLayoutEffect:k.useEffect;function Ig(t){const e=k.useRef(t);return wi(()=>{e.current=t}),k.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Nq(){const t=k.useRef(null),e=k.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=k.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ch(t,e){e===void 0&&(e=[t]);const n=k.useRef(t);return wi(()=>{n.current!==t&&(n.current=t)},e),n}function Ih(t,e){const n=k.useRef();return k.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Bp(t){const e=Ig(t),n=k.useRef(null),r=k.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function Rp(t){const e=k.useRef();return k.useEffect(()=>{e.current=t},[t]),e.current}let mx={};function Hh(t,e){return k.useMemo(()=>{if(e)return e;const n=mx[t]==null?0:mx[t]+1;return mx[t]=n,t+"-"+n},[t,e])}function r3(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,l)=>{const c=Object.entries(l);for(const[u,h]of c){const f=s[u];f!=null&&(s[u]=f+t*h)}return s},{...e})}}const jl=r3(1),Op=r3(-1);function Lq(t){return"clientX"in t&&"clientY"in t}function Hg(t){if(!t)return!1;const{KeyboardEvent:e}=sr(t.target);return e&&t instanceof e}function Bq(t){if(!t)return!1;const{TouchEvent:e}=sr(t.target);return e&&t instanceof e}function jp(t){if(Bq(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Lq(t)?{x:t.clientX,y:t.clientY}:null}const bs=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[bs.Translate.toString(t),bs.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),Ck="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Rq(t){return t.matches(Ck)?t:t.querySelector(Ck)}const Oq={display:"none"};function jq(t){let{id:e,value:n}=t;return re.createElement("div",{id:e,style:Oq},n)}function $q(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return re.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function zq(){const[t,e]=k.useState("");return{announce:k.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const i3=k.createContext(null);function Pq(t){const e=k.useContext(i3);k.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Fq(){const[t]=k.useState(()=>new Set),e=k.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[k.useCallback(r=>{let{type:i,event:s}=r;t.forEach(l=>{var c;return(c=l[i])==null?void 0:c.call(l,s)})},[t]),e]}const Iq={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Hq={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Vq(t){let{announcements:e=Hq,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Iq}=t;const{announce:s,announcement:l}=zq(),c=Hh("DndLiveRegion"),[u,h]=k.useState(!1);if(k.useEffect(()=>{h(!0)},[]),Pq(k.useMemo(()=>({onDragStart(p){let{active:m}=p;s(e.onDragStart({active:m}))},onDragMove(p){let{active:m,over:y}=p;e.onDragMove&&s(e.onDragMove({active:m,over:y}))},onDragOver(p){let{active:m,over:y}=p;s(e.onDragOver({active:m,over:y}))},onDragEnd(p){let{active:m,over:y}=p;s(e.onDragEnd({active:m,over:y}))},onDragCancel(p){let{active:m,over:y}=p;s(e.onDragCancel({active:m,over:y}))}}),[s,e])),!u)return null;const f=re.createElement(re.Fragment,null,re.createElement(jq,{id:r,value:i.draggable}),re.createElement($q,{id:c,announcement:l}));return n?io.createPortal(f,n):f}var xn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(xn||(xn={}));function $p(){}function qq(t,e){return k.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Uq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return k.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Si=Object.freeze({x:0,y:0});function Wq(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Yq(t,e){const n=jp(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function Gq(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function Xq(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function _k(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Zq(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}const Kq=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=_k(e),s=[];for(const l of r){const{id:c}=l,u=n.get(c);if(u){const h=_k(u),f=i.reduce((m,y,x)=>m+Wq(h[x],y),0),p=Number((f/4).toFixed(4));s.push({id:c,data:{droppableContainer:l,value:p}})}}return s.sort(Gq)};function Qq(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),l=i-r,c=s-n;if(r<i&&n<s){const u=e.width*e.height,h=t.width*t.height,f=l*c,p=f/(u+h-f);return Number(p.toFixed(4))}return 0}const Jq=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:l}=s,c=n.get(l);if(c){const u=Qq(c,e);u>0&&i.push({id:l,data:{droppableContainer:s,value:u}})}}return i.sort(Xq)};function tU(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function a3(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Si}function eU(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((l,c)=>({...l,top:l.top+t*c.y,bottom:l.bottom+t*c.y,left:l.left+t*c.x,right:l.right+t*c.x}),{...n})}}const nU=eU(1);function s3(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function rU(t,e,n){const r=s3(e);if(!r)return t;const{scaleX:i,scaleY:s,x:l,y:c}=r,u=t.left-l-(1-i)*parseFloat(n),h=t.top-c-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?t.width/i:t.width,p=s?t.height/s:t.height;return{width:f,height:p,top:h,right:u+f,bottom:h+p,left:u}}const iU={ignoreTransform:!1};function gc(t,e){e===void 0&&(e=iU);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:f}=sr(t).getComputedStyle(t);h&&(n=rU(n,h,f))}const{top:r,left:i,width:s,height:l,bottom:c,right:u}=n;return{top:r,left:i,width:s,height:l,bottom:c,right:u}}function Tk(t){return gc(t,{ignoreTransform:!0})}function aU(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function sU(t,e){return e===void 0&&(e=sr(t).getComputedStyle(t)),e.position==="fixed"}function oU(t,e){e===void 0&&(e=sr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function k1(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(T1(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Fh(i)||n3(i)||n.includes(i))return n;const s=sr(t).getComputedStyle(i);return i!==t&&oU(i,s)&&n.push(i),sU(i,s)?n:r(i.parentNode)}return t?r(t):n}function o3(t){const[e]=k1(t,1);return e??null}function yx(t){return!Fg||!t?null:fc(t)?t:_1(t)?T1(t)||t===pc(t).scrollingElement?window:Fh(t)?t:null:null}function l3(t){return fc(t)?t.scrollX:t.scrollLeft}function c3(t){return fc(t)?t.scrollY:t.scrollTop}function Nb(t){return{x:l3(t),y:c3(t)}}var kn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(kn||(kn={}));function u3(t){return!Fg||!t?!1:t===document.scrollingElement}function h3(t){const e={x:0,y:0},n=u3(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,l=t.scrollTop>=r.y,c=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:l,isRight:c,maxScroll:r,minScroll:e}}const lU={x:.2,y:.2};function cU(t,e,n,r,i){let{top:s,left:l,right:c,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=lU);const{isTop:h,isBottom:f,isLeft:p,isRight:m}=h3(t),y={x:0,y:0},x={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!h&&s<=e.top+v.height?(y.y=kn.Backward,x.y=r*Math.abs((e.top+v.height-s)/v.height)):!f&&u>=e.bottom-v.height&&(y.y=kn.Forward,x.y=r*Math.abs((e.bottom-v.height-u)/v.height)),!m&&c>=e.right-v.width?(y.x=kn.Forward,x.x=r*Math.abs((e.right-v.width-c)/v.width)):!p&&l<=e.left+v.width&&(y.x=kn.Backward,x.x=r*Math.abs((e.left+v.width-l)/v.width)),{direction:y,speed:x}}function uU(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:l}=window;return{top:0,left:0,right:s,bottom:l,width:s,height:l}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function d3(t){return t.reduce((e,n)=>jl(e,Nb(n)),Si)}function hU(t){return t.reduce((e,n)=>e+l3(n),0)}function dU(t){return t.reduce((e,n)=>e+c3(n),0)}function f3(t,e){if(e===void 0&&(e=gc),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);o3(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const fU=[["x",["left","right"],hU],["y",["top","bottom"],dU]];class E1{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=k1(n),i=d3(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,l,c]of fU)for(const u of l)Object.defineProperty(this,u,{get:()=>{const h=c(r),f=i[s]-h;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function pU(t){const{EventTarget:e}=sr(t);return t instanceof e?t:pc(t)}function xx(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Zr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Zr||(Zr={}));function kk(t){t.preventDefault()}function gU(t){t.stopPropagation()}var fe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(fe||(fe={}));const p3={start:[fe.Space,fe.Enter],cancel:[fe.Esc],end:[fe.Space,fe.Enter,fe.Tab]},mU=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case fe.Right:return{...n,x:n.x+25};case fe.Left:return{...n,x:n.x-25};case fe.Down:return{...n,y:n.y+25};case fe.Up:return{...n,y:n.y-25}}};class g3{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Hu(pc(n)),this.windowListeners=new Hu(sr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Zr.Resize,this.handleCancel),this.windowListeners.add(Zr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Zr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&f3(r),n(Si)}handleKeyDown(e){if(Hg(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=p3,coordinateGetter:l=mU,scrollBehavior:c="smooth"}=i,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:h}=r.current,f=h?{x:h.left,y:h.top}:Si;this.referenceCoordinates||(this.referenceCoordinates=f);const p=l(e,{active:n,context:r.current,currentCoordinates:f});if(p){const m=Op(p,f),y={x:0,y:0},{scrollableAncestors:x}=r.current;for(const v of x){const S=e.code,{isTop:_,isRight:E,isLeft:T,isBottom:A,maxScroll:D,minScroll:B}=h3(v),L=uU(v),z={x:Math.min(S===fe.Right?L.right-L.width/2:L.right,Math.max(S===fe.Right?L.left:L.left+L.width/2,p.x)),y:Math.min(S===fe.Down?L.bottom-L.height/2:L.bottom,Math.max(S===fe.Down?L.top:L.top+L.height/2,p.y))},V=S===fe.Right&&!E||S===fe.Left&&!T,Y=S===fe.Down&&!A||S===fe.Up&&!_;if(V&&z.x!==p.x){const U=v.scrollLeft+m.x,X=S===fe.Right&&U<=D.x||S===fe.Left&&U>=B.x;if(X&&!m.y){v.scrollTo({left:U,behavior:c});return}X?y.x=v.scrollLeft-U:y.x=S===fe.Right?v.scrollLeft-D.x:v.scrollLeft-B.x,y.x&&v.scrollBy({left:-y.x,behavior:c});break}else if(Y&&z.y!==p.y){const U=v.scrollTop+m.y,X=S===fe.Down&&U<=D.y||S===fe.Up&&U>=B.y;if(X&&!m.x){v.scrollTo({top:U,behavior:c});return}X?y.y=v.scrollTop-U:y.y=S===fe.Down?v.scrollTop-D.y:v.scrollTop-B.y,y.y&&v.scrollBy({top:-y.y,behavior:c});break}}this.handleMove(e,jl(Op(p,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}g3.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=p3,onActivation:i}=e,{active:s}=n;const{code:l}=t.nativeEvent;if(r.start.includes(l)){const c=s.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function Ek(t){return!!(t&&"distance"in t)}function Ak(t){return!!(t&&"delay"in t)}class A1{constructor(e,n,r){var i;r===void 0&&(r=pU(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:l}=s;this.props=e,this.events=n,this.document=pc(l),this.documentListeners=new Hu(this.document),this.listeners=new Hu(r),this.windowListeners=new Hu(sr(l)),this.initialCoordinates=(i=jp(s))!=null?i:Si,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Zr.Resize,this.handleCancel),this.windowListeners.add(Zr.DragStart,kk),this.windowListeners.add(Zr.VisibilityChange,this.handleCancel),this.windowListeners.add(Zr.ContextMenu,kk),this.documentListeners.add(Zr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ak(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Ek(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Zr.Click,gU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Zr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:l,options:{activationConstraint:c}}=s;if(!i)return;const u=(n=jp(e))!=null?n:Si,h=Op(i,u);if(!r&&c){if(Ek(c)){if(c.tolerance!=null&&xx(h,c.tolerance))return this.handleCancel();if(xx(h,c.distance))return this.handleStart()}if(Ak(c)&&xx(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),l(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===fe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const yU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class M1 extends A1{constructor(e){const{event:n}=e,r=pc(n.target);super(e,yU,r)}}M1.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const xU={move:{name:"mousemove"},end:{name:"mouseup"}};var Lb;(function(t){t[t.RightClick=2]="RightClick"})(Lb||(Lb={}));class bU extends A1{constructor(e){super(e,xU,pc(e.event.target))}}bU.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Lb.RightClick?!1:(r?.({event:n}),!0)}}];const bx={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class vU extends A1{constructor(e){super(e,bx)}static setup(){return window.addEventListener(bx.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(bx.move.name,e)};function e(){}}}vU.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Vu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Vu||(Vu={}));var zp;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(zp||(zp={}));function wU(t){let{acceleration:e,activator:n=Vu.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:l=5,order:c=zp.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:f,delta:p,threshold:m}=t;const y=CU({delta:p,disabled:!s}),[x,v]=Nq(),S=k.useRef({x:0,y:0}),_=k.useRef({x:0,y:0}),E=k.useMemo(()=>{switch(n){case Vu.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Vu.DraggableRect:return i}},[n,i,u]),T=k.useRef(null),A=k.useCallback(()=>{const B=T.current;if(!B)return;const L=S.current.x*_.current.x,z=S.current.y*_.current.y;B.scrollBy(L,z)},[]),D=k.useMemo(()=>c===zp.TreeOrder?[...h].reverse():h,[c,h]);k.useEffect(()=>{if(!s||!h.length||!E){v();return}for(const B of D){if(r?.(B)===!1)continue;const L=h.indexOf(B),z=f[L];if(!z)continue;const{direction:V,speed:Y}=cU(B,z,E,e,m);for(const U of["x","y"])y[U][V[U]]||(Y[U]=0,V[U]=0);if(Y.x>0||Y.y>0){v(),T.current=B,x(A,l),S.current=Y,_.current=V;return}}S.current={x:0,y:0},_.current={x:0,y:0},v()},[e,A,r,v,s,l,JSON.stringify(E),JSON.stringify(y),x,h,D,f,JSON.stringify(m)])}const SU={x:{[kn.Backward]:!1,[kn.Forward]:!1},y:{[kn.Backward]:!1,[kn.Forward]:!1}};function CU(t){let{delta:e,disabled:n}=t;const r=Rp(e);return Ih(i=>{if(n||!r||!i)return SU;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[kn.Backward]:i.x[kn.Backward]||s.x===-1,[kn.Forward]:i.x[kn.Forward]||s.x===1},y:{[kn.Backward]:i.y[kn.Backward]||s.y===-1,[kn.Forward]:i.y[kn.Forward]||s.y===1}}},[n,e,r])}function _U(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Ih(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function TU(t,e){return k.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...n,...s]},[]),[t,e])}var uh;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(uh||(uh={}));var Bb;(function(t){t.Optimized="optimized"})(Bb||(Bb={}));const Mk=new Map;function kU(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,l]=k.useState(null),{frequency:c,measure:u,strategy:h}=i,f=k.useRef(t),p=S(),m=ch(p),y=k.useCallback(function(_){_===void 0&&(_=[]),!m.current&&l(E=>E===null?_:E.concat(_.filter(T=>!E.includes(T))))},[m]),x=k.useRef(null),v=Ih(_=>{if(p&&!n)return Mk;if(!_||_===Mk||f.current!==t||s!=null){const E=new Map;for(let T of t){if(!T)continue;if(s&&s.length>0&&!s.includes(T.id)&&T.rect.current){E.set(T.id,T.rect.current);continue}const A=T.node.current,D=A?new E1(u(A),A):null;T.rect.current=D,D&&E.set(T.id,D)}return E}return _},[t,s,n,p,u]);return k.useEffect(()=>{f.current=t},[t]),k.useEffect(()=>{p||y()},[n,p]),k.useEffect(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),k.useEffect(()=>{p||typeof c!="number"||x.current!==null||(x.current=setTimeout(()=>{y(),x.current=null},c))},[c,p,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:s!=null};function S(){switch(h){case uh.Always:return!1;case uh.BeforeDragging:return n;default:return!n}}}function D1(t,e){return Ih(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function EU(t,e){return D1(t,e)}function AU(t){let{callback:e,disabled:n}=t;const r=Ig(e),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return k.useEffect(()=>()=>i?.disconnect(),[i]),i}function Vg(t){let{callback:e,disabled:n}=t;const r=Ig(e),i=k.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return k.useEffect(()=>()=>i?.disconnect(),[i]),i}function MU(t){return new E1(gc(t),t)}function Dk(t,e,n){e===void 0&&(e=MU);const[r,i]=k.useState(null);function s(){i(u=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=u??n)!=null?h:null}const f=e(t);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const l=AU({callback(u){if(t)for(const h of u){const{type:f,target:p}=h;if(f==="childList"&&p instanceof HTMLElement&&p.contains(t)){s();break}}}}),c=Vg({callback:s});return wi(()=>{s(),t?(c?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[t]),r}function DU(t){const e=D1(t);return a3(t,e)}const Nk=[];function NU(t){const e=k.useRef(t),n=Ih(r=>t?r&&r!==Nk&&t&&e.current&&t.parentNode===e.current.parentNode?r:k1(t):Nk,[t]);return k.useEffect(()=>{e.current=t},[t]),n}function LU(t){const[e,n]=k.useState(null),r=k.useRef(t),i=k.useCallback(s=>{const l=yx(s.target);l&&n(c=>c?(c.set(l,Nb(l)),new Map(c)):null)},[]);return k.useEffect(()=>{const s=r.current;if(t!==s){l(s);const c=t.map(u=>{const h=yx(u);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,Nb(h)]):null}).filter(u=>u!=null);n(c.length?new Map(c):null),r.current=t}return()=>{l(t),l(s)};function l(c){c.forEach(u=>{const h=yx(u);h?.removeEventListener("scroll",i)})}},[i,t]),k.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,l)=>jl(s,l),Si):d3(t):Si,[t,e])}function Lk(t,e){e===void 0&&(e=[]);const n=k.useRef(null);return k.useEffect(()=>{n.current=null},e),k.useEffect(()=>{const r=t!==Si;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Op(t,n.current):Si}function BU(t){k.useEffect(()=>{if(!Fg)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function RU(t,e){return k.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=l=>{s(l,e)},n},{}),[t,e])}function m3(t){return k.useMemo(()=>t?aU(t):null,[t])}const Bk=[];function OU(t,e){e===void 0&&(e=gc);const[n]=t,r=m3(n?sr(n):null),[i,s]=k.useState(Bk);function l(){s(()=>t.length?t.map(u=>u3(u)?r:new E1(e(u),u)):Bk)}const c=Vg({callback:l});return wi(()=>{c?.disconnect(),l(),t.forEach(u=>c?.observe(u))},[t]),i}function y3(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Fh(e)?e:t}function jU(t){let{measure:e}=t;const[n,r]=k.useState(null),i=k.useCallback(h=>{for(const{target:f}of h)if(Fh(f)){r(p=>{const m=e(f);return p?{...p,width:m.width,height:m.height}:m});break}},[e]),s=Vg({callback:i}),l=k.useCallback(h=>{const f=y3(h);s?.disconnect(),f&&s?.observe(f),r(f?e(f):null)},[e,s]),[c,u]=Bp(l);return k.useMemo(()=>({nodeRef:c,rect:n,setRef:u}),[n,c,u])}const $U=[{sensor:M1,options:{}},{sensor:g3,options:{}}],zU={current:{}},sp={draggable:{measure:Tk},droppable:{measure:Tk,strategy:uh.WhileDragging,frequency:Bb.Optimized},dragOverlay:{measure:gc}};class qu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const PU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new qu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:$p},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sp,measureDroppableContainers:$p,windowRect:null,measuringScheduled:!1},x3={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:$p,draggableNodes:new Map,over:null,measureDroppableContainers:$p},Vh=k.createContext(x3),b3=k.createContext(PU);function FU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new qu}}}function IU(t,e){switch(e.type){case xn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case xn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case xn.DragEnd:case xn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case xn.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new qu(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case xn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const l=new qu(t.droppable.containers);return l.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:l}}}case xn.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new qu(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function HU(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=k.useContext(Vh),s=Rp(r),l=Rp(n?.id);return k.useEffect(()=>{if(!e&&!r&&s&&l!=null){if(!Hg(s)||document.activeElement===s.target)return;const c=i.get(l);if(!c)return;const{activatorNode:u,node:h}=c;if(!u.current&&!h.current)return;requestAnimationFrame(()=>{for(const f of[u.current,h.current]){if(!f)continue;const p=Rq(f);if(p){p.focus();break}}})}},[r,e,i,l,s]),null}function v3(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function VU(t){return k.useMemo(()=>({draggable:{...sp.draggable,...t?.draggable},droppable:{...sp.droppable,...t?.droppable},dragOverlay:{...sp.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function qU(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=k.useRef(!1),{x:l,y:c}=typeof i=="boolean"?{x:i,y:i}:i;wi(()=>{if(!l&&!c||!e){s.current=!1;return}if(s.current||!r)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const f=n(h),p=a3(f,r);if(l||(p.x=0),c||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const m=o3(h);m&&m.scrollBy({top:p.y,left:p.x})}},[e,l,c,r,n])}const qg=k.createContext({...Si,scaleX:1,scaleY:1});var os;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(os||(os={}));const UU=k.memo(function(e){var n,r,i,s;let{id:l,accessibility:c,autoScroll:u=!0,children:h,sensors:f=$U,collisionDetection:p=Jq,measuring:m,modifiers:y,...x}=e;const v=k.useReducer(IU,void 0,FU),[S,_]=v,[E,T]=Fq(),[A,D]=k.useState(os.Uninitialized),B=A===os.Initialized,{draggable:{active:L,nodes:z,translate:V},droppable:{containers:Y}}=S,U=L!=null?z.get(L):null,X=k.useRef({initial:null,translated:null}),Z=k.useMemo(()=>{var ye;return L!=null?{id:L,data:(ye=U?.data)!=null?ye:zU,rect:X}:null},[L,U]),$=k.useRef(null),[q,R]=k.useState(null),[F,j]=k.useState(null),W=ch(x,Object.values(x)),Q=Hh("DndDescribedBy",l),I=k.useMemo(()=>Y.getEnabled(),[Y]),P=VU(m),{droppableRects:G,measureDroppableContainers:J,measuringScheduled:nt}=kU(I,{dragging:B,dependencies:[V.x,V.y],config:P.droppable}),ct=_U(z,L),ut=k.useMemo(()=>F?jp(F):null,[F]),ht=ki(),pt=EU(ct,P.draggable.measure);qU({activeNode:L!=null?z.get(L):null,config:ht.layoutShiftCompensation,initialRect:pt,measure:P.draggable.measure});const yt=Dk(ct,P.draggable.measure,pt),Lt=Dk(ct?ct.parentElement:null),vt=k.useRef({activatorEvent:null,active:null,activeNode:ct,collisionRect:null,collisions:null,droppableRects:G,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:Y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Et=Y.getNodeFor((n=vt.current.over)==null?void 0:n.id),zt=jU({measure:P.dragOverlay.measure}),Zt=(r=zt.nodeRef.current)!=null?r:ct,Xt=B?(i=zt.rect)!=null?i:yt:null,Se=!!(zt.nodeRef.current&&zt.rect),hn=DU(Se?null:yt),We=m3(Zt?sr(Zt):null),Ve=NU(B?Et??ct:null),An=OU(Ve),or=v3(y,{transform:{x:V.x-hn.x,y:V.y-hn.y,scaleX:1,scaleY:1},activatorEvent:F,active:Z,activeNodeRect:yt,containerNodeRect:Lt,draggingNodeRect:Xt,over:vt.current.over,overlayNodeRect:zt.rect,scrollableAncestors:Ve,scrollableAncestorRects:An,windowRect:We}),lr=ut?jl(ut,V):null,Ae=LU(Ve),Xn=Lk(Ae),Sn=Lk(Ae,[yt]),Cn=jl(or,Xn),Mn=Xt?nU(Xt,or):null,zr=Z&&Mn?p({active:Z,collisionRect:Mn,droppableRects:G,droppableContainers:I,pointerCoordinates:lr}):null,Tr=Zq(zr,"id"),[Zn,ni]=k.useState(null),cr=Se?or:jl(or,Sn),ke=tU(cr,(s=Zn?.rect)!=null?s:null,yt),Qe=k.useRef(null),Ye=k.useCallback((ye,Ne)=>{let{sensor:Ge,options:ie}=Ne;if($.current==null)return;const qe=z.get($.current);if(!qe)return;const nn=ye.nativeEvent,dn=new Ge({active:$.current,activeNode:qe,event:nn,options:ie,context:vt,onAbort(ze){if(!z.get(ze))return;const{onDragAbort:Dn}=W.current,Le={id:ze};Dn?.(Le),E({type:"onDragAbort",event:Le})},onPending(ze,Pn,Dn,Le){if(!z.get(ze))return;const{onDragPending:ur}=W.current,Fn={id:ze,constraint:Pn,initialCoordinates:Dn,offset:Le};ur?.(Fn),E({type:"onDragPending",event:Fn})},onStart(ze){const Pn=$.current;if(Pn==null)return;const Dn=z.get(Pn);if(!Dn)return;const{onDragStart:Le}=W.current,fn={activatorEvent:nn,active:{id:Pn,data:Dn.data,rect:X}};io.unstable_batchedUpdates(()=>{Le?.(fn),D(os.Initializing),_({type:xn.DragStart,initialCoordinates:ze,active:Pn}),E({type:"onDragStart",event:fn}),R(Qe.current),j(nn)})},onMove(ze){_({type:xn.DragMove,coordinates:ze})},onEnd:_n(xn.DragEnd),onCancel:_n(xn.DragCancel)});Qe.current=dn;function _n(ze){return async function(){const{active:Dn,collisions:Le,over:fn,scrollAdjustedTranslate:ur}=vt.current;let Fn=null;if(Dn&&ur){const{cancelDrop:hr}=W.current;Fn={activatorEvent:nn,active:Dn,collisions:Le,delta:ur,over:fn},ze===xn.DragEnd&&typeof hr=="function"&&await Promise.resolve(hr(Fn))&&(ze=xn.DragCancel)}$.current=null,io.unstable_batchedUpdates(()=>{_({type:ze}),D(os.Uninitialized),ni(null),R(null),j(null),Qe.current=null;const hr=ze===xn.DragEnd?"onDragEnd":"onDragCancel";if(Fn){const Nn=W.current[hr];Nn?.(Fn),E({type:hr,event:Fn})}})}}},[z]),Yi=k.useCallback((ye,Ne)=>(Ge,ie)=>{const qe=Ge.nativeEvent,nn=z.get(ie);if($.current!==null||!nn||qe.dndKit||qe.defaultPrevented)return;const dn={active:nn};ye(Ge,Ne.options,dn)===!0&&(qe.dndKit={capturedBy:Ne.sensor},$.current=ie,Ye(Ge,Ne))},[z,Ye]),Da=TU(f,Yi);BU(f),wi(()=>{yt&&A===os.Initializing&&D(os.Initialized)},[yt,A]),k.useEffect(()=>{const{onDragMove:ye}=W.current,{active:Ne,activatorEvent:Ge,collisions:ie,over:qe}=vt.current;if(!Ne||!Ge)return;const nn={active:Ne,activatorEvent:Ge,collisions:ie,delta:{x:Cn.x,y:Cn.y},over:qe};io.unstable_batchedUpdates(()=>{ye?.(nn),E({type:"onDragMove",event:nn})})},[Cn.x,Cn.y]),k.useEffect(()=>{const{active:ye,activatorEvent:Ne,collisions:Ge,droppableContainers:ie,scrollAdjustedTranslate:qe}=vt.current;if(!ye||$.current==null||!Ne||!qe)return;const{onDragOver:nn}=W.current,dn=ie.get(Tr),_n=dn&&dn.rect.current?{id:dn.id,rect:dn.rect.current,data:dn.data,disabled:dn.disabled}:null,ze={active:ye,activatorEvent:Ne,collisions:Ge,delta:{x:qe.x,y:qe.y},over:_n};io.unstable_batchedUpdates(()=>{ni(_n),nn?.(ze),E({type:"onDragOver",event:ze})})},[Tr]),wi(()=>{vt.current={activatorEvent:F,active:Z,activeNode:ct,collisionRect:Mn,collisions:zr,droppableRects:G,draggableNodes:z,draggingNode:Zt,draggingNodeRect:Xt,droppableContainers:Y,over:Zn,scrollableAncestors:Ve,scrollAdjustedTranslate:Cn},X.current={initial:Xt,translated:Mn}},[Z,ct,zr,Mn,z,Zt,Xt,G,Y,Zn,Ve,Cn]),wU({...ht,delta:V,draggingRect:Mn,pointerCoordinates:lr,scrollableAncestors:Ve,scrollableAncestorRects:An});const Ti=k.useMemo(()=>({active:Z,activeNode:ct,activeNodeRect:yt,activatorEvent:F,collisions:zr,containerNodeRect:Lt,dragOverlay:zt,draggableNodes:z,droppableContainers:Y,droppableRects:G,over:Zn,measureDroppableContainers:J,scrollableAncestors:Ve,scrollableAncestorRects:An,measuringConfiguration:P,measuringScheduled:nt,windowRect:We}),[Z,ct,yt,F,zr,Lt,zt,z,Y,G,Zn,J,Ve,An,P,nt,We]),kr=k.useMemo(()=>({activatorEvent:F,activators:Da,active:Z,activeNodeRect:yt,ariaDescribedById:{draggable:Q},dispatch:_,draggableNodes:z,over:Zn,measureDroppableContainers:J}),[F,Da,Z,yt,_,Q,z,Zn,J]);return re.createElement(i3.Provider,{value:T},re.createElement(Vh.Provider,{value:kr},re.createElement(b3.Provider,{value:Ti},re.createElement(qg.Provider,{value:ke},h)),re.createElement(HU,{disabled:c?.restoreFocus===!1})),re.createElement(Vq,{...c,hiddenTextDescribedById:Q}));function ki(){const ye=q?.autoScrollEnabled===!1,Ne=typeof u=="object"?u.enabled===!1:u===!1,Ge=B&&!ye&&!Ne;return typeof u=="object"?{...u,enabled:Ge}:{enabled:Ge}}}),WU=k.createContext(null),Rk="button",YU="Draggable";function GU(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Hh(YU),{activators:l,activatorEvent:c,active:u,activeNodeRect:h,ariaDescribedById:f,draggableNodes:p,over:m}=k.useContext(Vh),{role:y=Rk,roleDescription:x="draggable",tabIndex:v=0}=i??{},S=u?.id===e,_=k.useContext(S?qg:WU),[E,T]=Bp(),[A,D]=Bp(),B=RU(l,e),L=ch(n);wi(()=>(p.set(e,{id:e,key:s,node:E,activatorNode:A,data:L}),()=>{const V=p.get(e);V&&V.key===s&&p.delete(e)}),[p,e]);const z=k.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":S&&y===Rk?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[r,y,v,S,x,f.draggable]);return{active:u,activatorEvent:c,activeNodeRect:h,attributes:z,isDragging:S,listeners:r?void 0:B,node:E,over:m,setNodeRef:T,setActivatorNodeRef:D,transform:_}}function w3(){return k.useContext(b3)}const XU="Droppable",ZU={timeout:25};function S3(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Hh(XU),{active:l,dispatch:c,over:u,measureDroppableContainers:h}=k.useContext(Vh),f=k.useRef({disabled:n}),p=k.useRef(!1),m=k.useRef(null),y=k.useRef(null),{disabled:x,updateMeasurementsFor:v,timeout:S}={...ZU,...i},_=ch(v??r),E=k.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{h(Array.isArray(_.current)?_.current:[_.current]),y.current=null},S)},[S]),T=Vg({callback:E,disabled:x||!l}),A=k.useCallback((z,V)=>{T&&(V&&(T.unobserve(V),p.current=!1),z&&T.observe(z))},[T]),[D,B]=Bp(A),L=ch(e);return k.useEffect(()=>{!T||!D.current||(T.disconnect(),p.current=!1,T.observe(D.current))},[D,T]),k.useEffect(()=>(c({type:xn.RegisterDroppable,element:{id:r,key:s,disabled:n,node:D,rect:m,data:L}}),()=>c({type:xn.UnregisterDroppable,key:s,id:r})),[r]),k.useEffect(()=>{n!==f.current.disabled&&(c({type:xn.SetDroppableDisabled,id:r,key:s,disabled:n}),f.current.disabled=n)},[r,s,n,c]),{active:l,rect:m,isOver:u?.id===r,node:D,over:u,setNodeRef:B}}function KU(t){let{animation:e,children:n}=t;const[r,i]=k.useState(null),[s,l]=k.useState(null),c=Rp(n);return!n&&!r&&c&&i(c),wi(()=>{if(!s)return;const u=r?.key,h=r?.props.id;if(u==null||h==null){i(null);return}Promise.resolve(e(h,s)).then(()=>{i(null)})},[e,r,s]),re.createElement(re.Fragment,null,n,r?k.cloneElement(r,{ref:l}):null)}const QU={x:0,y:0,scaleX:1,scaleY:1};function JU(t){let{children:e}=t;return re.createElement(Vh.Provider,{value:x3},re.createElement(qg.Provider,{value:QU},e))}const tW={position:"fixed",touchAction:"none"},eW=t=>Hg(t)?"transform 250ms ease":void 0,nW=k.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:l,rect:c,style:u,transform:h,transition:f=eW}=t;if(!c)return null;const p=i?h:{...h,scaleX:1,scaleY:1},m={...tW,width:c.width,height:c.height,top:c.top,left:c.left,transform:bs.Transform.toString(p),transformOrigin:i&&r?Yq(r,c):void 0,transition:typeof f=="function"?f(r):f,...u};return re.createElement(n,{className:l,style:m,ref:e},s)}),rW=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:s,className:l}=t;if(s!=null&&s.active)for(const[c,u]of Object.entries(s.active))u!==void 0&&(i[c]=n.node.style.getPropertyValue(c),n.node.style.setProperty(c,u));if(s!=null&&s.dragOverlay)for(const[c,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(c,u);return l!=null&&l.active&&n.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[u,h]of Object.entries(i))n.node.style.setProperty(u,h);l!=null&&l.active&&n.node.classList.remove(l.active)}},iW=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:bs.Transform.toString(e)},{transform:bs.Transform.toString(n)}]},aW={duration:250,easing:"ease",keyframes:iW,sideEffects:rW({styles:{active:{opacity:"0"}}})};function sW(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return Ig((s,l)=>{if(e===null)return;const c=n.get(s);if(!c)return;const u=c.node.current;if(!u)return;const h=y3(l);if(!h)return;const{transform:f}=sr(l).getComputedStyle(l),p=s3(f);if(!p)return;const m=typeof e=="function"?e:oW(e);return f3(u,i.draggable.measure),m({active:{id:s,data:c.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:l,rect:i.dragOverlay.measure(h)},droppableContainers:r,measuringConfiguration:i,transform:p})})}function oW(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...aW,...t};return s=>{let{active:l,dragOverlay:c,transform:u,...h}=s;if(!e)return;const f={x:c.rect.left-l.rect.left,y:c.rect.top-l.rect.top},p={scaleX:u.scaleX!==1?l.rect.width*u.scaleX/c.rect.width:1,scaleY:u.scaleY!==1?l.rect.height*u.scaleY/c.rect.height:1},m={x:u.x-f.x,y:u.y-f.y,...p},y=i({...h,active:l,dragOverlay:c,transform:{initial:u,final:m}}),[x]=y,v=y[y.length-1];if(JSON.stringify(x)===JSON.stringify(v))return;const S=r?.({active:l,dragOverlay:c,...h}),_=c.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(E=>{_.onfinish=()=>{S?.(),E()}})}}let Ok=0;function lW(t){return k.useMemo(()=>{if(t!=null)return Ok++,Ok},[t])}const cW=re.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:l,wrapperElement:c="div",className:u,zIndex:h=999}=t;const{activatorEvent:f,active:p,activeNodeRect:m,containerNodeRect:y,draggableNodes:x,droppableContainers:v,dragOverlay:S,over:_,measuringConfiguration:E,scrollableAncestors:T,scrollableAncestorRects:A,windowRect:D}=w3(),B=k.useContext(qg),L=lW(p?.id),z=v3(l,{activatorEvent:f,active:p,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:S.rect,over:_,overlayNodeRect:S.rect,scrollableAncestors:T,scrollableAncestorRects:A,transform:B,windowRect:D}),V=D1(m),Y=sW({config:r,draggableNodes:x,droppableContainers:v,measuringConfiguration:E}),U=V?S.setRef:void 0;return re.createElement(JU,null,re.createElement(KU,{animation:Y},p&&L?re.createElement(nW,{key:L,id:p.id,ref:U,as:c,activatorEvent:f,adjustScale:e,className:u,transition:s,rect:V,style:{zIndex:h,...i},transform:z},n):null))});function C3(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function uW(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Df(t){return t!==null&&t>=0}function hW(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function dW(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const _3=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=C3(e,r,n),l=e[i],c=s[i];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},Nf={scaleX:1,scaleY:1},fW=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:l}=t;const c=(e=s[n])!=null?e:r;if(!c)return null;if(i===n){const h=s[l];return h?{x:0,y:n<l?h.top+h.height-(c.top+c.height):h.top-c.top,...Nf}:null}const u=pW(s,i,n);return i>n&&i<=l?{x:0,y:-c.height-u,...Nf}:i<n&&i>=l?{x:0,y:c.height+u,...Nf}:{x:0,y:0,...Nf}};function pW(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const T3="Sortable",k3=re.createContext({activeIndex:-1,containerId:T3,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:_3,disabled:{draggable:!1,droppable:!1}});function gW(t){let{children:e,id:n,items:r,strategy:i=_3,disabled:s=!1}=t;const{active:l,dragOverlay:c,droppableRects:u,over:h,measureDroppableContainers:f}=w3(),p=Hh(T3,n),m=c.rect!==null,y=k.useMemo(()=>r.map(B=>typeof B=="object"&&"id"in B?B.id:B),[r]),x=l!=null,v=l?y.indexOf(l.id):-1,S=h?y.indexOf(h.id):-1,_=k.useRef(y),E=!hW(y,_.current),T=S!==-1&&v===-1||E,A=dW(s);wi(()=>{E&&x&&f(y)},[E,y,x,f]),k.useEffect(()=>{_.current=y},[y]);const D=k.useMemo(()=>({activeIndex:v,containerId:p,disabled:A,disableTransforms:T,items:y,overIndex:S,useDragOverlay:m,sortedRects:uW(y,u),strategy:i}),[v,p,A.draggable,A.droppable,T,y,S,u,m,i]);return re.createElement(k3.Provider,{value:D},e)}const mW=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return C3(n,r,i).indexOf(e)},yW=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:l,previousItems:c,previousContainerId:u,transition:h}=t;return!h||!r||c!==s&&i===l?!1:n?!0:l!==i&&e===u},xW={duration:200,easing:"ease"},E3="transform",bW=bs.Transition.toString({property:E3,duration:0,easing:"linear"}),vW={roleDescription:"sortable"};function wW(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,l]=k.useState(null),c=k.useRef(n);return wi(()=>{if(!e&&n!==c.current&&r.current){const u=i.current;if(u){const h=gc(r.current,{ignoreTransform:!0}),f={x:u.left-h.left,y:u.top-h.top,scaleX:u.width/h.width,scaleY:u.height/h.height};(f.x||f.y)&&l(f)}}n!==c.current&&(c.current=n)},[e,n,r,i]),k.useEffect(()=>{s&&l(null)},[s]),s}function SW(t){let{animateLayoutChanges:e=yW,attributes:n,disabled:r,data:i,getNewIndex:s=mW,id:l,strategy:c,resizeObserverConfig:u,transition:h=xW}=t;const{items:f,containerId:p,activeIndex:m,disabled:y,disableTransforms:x,sortedRects:v,overIndex:S,useDragOverlay:_,strategy:E}=k.useContext(k3),T=CW(r,y),A=f.indexOf(l),D=k.useMemo(()=>({sortable:{containerId:p,index:A,items:f},...i}),[p,i,A,f]),B=k.useMemo(()=>f.slice(f.indexOf(l)),[f,l]),{rect:L,node:z,isOver:V,setNodeRef:Y}=S3({id:l,data:D,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:B,...u}}),{active:U,activatorEvent:X,activeNodeRect:Z,attributes:$,setNodeRef:q,listeners:R,isDragging:F,over:j,setActivatorNodeRef:W,transform:Q}=GU({id:l,data:D,attributes:{...vW,...n},disabled:T.draggable}),I=Dq(Y,q),P=!!U,G=P&&!x&&Df(m)&&Df(S),J=!_&&F,nt=J&&G?Q:null,ut=G?nt??(c??E)({rects:v,activeNodeRect:Z,activeIndex:m,overIndex:S,index:A}):null,ht=Df(m)&&Df(S)?s({id:l,items:f,activeIndex:m,overIndex:S}):A,pt=U?.id,yt=k.useRef({activeId:pt,items:f,newIndex:ht,containerId:p}),Lt=f!==yt.current.items,vt=e({active:U,containerId:p,isDragging:F,isSorting:P,id:l,index:A,items:f,newIndex:yt.current.newIndex,previousItems:yt.current.items,previousContainerId:yt.current.containerId,transition:h,wasDragging:yt.current.activeId!=null}),Et=wW({disabled:!vt,index:A,node:z,rect:L});return k.useEffect(()=>{P&&yt.current.newIndex!==ht&&(yt.current.newIndex=ht),p!==yt.current.containerId&&(yt.current.containerId=p),f!==yt.current.items&&(yt.current.items=f)},[P,ht,p,f]),k.useEffect(()=>{if(pt===yt.current.activeId)return;if(pt!=null&&yt.current.activeId==null){yt.current.activeId=pt;return}const Zt=setTimeout(()=>{yt.current.activeId=pt},50);return()=>clearTimeout(Zt)},[pt]),{active:U,activeIndex:m,attributes:$,data:D,rect:L,index:A,newIndex:ht,items:f,isOver:V,isSorting:P,isDragging:F,listeners:R,node:z,overIndex:S,over:j,setNodeRef:I,setActivatorNodeRef:W,setDroppableNodeRef:Y,setDraggableNodeRef:q,transform:Et??ut,transition:zt()};function zt(){if(Et||Lt&&yt.current.newIndex===A)return bW;if(!(J&&!Hg(X)||!h)&&(P||vt))return bs.Transition.toString({...h,property:E3})}}function CW(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}fe.Down,fe.Right,fe.Up,fe.Left;const jk=[{id:"backlog",label:"Backlog",icon:""},{id:"in_progress",label:"In Progress",icon:""},{id:"review",label:"Review",icon:""},{id:"done",label:"Done",icon:""}],_W=k.memo(function(){const{agents:e,agentMetas:n}=En(),[r,i]=k.useState(null),[s,l]=k.useState({}),c=Uq(qq(M1,{activationConstraint:{distance:5}})),u=n.map(_=>{const E=e[_.id];if(!E)return null;const T=E.status==="done"?"done":E.status==="working"?"in_progress":E.status==="paused"?"review":"backlog";return{id:_.id,title:E.currentTask||_.role,agentId:_.id,status:T,progress:E.progress||0}}).filter(Boolean),h=[];n.forEach(_=>{const E=e[_.id];E?.checklist?.length&&E.checklist.forEach((T,A)=>{h.push({id:`${_.id}-check-${A}`,title:T.text,agentId:_.id,status:T.done?"done":E.status==="working"?"in_progress":"backlog",progress:T.done?100:0})})});const f=[...u,...h],p=f.filter(_=>_.status==="done").length,m=k.useCallback(_=>s[_.id]||_.status,[s]),y=k.useCallback(_=>f.filter(E=>m(E)===_),[f,m]),x=r?f.find(_=>_.id===r):null,v=_=>{i(String(_.active.id))},S=_=>{const{active:E,over:T}=_;if(i(null),!T)return;const A=String(E.id);let D=null;if(jk.map(V=>V.id).includes(String(T.id)))D=String(T.id);else{const V=f.find(Y=>Y.id===String(T.id));V&&(D=m(V))}if(!D)return;const L=f.find(V=>V.id===A);if(!(!L||m(L)===D)&&(l(V=>({...V,[A]:D})),L.agentId)){const V={backlog:"idle",in_progress:"working",review:"paused",done:"done"};fetch(`/api/agents/${L.agentId}/state`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:V[D]})}).catch(()=>{l(Y=>{const U={...Y};return delete U[A],U})})}};return C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden p-6",children:[C.jsxs("div",{className:"flex items-center justify-between mb-6",children:[C.jsx("h2",{className:"text-lg font-semibold",style:{color:O.text.primary},children:" Pipeline"}),C.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:O.text.secondary},children:[C.jsxs("span",{children:["Total: ",f.length]}),C.jsxs("span",{children:["Done: ",p]}),C.jsxs("span",{children:["Velocity: ",(p/Math.max(1,f.length)*100).toFixed(0),"%"]})]})]}),C.jsxs(UU,{sensors:c,collisionDetection:Kq,onDragStart:v,onDragEnd:S,children:[C.jsx("div",{className:"flex-1 flex gap-4 overflow-x-auto",children:jk.map(_=>{const E=y(_.id);return C.jsxs(TW,{id:_.id,label:_.label,icon:_.icon,count:E.length,children:[C.jsx(gW,{items:E.map(T=>T.id),strategy:fW,children:E.map(T=>C.jsx(kW,{task:T},T.id))}),E.length===0&&C.jsx("p",{className:"text-[10px] text-center py-4",style:{color:O.text.muted},children:"No tasks"})]},_.id)})}),C.jsx(cW,{children:x?C.jsx(A3,{task:x,isDragging:!0}):null})]})]})});function TW({id:t,label:e,icon:n,count:r,children:i}){const{setNodeRef:s,isOver:l}=S3({id:t});return C.jsxs("div",{className:"flex-1 min-w-[220px] flex flex-col",ref:s,children:[C.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-t-lg border-b",style:{backgroundColor:O.bg.surface,borderColor:O.bg.border},children:[C.jsxs("span",{className:"text-xs font-semibold",style:{color:O.text.primary},children:[n," ",e]}),C.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full",style:{backgroundColor:O.bg.surfaceHover,color:O.text.secondary},children:r})]}),C.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 p-2 rounded-b-lg border border-t-0 transition-colors",style:{backgroundColor:l?O.accent+"08":O.bg.primary+"80",borderColor:l?O.accent+"40":O.bg.border},children:i})]})}function kW({task:t}){const{attributes:e,listeners:n,setNodeRef:r,transform:i,transition:s,isDragging:l}=SW({id:t.id}),c={transform:bs.Transform.toString(i),transition:s,opacity:l?.3:1};return C.jsx("div",{ref:r,style:c,children:C.jsx(A3,{task:t,dragHandleProps:{...e,...n}})})}function A3({task:t,isDragging:e,dragHandleProps:n}){const{agentMetas:r}=En(),i=t.agentId?jh(t.agentId,r):null,s=i?Ii(i.squad):null;return C.jsxs(De.div,{className:"rounded-lg border p-2.5 flex items-start gap-2",style:{backgroundColor:e?O.bg.surfaceActive:O.bg.surface,borderColor:e?O.accent+"60":O.bg.border,boxShadow:e?`0 8px 24px ${O.accent}20`:"none"},whileHover:e?void 0:{borderColor:s?.main+"40"||O.bg.borderLight},layout:!e,children:[n&&C.jsx("div",{className:"flex-shrink-0 cursor-grab active:cursor-grabbing pt-0.5 opacity-40 hover:opacity-80 transition-opacity",...n,children:C.jsx(X9,{size:14,style:{color:O.text.muted}})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("p",{className:"text-xs font-medium mb-1.5 line-clamp-2",style:{color:O.text.primary},children:t.title}),C.jsxs("div",{className:"flex items-center justify-between",children:[i&&C.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:s?.bg,color:s?.main},children:[i.icon," ",i.shortName]}),t.progress>0&&t.progress<100&&C.jsx("div",{className:"w-12 h-1 rounded-full overflow-hidden",style:{backgroundColor:O.bg.border},children:C.jsx("div",{className:"h-full rounded-full",style:{backgroundColor:s?.main||O.accent,width:`${t.progress}%`}})})]})]})]})}function un(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=un(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var EW={value:()=>{}};function Ug(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new op(n)}function op(t){this._=t}function AW(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}op.prototype=Ug.prototype={constructor:op,on:function(t,e){var n=this._,r=AW(t+"",n),i,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((i=(t=r[s]).type)&&(i=MW(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<l;)if(i=(t=r[s]).type)n[i]=$k(n[i],t.name,e);else if(e==null)for(i in n)n[i]=$k(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new op(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function MW(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function $k(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=EW,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Rb="http://www.w3.org/1999/xhtml";const zk={svg:"http://www.w3.org/2000/svg",xhtml:Rb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wg(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),zk.hasOwnProperty(e)?{space:zk[e],local:t}:t}function DW(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Rb&&e.documentElement.namespaceURI===Rb?e.createElement(t):e.createElementNS(n,t)}}function NW(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function M3(t){var e=Wg(t);return(e.local?NW:DW)(e)}function LW(){}function N1(t){return t==null?LW:function(){return this.querySelector(t)}}function BW(t){typeof t!="function"&&(t=N1(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=new Array(l),u,h,f=0;f<l;++f)(u=s[f])&&(h=t.call(u,u.__data__,f,s))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h);return new $r(r,this._parents)}function RW(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function OW(){return[]}function D3(t){return t==null?OW:function(){return this.querySelectorAll(t)}}function jW(t){return function(){return RW(t.apply(this,arguments))}}function $W(t){typeof t=="function"?t=jW(t):t=D3(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var l=e[s],c=l.length,u,h=0;h<c;++h)(u=l[h])&&(r.push(t.call(u,u.__data__,h,l)),i.push(u));return new $r(r,i)}function N3(t){return function(){return this.matches(t)}}function L3(t){return function(e){return e.matches(t)}}var zW=Array.prototype.find;function PW(t){return function(){return zW.call(this.children,t)}}function FW(){return this.firstElementChild}function IW(t){return this.select(t==null?FW:PW(typeof t=="function"?t:L3(t)))}var HW=Array.prototype.filter;function VW(){return Array.from(this.children)}function qW(t){return function(){return HW.call(this.children,t)}}function UW(t){return this.selectAll(t==null?VW:qW(typeof t=="function"?t:L3(t)))}function WW(t){typeof t!="function"&&(t=N3(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=[],u,h=0;h<l;++h)(u=s[h])&&t.call(u,u.__data__,h,s)&&c.push(u);return new $r(r,this._parents)}function B3(t){return new Array(t.length)}function YW(){return new $r(this._enter||this._groups.map(B3),this._parents)}function Pp(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Pp.prototype={constructor:Pp,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function GW(t){return function(){return t}}function XW(t,e,n,r,i,s){for(var l=0,c,u=e.length,h=s.length;l<h;++l)(c=e[l])?(c.__data__=s[l],r[l]=c):n[l]=new Pp(t,s[l]);for(;l<u;++l)(c=e[l])&&(i[l]=c)}function ZW(t,e,n,r,i,s,l){var c,u,h=new Map,f=e.length,p=s.length,m=new Array(f),y;for(c=0;c<f;++c)(u=e[c])&&(m[c]=y=l.call(u,u.__data__,c,e)+"",h.has(y)?i[c]=u:h.set(y,u));for(c=0;c<p;++c)y=l.call(t,s[c],c,s)+"",(u=h.get(y))?(r[c]=u,u.__data__=s[c],h.delete(y)):n[c]=new Pp(t,s[c]);for(c=0;c<f;++c)(u=e[c])&&h.get(m[c])===u&&(i[c]=u)}function KW(t){return t.__data__}function QW(t,e){if(!arguments.length)return Array.from(this,KW);var n=e?ZW:XW,r=this._parents,i=this._groups;typeof t!="function"&&(t=GW(t));for(var s=i.length,l=new Array(s),c=new Array(s),u=new Array(s),h=0;h<s;++h){var f=r[h],p=i[h],m=p.length,y=JW(t.call(f,f&&f.__data__,h,r)),x=y.length,v=c[h]=new Array(x),S=l[h]=new Array(x),_=u[h]=new Array(m);n(f,p,v,S,_,y,e);for(var E=0,T=0,A,D;E<x;++E)if(A=v[E]){for(E>=T&&(T=E+1);!(D=S[T])&&++T<x;);A._next=D||null}}return l=new $r(l,r),l._enter=c,l._exit=u,l}function JW(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tY(){return new $r(this._exit||this._groups.map(B3),this._parents)}function eY(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function nY(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,l=Math.min(i,s),c=new Array(i),u=0;u<l;++u)for(var h=n[u],f=r[u],p=h.length,m=c[u]=new Array(p),y,x=0;x<p;++x)(y=h[x]||f[x])&&(m[x]=y);for(;u<i;++u)c[u]=n[u];return new $r(c,this._parents)}function rY(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],l;--i>=0;)(l=r[i])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function iY(t){t||(t=aY);function e(p,m){return p&&m?t(p.__data__,m.__data__):!p-!m}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var l=n[s],c=l.length,u=i[s]=new Array(c),h,f=0;f<c;++f)(h=l[f])&&(u[f]=h);u.sort(e)}return new $r(i,this._parents).order()}function aY(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function sY(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function oY(){return Array.from(this)}function lY(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var l=r[i];if(l)return l}return null}function cY(){let t=0;for(const e of this)++t;return t}function uY(){return!this.node()}function hY(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,l=i.length,c;s<l;++s)(c=i[s])&&t.call(c,c.__data__,s,i);return this}function dY(t){return function(){this.removeAttribute(t)}}function fY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pY(t,e){return function(){this.setAttribute(t,e)}}function gY(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function mY(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function yY(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xY(t,e){var n=Wg(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?fY:dY:typeof e=="function"?n.local?yY:mY:n.local?gY:pY)(n,e))}function R3(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function bY(t){return function(){this.style.removeProperty(t)}}function vY(t,e,n){return function(){this.style.setProperty(t,e,n)}}function wY(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function SY(t,e,n){return arguments.length>1?this.each((e==null?bY:typeof e=="function"?wY:vY)(t,e,n??"")):Zl(this.node(),t)}function Zl(t,e){return t.style.getPropertyValue(e)||R3(t).getComputedStyle(t,null).getPropertyValue(e)}function CY(t){return function(){delete this[t]}}function _Y(t,e){return function(){this[t]=e}}function TY(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function kY(t,e){return arguments.length>1?this.each((e==null?CY:typeof e=="function"?TY:_Y)(t,e)):this.node()[t]}function O3(t){return t.trim().split(/^|\s+/)}function L1(t){return t.classList||new j3(t)}function j3(t){this._node=t,this._names=O3(t.getAttribute("class")||"")}j3.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function $3(t,e){for(var n=L1(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function z3(t,e){for(var n=L1(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function EY(t){return function(){$3(this,t)}}function AY(t){return function(){z3(this,t)}}function MY(t,e){return function(){(e.apply(this,arguments)?$3:z3)(this,t)}}function DY(t,e){var n=O3(t+"");if(arguments.length<2){for(var r=L1(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?MY:e?EY:AY)(n,e))}function NY(){this.textContent=""}function LY(t){return function(){this.textContent=t}}function BY(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function RY(t){return arguments.length?this.each(t==null?NY:(typeof t=="function"?BY:LY)(t)):this.node().textContent}function OY(){this.innerHTML=""}function jY(t){return function(){this.innerHTML=t}}function $Y(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function zY(t){return arguments.length?this.each(t==null?OY:(typeof t=="function"?$Y:jY)(t)):this.node().innerHTML}function PY(){this.nextSibling&&this.parentNode.appendChild(this)}function FY(){return this.each(PY)}function IY(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HY(){return this.each(IY)}function VY(t){var e=typeof t=="function"?t:M3(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function qY(){return null}function UY(t,e){var n=typeof t=="function"?t:M3(t),r=e==null?qY:typeof e=="function"?e:N1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function WY(){var t=this.parentNode;t&&t.removeChild(this)}function YY(){return this.each(WY)}function GY(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function XY(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ZY(t){return this.select(t?XY:GY)}function KY(t){return arguments.length?this.property("__data__",t):this.node().__data__}function QY(t){return function(e){t.call(this,e,this.__data__)}}function JY(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function tG(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function eG(t,e,n){return function(){var r=this.__on,i,s=QY(e);if(r){for(var l=0,c=r.length;l<c;++l)if((i=r[l]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function nG(t,e,n){var r=JY(t+""),i,s=r.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,h=c.length,f;u<h;++u)for(i=0,f=c[u];i<s;++i)if((l=r[i]).type===f.type&&l.name===f.name)return f.value}return}for(c=e?eG:tG,i=0;i<s;++i)this.each(c(r[i],e,n));return this}function P3(t,e,n){var r=R3(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function rG(t,e){return function(){return P3(this,t,e)}}function iG(t,e){return function(){return P3(this,t,e.apply(this,arguments))}}function aG(t,e){return this.each((typeof e=="function"?iG:rG)(t,e))}function*sG(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,l;i<s;++i)(l=r[i])&&(yield l)}var F3=[null];function $r(t,e){this._groups=t,this._parents=e}function qh(){return new $r([[document.documentElement]],F3)}function oG(){return this}$r.prototype=qh.prototype={constructor:$r,select:BW,selectAll:$W,selectChild:IW,selectChildren:UW,filter:WW,data:QW,enter:YW,exit:tY,join:eY,merge:nY,selection:oG,order:rY,sort:iY,call:sY,nodes:oY,node:lY,size:cY,empty:uY,each:hY,attr:xY,style:SY,property:kY,classed:DY,text:RY,html:zY,raise:FY,lower:HY,append:VY,insert:UY,remove:YY,clone:ZY,datum:KY,on:nG,dispatch:aG,[Symbol.iterator]:sG};function qt(t){return typeof t=="string"?new $r([[document.querySelector(t)]],[document.documentElement]):new $r([[t]],F3)}function lG(t){let e;for(;e=t.sourceEvent;)t=e;return t}function hi(t,e){if(t=lG(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const cG={passive:!1},hh={capture:!0,passive:!1};function vx(t){t.stopImmediatePropagation()}function $l(t){t.preventDefault(),t.stopImmediatePropagation()}function I3(t){var e=t.document.documentElement,n=qt(t).on("dragstart.drag",$l,hh);"onselectstart"in e?n.on("selectstart.drag",$l,hh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function H3(t,e){var n=t.document.documentElement,r=qt(t).on("dragstart.drag",null);e&&(r.on("click.drag",$l,hh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Lf=t=>()=>t;function Ob(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:l,y:c,dx:u,dy:h,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:f}})}Ob.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function uG(t){return!t.ctrlKey&&!t.button}function hG(){return this.parentNode}function dG(t,e){return e??{x:t.x,y:t.y}}function fG(){return navigator.maxTouchPoints||"ontouchstart"in this}function V3(){var t=uG,e=hG,n=dG,r=fG,i={},s=Ug("start","drag","end"),l=0,c,u,h,f,p=0;function m(A){A.on("mousedown.drag",y).filter(r).on("touchstart.drag",S).on("touchmove.drag",_,cG).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(A,D){if(!(f||!t.call(this,A,D))){var B=T(this,e.call(this,A,D),A,D,"mouse");B&&(qt(A.view).on("mousemove.drag",x,hh).on("mouseup.drag",v,hh),I3(A.view),vx(A),h=!1,c=A.clientX,u=A.clientY,B("start",A))}}function x(A){if($l(A),!h){var D=A.clientX-c,B=A.clientY-u;h=D*D+B*B>p}i.mouse("drag",A)}function v(A){qt(A.view).on("mousemove.drag mouseup.drag",null),H3(A.view,h),$l(A),i.mouse("end",A)}function S(A,D){if(t.call(this,A,D)){var B=A.changedTouches,L=e.call(this,A,D),z=B.length,V,Y;for(V=0;V<z;++V)(Y=T(this,L,A,D,B[V].identifier,B[V]))&&(vx(A),Y("start",A,B[V]))}}function _(A){var D=A.changedTouches,B=D.length,L,z;for(L=0;L<B;++L)(z=i[D[L].identifier])&&($l(A),z("drag",A,D[L]))}function E(A){var D=A.changedTouches,B=D.length,L,z;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),L=0;L<B;++L)(z=i[D[L].identifier])&&(vx(A),z("end",A,D[L]))}function T(A,D,B,L,z,V){var Y=s.copy(),U=hi(V||B,D),X,Z,$;if(($=n.call(A,new Ob("beforestart",{sourceEvent:B,target:m,identifier:z,active:l,x:U[0],y:U[1],dx:0,dy:0,dispatch:Y}),L))!=null)return X=$.x-U[0]||0,Z=$.y-U[1]||0,function q(R,F,j){var W=U,Q;switch(R){case"start":i[z]=q,Q=l++;break;case"end":delete i[z],--l;case"drag":U=hi(j||F,D),Q=l;break}Y.call(R,A,new Ob(R,{sourceEvent:F,subject:$,target:m,identifier:z,active:Q,x:U[0]+X,y:U[1]+Z,dx:U[0]-W[0],dy:U[1]-W[1],dispatch:Y}),L)}}return m.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Lf(!!A),m):t},m.container=function(A){return arguments.length?(e=typeof A=="function"?A:Lf(A),m):e},m.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Lf(A),m):n},m.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Lf(!!A),m):r},m.on=function(){var A=s.on.apply(s,arguments);return A===s?m:A},m.clickDistance=function(A){return arguments.length?(p=(A=+A)*A,m):Math.sqrt(p)},m}function B1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function q3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Uh(){}var dh=.7,Fp=1/dh,zl="\\s*([+-]?\\d+)\\s*",fh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pG=/^#([0-9a-f]{3,8})$/,gG=new RegExp(`^rgb\\(${zl},${zl},${zl}\\)$`),mG=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),yG=new RegExp(`^rgba\\(${zl},${zl},${zl},${fh}\\)$`),xG=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${fh}\\)$`),bG=new RegExp(`^hsl\\(${fh},${Pi},${Pi}\\)$`),vG=new RegExp(`^hsla\\(${fh},${Pi},${Pi},${fh}\\)$`),Pk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B1(Uh,yo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Fk,formatHex:Fk,formatHex8:wG,formatHsl:SG,formatRgb:Ik,toString:Ik});function Fk(){return this.rgb().formatHex()}function wG(){return this.rgb().formatHex8()}function SG(){return U3(this).formatHsl()}function Ik(){return this.rgb().formatRgb()}function yo(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pG.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Hk(e):n===3?new _r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gG.exec(t))?new _r(e[1],e[2],e[3],1):(e=mG.exec(t))?new _r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yG.exec(t))?Bf(e[1],e[2],e[3],e[4]):(e=xG.exec(t))?Bf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bG.exec(t))?Uk(e[1],e[2]/100,e[3]/100,1):(e=vG.exec(t))?Uk(e[1],e[2]/100,e[3]/100,e[4]):Pk.hasOwnProperty(t)?Hk(Pk[t]):t==="transparent"?new _r(NaN,NaN,NaN,0):null}function Hk(t){return new _r(t>>16&255,t>>8&255,t&255,1)}function Bf(t,e,n,r){return r<=0&&(t=e=n=NaN),new _r(t,e,n,r)}function CG(t){return t instanceof Uh||(t=yo(t)),t?(t=t.rgb(),new _r(t.r,t.g,t.b,t.opacity)):new _r}function jb(t,e,n,r){return arguments.length===1?CG(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}B1(_r,jb,q3(Uh,{brighter(t){return t=t==null?Fp:Math.pow(Fp,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dh:Math.pow(dh,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _r(ho(this.r),ho(this.g),ho(this.b),Ip(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vk,formatHex:Vk,formatHex8:_G,formatRgb:qk,toString:qk}));function Vk(){return`#${ao(this.r)}${ao(this.g)}${ao(this.b)}`}function _G(){return`#${ao(this.r)}${ao(this.g)}${ao(this.b)}${ao((isNaN(this.opacity)?1:this.opacity)*255)}`}function qk(){const t=Ip(this.opacity);return`${t===1?"rgb(":"rgba("}${ho(this.r)}, ${ho(this.g)}, ${ho(this.b)}${t===1?")":`, ${t})`}`}function Ip(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ho(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ao(t){return t=ho(t),(t<16?"0":"")+t.toString(16)}function Uk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pi(t,e,n,r)}function U3(t){if(t instanceof pi)return new pi(t.h,t.s,t.l,t.opacity);if(t instanceof Uh||(t=yo(t)),!t)return new pi;if(t instanceof pi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,u=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=u<.5?s+i:2-s-i,l*=60):c=u>0&&u<1?0:l,new pi(l,c,u,t.opacity)}function TG(t,e,n,r){return arguments.length===1?U3(t):new pi(t,e,n,r??1)}function pi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}B1(pi,TG,q3(Uh,{brighter(t){return t=t==null?Fp:Math.pow(Fp,t),new pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dh:Math.pow(dh,t),new pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _r(wx(t>=240?t-240:t+120,i,r),wx(t,i,r),wx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new pi(Wk(this.h),Rf(this.s),Rf(this.l),Ip(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ip(this.opacity);return`${t===1?"hsl(":"hsla("}${Wk(this.h)}, ${Rf(this.s)*100}%, ${Rf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Wk(t){return t=(t||0)%360,t<0?t+360:t}function Rf(t){return Math.max(0,Math.min(1,t||0))}function wx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Yg=t=>()=>t;function W3(t,e){return function(n){return t+n*e}}function kG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Kdt(t,e){var n=e-t;return n?W3(t,n>180||n<-180?n-360*Math.round(n/360):n):Yg(isNaN(t)?e:t)}function EG(t){return(t=+t)==1?Y3:function(e,n){return n-e?kG(e,n,t):Yg(isNaN(e)?n:e)}}function Y3(t,e){var n=e-t;return n?W3(t,n):Yg(isNaN(t)?e:t)}const Hp=(function t(e){var n=EG(e);function r(i,s){var l=n((i=jb(i)).r,(s=jb(s)).r),c=n(i.g,s.g),u=n(i.b,s.b),h=Y3(i.opacity,s.opacity);return function(f){return i.r=l(f),i.g=c(f),i.b=u(f),i.opacity=h(f),i+""}}return r.gamma=t,r})(1);function AG(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function MG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function DG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Uu(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function NG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ji(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function LG(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Uu(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var $b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sx=new RegExp($b.source,"g");function BG(t){return function(){return t}}function RG(t){return function(e){return t(e)+""}}function G3(t,e){var n=$b.lastIndex=Sx.lastIndex=0,r,i,s,l=-1,c=[],u=[];for(t=t+"",e=e+"";(r=$b.exec(t))&&(i=Sx.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,u.push({i:l,x:ji(r,i)})),n=Sx.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?u[0]?RG(u[0].x):BG(e):(e=u.length,function(h){for(var f=0,p;f<e;++f)c[(p=u[f]).i]=p.x(h);return c.join("")})}function Uu(t,e){var n=typeof e,r;return e==null||n==="boolean"?Yg(e):(n==="number"?ji:n==="string"?(r=yo(e))?(e=r,Hp):G3:e instanceof yo?Hp:e instanceof Date?NG:MG(e)?AG:Array.isArray(e)?DG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?LG:ji)(t,e)}var Yk=180/Math.PI,zb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function X3(t,e,n,r,i,s){var l,c,u;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),t*r<e*n&&(t=-t,e=-e,u=-u,l=-l),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Yk,skewX:Math.atan(u)*Yk,scaleX:l,scaleY:c}}var Of;function OG(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zb:X3(e.a,e.b,e.c,e.d,e.e,e.f)}function jG(t){return t==null||(Of||(Of=document.createElementNS("http://www.w3.org/2000/svg","g")),Of.setAttribute("transform",t),!(t=Of.transform.baseVal.consolidate()))?zb:(t=t.matrix,X3(t.a,t.b,t.c,t.d,t.e,t.f))}function Z3(t,e,n,r){function i(h){return h.length?h.pop()+" ":""}function s(h,f,p,m,y,x){if(h!==p||f!==m){var v=y.push("translate(",null,e,null,n);x.push({i:v-4,x:ji(h,p)},{i:v-2,x:ji(f,m)})}else(p||m)&&y.push("translate("+p+e+m+n)}function l(h,f,p,m){h!==f?(h-f>180?f+=360:f-h>180&&(h+=360),m.push({i:p.push(i(p)+"rotate(",null,r)-2,x:ji(h,f)})):f&&p.push(i(p)+"rotate("+f+r)}function c(h,f,p,m){h!==f?m.push({i:p.push(i(p)+"skewX(",null,r)-2,x:ji(h,f)}):f&&p.push(i(p)+"skewX("+f+r)}function u(h,f,p,m,y,x){if(h!==p||f!==m){var v=y.push(i(y)+"scale(",null,",",null,")");x.push({i:v-4,x:ji(h,p)},{i:v-2,x:ji(f,m)})}else(p!==1||m!==1)&&y.push(i(y)+"scale("+p+","+m+")")}return function(h,f){var p=[],m=[];return h=t(h),f=t(f),s(h.translateX,h.translateY,f.translateX,f.translateY,p,m),l(h.rotate,f.rotate,p,m),c(h.skewX,f.skewX,p,m),u(h.scaleX,h.scaleY,f.scaleX,f.scaleY,p,m),h=f=null,function(y){for(var x=-1,v=m.length,S;++x<v;)p[(S=m[x]).i]=S.x(y);return p.join("")}}}var $G=Z3(OG,"px, ","px)","deg)"),zG=Z3(jG,", ",")",")"),PG=1e-12;function Gk(t){return((t=Math.exp(t))+1/t)/2}function FG(t){return((t=Math.exp(t))-1/t)/2}function IG(t){return((t=Math.exp(2*t))-1)/(t+1)}const lp=(function t(e,n,r){function i(s,l){var c=s[0],u=s[1],h=s[2],f=l[0],p=l[1],m=l[2],y=f-c,x=p-u,v=y*y+x*x,S,_;if(v<PG)_=Math.log(m/h)/e,S=function(L){return[c+L*y,u+L*x,h*Math.exp(e*L*_)]};else{var E=Math.sqrt(v),T=(m*m-h*h+r*v)/(2*h*n*E),A=(m*m-h*h-r*v)/(2*m*n*E),D=Math.log(Math.sqrt(T*T+1)-T),B=Math.log(Math.sqrt(A*A+1)-A);_=(B-D)/e,S=function(L){var z=L*_,V=Gk(D),Y=h/(n*E)*(V*IG(e*z+D)-FG(D));return[c+Y*y,u+Y*x,h*V/Gk(e*z+D)]}}return S.duration=_*1e3*e/Math.SQRT2,S}return i.rho=function(s){var l=Math.max(.001,+s),c=l*l,u=c*c;return t(l,c,u)},i})(Math.SQRT2,2,4);var Kl=0,Mu=0,gu=0,K3=1e3,Vp,Du,qp=0,xo=0,Gg=0,ph=typeof performance=="object"&&performance.now?performance:Date,Q3=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function R1(){return xo||(Q3(HG),xo=ph.now()+Gg)}function HG(){xo=0}function Up(){this._call=this._time=this._next=null}Up.prototype=J3.prototype={constructor:Up,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?R1():+n)+(e==null?0:+e),!this._next&&Du!==this&&(Du?Du._next=this:Vp=this,Du=this),this._call=t,this._time=n,Pb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pb())}};function J3(t,e,n){var r=new Up;return r.restart(t,e,n),r}function VG(){R1(),++Kl;for(var t=Vp,e;t;)(e=xo-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Kl}function Xk(){xo=(qp=ph.now())+Gg,Kl=Mu=0;try{VG()}finally{Kl=0,UG(),xo=0}}function qG(){var t=ph.now(),e=t-qp;e>K3&&(Gg-=e,qp=t)}function UG(){for(var t,e=Vp,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Vp=n);Du=t,Pb(r)}function Pb(t){if(!Kl){Mu&&(Mu=clearTimeout(Mu));var e=t-xo;e>24?(t<1/0&&(Mu=setTimeout(Xk,t-ph.now()-Gg)),gu&&(gu=clearInterval(gu))):(gu||(qp=ph.now(),gu=setInterval(qG,K3)),Kl=1,Q3(Xk))}}function Zk(t,e,n){var r=new Up;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var WG=Ug("start","end","cancel","interrupt"),YG=[],tL=0,Kk=1,Fb=2,cp=3,Qk=4,Ib=5,up=6;function Xg(t,e,n,r,i,s){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;GG(t,n,{name:e,index:r,group:i,on:WG,tween:YG,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:tL})}function O1(t,e){var n=_i(t,e);if(n.state>tL)throw new Error("too late; already scheduled");return n}function Ui(t,e){var n=_i(t,e);if(n.state>cp)throw new Error("too late; already running");return n}function _i(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function GG(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=J3(s,0,n.time);function s(h){n.state=Kk,n.timer.restart(l,n.delay,n.time),n.delay<=h&&l(h-n.delay)}function l(h){var f,p,m,y;if(n.state!==Kk)return u();for(f in r)if(y=r[f],y.name===n.name){if(y.state===cp)return Zk(l);y.state===Qk?(y.state=up,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[f]):+f<e&&(y.state=up,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[f])}if(Zk(function(){n.state===cp&&(n.state=Qk,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=Fb,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Fb){for(n.state=cp,i=new Array(m=n.tween.length),f=0,p=-1;f<m;++f)(y=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=y);i.length=p+1}}function c(h){for(var f=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(u),n.state=Ib,1),p=-1,m=i.length;++p<m;)i[p].call(t,f);n.state===Ib&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=up,n.timer.stop(),delete r[e];for(var h in r)return;delete t.__transition}}function hp(t,e){var n=t.__transition,r,i,s=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((r=n[l]).name!==e){s=!1;continue}i=r.state>Fb&&r.state<Ib,r.state=up,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[l]}s&&delete t.__transition}}function XG(t){return this.each(function(){hp(this,t)})}function ZG(t,e){var n,r;return function(){var i=Ui(this,t),s=i.tween;if(s!==n){r=n=s;for(var l=0,c=r.length;l<c;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function KG(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Ui(this,t),l=s.tween;if(l!==r){i=(r=l).slice();for(var c={name:e,value:n},u=0,h=i.length;u<h;++u)if(i[u].name===e){i[u]=c;break}u===h&&i.push(c)}s.tween=i}}function QG(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=_i(this.node(),n).tween,i=0,s=r.length,l;i<s;++i)if((l=r[i]).name===t)return l.value;return null}return this.each((e==null?ZG:KG)(n,t,e))}function j1(t,e,n){var r=t._id;return t.each(function(){var i=Ui(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return _i(i,r).value[e]}}function eL(t,e){var n;return(typeof e=="number"?ji:e instanceof yo?Hp:(n=yo(e))?(e=n,Hp):G3)(t,e)}function JG(t){return function(){this.removeAttribute(t)}}function tX(t){return function(){this.removeAttributeNS(t.space,t.local)}}function eX(t,e,n){var r,i=n+"",s;return function(){var l=this.getAttribute(t);return l===i?null:l===r?s:s=e(r=l,n)}}function nX(t,e,n){var r,i=n+"",s;return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===r?s:s=e(r=l,n)}}function rX(t,e,n){var r,i,s;return function(){var l,c=n(this),u;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),u=c+"",l===u?null:l===r&&u===i?s:(i=u,s=e(r=l,c)))}}function iX(t,e,n){var r,i,s;return function(){var l,c=n(this),u;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),u=c+"",l===u?null:l===r&&u===i?s:(i=u,s=e(r=l,c)))}}function aX(t,e){var n=Wg(t),r=n==="transform"?zG:eL;return this.attrTween(t,typeof e=="function"?(n.local?iX:rX)(n,r,j1(this,"attr."+t,e)):e==null?(n.local?tX:JG)(n):(n.local?nX:eX)(n,r,e))}function sX(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function oX(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function lX(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&oX(t,s)),n}return i._value=e,i}function cX(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&sX(t,s)),n}return i._value=e,i}function uX(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Wg(t);return this.tween(n,(r.local?lX:cX)(r,e))}function hX(t,e){return function(){O1(this,t).delay=+e.apply(this,arguments)}}function dX(t,e){return e=+e,function(){O1(this,t).delay=e}}function fX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?hX:dX)(e,t)):_i(this.node(),e).delay}function pX(t,e){return function(){Ui(this,t).duration=+e.apply(this,arguments)}}function gX(t,e){return e=+e,function(){Ui(this,t).duration=e}}function mX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?pX:gX)(e,t)):_i(this.node(),e).duration}function yX(t,e){if(typeof e!="function")throw new Error;return function(){Ui(this,t).ease=e}}function xX(t){var e=this._id;return arguments.length?this.each(yX(e,t)):_i(this.node(),e).ease}function bX(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ui(this,t).ease=n}}function vX(t){if(typeof t!="function")throw new Error;return this.each(bX(this._id,t))}function wX(t){typeof t!="function"&&(t=N3(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],l=s.length,c=r[i]=[],u,h=0;h<l;++h)(u=s[h])&&t.call(u,u.__data__,h,s)&&c.push(u);return new Ta(r,this._parents,this._name,this._id)}function SX(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),l=new Array(r),c=0;c<s;++c)for(var u=e[c],h=n[c],f=u.length,p=l[c]=new Array(f),m,y=0;y<f;++y)(m=u[y]||h[y])&&(p[y]=m);for(;c<r;++c)l[c]=e[c];return new Ta(l,this._parents,this._name,this._id)}function CX(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _X(t,e,n){var r,i,s=CX(e)?O1:Ui;return function(){var l=s(this,t),c=l.on;c!==r&&(i=(r=c).copy()).on(e,n),l.on=i}}function TX(t,e){var n=this._id;return arguments.length<2?_i(this.node(),n).on.on(t):this.each(_X(n,t,e))}function kX(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function EX(){return this.on("end.remove",kX(this._id))}function AX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=N1(t));for(var r=this._groups,i=r.length,s=new Array(i),l=0;l<i;++l)for(var c=r[l],u=c.length,h=s[l]=new Array(u),f,p,m=0;m<u;++m)(f=c[m])&&(p=t.call(f,f.__data__,m,c))&&("__data__"in f&&(p.__data__=f.__data__),h[m]=p,Xg(h[m],e,n,m,h,_i(f,n)));return new Ta(s,this._parents,e,n)}function MX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=D3(t));for(var r=this._groups,i=r.length,s=[],l=[],c=0;c<i;++c)for(var u=r[c],h=u.length,f,p=0;p<h;++p)if(f=u[p]){for(var m=t.call(f,f.__data__,p,u),y,x=_i(f,n),v=0,S=m.length;v<S;++v)(y=m[v])&&Xg(y,e,n,v,m,x);s.push(m),l.push(f)}return new Ta(s,l,e,n)}var DX=qh.prototype.constructor;function NX(){return new DX(this._groups,this._parents)}function LX(t,e){var n,r,i;return function(){var s=Zl(this,t),l=(this.style.removeProperty(t),Zl(this,t));return s===l?null:s===n&&l===r?i:i=e(n=s,r=l)}}function nL(t){return function(){this.style.removeProperty(t)}}function BX(t,e,n){var r,i=n+"",s;return function(){var l=Zl(this,t);return l===i?null:l===r?s:s=e(r=l,n)}}function RX(t,e,n){var r,i,s;return function(){var l=Zl(this,t),c=n(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(t),Zl(this,t))),l===u?null:l===r&&u===i?s:(i=u,s=e(r=l,c))}}function OX(t,e){var n,r,i,s="style."+e,l="end."+s,c;return function(){var u=Ui(this,t),h=u.on,f=u.value[s]==null?c||(c=nL(e)):void 0;(h!==n||i!==f)&&(r=(n=h).copy()).on(l,i=f),u.on=r}}function jX(t,e,n){var r=(t+="")=="transform"?$G:eL;return e==null?this.styleTween(t,LX(t,r)).on("end.style."+t,nL(t)):typeof e=="function"?this.styleTween(t,RX(t,r,j1(this,"style."+t,e))).each(OX(this._id,t)):this.styleTween(t,BX(t,r,e),n).on("end.style."+t,null)}function $X(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zX(t,e,n){var r,i;function s(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&$X(t,l,n)),r}return s._value=e,s}function PX(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,zX(t,e,n??""))}function FX(t){return function(){this.textContent=t}}function IX(t){return function(){var e=t(this);this.textContent=e??""}}function HX(t){return this.tween("text",typeof t=="function"?IX(j1(this,"text",t)):FX(t==null?"":t+""))}function VX(t){return function(e){this.textContent=t.call(this,e)}}function qX(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&VX(i)),e}return r._value=t,r}function UX(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,qX(t))}function WX(){for(var t=this._name,e=this._id,n=rL(),r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],c=l.length,u,h=0;h<c;++h)if(u=l[h]){var f=_i(u,e);Xg(u,t,n,h,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ta(r,this._parents,t,n)}function YX(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,l){var c={value:l},u={value:function(){--i===0&&s()}};n.each(function(){var h=Ui(this,r),f=h.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(u)),h.on=e}),i===0&&s()})}var GX=0;function Ta(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function rL(){return++GX}var fa=qh.prototype;Ta.prototype={constructor:Ta,select:AX,selectAll:MX,selectChild:fa.selectChild,selectChildren:fa.selectChildren,filter:wX,merge:SX,selection:NX,transition:WX,call:fa.call,nodes:fa.nodes,node:fa.node,size:fa.size,empty:fa.empty,each:fa.each,on:TX,attr:aX,attrTween:uX,style:jX,styleTween:PX,text:HX,textTween:UX,remove:EX,tween:QG,delay:fX,duration:mX,ease:xX,easeVarying:vX,end:YX,[Symbol.iterator]:fa[Symbol.iterator]};function XX(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ZX={time:null,delay:0,duration:250,ease:XX};function KX(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function QX(t){var e,n;t instanceof Ta?(e=t._id,t=t._name):(e=rL(),(n=ZX).time=R1(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],c=l.length,u,h=0;h<c;++h)(u=l[h])&&Xg(u,t,e,h,l,n||KX(u,e));return new Ta(r,this._parents,t,e)}qh.prototype.interrupt=XG;qh.prototype.transition=QX;const jf=t=>()=>t;function JX(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function xa(t,e,n){this.k=t,this.x=e,this.y=n}xa.prototype={constructor:xa,scale:function(t){return t===1?this:new xa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new xa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zg=new xa(1,0,0);iL.prototype=xa.prototype;function iL(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Zg;return t.__zoom}function Cx(t){t.stopImmediatePropagation()}function mu(t){t.preventDefault(),t.stopImmediatePropagation()}function tZ(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function eZ(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Jk(){return this.__zoom||Zg}function nZ(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function rZ(){return navigator.maxTouchPoints||"ontouchstart"in this}function iZ(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}function aL(){var t=tZ,e=eZ,n=iZ,r=nZ,i=rZ,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=lp,h=Ug("start","zoom","end"),f,p,m,y=500,x=150,v=0,S=10;function _($){$.property("__zoom",Jk).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",Y).filter(i).on("touchstart.zoom",U).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function($,q,R,F){var j=$.selection?$.selection():$;j.property("__zoom",Jk),$!==j?D($,q,R,F):j.interrupt().each(function(){B(this,arguments).event(F).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},_.scaleBy=function($,q,R,F){_.scaleTo($,function(){var j=this.__zoom.k,W=typeof q=="function"?q.apply(this,arguments):q;return j*W},R,F)},_.scaleTo=function($,q,R,F){_.transform($,function(){var j=e.apply(this,arguments),W=this.__zoom,Q=R==null?A(j):typeof R=="function"?R.apply(this,arguments):R,I=W.invert(Q),P=typeof q=="function"?q.apply(this,arguments):q;return n(T(E(W,P),Q,I),j,l)},R,F)},_.translateBy=function($,q,R,F){_.transform($,function(){return n(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof R=="function"?R.apply(this,arguments):R),e.apply(this,arguments),l)},null,F)},_.translateTo=function($,q,R,F,j){_.transform($,function(){var W=e.apply(this,arguments),Q=this.__zoom,I=F==null?A(W):typeof F=="function"?F.apply(this,arguments):F;return n(Zg.translate(I[0],I[1]).scale(Q.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof R=="function"?-R.apply(this,arguments):-R),W,l)},F,j)};function E($,q){return q=Math.max(s[0],Math.min(s[1],q)),q===$.k?$:new xa(q,$.x,$.y)}function T($,q,R){var F=q[0]-R[0]*$.k,j=q[1]-R[1]*$.k;return F===$.x&&j===$.y?$:new xa($.k,F,j)}function A($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function D($,q,R,F){$.on("start.zoom",function(){B(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(F).end()}).tween("zoom",function(){var j=this,W=arguments,Q=B(j,W).event(F),I=e.apply(j,W),P=R==null?A(I):typeof R=="function"?R.apply(j,W):R,G=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),J=j.__zoom,nt=typeof q=="function"?q.apply(j,W):q,ct=u(J.invert(P).concat(G/J.k),nt.invert(P).concat(G/nt.k));return function(ut){if(ut===1)ut=nt;else{var ht=ct(ut),pt=G/ht[2];ut=new xa(pt,P[0]-ht[0]*pt,P[1]-ht[1]*pt)}Q.zoom(null,ut)}})}function B($,q,R){return!R&&$.__zooming||new L($,q)}function L($,q){this.that=$,this.args=q,this.active=0,this.sourceEvent=null,this.extent=e.apply($,q),this.taps=0}L.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,q){return this.mouse&&$!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var q=qt(this.that).datum();h.call($,this.that,new JX($,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:h}),q)}};function z($,...q){if(!t.apply(this,arguments))return;var R=B(this,q).event($),F=this.__zoom,j=Math.max(s[0],Math.min(s[1],F.k*Math.pow(2,r.apply(this,arguments)))),W=hi($);if(R.wheel)(R.mouse[0][0]!==W[0]||R.mouse[0][1]!==W[1])&&(R.mouse[1]=F.invert(R.mouse[0]=W)),clearTimeout(R.wheel);else{if(F.k===j)return;R.mouse=[W,F.invert(W)],hp(this),R.start()}mu($),R.wheel=setTimeout(Q,x),R.zoom("mouse",n(T(E(F,j),R.mouse[0],R.mouse[1]),R.extent,l));function Q(){R.wheel=null,R.end()}}function V($,...q){if(m||!t.apply(this,arguments))return;var R=$.currentTarget,F=B(this,q,!0).event($),j=qt($.view).on("mousemove.zoom",P,!0).on("mouseup.zoom",G,!0),W=hi($,R),Q=$.clientX,I=$.clientY;I3($.view),Cx($),F.mouse=[W,this.__zoom.invert(W)],hp(this),F.start();function P(J){if(mu(J),!F.moved){var nt=J.clientX-Q,ct=J.clientY-I;F.moved=nt*nt+ct*ct>v}F.event(J).zoom("mouse",n(T(F.that.__zoom,F.mouse[0]=hi(J,R),F.mouse[1]),F.extent,l))}function G(J){j.on("mousemove.zoom mouseup.zoom",null),H3(J.view,F.moved),mu(J),F.event(J).end()}}function Y($,...q){if(t.apply(this,arguments)){var R=this.__zoom,F=hi($.changedTouches?$.changedTouches[0]:$,this),j=R.invert(F),W=R.k*($.shiftKey?.5:2),Q=n(T(E(R,W),F,j),e.apply(this,q),l);mu($),c>0?qt(this).transition().duration(c).call(D,Q,F,$):qt(this).call(_.transform,Q,F,$)}}function U($,...q){if(t.apply(this,arguments)){var R=$.touches,F=R.length,j=B(this,q,$.changedTouches.length===F).event($),W,Q,I,P;for(Cx($),Q=0;Q<F;++Q)I=R[Q],P=hi(I,this),P=[P,this.__zoom.invert(P),I.identifier],j.touch0?!j.touch1&&j.touch0[2]!==P[2]&&(j.touch1=P,j.taps=0):(j.touch0=P,W=!0,j.taps=1+!!f);f&&(f=clearTimeout(f)),W&&(j.taps<2&&(p=P[0],f=setTimeout(function(){f=null},y)),hp(this),j.start())}}function X($,...q){if(this.__zooming){var R=B(this,q).event($),F=$.changedTouches,j=F.length,W,Q,I,P;for(mu($),W=0;W<j;++W)Q=F[W],I=hi(Q,this),R.touch0&&R.touch0[2]===Q.identifier?R.touch0[0]=I:R.touch1&&R.touch1[2]===Q.identifier&&(R.touch1[0]=I);if(Q=R.that.__zoom,R.touch1){var G=R.touch0[0],J=R.touch0[1],nt=R.touch1[0],ct=R.touch1[1],ut=(ut=nt[0]-G[0])*ut+(ut=nt[1]-G[1])*ut,ht=(ht=ct[0]-J[0])*ht+(ht=ct[1]-J[1])*ht;Q=E(Q,Math.sqrt(ut/ht)),I=[(G[0]+nt[0])/2,(G[1]+nt[1])/2],P=[(J[0]+ct[0])/2,(J[1]+ct[1])/2]}else if(R.touch0)I=R.touch0[0],P=R.touch0[1];else return;R.zoom("touch",n(T(Q,I,P),R.extent,l))}}function Z($,...q){if(this.__zooming){var R=B(this,q).event($),F=$.changedTouches,j=F.length,W,Q;for(Cx($),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),W=0;W<j;++W)Q=F[W],R.touch0&&R.touch0[2]===Q.identifier?delete R.touch0:R.touch1&&R.touch1[2]===Q.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(Q=hi(Q,this),Math.hypot(p[0]-Q[0],p[1]-Q[1])<S)){var I=qt(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return _.wheelDelta=function($){return arguments.length?(r=typeof $=="function"?$:jf(+$),_):r},_.filter=function($){return arguments.length?(t=typeof $=="function"?$:jf(!!$),_):t},_.touchable=function($){return arguments.length?(i=typeof $=="function"?$:jf(!!$),_):i},_.extent=function($){return arguments.length?(e=typeof $=="function"?$:jf([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),_):e},_.scaleExtent=function($){return arguments.length?(s[0]=+$[0],s[1]=+$[1],_):[s[0],s[1]]},_.translateExtent=function($){return arguments.length?(l[0][0]=+$[0][0],l[1][0]=+$[1][0],l[0][1]=+$[0][1],l[1][1]=+$[1][1],_):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},_.constrain=function($){return arguments.length?(n=$,_):n},_.duration=function($){return arguments.length?(c=+$,_):c},_.interpolate=function($){return arguments.length?(u=$,_):u},_.on=function(){var $=h.on.apply(h,arguments);return $===h?_:$},_.clickDistance=function($){return arguments.length?(v=($=+$)*$,_):Math.sqrt(v)},_.tapDistance=function($){return arguments.length?(S=+$,_):S},_}const Hi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},gh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],sL=["Enter"," ","Escape"],oL={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Ql;(function(t){t.Strict="strict",t.Loose="loose"})(Ql||(Ql={}));var fo;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(fo||(fo={}));var mh;(function(t){t.Partial="partial",t.Full="full"})(mh||(mh={}));const lL={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ls;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ls||(ls={}));var Wp;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Wp||(Wp={}));var Rt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Rt||(Rt={}));const tE={[Rt.Left]:Rt.Right,[Rt.Right]:Rt.Left,[Rt.Top]:Rt.Bottom,[Rt.Bottom]:Rt.Top};function cL(t){return t===null?null:t?"valid":"invalid"}const uL=t=>"id"in t&&"source"in t&&"target"in t,aZ=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),$1=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Wh=(t,e=[0,0])=>{const{width:n,height:r}=Aa(t),i=t.origin??e,s=n*i[0],l=r*i[1];return{x:t.position.x-s,y:t.position.y-l}},sZ=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let l=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(l=s?e.nodeLookup.get(i):$1(i)?i:e.nodeLookup.get(i.id));const c=l?Yp(l,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Kg(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Qg(n)},Yh=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=Kg(n,Yp(i)),r=!0)}),r?Qg(n):{x:0,y:0,width:0,height:0}},z1=(t,e,[n,r,i]=[0,0,1],s=!1,l=!1)=>{const c={...Xh(e,[n,r,i]),width:e.width/i,height:e.height/i},u=[];for(const h of t.values()){const{measured:f,selectable:p=!0,hidden:m=!1}=h;if(l&&!p||m)continue;const y=f.width??h.width??h.initialWidth??null,x=f.height??h.height??h.initialHeight??null,v=yh(c,tc(h)),S=(y??0)*(x??0),_=s&&v>0;(!h.internals.handleBounds||_||v>=S||h.dragging)&&u.push(h)}return u},oZ=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function lZ(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function cZ({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},l){if(t.size===0)return Promise.resolve(!0);const c=lZ(t,l),u=Yh(c),h=P1(u,e,n,l?.minZoom??i,l?.maxZoom??s,l?.padding??.1);return await r.setViewport(h,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function hL({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const l=n.get(t),c=l.parentId?n.get(l.parentId):void 0,{x:u,y:h}=c?c.internals.positionAbsolute:{x:0,y:0},f=l.origin??r;let p=l.extent||i;if(l.extent==="parent"&&!l.expandParent)if(!c)s?.("005",Hi.error005());else{const y=c.measured.width,x=c.measured.height;y&&x&&(p=[[u,h],[u+y,h+x]])}else c&&ec(l.extent)&&(p=[[l.extent[0][0]+u,l.extent[0][1]+h],[l.extent[1][0]+u,l.extent[1][1]+h]]);const m=ec(p)?bo(e,p,l.measured):e;return(l.measured.width===void 0||l.measured.height===void 0)&&s?.("015",Hi.error015()),{position:{x:m.x-u+(l.measured.width??0)*f[0],y:m.y-h+(l.measured.height??0)*f[1]},positionAbsolute:m}}async function uZ({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(m=>m.id)),l=[];for(const m of n){if(m.deletable===!1)continue;const y=s.has(m.id),x=!y&&m.parentId&&l.find(v=>v.id===m.parentId);(y||x)&&l.push(m)}const c=new Set(e.map(m=>m.id)),u=r.filter(m=>m.deletable!==!1),f=oZ(l,u);for(const m of u)c.has(m.id)&&!f.find(x=>x.id===m.id)&&f.push(m);if(!i)return{edges:f,nodes:l};const p=await i({nodes:l,edges:f});return typeof p=="boolean"?p?{edges:f,nodes:l}:{edges:[],nodes:[]}:p}const Jl=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),bo=(t={x:0,y:0},e,n)=>({x:Jl(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Jl(t.y,e[0][1],e[1][1]-(n?.height??0))});function dL(t,e,n){const{width:r,height:i}=Aa(n),{x:s,y:l}=n.internals.positionAbsolute;return bo(t,[[s,l],[s+r,l+i]],e)}const eE=(t,e,n)=>t<e?Jl(Math.abs(t-e),1,e)/e:t>n?-Jl(Math.abs(t-n),1,e)/e:0,fL=(t,e,n=15,r=40)=>{const i=eE(t.x,r,e.width-r)*n,s=eE(t.y,r,e.height-r)*n;return[i,s]},Kg=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Hb=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Qg=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),tc=(t,e=[0,0])=>{const{x:n,y:r}=$1(t)?t.internals.positionAbsolute:Wh(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Yp=(t,e=[0,0])=>{const{x:n,y:r}=$1(t)?t.internals.positionAbsolute:Wh(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},pL=(t,e)=>Qg(Kg(Hb(t),Hb(e))),yh=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},nE=t=>mi(t.width)&&mi(t.height)&&mi(t.x)&&mi(t.y),mi=t=>!isNaN(t)&&isFinite(t),hZ=(t,e)=>{},Gh=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Xh=({x:t,y:e},[n,r,i],s=!1,l=[1,1])=>{const c={x:(t-n)/i,y:(e-r)/i};return s?Gh(c,l):c},Gp=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function bl(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function dZ(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=bl(t,n),i=bl(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=bl(t.top??t.y??0,n),i=bl(t.bottom??t.y??0,n),s=bl(t.left??t.x??0,e),l=bl(t.right??t.x??0,e);return{top:r,right:l,bottom:i,left:s,x:s+l,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function fZ(t,e,n,r,i,s){const{x:l,y:c}=Gp(t,[e,n,r]),{x:u,y:h}=Gp({x:t.x+t.width,y:t.y+t.height},[e,n,r]),f=i-u,p=s-h;return{left:Math.floor(l),top:Math.floor(c),right:Math.floor(f),bottom:Math.floor(p)}}const P1=(t,e,n,r,i,s)=>{const l=dZ(s,e,n),c=(e-l.x)/t.width,u=(n-l.y)/t.height,h=Math.min(c,u),f=Jl(h,r,i),p=t.x+t.width/2,m=t.y+t.height/2,y=e/2-p*f,x=n/2-m*f,v=fZ(t,y,x,f,e,n),S={left:Math.min(v.left-l.left,0),top:Math.min(v.top-l.top,0),right:Math.min(v.right-l.right,0),bottom:Math.min(v.bottom-l.bottom,0)};return{x:y-S.left+S.right,y:x-S.top+S.bottom,zoom:f}},xh=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function ec(t){return t!=null&&t!=="parent"}function Aa(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function gL(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function mL(t,e={width:0,height:0},n,r,i){const s={...t},l=r.get(n);if(l){const c=l.origin||i;s.x+=l.internals.positionAbsolute.x-(e.width??0)*c[0],s.y+=l.internals.positionAbsolute.y-(e.height??0)*c[1]}return s}function rE(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function pZ(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function gZ(t){return{...oL,...t||{}}}function Wu(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:l}=yi(t),c=Xh({x:s-(i?.left??0),y:l-(i?.top??0)},r),{x:u,y:h}=n?Gh(c,e):c;return{xSnapped:u,ySnapped:h,...c}}const F1=t=>({width:t.offsetWidth,height:t.offsetHeight}),yL=t=>t?.getRootNode?.()||window?.document,mZ=["INPUT","SELECT","TEXTAREA"];function xL(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:mZ.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const bL=t=>"clientX"in t,yi=(t,e)=>{const n=bL(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},iE=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:t,nodeId:i,position:l.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...F1(l)}})};function vL({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:c}){const u=t*.125+i*.375+l*.375+n*.125,h=e*.125+s*.375+c*.375+r*.125,f=Math.abs(u-t),p=Math.abs(h-e);return[u,h,f,p]}function $f(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function aE({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Rt.Left:return[e-$f(e-r,s),n];case Rt.Right:return[e+$f(r-e,s),n];case Rt.Top:return[e,n-$f(n-i,s)];case Rt.Bottom:return[e,n+$f(i-n,s)]}}function wL({sourceX:t,sourceY:e,sourcePosition:n=Rt.Bottom,targetX:r,targetY:i,targetPosition:s=Rt.Top,curvature:l=.25}){const[c,u]=aE({pos:n,x1:t,y1:e,x2:r,y2:i,c:l}),[h,f]=aE({pos:s,x1:r,y1:i,x2:t,y2:e,c:l}),[p,m,y,x]=vL({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:c,sourceControlY:u,targetControlX:h,targetControlY:f});return[`M${t},${e} C${c},${u} ${h},${f} ${r},${i}`,p,m,y,x]}function SL({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,l=Math.abs(r-e)/2,c=r<e?r+l:r-l;return[s,c,i,l]}function yZ({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:s="basic"}){if(s==="manual")return r;const l=i&&n?r+1e3:r,c=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return l+c}function xZ({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=Kg(Yp(t),Yp(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const l={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return yh(l,Qg(s))>0}const bZ=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,vZ=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),wZ=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||bZ;let i;return uL(t)?i={...t}:i={...t,id:r(t)},vZ(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function CL({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,l,c]=SL({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,l,c]}const sE={[Rt.Left]:{x:-1,y:0},[Rt.Right]:{x:1,y:0},[Rt.Top]:{x:0,y:-1},[Rt.Bottom]:{x:0,y:1}},SZ=({source:t,sourcePosition:e=Rt.Bottom,target:n})=>e===Rt.Left||e===Rt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},oE=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function CZ({source:t,sourcePosition:e=Rt.Bottom,target:n,targetPosition:r=Rt.Top,center:i,offset:s,stepPosition:l}){const c=sE[e],u=sE[r],h={x:t.x+c.x*s,y:t.y+c.y*s},f={x:n.x+u.x*s,y:n.y+u.y*s},p=SZ({source:h,sourcePosition:e,target:f}),m=p.x!==0?"x":"y",y=p[m];let x=[],v,S;const _={x:0,y:0},E={x:0,y:0},[,,T,A]=SL({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[m]*u[m]===-1){m==="x"?(v=i.x??h.x+(f.x-h.x)*l,S=i.y??(h.y+f.y)/2):(v=i.x??(h.x+f.x)/2,S=i.y??h.y+(f.y-h.y)*l);const B=[{x:v,y:h.y},{x:v,y:f.y}],L=[{x:h.x,y:S},{x:f.x,y:S}];c[m]===y?x=m==="x"?B:L:x=m==="x"?L:B}else{const B=[{x:h.x,y:f.y}],L=[{x:f.x,y:h.y}];if(m==="x"?x=c.x===y?L:B:x=c.y===y?B:L,e===r){const X=Math.abs(t[m]-n[m]);if(X<=s){const Z=Math.min(s-1,s-X);c[m]===y?_[m]=(h[m]>t[m]?-1:1)*Z:E[m]=(f[m]>n[m]?-1:1)*Z}}if(e!==r){const X=m==="x"?"y":"x",Z=c[m]===u[X],$=h[X]>f[X],q=h[X]<f[X];(c[m]===1&&(!Z&&$||Z&&q)||c[m]!==1&&(!Z&&q||Z&&$))&&(x=m==="x"?B:L)}const z={x:h.x+_.x,y:h.y+_.y},V={x:f.x+E.x,y:f.y+E.y},Y=Math.max(Math.abs(z.x-x[0].x),Math.abs(V.x-x[0].x)),U=Math.max(Math.abs(z.y-x[0].y),Math.abs(V.y-x[0].y));Y>=U?(v=(z.x+V.x)/2,S=x[0].y):(v=x[0].x,S=(z.y+V.y)/2)}return[[t,{x:h.x+_.x,y:h.y+_.y},...x,{x:f.x+E.x,y:f.y+E.y},n],v,S,T,A]}function _Z(t,e,n,r){const i=Math.min(oE(t,e)/2,oE(e,n)/2,r),{x:s,y:l}=e;if(t.x===s&&s===n.x||t.y===l&&l===n.y)return`L${s} ${l}`;if(t.y===l){const h=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+i*h},${l}Q ${s},${l} ${s},${l+i*f}`}const c=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${s},${l+i*u}Q ${s},${l} ${s+i*c},${l}`}function Vb({sourceX:t,sourceY:e,sourcePosition:n=Rt.Bottom,targetX:r,targetY:i,targetPosition:s=Rt.Top,borderRadius:l=5,centerX:c,centerY:u,offset:h=20,stepPosition:f=.5}){const[p,m,y,x,v]=CZ({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:c,y:u},offset:h,stepPosition:f});return[p.reduce((_,E,T)=>{let A="";return T>0&&T<p.length-1?A=_Z(p[T-1],E,p[T+1],l):A=`${T===0?"M":"L"}${E.x} ${E.y}`,_+=A,_},""),m,y,x,v]}function lE(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function TZ(t){const{sourceNode:e,targetNode:n}=t;if(!lE(e)||!lE(n))return null;const r=e.internals.handleBounds||cE(e.handles),i=n.internals.handleBounds||cE(n.handles),s=uE(r?.source??[],t.sourceHandle),l=uE(t.connectionMode===Ql.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!l)return t.onError?.("008",Hi.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const c=s?.position||Rt.Bottom,u=l?.position||Rt.Top,h=vo(e,s,c),f=vo(n,l,u);return{sourceX:h.x,sourceY:h.y,targetX:f.x,targetY:f.y,sourcePosition:c,targetPosition:u}}function cE(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function vo(t,e,n=Rt.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:l,height:c}=e??Aa(t);if(r)return{x:i+l/2,y:s+c/2};switch(e?.position??n){case Rt.Top:return{x:i+l/2,y:s};case Rt.Right:return{x:i+l,y:s+c/2};case Rt.Bottom:return{x:i+l/2,y:s+c};case Rt.Left:return{x:i,y:s+c/2}}}function uE(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function qb(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function kZ(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((l,c)=>([c.markerStart||r,c.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const h=qb(u,e);s.has(h)||(l.push({id:h,color:u.color||n,...u}),s.add(h))}}),l),[]).sort((l,c)=>l.id.localeCompare(c.id))}const _L=1e3,EZ=10,I1={nodeOrigin:[0,0],nodeExtent:gh,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},AZ={...I1,checkEquality:!0};function H1(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function MZ(t,e,n){const r=H1(I1,n);for(const i of t.values())if(i.parentId)q1(i,t,e,r);else{const s=Wh(i,r.nodeOrigin),l=ec(i.extent)?i.extent:r.nodeExtent,c=bo(s,l,Aa(i));i.internals.positionAbsolute=c}}function DZ(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function V1(t){return t==="manual"}function Ub(t,e,n,r={}){const i=H1(AZ,r),s={i:0},l=new Map(e),c=i?.elevateNodesOnSelect&&!V1(i.zIndexMode)?_L:0;let u=t.length>0;e.clear(),n.clear();for(const h of t){let f=l.get(h.id);if(i.checkEquality&&h===f?.internals.userNode)e.set(h.id,f);else{const p=Wh(h,i.nodeOrigin),m=ec(h.extent)?h.extent:i.nodeExtent,y=bo(p,m,Aa(h));f={...i.defaults,...h,measured:{width:h.measured?.width,height:h.measured?.height},internals:{positionAbsolute:y,handleBounds:DZ(h,f),z:TL(h,c,i.zIndexMode),userNode:h}},e.set(h.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(u=!1),h.parentId&&q1(f,e,n,r,s)}return u}function NZ(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function q1(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:l,nodeExtent:c,zIndexMode:u}=H1(I1,r),h=t.parentId,f=e.get(h);if(!f){console.warn(`Parent node ${h} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}NZ(t,n),i&&!f.parentId&&f.internals.rootParentIndex===void 0&&u==="auto"&&(f.internals.rootParentIndex=++i.i,f.internals.z=f.internals.z+i.i*EZ),i&&f.internals.rootParentIndex!==void 0&&(i.i=f.internals.rootParentIndex);const p=s&&!V1(u)?_L:0,{x:m,y,z:x}=LZ(t,f,l,c,p,u),{positionAbsolute:v}=t.internals,S=m!==v.x||y!==v.y;(S||x!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:S?{x:m,y}:v,z:x}})}function TL(t,e,n){const r=mi(t.zIndex)?t.zIndex:0;return V1(n)?r:r+(t.selected?e:0)}function LZ(t,e,n,r,i,s){const{x:l,y:c}=e.internals.positionAbsolute,u=Aa(t),h=Wh(t,n),f=ec(t.extent)?bo(h,t.extent,u):h;let p=bo({x:l+f.x,y:c+f.y},r,u);t.extent==="parent"&&(p=dL(p,u,e));const m=TL(t,i,s),y=e.internals.z??0;return{x:p.x,y:p.y,z:y>=m?y+1:m}}function U1(t,e,n,r=[0,0]){const i=[],s=new Map;for(const l of t){const c=e.get(l.parentId);if(!c)continue;const u=s.get(l.parentId)?.expandedRect??tc(c),h=pL(u,l.rect);s.set(l.parentId,{expandedRect:h,parent:c})}return s.size>0&&s.forEach(({expandedRect:l,parent:c},u)=>{const h=c.internals.positionAbsolute,f=Aa(c),p=c.origin??r,m=l.x<h.x?Math.round(Math.abs(h.x-l.x)):0,y=l.y<h.y?Math.round(Math.abs(h.y-l.y)):0,x=Math.max(f.width,Math.round(l.width)),v=Math.max(f.height,Math.round(l.height)),S=(x-f.width)*p[0],_=(v-f.height)*p[1];(m>0||y>0||S||_)&&(i.push({id:u,type:"position",position:{x:c.position.x-m+S,y:c.position.y-y+_}}),n.get(u)?.forEach(E=>{t.some(T=>T.id===E.id)||i.push({id:E.id,type:"position",position:{x:E.position.x+m,y:E.position.y+y}})})),(f.width<l.width||f.height<l.height||m||y)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(m?p[0]*m-S:0),height:v+(y?p[1]*y-_:0)}})}),i}function BZ(t,e,n,r,i,s,l){const c=r?.querySelector(".xyflow__viewport");let u=!1;if(!c)return{changes:[],updatedInternals:u};const h=[],f=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(f.transform),m=[];for(const y of t.values()){const x=e.get(y.id);if(!x)continue;if(x.hidden){e.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),u=!0;continue}const v=F1(y.nodeElement),S=x.measured.width!==v.width||x.measured.height!==v.height;if(!!(v.width&&v.height&&(S||!x.internals.handleBounds||y.force))){const E=y.nodeElement.getBoundingClientRect(),T=ec(x.extent)?x.extent:s;let{positionAbsolute:A}=x.internals;x.parentId&&x.extent==="parent"?A=dL(A,v,e.get(x.parentId)):T&&(A=bo(A,T,v));const D={...x,measured:v,internals:{...x.internals,positionAbsolute:A,handleBounds:{source:iE("source",y.nodeElement,E,p,x.id),target:iE("target",y.nodeElement,E,p,x.id)}}};e.set(x.id,D),x.parentId&&q1(D,e,n,{nodeOrigin:i,zIndexMode:l}),u=!0,S&&(h.push({id:x.id,type:"dimensions",dimensions:v}),x.expandParent&&x.parentId&&m.push({id:x.id,parentId:x.parentId,rect:tc(D,i)}))}}if(m.length>0){const y=U1(m,e,n,i);h.push(...y)}return{changes:h,updatedInternals:u}}async function RZ({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const l=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),c=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(c)}function hE(t,e,n,r,i,s){let l=i;const c=r.get(l)||new Map;r.set(l,c.set(n,e)),l=`${i}-${t}`;const u=r.get(l)||new Map;if(r.set(l,u.set(n,e)),s){l=`${i}-${t}-${s}`;const h=r.get(l)||new Map;r.set(l,h.set(n,e))}}function kL(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:l=null,targetHandle:c=null}=r,u={edgeId:r.id,source:i,target:s,sourceHandle:l,targetHandle:c},h=`${i}-${l}--${s}-${c}`,f=`${s}-${c}--${i}-${l}`;hE("source",u,f,t,i,l),hE("target",u,h,t,s,c),e.set(r.id,r)}}function EL(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:EL(n,e):!1}function dE(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function OZ(t,e,n,r){const i=new Map;for(const[s,l]of t)if((l.selected||l.id===r)&&(!l.parentId||!EL(l,t))&&(l.draggable||e&&typeof l.draggable>"u")){const c=t.get(s);c&&i.set(s,{id:s,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return i}function _x({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[l,c]of e){const u=n.get(l)?.internals.userNode;u&&i.push({...u,position:c.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function jZ({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},l=Gh(s,e);return{x:l.x-s.x,y:l.y-s.y}}function $Z({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},l=0,c=new Map,u=!1,h={x:0,y:0},f=null,p=!1,m=null,y=!1,x=!1,v=null;function S({noDragClassName:E,handleSelector:T,domNode:A,isSelectable:D,nodeId:B,nodeClickDistance:L=0}){m=qt(A);function z({x:X,y:Z}){const{nodeLookup:$,nodeExtent:q,snapGrid:R,snapToGrid:F,nodeOrigin:j,onNodeDrag:W,onSelectionDrag:Q,onError:I,updateNodePositions:P}=e();s={x:X,y:Z};let G=!1;const J=c.size>1,nt=J&&q?Hb(Yh(c)):null,ct=J&&F?jZ({dragItems:c,snapGrid:R,x:X,y:Z}):null;for(const[ut,ht]of c){if(!$.has(ut))continue;let pt={x:X-ht.distance.x,y:Z-ht.distance.y};F&&(pt=ct?{x:Math.round(pt.x+ct.x),y:Math.round(pt.y+ct.y)}:Gh(pt,R));let yt=null;if(J&&q&&!ht.extent&&nt){const{positionAbsolute:Et}=ht.internals,zt=Et.x-nt.x+q[0][0],Zt=Et.x+ht.measured.width-nt.x2+q[1][0],Xt=Et.y-nt.y+q[0][1],Se=Et.y+ht.measured.height-nt.y2+q[1][1];yt=[[zt,Xt],[Zt,Se]]}const{position:Lt,positionAbsolute:vt}=hL({nodeId:ut,nextPosition:pt,nodeLookup:$,nodeExtent:yt||q,nodeOrigin:j,onError:I});G=G||ht.position.x!==Lt.x||ht.position.y!==Lt.y,ht.position=Lt,ht.internals.positionAbsolute=vt}if(x=x||G,!!G&&(P(c,!0),v&&(r||W||!B&&Q))){const[ut,ht]=_x({nodeId:B,dragItems:c,nodeLookup:$});r?.(v,c,ut,ht),W?.(v,ut,ht),B||Q?.(v,ht)}}async function V(){if(!f)return;const{transform:X,panBy:Z,autoPanSpeed:$,autoPanOnNodeDrag:q}=e();if(!q){u=!1,cancelAnimationFrame(l);return}const[R,F]=fL(h,f,$);(R!==0||F!==0)&&(s.x=(s.x??0)-R/X[2],s.y=(s.y??0)-F/X[2],await Z({x:R,y:F})&&z(s)),l=requestAnimationFrame(V)}function Y(X){const{nodeLookup:Z,multiSelectionActive:$,nodesDraggable:q,transform:R,snapGrid:F,snapToGrid:j,selectNodesOnDrag:W,onNodeDragStart:Q,onSelectionDragStart:I,unselectNodesAndEdges:P}=e();p=!0,(!W||!D)&&!$&&B&&(Z.get(B)?.selected||P()),D&&W&&B&&t?.(B);const G=Wu(X.sourceEvent,{transform:R,snapGrid:F,snapToGrid:j,containerBounds:f});if(s=G,c=OZ(Z,q,G,B),c.size>0&&(n||Q||!B&&I)){const[J,nt]=_x({nodeId:B,dragItems:c,nodeLookup:Z});n?.(X.sourceEvent,c,J,nt),Q?.(X.sourceEvent,J,nt),B||I?.(X.sourceEvent,nt)}}const U=V3().clickDistance(L).on("start",X=>{const{domNode:Z,nodeDragThreshold:$,transform:q,snapGrid:R,snapToGrid:F}=e();f=Z?.getBoundingClientRect()||null,y=!1,x=!1,v=X.sourceEvent,$===0&&Y(X),s=Wu(X.sourceEvent,{transform:q,snapGrid:R,snapToGrid:F,containerBounds:f}),h=yi(X.sourceEvent,f)}).on("drag",X=>{const{autoPanOnNodeDrag:Z,transform:$,snapGrid:q,snapToGrid:R,nodeDragThreshold:F,nodeLookup:j}=e(),W=Wu(X.sourceEvent,{transform:$,snapGrid:q,snapToGrid:R,containerBounds:f});if(v=X.sourceEvent,(X.sourceEvent.type==="touchmove"&&X.sourceEvent.touches.length>1||B&&!j.has(B))&&(y=!0),!y){if(!u&&Z&&p&&(u=!0,V()),!p){const Q=yi(X.sourceEvent,f),I=Q.x-h.x,P=Q.y-h.y;Math.sqrt(I*I+P*P)>F&&Y(X)}(s.x!==W.xSnapped||s.y!==W.ySnapped)&&c&&p&&(h=yi(X.sourceEvent,f),z(W))}}).on("end",X=>{if(!(!p||y)&&(u=!1,p=!1,cancelAnimationFrame(l),c.size>0)){const{nodeLookup:Z,updateNodePositions:$,onNodeDragStop:q,onSelectionDragStop:R}=e();if(x&&($(c,!1),x=!1),i||q||!B&&R){const[F,j]=_x({nodeId:B,dragItems:c,nodeLookup:Z,dragging:!1});i?.(X.sourceEvent,c,F,j),q?.(X.sourceEvent,F,j),B||R?.(X.sourceEvent,j)}}}).filter(X=>{const Z=X.target;return!X.button&&(!E||!dE(Z,`.${E}`,A))&&(!T||dE(Z,T,A))});m.call(U)}function _(){m?.on(".drag",null)}return{update:S,destroy:_}}function zZ(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())yh(i,tc(s))>0&&r.push(s);return r}const PZ=250;function FZ(t,e,n,r){let i=[],s=1/0;const l=zZ(t,n,e+PZ);for(const c of l){const u=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const h of u){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:p}=vo(c,h,h.position,!0),m=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(p-t.y,2));m>e||(m<s?(i=[{...h,x:f,y:p}],s=m):m===s&&i.push({...h,x:f,y:p}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(u=>u.type===c)??i[0]}return i[0]}function AL(t,e,n,r,i,s=!1){const l=r.get(t);if(!l)return null;const c=i==="strict"?l.internals.handleBounds?.[e]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],u=(n?c?.find(h=>h.id===n):c?.[0])??null;return u&&s?{...u,...vo(l,u,u.position,!0)}:u}function ML(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function IZ(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const DL=()=>!0;function HZ(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:l,domNode:c,nodeLookup:u,lib:h,autoPanOnConnect:f,flowId:p,panBy:m,cancelConnection:y,onConnectStart:x,onConnect:v,onConnectEnd:S,isValidConnection:_=DL,onReconnectEnd:E,updateConnection:T,getTransform:A,getFromHandle:D,autoPanSpeed:B,dragThreshold:L=1,handleDomNode:z}){const V=yL(t.target);let Y=0,U;const{x:X,y:Z}=yi(t),$=ML(s,z),q=c?.getBoundingClientRect();let R=!1;if(!q||!$)return;const F=AL(i,$,r,u,e);if(!F)return;let j=yi(t,q),W=!1,Q=null,I=!1,P=null;function G(){if(!f||!q)return;const[Lt,vt]=fL(j,q,B);m({x:Lt,y:vt}),Y=requestAnimationFrame(G)}const J={...F,nodeId:i,type:$,position:F.position},nt=u.get(i);let ut={inProgress:!0,isValid:null,from:vo(nt,J,Rt.Left,!0),fromHandle:J,fromPosition:J.position,fromNode:nt,to:j,toHandle:null,toPosition:tE[J.position],toNode:null,pointer:j};function ht(){R=!0,T(ut),x?.(t,{nodeId:i,handleId:r,handleType:$})}L===0&&ht();function pt(Lt){if(!R){const{x:Se,y:hn}=yi(Lt),We=Se-X,Ve=hn-Z;if(!(We*We+Ve*Ve>L*L))return;ht()}if(!D()||!J){yt(Lt);return}const vt=A();j=yi(Lt,q),U=FZ(Xh(j,vt,!1,[1,1]),n,u,J),W||(G(),W=!0);const Et=NL(Lt,{handle:U,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:l?"target":"source",isValidConnection:_,doc:V,lib:h,flowId:p,nodeLookup:u});P=Et.handleDomNode,Q=Et.connection,I=IZ(!!U,Et.isValid);const zt=u.get(i),Zt=zt?vo(zt,J,Rt.Left,!0):ut.from,Xt={...ut,from:Zt,isValid:I,to:Et.toHandle&&I?Gp({x:Et.toHandle.x,y:Et.toHandle.y},vt):j,toHandle:Et.toHandle,toPosition:I&&Et.toHandle?Et.toHandle.position:tE[J.position],toNode:Et.toHandle?u.get(Et.toHandle.nodeId):null,pointer:j};T(Xt),ut=Xt}function yt(Lt){if(!("touches"in Lt&&Lt.touches.length>0)){if(R){(U||P)&&Q&&I&&v?.(Q);const{inProgress:vt,...Et}=ut,zt={...Et,toPosition:ut.toHandle?ut.toPosition:null};S?.(Lt,zt),s&&E?.(Lt,zt)}y(),cancelAnimationFrame(Y),W=!1,I=!1,Q=null,P=null,V.removeEventListener("mousemove",pt),V.removeEventListener("mouseup",yt),V.removeEventListener("touchmove",pt),V.removeEventListener("touchend",yt)}}V.addEventListener("mousemove",pt),V.addEventListener("mouseup",yt),V.addEventListener("touchmove",pt),V.addEventListener("touchend",yt)}function NL(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:l,lib:c,flowId:u,isValidConnection:h=DL,nodeLookup:f}){const p=s==="target",m=e?l.querySelector(`.${c}-flow__handle[data-id="${u}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:y,y:x}=yi(t),v=l.elementFromPoint(y,x),S=v?.classList.contains(`${c}-flow__handle`)?v:m,_={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const E=ML(void 0,S),T=S.getAttribute("data-nodeid"),A=S.getAttribute("data-handleid"),D=S.classList.contains("connectable"),B=S.classList.contains("connectableend");if(!T||!E)return _;const L={source:p?T:r,sourceHandle:p?A:i,target:p?r:T,targetHandle:p?i:A};_.connection=L;const V=D&&B&&(n===Ql.Strict?p&&E==="source"||!p&&E==="target":T!==r||A!==i);_.isValid=V&&h(L),_.toHandle=AL(T,E,A,f,n,!0)}return _}const Wb={onPointerDown:HZ,isValid:NL};function VZ({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=qt(t);function s({translateExtent:c,width:u,height:h,zoomStep:f=1,pannable:p=!0,zoomable:m=!0,inversePan:y=!1}){const x=T=>{if(T.sourceEvent.type!=="wheel"||!e)return;const A=n(),D=T.sourceEvent.ctrlKey&&xh()?10:1,B=-T.sourceEvent.deltaY*(T.sourceEvent.deltaMode===1?.05:T.sourceEvent.deltaMode?1:.002)*f,L=A[2]*Math.pow(2,B*D);e.scaleTo(L)};let v=[0,0];const S=T=>{(T.sourceEvent.type==="mousedown"||T.sourceEvent.type==="touchstart")&&(v=[T.sourceEvent.clientX??T.sourceEvent.touches[0].clientX,T.sourceEvent.clientY??T.sourceEvent.touches[0].clientY])},_=T=>{const A=n();if(T.sourceEvent.type!=="mousemove"&&T.sourceEvent.type!=="touchmove"||!e)return;const D=[T.sourceEvent.clientX??T.sourceEvent.touches[0].clientX,T.sourceEvent.clientY??T.sourceEvent.touches[0].clientY],B=[D[0]-v[0],D[1]-v[1]];v=D;const L=r()*Math.max(A[2],Math.log(A[2]))*(y?-1:1),z={x:A[0]-B[0]*L,y:A[1]-B[1]*L},V=[[0,0],[u,h]];e.setViewportConstrained({x:z.x,y:z.y,zoom:A[2]},V,c)},E=aL().on("start",S).on("zoom",p?_:null).on("zoom.wheel",m?x:null);i.call(E,{})}function l(){i.on("zoom",null)}return{update:s,destroy:l,pointer:hi}}const Jg=t=>({x:t.x,y:t.y,zoom:t.k}),Tx=({x:t,y:e,zoom:n})=>Zg.translate(t,e).scale(n),Dl=(t,e)=>t.target.closest(`.${e}`),LL=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),qZ=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,kx=(t,e=0,n=qZ,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},BL=t=>{const e=t.ctrlKey&&xh()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function UZ({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:l,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:h}){return f=>{if(Dl(f,e))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(f.ctrlKey&&l){const S=hi(f),_=BL(f),E=p*Math.pow(2,_);r.scaleTo(n,E,S,f);return}const m=f.deltaMode===1?20:1;let y=i===fo.Vertical?0:f.deltaX*m,x=i===fo.Horizontal?0:f.deltaY*m;!xh()&&f.shiftKey&&i!==fo.Vertical&&(y=f.deltaY*m,x=0),r.translateBy(n,-(y/p)*s,-(x/p)*s,{internal:!0});const v=Jg(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(u?.(f,v),t.panScrollTimeout=setTimeout(()=>{h?.(f,v),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,c?.(f,v))}}function WZ({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",l=!e&&s&&!r.ctrlKey,c=Dl(r,t);if(r.ctrlKey&&s&&c&&r.preventDefault(),l||c)return null;r.preventDefault(),n.call(this,r,i)}}function YZ({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Jg(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function GZ({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&LL(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,Jg(s.transform))}}function XZ({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return l=>{if(!l.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&LL(e,t.mouseButton??0)&&!t.usedRightMouseButton&&l.sourceEvent&&s(l.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const c=Jg(l.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(l.sourceEvent,c)},n?150:0)}}}function ZZ({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:l,noWheelClassName:c,noPanClassName:u,lib:h,connectionInProgress:f}){return p=>{const m=t||e,y=n&&p.ctrlKey,x=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Dl(p,`${h}-flow__node`)||Dl(p,`${h}-flow__edge`)))return!0;if(!r&&!m&&!i&&!s&&!n||l||f&&!x||Dl(p,c)&&x||Dl(p,u)&&(!x||i&&x&&!t)||!n&&p.ctrlKey&&x)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!m&&!i&&!y&&x||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||x)&&v}}function KZ({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:u}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=t.getBoundingClientRect(),p=aL().scaleExtent([e,n]).translateExtent(r),m=qt(t).call(p);E({x:i.x,y:i.y,zoom:Jl(i.zoom,e,n)},[[0,0],[f.width,f.height]],r);const y=m.on("wheel.zoom"),x=m.on("dblclick.zoom");p.wheelDelta(BL);function v(U,X){return m?new Promise(Z=>{p?.interpolate(X?.interpolate==="linear"?Uu:lp).transform(kx(m,X?.duration,X?.ease,()=>Z(!0)),U)}):Promise.resolve(!1)}function S({noWheelClassName:U,noPanClassName:X,onPaneContextMenu:Z,userSelectionActive:$,panOnScroll:q,panOnDrag:R,panOnScrollMode:F,panOnScrollSpeed:j,preventScrolling:W,zoomOnPinch:Q,zoomOnScroll:I,zoomOnDoubleClick:P,zoomActivationKeyPressed:G,lib:J,onTransformChange:nt,connectionInProgress:ct,paneClickDistance:ut,selectionOnDrag:ht}){$&&!h.isZoomingOrPanning&&_();const pt=q&&!G&&!$;p.clickDistance(ht?1/0:!mi(ut)||ut<0?0:ut);const yt=pt?UZ({zoomPanValues:h,noWheelClassName:U,d3Selection:m,d3Zoom:p,panOnScrollMode:F,panOnScrollSpeed:j,zoomOnPinch:Q,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:c}):WZ({noWheelClassName:U,preventScrolling:W,d3ZoomHandler:y});if(m.on("wheel.zoom",yt,{passive:!1}),!$){const vt=YZ({zoomPanValues:h,onDraggingChange:u,onPanZoomStart:l});p.on("start",vt);const Et=GZ({zoomPanValues:h,panOnDrag:R,onPaneContextMenu:!!Z,onPanZoom:s,onTransformChange:nt});p.on("zoom",Et);const zt=XZ({zoomPanValues:h,panOnDrag:R,panOnScroll:q,onPaneContextMenu:Z,onPanZoomEnd:c,onDraggingChange:u});p.on("end",zt)}const Lt=ZZ({zoomActivationKeyPressed:G,panOnDrag:R,zoomOnScroll:I,panOnScroll:q,zoomOnDoubleClick:P,zoomOnPinch:Q,userSelectionActive:$,noPanClassName:X,noWheelClassName:U,lib:J,connectionInProgress:ct});p.filter(Lt),P?m.on("dblclick.zoom",x):m.on("dblclick.zoom",null)}function _(){p.on("zoom",null)}async function E(U,X,Z){const $=Tx(U),q=p?.constrain()($,X,Z);return q&&await v(q),new Promise(R=>R(q))}async function T(U,X){const Z=Tx(U);return await v(Z,X),new Promise($=>$(Z))}function A(U){if(m){const X=Tx(U),Z=m.property("__zoom");(Z.k!==U.zoom||Z.x!==U.x||Z.y!==U.y)&&p?.transform(m,X,null,{sync:!0})}}function D(){const U=m?iL(m.node()):{x:0,y:0,k:1};return{x:U.x,y:U.y,zoom:U.k}}function B(U,X){return m?new Promise(Z=>{p?.interpolate(X?.interpolate==="linear"?Uu:lp).scaleTo(kx(m,X?.duration,X?.ease,()=>Z(!0)),U)}):Promise.resolve(!1)}function L(U,X){return m?new Promise(Z=>{p?.interpolate(X?.interpolate==="linear"?Uu:lp).scaleBy(kx(m,X?.duration,X?.ease,()=>Z(!0)),U)}):Promise.resolve(!1)}function z(U){p?.scaleExtent(U)}function V(U){p?.translateExtent(U)}function Y(U){const X=!mi(U)||U<0?0:U;p?.clickDistance(X)}return{update:S,destroy:_,setViewport:T,setViewportConstrained:E,getViewport:D,scaleTo:B,scaleBy:L,setScaleExtent:z,setTranslateExtent:V,syncViewport:A,setClickDistance:Y}}var nc;(function(t){t.Line="line",t.Handle="handle"})(nc||(nc={}));function QZ({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const l=t-e,c=n-r,u=[l>0?1:l<0?-1:0,c>0?1:c<0?-1:0];return l&&i&&(u[0]=u[0]*-1),c&&s&&(u[1]=u[1]*-1),u}function fE(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function es(t,e){return Math.max(0,e-t)}function ns(t,e){return Math.max(0,t-e)}function zf(t,e,n){return Math.max(0,e-t,t-n)}function pE(t,e){return t?!e:e}function JZ(t,e,n,r,i,s,l,c){let{affectsX:u,affectsY:h}=e;const{isHorizontal:f,isVertical:p}=e,m=f&&p,{xSnapped:y,ySnapped:x}=n,{minWidth:v,maxWidth:S,minHeight:_,maxHeight:E}=r,{x:T,y:A,width:D,height:B,aspectRatio:L}=t;let z=Math.floor(f?y-t.pointerX:0),V=Math.floor(p?x-t.pointerY:0);const Y=D+(u?-z:z),U=B+(h?-V:V),X=-s[0]*D,Z=-s[1]*B;let $=zf(Y,v,S),q=zf(U,_,E);if(l){let j=0,W=0;u&&z<0?j=es(T+z+X,l[0][0]):!u&&z>0&&(j=ns(T+Y+X,l[1][0])),h&&V<0?W=es(A+V+Z,l[0][1]):!h&&V>0&&(W=ns(A+U+Z,l[1][1])),$=Math.max($,j),q=Math.max(q,W)}if(c){let j=0,W=0;u&&z>0?j=ns(T+z,c[0][0]):!u&&z<0&&(j=es(T+Y,c[1][0])),h&&V>0?W=ns(A+V,c[0][1]):!h&&V<0&&(W=es(A+U,c[1][1])),$=Math.max($,j),q=Math.max(q,W)}if(i){if(f){const j=zf(Y/L,_,E)*L;if($=Math.max($,j),l){let W=0;!u&&!h||u&&!h&&m?W=ns(A+Z+Y/L,l[1][1])*L:W=es(A+Z+(u?z:-z)/L,l[0][1])*L,$=Math.max($,W)}if(c){let W=0;!u&&!h||u&&!h&&m?W=es(A+Y/L,c[1][1])*L:W=ns(A+(u?z:-z)/L,c[0][1])*L,$=Math.max($,W)}}if(p){const j=zf(U*L,v,S)/L;if(q=Math.max(q,j),l){let W=0;!u&&!h||h&&!u&&m?W=ns(T+U*L+X,l[1][0])/L:W=es(T+(h?V:-V)*L+X,l[0][0])/L,q=Math.max(q,W)}if(c){let W=0;!u&&!h||h&&!u&&m?W=es(T+U*L,c[1][0])/L:W=ns(T+(h?V:-V)*L,c[0][0])/L,q=Math.max(q,W)}}}V=V+(V<0?q:-q),z=z+(z<0?$:-$),i&&(m?Y>U*L?V=(pE(u,h)?-z:z)/L:z=(pE(u,h)?-V:V)*L:f?(V=z/L,h=u):(z=V*L,u=h));const R=u?T+z:T,F=h?A+V:A;return{width:D+(u?-z:z),height:B+(h?-V:V),x:s[0]*z*(u?-1:1)+R,y:s[1]*V*(h?-1:1)+F}}const RL={width:0,height:0,x:0,y:0},tK={...RL,pointerX:0,pointerY:0,aspectRatio:1};function eK(t){return[[0,0],[t.measured.width,t.measured.height]]}function nK(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,l=t.measured.height??0,c=n[0]*s,u=n[1]*l;return[[r-c,i-u],[r+s-c,i+l-u]]}function rK({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=qt(t);let l={controlDirection:fE("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:h,boundaries:f,keepAspectRatio:p,resizeDirection:m,onResizeStart:y,onResize:x,onResizeEnd:v,shouldResize:S}){let _={...RL},E={...tK};l={boundaries:f,resizeDirection:m,keepAspectRatio:p,controlDirection:fE(h)};let T,A=null,D=[],B,L,z,V=!1;const Y=V3().on("start",U=>{const{nodeLookup:X,transform:Z,snapGrid:$,snapToGrid:q,nodeOrigin:R,paneDomNode:F}=n();if(T=X.get(e),!T)return;A=F?.getBoundingClientRect()??null;const{xSnapped:j,ySnapped:W}=Wu(U.sourceEvent,{transform:Z,snapGrid:$,snapToGrid:q,containerBounds:A});_={width:T.measured.width??0,height:T.measured.height??0,x:T.position.x??0,y:T.position.y??0},E={..._,pointerX:j,pointerY:W,aspectRatio:_.width/_.height},B=void 0,T.parentId&&(T.extent==="parent"||T.expandParent)&&(B=X.get(T.parentId),L=B&&T.extent==="parent"?eK(B):void 0),D=[],z=void 0;for(const[Q,I]of X)if(I.parentId===e&&(D.push({id:Q,position:{...I.position},extent:I.extent}),I.extent==="parent"||I.expandParent)){const P=nK(I,T,I.origin??R);z?z=[[Math.min(P[0][0],z[0][0]),Math.min(P[0][1],z[0][1])],[Math.max(P[1][0],z[1][0]),Math.max(P[1][1],z[1][1])]]:z=P}y?.(U,{..._})}).on("drag",U=>{const{transform:X,snapGrid:Z,snapToGrid:$,nodeOrigin:q}=n(),R=Wu(U.sourceEvent,{transform:X,snapGrid:Z,snapToGrid:$,containerBounds:A}),F=[];if(!T)return;const{x:j,y:W,width:Q,height:I}=_,P={},G=T.origin??q,{width:J,height:nt,x:ct,y:ut}=JZ(E,l.controlDirection,R,l.boundaries,l.keepAspectRatio,G,L,z),ht=J!==Q,pt=nt!==I,yt=ct!==j&&ht,Lt=ut!==W&&pt;if(!yt&&!Lt&&!ht&&!pt)return;if((yt||Lt||G[0]===1||G[1]===1)&&(P.x=yt?ct:_.x,P.y=Lt?ut:_.y,_.x=P.x,_.y=P.y,D.length>0)){const Zt=ct-j,Xt=ut-W;for(const Se of D)Se.position={x:Se.position.x-Zt+G[0]*(J-Q),y:Se.position.y-Xt+G[1]*(nt-I)},F.push(Se)}if((ht||pt)&&(P.width=ht&&(!l.resizeDirection||l.resizeDirection==="horizontal")?J:_.width,P.height=pt&&(!l.resizeDirection||l.resizeDirection==="vertical")?nt:_.height,_.width=P.width,_.height=P.height),B&&T.expandParent){const Zt=G[0]*(P.width??0);P.x&&P.x<Zt&&(_.x=Zt,E.x=E.x-(P.x-Zt));const Xt=G[1]*(P.height??0);P.y&&P.y<Xt&&(_.y=Xt,E.y=E.y-(P.y-Xt))}const vt=QZ({width:_.width,prevWidth:Q,height:_.height,prevHeight:I,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),Et={..._,direction:vt};S?.(U,Et)!==!1&&(V=!0,x?.(U,Et),r(P,F))}).on("end",U=>{V&&(v?.(U,{..._}),i?.({..._}),V=!1)});s.call(Y)}function u(){s.on(".drag",null)}return{update:c,destroy:u}}var Ex={exports:{}},Ax={},Mx={exports:{}},Dx={};var gE;function iK(){if(gE)return Dx;gE=1;var t=Nh();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,m){var y=m(),x=r({inst:{value:y,getSnapshot:m}}),v=x[0].inst,S=x[1];return s(function(){v.value=y,v.getSnapshot=m,u(v)&&S({inst:v})},[p,y,m]),i(function(){return u(v)&&S({inst:v}),p(function(){u(v)&&S({inst:v})})},[p]),l(y),y}function u(p){var m=p.getSnapshot;p=p.value;try{var y=m();return!n(p,y)}catch{return!0}}function h(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Dx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Dx}var mE;function aK(){return mE||(mE=1,Mx.exports=iK()),Mx.exports}var yE;function sK(){if(yE)return Ax;yE=1;var t=Nh(),e=aK();function n(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,u=t.useDebugValue;return Ax.useSyncExternalStoreWithSelector=function(h,f,p,m,y){var x=s(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=c(function(){function _(B){if(!E){if(E=!0,T=B,B=m(B),y!==void 0&&v.hasValue){var L=v.value;if(y(L,B))return A=L}return A=B}if(L=A,r(T,B))return L;var z=m(B);return y!==void 0&&y(L,z)?(T=B,L):(T=B,A=z)}var E=!1,T,A,D=p===void 0?null:p;return[function(){return _(f())},D===null?void 0:function(){return _(D())}]},[f,p,m,y]);var S=i(h,x[0],x[1]);return l(function(){v.hasValue=!0,v.value=S},[S]),u(S),S},Ax}var xE;function oK(){return xE||(xE=1,Ex.exports=sK()),Ex.exports}var lK=oK();const cK=Dh(lK),uK={},bE=t=>{let e;const n=new Set,r=(f,p)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const y=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(x=>x(e,y))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(uK?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=e=t(r,i,u);return u},hK=t=>t?bE(t):bE,{useDebugValue:dK}=re,{useSyncExternalStoreWithSelector:fK}=cK,pK=t=>t;function OL(t,e=pK,n){const r=fK(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return dK(r),r}const vE=(t,e)=>{const n=hK(t),r=(i,s=e)=>OL(n,i,s);return Object.assign(r,n),r},gK=(t,e)=>t?vE(t,e):vE;function Ie(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const tm=k.createContext(null),mK=tm.Provider,jL=Hi.error001();function oe(t,e){const n=k.useContext(tm);if(n===null)throw new Error(jL);return OL(n,t,e)}function He(){const t=k.useContext(tm);if(t===null)throw new Error(jL);return k.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const wE={display:"none"},yK={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},$L="react-flow__node-desc",zL="react-flow__edge-desc",xK="react-flow__aria-live",bK=t=>t.ariaLiveMessage,vK=t=>t.ariaLabelConfig;function wK({rfId:t}){const e=oe(bK);return C.jsx("div",{id:`${xK}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:yK,children:e})}function SK({rfId:t,disableKeyboardA11y:e}){const n=oe(vK);return C.jsxs(C.Fragment,{children:[C.jsx("div",{id:`${$L}-${t}`,style:wE,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),C.jsx("div",{id:`${zL}-${t}`,style:wE,children:n["edge.a11yDescription.default"]}),!e&&C.jsx(wK,{rfId:t})]})}const em=k.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const l=`${t}`.split("-");return C.jsx("div",{className:un(["react-flow__panel",n,...l]),style:r,ref:s,...i,children:e})});em.displayName="Panel";function CK({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:C.jsx(em,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:C.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const _K=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Pf=t=>t.id;function TK(t,e){return Ie(t.selectedNodes.map(Pf),e.selectedNodes.map(Pf))&&Ie(t.selectedEdges.map(Pf),e.selectedEdges.map(Pf))}function kK({onSelectionChange:t}){const e=He(),{selectedNodes:n,selectedEdges:r}=oe(_K,TK);return k.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const EK=t=>!!t.onSelectionChangeHandlers;function AK({onSelectionChange:t}){const e=oe(EK);return t||e?C.jsx(kK,{onSelectionChange:t}):null}const PL=[0,0],MK={x:0,y:0,zoom:1},DK=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],SE=[...DK,"rfId"],NK=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),CE={translateExtent:gh,nodeOrigin:PL,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function LK(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:l,reset:c,setDefaultNodesAndEdges:u}=oe(NK,Ie),h=He();k.useEffect(()=>(u(t.defaultNodes,t.defaultEdges),()=>{f.current=CE,c()}),[]);const f=k.useRef(CE);return k.useEffect(()=>{for(const p of SE){const m=t[p],y=f.current[p];m!==y&&(typeof t[p]>"u"||(p==="nodes"?e(m):p==="edges"?n(m):p==="minZoom"?r(m):p==="maxZoom"?i(m):p==="translateExtent"?s(m):p==="nodeExtent"?l(m):p==="ariaLabelConfig"?h.setState({ariaLabelConfig:gZ(m)}):p==="fitView"?h.setState({fitViewQueued:m}):p==="fitViewOptions"?h.setState({fitViewOptions:m}):h.setState({[p]:m})))}f.current=t},SE.map(p=>t[p])),null}function _E(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function BK(t){const[e,n]=k.useState(t==="system"?null:t);return k.useEffect(()=>{if(t!=="system"){n(t);return}const r=_E(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:_E()?.matches?"dark":"light"}const TE=typeof document<"u"?document:null;function bh(t=null,e={target:TE,actInsideInputWithModifier:!0}){const[n,r]=k.useState(!1),i=k.useRef(!1),s=k.useRef(new Set([])),[l,c]=k.useMemo(()=>{if(t!==null){const h=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=h.reduce((p,m)=>p.concat(...m),[]);return[h,f]}return[[],[]]},[t]);return k.useEffect(()=>{const u=e?.target??TE,h=e?.actInsideInputWithModifier??!0;if(t!==null){const f=y=>{if(i.current=y.ctrlKey||y.metaKey||y.shiftKey||y.altKey,(!i.current||i.current&&!h)&&xL(y))return!1;const v=EE(y.code,c);if(s.current.add(y[v]),kE(l,s.current,!1)){const S=y.composedPath?.()?.[0]||y.target,_=S?.nodeName==="BUTTON"||S?.nodeName==="A";e.preventDefault!==!1&&(i.current||!_)&&y.preventDefault(),r(!0)}},p=y=>{const x=EE(y.code,c);kE(l,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(y[x]),y.key==="Meta"&&s.current.clear(),i.current=!1},m=()=>{s.current.clear(),r(!1)};return u?.addEventListener("keydown",f),u?.addEventListener("keyup",p),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{u?.removeEventListener("keydown",f),u?.removeEventListener("keyup",p),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[t,r]),n}function kE(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function EE(t,e){return e.includes(t)?"code":"key"}const RK=()=>{const t=He();return k.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:l}=t.getState();return l?(await l.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:l,panZoom:c}=t.getState(),u=P1(e,r,i,s,l,n?.padding??.1);return c?(await c.setViewport(u,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:l}=t.getState();if(!l)return e;const{x:c,y:u}=l.getBoundingClientRect(),h={x:e.x-c,y:e.y-u},f=n.snapGrid??i,p=n.snapToGrid??s;return Xh(h,r,p,f)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),l=Gp(e,n);return{x:l.x+i,y:l.y+s}}}),[])};function FL(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const l=r.get(s.id);l?l.push(s):r.set(s.id,[s])}for(const s of e){const l=r.get(s.id);if(!l){n.push(s);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const c={...s};for(const u of l)OK(u,c);n.push(c)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function OK(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function IL(t,e){return FL(t,e)}function HL(t,e){return FL(t,e)}function Qs(t,e){return{id:t,type:"select",selected:e}}function Nl(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const l=e.has(i);!(s.selected===void 0&&!l)&&s.selected!==l&&(n&&(s.selected=l),r.push(Qs(s.id,l)))}return r}function AE({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const l=e.get(s.id),c=l?.internals?.userNode??l;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function ME(t){return{id:t.id,type:"remove"}}const DE=t=>aZ(t),jK=t=>uL(t);function VL(t){return k.forwardRef(t)}const $K=typeof window<"u"?k.useLayoutEffect:k.useEffect;function NE(t){const[e,n]=k.useState(BigInt(0)),[r]=k.useState(()=>zK(()=>n(i=>i+BigInt(1))));return $K(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function zK(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const qL=k.createContext(null);function PK({children:t}){const e=He(),n=k.useCallback(c=>{const{nodes:u=[],setNodes:h,hasDefaultNodes:f,onNodesChange:p,nodeLookup:m,fitViewQueued:y,onNodesChangeMiddlewareMap:x}=e.getState();let v=u;for(const _ of c)v=typeof _=="function"?_(v):_;let S=AE({items:v,lookup:m});for(const _ of x.values())S=_(S);f&&h(v),S.length>0?p?.(S):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:E,setNodes:T}=e.getState();_&&T(E)})},[]),r=NE(n),i=k.useCallback(c=>{const{edges:u=[],setEdges:h,hasDefaultEdges:f,onEdgesChange:p,edgeLookup:m}=e.getState();let y=u;for(const x of c)y=typeof x=="function"?x(y):x;f?h(y):p&&p(AE({items:y,lookup:m}))},[]),s=NE(i),l=k.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return C.jsx(qL.Provider,{value:l,children:t})}function FK(){const t=k.useContext(qL);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const IK=t=>!!t.panZoom;function W1(){const t=RK(),e=He(),n=FK(),r=oe(IK),i=k.useMemo(()=>{const s=p=>e.getState().nodeLookup.get(p),l=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},u=p=>{const{nodeLookup:m,nodeOrigin:y}=e.getState(),x=DE(p)?p:m.get(p.id),v=x.parentId?mL(x.position,x.measured,x.parentId,m,y):x.position,S={...x,position:v,width:x.measured?.width??x.width,height:x.measured?.height??x.height};return tc(S)},h=(p,m,y={replace:!1})=>{l(x=>x.map(v=>{if(v.id===p){const S=typeof m=="function"?m(v):m;return y.replace&&DE(S)?S:{...v,...S}}return v}))},f=(p,m,y={replace:!1})=>{c(x=>x.map(v=>{if(v.id===p){const S=typeof m=="function"?m(v):m;return y.replace&&jK(S)?S:{...v,...S}}return v}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>s(p)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(m=>({...m}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:l,setEdges:c,addNodes:p=>{const m=Array.isArray(p)?p:[p];n.nodeQueue.push(y=>[...y,...m])},addEdges:p=>{const m=Array.isArray(p)?p:[p];n.edgeQueue.push(y=>[...y,...m])},toObject:()=>{const{nodes:p=[],edges:m=[],transform:y}=e.getState(),[x,v,S]=y;return{nodes:p.map(_=>({..._})),edges:m.map(_=>({..._})),viewport:{x,y:v,zoom:S}}},deleteElements:async({nodes:p=[],edges:m=[]})=>{const{nodes:y,edges:x,onNodesDelete:v,onEdgesDelete:S,triggerNodeChanges:_,triggerEdgeChanges:E,onDelete:T,onBeforeDelete:A}=e.getState(),{nodes:D,edges:B}=await uZ({nodesToRemove:p,edgesToRemove:m,nodes:y,edges:x,onBeforeDelete:A}),L=B.length>0,z=D.length>0;if(L){const V=B.map(ME);S?.(B),E(V)}if(z){const V=D.map(ME);v?.(D),_(V)}return(z||L)&&T?.({nodes:D,edges:B}),{deletedNodes:D,deletedEdges:B}},getIntersectingNodes:(p,m=!0,y)=>{const x=nE(p),v=x?p:u(p),S=y!==void 0;return v?(y||e.getState().nodes).filter(_=>{const E=e.getState().nodeLookup.get(_.id);if(E&&!x&&(_.id===p.id||!E.internals.positionAbsolute))return!1;const T=tc(S?_:E),A=yh(T,v);return m&&A>0||A>=T.width*T.height||A>=v.width*v.height}):[]},isNodeIntersecting:(p,m,y=!0)=>{const v=nE(p)?p:u(p);if(!v)return!1;const S=yh(v,m);return y&&S>0||S>=m.width*m.height||S>=v.width*v.height},updateNode:h,updateNodeData:(p,m,y={replace:!1})=>{h(p,x=>{const v=typeof m=="function"?m(x):m;return y.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},y)},updateEdge:f,updateEdgeData:(p,m,y={replace:!1})=>{f(p,x=>{const v=typeof m=="function"?m(x):m;return y.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},y)},getNodesBounds:p=>{const{nodeLookup:m,nodeOrigin:y}=e.getState();return sZ(p,{nodeLookup:m,nodeOrigin:y})},getHandleConnections:({type:p,id:m,nodeId:y})=>Array.from(e.getState().connectionLookup.get(`${y}-${p}${m?`-${m}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:m,nodeId:y})=>Array.from(e.getState().connectionLookup.get(`${y}${p?m?`-${p}-${m}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const m=e.getState().fitViewResolver??pZ();return e.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:m}),n.nodeQueue.push(y=>[...y]),m.promise}}},[]);return k.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const LE=t=>t.selected,HK=typeof window<"u"?window:void 0;function VK({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=He(),{deleteElements:r}=W1(),i=bh(t,{actInsideInputWithModifier:!1}),s=bh(e,{target:HK});k.useEffect(()=>{if(i){const{edges:l,nodes:c}=n.getState();r({nodes:c.filter(LE),edges:l.filter(LE)}),n.setState({nodesSelectionActive:!1})}},[i]),k.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function qK(t){const e=He();k.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=F1(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",Hi.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const nm={position:"absolute",width:"100%",height:"100%",top:0,left:0},UK=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function WK({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=fo.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:u,translateExtent:h,minZoom:f,maxZoom:p,zoomActivationKeyCode:m,preventScrolling:y=!0,children:x,noWheelClassName:v,noPanClassName:S,onViewportChange:_,isControlledViewport:E,paneClickDistance:T,selectionOnDrag:A}){const D=He(),B=k.useRef(null),{userSelectionActive:L,lib:z,connectionInProgress:V}=oe(UK,Ie),Y=bh(m),U=k.useRef();qK(B);const X=k.useCallback(Z=>{_?.({x:Z[0],y:Z[1],zoom:Z[2]}),E||D.setState({transform:Z})},[_,E]);return k.useEffect(()=>{if(B.current){U.current=KZ({domNode:B.current,minZoom:f,maxZoom:p,translateExtent:h,viewport:u,onDraggingChange:R=>D.setState({paneDragging:R}),onPanZoomStart:(R,F)=>{const{onViewportChangeStart:j,onMoveStart:W}=D.getState();W?.(R,F),j?.(F)},onPanZoom:(R,F)=>{const{onViewportChange:j,onMove:W}=D.getState();W?.(R,F),j?.(F)},onPanZoomEnd:(R,F)=>{const{onViewportChangeEnd:j,onMoveEnd:W}=D.getState();W?.(R,F),j?.(F)}});const{x:Z,y:$,zoom:q}=U.current.getViewport();return D.setState({panZoom:U.current,transform:[Z,$,q],domNode:B.current.closest(".react-flow")}),()=>{U.current?.destroy()}}},[]),k.useEffect(()=>{U.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:Y,preventScrolling:y,noPanClassName:S,userSelectionActive:L,noWheelClassName:v,lib:z,onTransformChange:X,connectionInProgress:V,selectionOnDrag:A,paneClickDistance:T})},[t,e,n,r,i,s,l,c,Y,y,S,L,v,z,X,V,A,T]),C.jsx("div",{className:"react-flow__renderer",ref:B,style:nm,children:x})}const YK=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function GK(){const{userSelectionActive:t,userSelectionRect:e}=oe(YK,Ie);return t&&e?C.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const Nx=(t,e)=>n=>{n.target===e.current&&t?.(n)},XK=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function ZK({isSelecting:t,selectionKeyPressed:e,selectionMode:n=mh.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:l,onSelectionEnd:c,onPaneClick:u,onPaneContextMenu:h,onPaneScroll:f,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:y,children:x}){const v=He(),{userSelectionActive:S,elementsSelectable:_,dragging:E,connectionInProgress:T}=oe(XK,Ie),A=_&&(t||S),D=k.useRef(null),B=k.useRef(),L=k.useRef(new Set),z=k.useRef(new Set),V=k.useRef(!1),Y=j=>{if(V.current||T){V.current=!1;return}u?.(j),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},U=j=>{if(Array.isArray(r)&&r?.includes(2)){j.preventDefault();return}h?.(j)},X=f?j=>f(j):void 0,Z=j=>{V.current&&(j.stopPropagation(),V.current=!1)},$=j=>{const{domNode:W}=v.getState();if(B.current=W?.getBoundingClientRect(),!B.current)return;const Q=j.target===D.current;if(!Q&&!!j.target.closest(".nokey")||!t||!(s&&Q||e)||j.button!==0||!j.isPrimary)return;j.target?.setPointerCapture?.(j.pointerId),V.current=!1;const{x:G,y:J}=yi(j.nativeEvent,B.current);v.setState({userSelectionRect:{width:0,height:0,startX:G,startY:J,x:G,y:J}}),Q||(j.stopPropagation(),j.preventDefault())},q=j=>{const{userSelectionRect:W,transform:Q,nodeLookup:I,edgeLookup:P,connectionLookup:G,triggerNodeChanges:J,triggerEdgeChanges:nt,defaultEdgeOptions:ct,resetSelectedElements:ut}=v.getState();if(!B.current||!W)return;const{x:ht,y:pt}=yi(j.nativeEvent,B.current),{startX:yt,startY:Lt}=W;if(!V.current){const Xt=e?0:i;if(Math.hypot(ht-yt,pt-Lt)<=Xt)return;ut(),l?.(j)}V.current=!0;const vt={startX:yt,startY:Lt,x:ht<yt?ht:yt,y:pt<Lt?pt:Lt,width:Math.abs(ht-yt),height:Math.abs(pt-Lt)},Et=L.current,zt=z.current;L.current=new Set(z1(I,vt,Q,n===mh.Partial,!0).map(Xt=>Xt.id)),z.current=new Set;const Zt=ct?.selectable??!0;for(const Xt of L.current){const Se=G.get(Xt);if(Se)for(const{edgeId:hn}of Se.values()){const We=P.get(hn);We&&(We.selectable??Zt)&&z.current.add(hn)}}if(!rE(Et,L.current)){const Xt=Nl(I,L.current,!0);J(Xt)}if(!rE(zt,z.current)){const Xt=Nl(P,z.current);nt(Xt)}v.setState({userSelectionRect:vt,userSelectionActive:!0,nodesSelectionActive:!1})},R=j=>{j.button===0&&(j.target?.releasePointerCapture?.(j.pointerId),!S&&j.target===D.current&&v.getState().userSelectionRect&&Y?.(j),v.setState({userSelectionActive:!1,userSelectionRect:null}),V.current&&(c?.(j),v.setState({nodesSelectionActive:L.current.size>0})))},F=r===!0||Array.isArray(r)&&r.includes(0);return C.jsxs("div",{className:un(["react-flow__pane",{draggable:F,dragging:E,selection:t}]),onClick:A?void 0:Nx(Y,D),onContextMenu:Nx(U,D),onWheel:Nx(X,D),onPointerEnter:A?void 0:p,onPointerMove:A?q:m,onPointerUp:A?R:void 0,onPointerDownCapture:A?$:void 0,onClickCapture:A?Z:void 0,onPointerLeave:y,ref:D,style:nm,children:[x,C.jsx(GK,{})]})}function Yb({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:l,nodeLookup:c,onError:u}=e.getState(),h=c.get(t);if(!h){u?.("012",Hi.error012(t));return}e.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&l)&&(s({nodes:[h],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function UL({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:l}){const c=He(),[u,h]=k.useState(!1),f=k.useRef();return k.useEffect(()=>{f.current=$Z({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{Yb({id:p,store:c,nodeRef:t})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),k.useEffect(()=>{if(e)f.current?.destroy();else if(t.current)return f.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:l}),()=>{f.current?.destroy()}},[n,r,e,s,t,i]),u}const KK=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function WL(){const t=He();return k.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:l,onError:c,updateNodePositions:u,nodeLookup:h,nodeOrigin:f}=t.getState(),p=new Map,m=KK(l),y=i?s[0]:5,x=i?s[1]:5,v=n.direction.x*y*n.factor,S=n.direction.y*x*n.factor;for(const[,_]of h){if(!m(_))continue;let E={x:_.internals.positionAbsolute.x+v,y:_.internals.positionAbsolute.y+S};i&&(E=Gh(E,s));const{position:T,positionAbsolute:A}=hL({nodeId:_.id,nextPosition:E,nodeLookup:h,nodeExtent:r,nodeOrigin:f,onError:c});_.position=T,_.internals.positionAbsolute=A,p.set(_.id,_)}u(p)},[])}const Y1=k.createContext(null),QK=Y1.Provider;Y1.Consumer;const YL=()=>k.useContext(Y1),JK=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),tQ=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:l}=r,{fromHandle:c,toHandle:u,isValid:h}=l,f=u?.nodeId===t&&u?.id===e&&u?.type===n;return{connectingFrom:c?.nodeId===t&&c?.id===e&&c?.type===n,connectingTo:f,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===Ql.Strict?c?.type!==n:t!==c?.nodeId||e!==c?.id,connectionInProcess:!!c,clickConnectionInProcess:!!i,valid:f&&h}};function eQ({type:t="source",position:e=Rt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:l,onConnect:c,children:u,className:h,onMouseDown:f,onTouchStart:p,...m},y){const x=l||null,v=t==="target",S=He(),_=YL(),{connectOnClick:E,noPanClassName:T,rfId:A}=oe(JK,Ie),{connectingFrom:D,connectingTo:B,clickConnecting:L,isPossibleEndHandle:z,connectionInProcess:V,clickConnectionInProcess:Y,valid:U}=oe(tQ(_,x,t),Ie);_||S.getState().onError?.("010",Hi.error010());const X=q=>{const{defaultEdgeOptions:R,onConnect:F,hasDefaultEdges:j}=S.getState(),W={...R,...q};if(j){const{edges:Q,setEdges:I}=S.getState();I(wZ(W,Q))}F?.(W),c?.(W)},Z=q=>{if(!_)return;const R=bL(q.nativeEvent);if(i&&(R&&q.button===0||!R)){const F=S.getState();Wb.onPointerDown(q.nativeEvent,{handleDomNode:q.currentTarget,autoPanOnConnect:F.autoPanOnConnect,connectionMode:F.connectionMode,connectionRadius:F.connectionRadius,domNode:F.domNode,nodeLookup:F.nodeLookup,lib:F.lib,isTarget:v,handleId:x,nodeId:_,flowId:F.rfId,panBy:F.panBy,cancelConnection:F.cancelConnection,onConnectStart:F.onConnectStart,onConnectEnd:F.onConnectEnd,updateConnection:F.updateConnection,onConnect:X,isValidConnection:n||F.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:F.autoPanSpeed,dragThreshold:F.connectionDragThreshold})}R?f?.(q):p?.(q)},$=q=>{const{onClickConnectStart:R,onClickConnectEnd:F,connectionClickStartHandle:j,connectionMode:W,isValidConnection:Q,lib:I,rfId:P,nodeLookup:G,connection:J}=S.getState();if(!_||!j&&!i)return;if(!j){R?.(q.nativeEvent,{nodeId:_,handleId:x,handleType:t}),S.setState({connectionClickStartHandle:{nodeId:_,type:t,id:x}});return}const nt=yL(q.target),ct=n||Q,{connection:ut,isValid:ht}=Wb.isValid(q.nativeEvent,{handle:{nodeId:_,id:x,type:t},connectionMode:W,fromNodeId:j.nodeId,fromHandleId:j.id||null,fromType:j.type,isValidConnection:ct,flowId:P,doc:nt,lib:I,nodeLookup:G});ht&&ut&&X(ut);const pt=structuredClone(J);delete pt.inProgress,pt.toPosition=pt.toHandle?pt.toHandle.position:null,F?.(q,pt),S.setState({connectionClickStartHandle:null})};return C.jsx("div",{"data-handleid":x,"data-nodeid":_,"data-handlepos":e,"data-id":`${A}-${_}-${x}-${t}`,className:un(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",T,h,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:s,clickconnecting:L,connectingfrom:D,connectingto:B,valid:U,connectionindicator:r&&(!V||z)&&(V||Y?s:i)}]),onMouseDown:Z,onTouchStart:Z,onClick:E?$:void 0,ref:y,...m,children:u})}const Xp=k.memo(VL(eQ));function nQ({data:t,isConnectable:e,sourcePosition:n=Rt.Bottom}){return C.jsxs(C.Fragment,{children:[t?.label,C.jsx(Xp,{type:"source",position:n,isConnectable:e})]})}function rQ({data:t,isConnectable:e,targetPosition:n=Rt.Top,sourcePosition:r=Rt.Bottom}){return C.jsxs(C.Fragment,{children:[C.jsx(Xp,{type:"target",position:n,isConnectable:e}),t?.label,C.jsx(Xp,{type:"source",position:r,isConnectable:e})]})}function iQ(){return null}function aQ({data:t,isConnectable:e,targetPosition:n=Rt.Top}){return C.jsxs(C.Fragment,{children:[C.jsx(Xp,{type:"target",position:n,isConnectable:e}),t?.label]})}const Zp={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},BE={input:nQ,default:rQ,output:aQ,group:iQ};function sQ(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const oQ=t=>{const{width:e,height:n,x:r,y:i}=Yh(t.nodeLookup,{filter:s=>!!s.selected});return{width:mi(e)?e:null,height:mi(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function lQ({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=He(),{width:i,height:s,transformString:l,userSelectionActive:c}=oe(oQ,Ie),u=WL(),h=k.useRef(null);if(k.useEffect(()=>{n||h.current?.focus({preventScroll:!0})},[n]),UL({nodeRef:h}),c||!i||!s)return null;const f=t?m=>{const y=r.getState().nodes.filter(x=>x.selected);t(m,y)}:void 0,p=m=>{Object.prototype.hasOwnProperty.call(Zp,m.key)&&(m.preventDefault(),u({direction:Zp[m.key],factor:m.shiftKey?4:1}))};return C.jsx("div",{className:un(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l},children:C.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:s}})})}const RE=typeof window<"u"?window:void 0,cQ=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function GL({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:u,selectionKeyCode:h,selectionOnDrag:f,selectionMode:p,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:x,panActivationKeyCode:v,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:E,zoomOnPinch:T,panOnScroll:A,panOnScrollSpeed:D,panOnScrollMode:B,zoomOnDoubleClick:L,panOnDrag:z,defaultViewport:V,translateExtent:Y,minZoom:U,maxZoom:X,preventScrolling:Z,onSelectionContextMenu:$,noWheelClassName:q,noPanClassName:R,disableKeyboardA11y:F,onViewportChange:j,isControlledViewport:W}){const{nodesSelectionActive:Q,userSelectionActive:I}=oe(cQ,Ie),P=bh(h,{target:RE}),G=bh(v,{target:RE}),J=G||z,nt=G||A,ct=f&&J!==!0,ut=P||I||ct;return VK({deleteKeyCode:u,multiSelectionKeyCode:x}),C.jsx(WK,{onPaneContextMenu:s,elementsSelectable:_,zoomOnScroll:E,zoomOnPinch:T,panOnScroll:nt,panOnScrollSpeed:D,panOnScrollMode:B,zoomOnDoubleClick:L,panOnDrag:!P&&J,defaultViewport:V,translateExtent:Y,minZoom:U,maxZoom:X,zoomActivationKeyCode:S,preventScrolling:Z,noWheelClassName:q,noPanClassName:R,onViewportChange:j,isControlledViewport:W,paneClickDistance:c,selectionOnDrag:ct,children:C.jsxs(ZK,{onSelectionStart:m,onSelectionEnd:y,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:J,isSelecting:!!ut,selectionMode:p,selectionKeyPressed:P,paneClickDistance:c,selectionOnDrag:ct,children:[t,Q&&C.jsx(lQ,{onSelectionContextMenu:$,noPanClassName:R,disableKeyboardA11y:F})]})})}GL.displayName="FlowRenderer";const uQ=k.memo(GL),hQ=t=>e=>t?z1(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function dQ(t){return oe(k.useCallback(hQ(t),[t]),Ie)}const fQ=t=>t.updateNodeInternals;function pQ(){const t=oe(fQ),[e]=k.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return k.useEffect(()=>()=>{e?.disconnect()},[e]),e}function gQ({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=He(),s=k.useRef(null),l=k.useRef(null),c=k.useRef(t.sourcePosition),u=k.useRef(t.targetPosition),h=k.useRef(e),f=n&&!!t.internals.handleBounds;return k.useEffect(()=>{s.current&&!t.hidden&&(!f||l.current!==s.current)&&(l.current&&r?.unobserve(l.current),r?.observe(s.current),l.current=s.current)},[f,t.hidden]),k.useEffect(()=>()=>{l.current&&(r?.unobserve(l.current),l.current=null)},[]),k.useEffect(()=>{if(s.current){const p=h.current!==e,m=c.current!==t.sourcePosition,y=u.current!==t.targetPosition;(p||m||y)&&(h.current=e,c.current=t.sourcePosition,u.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function mQ({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:l,nodesDraggable:c,elementsSelectable:u,nodesConnectable:h,nodesFocusable:f,resizeObserver:p,noDragClassName:m,noPanClassName:y,disableKeyboardA11y:x,rfId:v,nodeTypes:S,nodeClickDistance:_,onError:E}){const{node:T,internals:A,isParent:D}=oe(ht=>{const pt=ht.nodeLookup.get(t),yt=ht.parentLookup.has(t);return{node:pt,internals:pt.internals,isParent:yt}},Ie);let B=T.type||"default",L=S?.[B]||BE[B];L===void 0&&(E?.("003",Hi.error003(B)),B="default",L=S?.default||BE.default);const z=!!(T.draggable||c&&typeof T.draggable>"u"),V=!!(T.selectable||u&&typeof T.selectable>"u"),Y=!!(T.connectable||h&&typeof T.connectable>"u"),U=!!(T.focusable||f&&typeof T.focusable>"u"),X=He(),Z=gL(T),$=gQ({node:T,nodeType:B,hasDimensions:Z,resizeObserver:p}),q=UL({nodeRef:$,disabled:T.hidden||!z,noDragClassName:m,handleSelector:T.dragHandle,nodeId:t,isSelectable:V,nodeClickDistance:_}),R=WL();if(T.hidden)return null;const F=Aa(T),j=sQ(T),W=V||z||e||n||r||i,Q=n?ht=>n(ht,{...A.userNode}):void 0,I=r?ht=>r(ht,{...A.userNode}):void 0,P=i?ht=>i(ht,{...A.userNode}):void 0,G=s?ht=>s(ht,{...A.userNode}):void 0,J=l?ht=>l(ht,{...A.userNode}):void 0,nt=ht=>{const{selectNodesOnDrag:pt,nodeDragThreshold:yt}=X.getState();V&&(!pt||!z||yt>0)&&Yb({id:t,store:X,nodeRef:$}),e&&e(ht,{...A.userNode})},ct=ht=>{if(!(xL(ht.nativeEvent)||x)){if(sL.includes(ht.key)&&V){const pt=ht.key==="Escape";Yb({id:t,store:X,unselect:pt,nodeRef:$})}else if(z&&T.selected&&Object.prototype.hasOwnProperty.call(Zp,ht.key)){ht.preventDefault();const{ariaLabelConfig:pt}=X.getState();X.setState({ariaLiveMessage:pt["node.a11yDescription.ariaLiveMessage"]({direction:ht.key.replace("Arrow","").toLowerCase(),x:~~A.positionAbsolute.x,y:~~A.positionAbsolute.y})}),R({direction:Zp[ht.key],factor:ht.shiftKey?4:1})}}},ut=()=>{if(x||!$.current?.matches(":focus-visible"))return;const{transform:ht,width:pt,height:yt,autoPanOnNodeFocus:Lt,setCenter:vt}=X.getState();if(!Lt)return;z1(new Map([[t,T]]),{x:0,y:0,width:pt,height:yt},ht,!0).length>0||vt(T.position.x+F.width/2,T.position.y+F.height/2,{zoom:ht[2]})};return C.jsx("div",{className:un(["react-flow__node",`react-flow__node-${B}`,{[y]:z},T.className,{selected:T.selected,selectable:V,parent:D,draggable:z,dragging:q}]),ref:$,style:{zIndex:A.z,transform:`translate(${A.positionAbsolute.x}px,${A.positionAbsolute.y}px)`,pointerEvents:W?"all":"none",visibility:Z?"visible":"hidden",...T.style,...j},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:Q,onMouseMove:I,onMouseLeave:P,onContextMenu:G,onClick:nt,onDoubleClick:J,onKeyDown:U?ct:void 0,tabIndex:U?0:void 0,onFocus:U?ut:void 0,role:T.ariaRole??(U?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${$L}-${v}`,"aria-label":T.ariaLabel,...T.domAttributes,children:C.jsx(QK,{value:t,children:C.jsx(L,{id:t,data:T.data,type:B,positionAbsoluteX:A.positionAbsolute.x,positionAbsoluteY:A.positionAbsolute.y,selected:T.selected??!1,selectable:V,draggable:z,deletable:T.deletable??!0,isConnectable:Y,sourcePosition:T.sourcePosition,targetPosition:T.targetPosition,dragging:q,dragHandle:T.dragHandle,zIndex:A.z,parentId:T.parentId,...F})})})}var yQ=k.memo(mQ);const xQ=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function XL(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=oe(xQ,Ie),l=dQ(t.onlyRenderVisibleElements),c=pQ();return C.jsx("div",{className:"react-flow__nodes",style:nm,children:l.map(u=>C.jsx(yQ,{id:u,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:c,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},u))})}XL.displayName="NodeRenderer";const bQ=k.memo(XL);function vQ(t){return oe(k.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),l=n.nodeLookup.get(i.target);s&&l&&xZ({sourceNode:s,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Ie)}const wQ=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return C.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},SQ=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return C.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},OE={[Wp.Arrow]:wQ,[Wp.ArrowClosed]:SQ};function CQ(t){const e=He();return k.useMemo(()=>Object.prototype.hasOwnProperty.call(OE,t)?OE[t]:(e.getState().onError?.("009",Hi.error009(t)),null),[t])}const _Q=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const u=CQ(e);return u?C.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0",children:C.jsx(u,{color:n,strokeWidth:l})}):null},ZL=({defaultColor:t,rfId:e})=>{const n=oe(s=>s.edges),r=oe(s=>s.defaultEdgeOptions),i=k.useMemo(()=>kZ(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?C.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:C.jsx("defs",{children:i.map(s=>C.jsx(_Q,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};ZL.displayName="MarkerDefinitions";var TQ=k.memo(ZL);function KL({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:u,className:h,...f}){const[p,m]=k.useState({x:1,y:0,width:0,height:0}),y=un(["react-flow__edge-textwrapper",h]),x=k.useRef(null);return k.useEffect(()=>{if(x.current){const v=x.current.getBBox();m({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?C.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...f,children:[i&&C.jsx("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),C.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:x,style:r,children:n}),u]}):null}KL.displayName="EdgeText";const kQ=k.memo(KL);function rm({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,interactionWidth:h=20,...f}){return C.jsxs(C.Fragment,{children:[C.jsx("path",{...f,d:t,fill:"none",className:un(["react-flow__edge-path",f.className])}),h?C.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,r&&mi(e)&&mi(n)?C.jsx(kQ,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null]})}function jE({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Rt.Left||t===Rt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function QL({sourceX:t,sourceY:e,sourcePosition:n=Rt.Bottom,targetX:r,targetY:i,targetPosition:s=Rt.Top}){const[l,c]=jE({pos:n,x1:t,y1:e,x2:r,y2:i}),[u,h]=jE({pos:s,x1:r,y1:i,x2:t,y2:e}),[f,p,m,y]=vL({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:h});return[`M${t},${e} C${l},${c} ${u},${h} ${r},${i}`,f,p,m,y]}function JL(t){return k.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l,targetPosition:c,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:S,interactionWidth:_})=>{const[E,T,A]=QL({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:c}),D=t.isInternal?void 0:e;return C.jsx(rm,{id:D,path:E,labelX:T,labelY:A,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:S,interactionWidth:_})})}const EQ=JL({isInternal:!1}),t5=JL({isInternal:!0});EQ.displayName="SimpleBezierEdge";t5.displayName="SimpleBezierEdgeInternal";function e5(t){return k.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,sourcePosition:y=Rt.Bottom,targetPosition:x=Rt.Top,markerEnd:v,markerStart:S,pathOptions:_,interactionWidth:E})=>{const[T,A,D]=Vb({sourceX:n,sourceY:r,sourcePosition:y,targetX:i,targetY:s,targetPosition:x,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),B=t.isInternal?void 0:e;return C.jsx(rm,{id:B,path:T,labelX:A,labelY:D,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:S,interactionWidth:E})})}const n5=e5({isInternal:!1}),r5=e5({isInternal:!0});n5.displayName="SmoothStepEdge";r5.displayName="SmoothStepEdgeInternal";function i5(t){return k.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return C.jsx(n5,{...n,id:r,pathOptions:k.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const AQ=i5({isInternal:!1}),a5=i5({isInternal:!0});AQ.displayName="StepEdge";a5.displayName="StepEdgeInternal";function s5(t){return k.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:v})=>{const[S,_,E]=CL({sourceX:n,sourceY:r,targetX:i,targetY:s}),T=t.isInternal?void 0:e;return C.jsx(rm,{id:T,path:S,labelX:_,labelY:E,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:v})})}const MQ=s5({isInternal:!1}),o5=s5({isInternal:!0});MQ.displayName="StraightEdge";o5.displayName="StraightEdgeInternal";function l5(t){return k.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:l=Rt.Bottom,targetPosition:c=Rt.Top,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:S,pathOptions:_,interactionWidth:E})=>{const[T,A,D]=wL({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:s,targetPosition:c,curvature:_?.curvature}),B=t.isInternal?void 0:e;return C.jsx(rm,{id:B,path:T,labelX:A,labelY:D,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:S,interactionWidth:E})})}const DQ=l5({isInternal:!1}),c5=l5({isInternal:!0});DQ.displayName="BezierEdge";c5.displayName="BezierEdgeInternal";const $E={default:c5,straight:o5,step:a5,smoothstep:r5,simplebezier:t5},zE={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},NQ=(t,e,n)=>n===Rt.Left?t-e:n===Rt.Right?t+e:t,LQ=(t,e,n)=>n===Rt.Top?t-e:n===Rt.Bottom?t+e:t,PE="react-flow__edgeupdater";function FE({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:l,type:c}){return C.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:l,className:un([PE,`${PE}-${c}`]),cx:NQ(e,r,t),cy:LQ(n,r,t),r,stroke:"transparent",fill:"transparent"})}function BQ({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:l,sourcePosition:c,targetPosition:u,onReconnect:h,onReconnectStart:f,onReconnectEnd:p,setReconnecting:m,setUpdateHover:y}){const x=He(),v=(A,D)=>{if(A.button!==0)return;const{autoPanOnConnect:B,domNode:L,isValidConnection:z,connectionMode:V,connectionRadius:Y,lib:U,onConnectStart:X,onConnectEnd:Z,cancelConnection:$,nodeLookup:q,rfId:R,panBy:F,updateConnection:j}=x.getState(),W=D.type==="target",Q=(G,J)=>{m(!1),p?.(G,n,D.type,J)},I=G=>h?.(n,G),P=(G,J)=>{m(!0),f?.(A,n,D.type),X?.(G,J)};Wb.onPointerDown(A.nativeEvent,{autoPanOnConnect:B,connectionMode:V,connectionRadius:Y,domNode:L,handleId:D.id,nodeId:D.nodeId,nodeLookup:q,isTarget:W,edgeUpdaterType:D.type,lib:U,flowId:R,cancelConnection:$,panBy:F,isValidConnection:z,onConnect:I,onConnectStart:P,onConnectEnd:Z,onReconnectEnd:Q,updateConnection:j,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:A.currentTarget})},S=A=>v(A,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),_=A=>v(A,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>y(!0),T=()=>y(!1);return C.jsxs(C.Fragment,{children:[(t===!0||t==="source")&&C.jsx(FE,{position:c,centerX:r,centerY:i,radius:e,onMouseDown:S,onMouseEnter:E,onMouseOut:T,type:"source"}),(t===!0||t==="target")&&C.jsx(FE,{position:u,centerX:s,centerY:l,radius:e,onMouseDown:_,onMouseEnter:E,onMouseOut:T,type:"target"})]})}function RQ({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:l,onMouseEnter:c,onMouseMove:u,onMouseLeave:h,reconnectRadius:f,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,rfId:x,edgeTypes:v,noPanClassName:S,onError:_,disableKeyboardA11y:E}){let T=oe(vt=>vt.edgeLookup.get(t));const A=oe(vt=>vt.defaultEdgeOptions);T=A?{...A,...T}:T;let D=T.type||"default",B=v?.[D]||$E[D];B===void 0&&(_?.("011",Hi.error011(D)),D="default",B=v?.default||$E.default);const L=!!(T.focusable||e&&typeof T.focusable>"u"),z=typeof p<"u"&&(T.reconnectable||n&&typeof T.reconnectable>"u"),V=!!(T.selectable||r&&typeof T.selectable>"u"),Y=k.useRef(null),[U,X]=k.useState(!1),[Z,$]=k.useState(!1),q=He(),{zIndex:R,sourceX:F,sourceY:j,targetX:W,targetY:Q,sourcePosition:I,targetPosition:P}=oe(k.useCallback(vt=>{const Et=vt.nodeLookup.get(T.source),zt=vt.nodeLookup.get(T.target);if(!Et||!zt)return{zIndex:T.zIndex,...zE};const Zt=TZ({id:t,sourceNode:Et,targetNode:zt,sourceHandle:T.sourceHandle||null,targetHandle:T.targetHandle||null,connectionMode:vt.connectionMode,onError:_});return{zIndex:yZ({selected:T.selected,zIndex:T.zIndex,sourceNode:Et,targetNode:zt,elevateOnSelect:vt.elevateEdgesOnSelect,zIndexMode:vt.zIndexMode}),...Zt||zE}},[T.source,T.target,T.sourceHandle,T.targetHandle,T.selected,T.zIndex]),Ie),G=k.useMemo(()=>T.markerStart?`url('#${qb(T.markerStart,x)}')`:void 0,[T.markerStart,x]),J=k.useMemo(()=>T.markerEnd?`url('#${qb(T.markerEnd,x)}')`:void 0,[T.markerEnd,x]);if(T.hidden||F===null||j===null||W===null||Q===null)return null;const nt=vt=>{const{addSelectedEdges:Et,unselectNodesAndEdges:zt,multiSelectionActive:Zt}=q.getState();V&&(q.setState({nodesSelectionActive:!1}),T.selected&&Zt?(zt({nodes:[],edges:[T]}),Y.current?.blur()):Et([t])),i&&i(vt,T)},ct=s?vt=>{s(vt,{...T})}:void 0,ut=l?vt=>{l(vt,{...T})}:void 0,ht=c?vt=>{c(vt,{...T})}:void 0,pt=u?vt=>{u(vt,{...T})}:void 0,yt=h?vt=>{h(vt,{...T})}:void 0,Lt=vt=>{if(!E&&sL.includes(vt.key)&&V){const{unselectNodesAndEdges:Et,addSelectedEdges:zt}=q.getState();vt.key==="Escape"?(Y.current?.blur(),Et({edges:[T]})):zt([t])}};return C.jsx("svg",{style:{zIndex:R},children:C.jsxs("g",{className:un(["react-flow__edge",`react-flow__edge-${D}`,T.className,S,{selected:T.selected,animated:T.animated,inactive:!V&&!i,updating:U,selectable:V}]),onClick:nt,onDoubleClick:ct,onContextMenu:ut,onMouseEnter:ht,onMouseMove:pt,onMouseLeave:yt,onKeyDown:L?Lt:void 0,tabIndex:L?0:void 0,role:T.ariaRole??(L?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":T.ariaLabel===null?void 0:T.ariaLabel||`Edge from ${T.source} to ${T.target}`,"aria-describedby":L?`${zL}-${x}`:void 0,ref:Y,...T.domAttributes,children:[!Z&&C.jsx(B,{id:t,source:T.source,target:T.target,type:T.type,selected:T.selected,animated:T.animated,selectable:V,deletable:T.deletable??!0,label:T.label,labelStyle:T.labelStyle,labelShowBg:T.labelShowBg,labelBgStyle:T.labelBgStyle,labelBgPadding:T.labelBgPadding,labelBgBorderRadius:T.labelBgBorderRadius,sourceX:F,sourceY:j,targetX:W,targetY:Q,sourcePosition:I,targetPosition:P,data:T.data,style:T.style,sourceHandleId:T.sourceHandle,targetHandleId:T.targetHandle,markerStart:G,markerEnd:J,pathOptions:"pathOptions"in T?T.pathOptions:void 0,interactionWidth:T.interactionWidth}),z&&C.jsx(BQ,{edge:T,isReconnectable:z,reconnectRadius:f,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,sourceX:F,sourceY:j,targetX:W,targetY:Q,sourcePosition:I,targetPosition:P,setUpdateHover:X,setReconnecting:$})]})})}var OQ=k.memo(RQ);const jQ=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function u5({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:h,onEdgeClick:f,reconnectRadius:p,onEdgeDoubleClick:m,onReconnectStart:y,onReconnectEnd:x,disableKeyboardA11y:v}){const{edgesFocusable:S,edgesReconnectable:_,elementsSelectable:E,onError:T}=oe(jQ,Ie),A=vQ(e);return C.jsxs("div",{className:"react-flow__edges",children:[C.jsx(TQ,{defaultColor:t,rfId:n}),A.map(D=>C.jsx(OQ,{id:D,edgesFocusable:S,edgesReconnectable:_,elementsSelectable:E,noPanClassName:i,onReconnect:s,onContextMenu:l,onMouseEnter:c,onMouseMove:u,onMouseLeave:h,onClick:f,reconnectRadius:p,onDoubleClick:m,onReconnectStart:y,onReconnectEnd:x,rfId:n,onError:T,edgeTypes:r,disableKeyboardA11y:v},D))]})}u5.displayName="EdgeRenderer";const $Q=k.memo(u5),zQ=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function PQ({children:t}){const e=oe(zQ);return C.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function FQ(t){const e=W1(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const IQ=t=>t.panZoom?.syncViewport;function HQ(t){const e=oe(IQ),n=He();return k.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function VQ(t){return t.connection.inProgress?{...t.connection,to:Xh(t.connection.to,t.transform)}:{...t.connection}}function qQ(t){return VQ}function UQ(t){const e=qQ();return oe(e,Ie)}const WQ=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function YQ({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:l,isValid:c,inProgress:u}=oe(WQ,Ie);return!(s&&i&&u)?null:C.jsx("svg",{style:t,width:s,height:l,className:"react-flow__connectionline react-flow__container",children:C.jsx("g",{className:un(["react-flow__connection",cL(c)]),children:C.jsx(h5,{style:e,type:n,CustomComponent:r,isValid:c})})})}const h5=({style:t,type:e=ls.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:l,fromHandle:c,fromPosition:u,to:h,toNode:f,toHandle:p,toPosition:m,pointer:y}=UQ();if(!i)return;if(n)return C.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:l,fromHandle:c,fromX:s.x,fromY:s.y,toX:h.x,toY:h.y,fromPosition:u,toPosition:m,connectionStatus:cL(r),toNode:f,toHandle:p,pointer:y});let x="";const v={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:h.x,targetY:h.y,targetPosition:m};switch(e){case ls.Bezier:[x]=wL(v);break;case ls.SimpleBezier:[x]=QL(v);break;case ls.Step:[x]=Vb({...v,borderRadius:0});break;case ls.SmoothStep:[x]=Vb(v);break;default:[x]=CL(v)}return C.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};h5.displayName="ConnectionLine";const GQ={};function IE(t=GQ){k.useRef(t),He(),k.useEffect(()=>{},[t])}function XQ(){He(),k.useRef(!1),k.useEffect(()=>{},[])}function d5({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:h,onNodeContextMenu:f,onSelectionContextMenu:p,onSelectionStart:m,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:v,connectionLineComponent:S,connectionLineContainerStyle:_,selectionKeyCode:E,selectionOnDrag:T,selectionMode:A,multiSelectionKeyCode:D,panActivationKeyCode:B,zoomActivationKeyCode:L,deleteKeyCode:z,onlyRenderVisibleElements:V,elementsSelectable:Y,defaultViewport:U,translateExtent:X,minZoom:Z,maxZoom:$,preventScrolling:q,defaultMarkerColor:R,zoomOnScroll:F,zoomOnPinch:j,panOnScroll:W,panOnScrollSpeed:Q,panOnScrollMode:I,zoomOnDoubleClick:P,panOnDrag:G,onPaneClick:J,onPaneMouseEnter:nt,onPaneMouseMove:ct,onPaneMouseLeave:ut,onPaneScroll:ht,onPaneContextMenu:pt,paneClickDistance:yt,nodeClickDistance:Lt,onEdgeContextMenu:vt,onEdgeMouseEnter:Et,onEdgeMouseMove:zt,onEdgeMouseLeave:Zt,reconnectRadius:Xt,onReconnect:Se,onReconnectStart:hn,onReconnectEnd:We,noDragClassName:Ve,noWheelClassName:An,noPanClassName:or,disableKeyboardA11y:lr,nodeExtent:Ae,rfId:Xn,viewport:Sn,onViewportChange:Cn}){return IE(t),IE(e),XQ(),FQ(n),HQ(Sn),C.jsx(uQ,{onPaneClick:J,onPaneMouseEnter:nt,onPaneMouseMove:ct,onPaneMouseLeave:ut,onPaneContextMenu:pt,onPaneScroll:ht,paneClickDistance:yt,deleteKeyCode:z,selectionKeyCode:E,selectionOnDrag:T,selectionMode:A,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:D,panActivationKeyCode:B,zoomActivationKeyCode:L,elementsSelectable:Y,zoomOnScroll:F,zoomOnPinch:j,zoomOnDoubleClick:P,panOnScroll:W,panOnScrollSpeed:Q,panOnScrollMode:I,panOnDrag:G,defaultViewport:U,translateExtent:X,minZoom:Z,maxZoom:$,onSelectionContextMenu:p,preventScrolling:q,noDragClassName:Ve,noWheelClassName:An,noPanClassName:or,disableKeyboardA11y:lr,onViewportChange:Cn,isControlledViewport:!!Sn,children:C.jsxs(PQ,{children:[C.jsx($Q,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:Se,onReconnectStart:hn,onReconnectEnd:We,onlyRenderVisibleElements:V,onEdgeContextMenu:vt,onEdgeMouseEnter:Et,onEdgeMouseMove:zt,onEdgeMouseLeave:Zt,reconnectRadius:Xt,defaultMarkerColor:R,noPanClassName:or,disableKeyboardA11y:lr,rfId:Xn}),C.jsx(YQ,{style:v,type:x,component:S,containerStyle:_}),C.jsx("div",{className:"react-flow__edgelabel-renderer"}),C.jsx(bQ,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:h,onNodeContextMenu:f,nodeClickDistance:Lt,onlyRenderVisibleElements:V,noPanClassName:or,noDragClassName:Ve,disableKeyboardA11y:lr,nodeExtent:Ae,rfId:Xn}),C.jsx("div",{className:"react-flow__viewport-portal"})]})})}d5.displayName="GraphView";const ZQ=k.memo(d5),HE=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:u=.5,maxZoom:h=2,nodeOrigin:f,nodeExtent:p,zIndexMode:m="basic"}={})=>{const y=new Map,x=new Map,v=new Map,S=new Map,_=r??e??[],E=n??t??[],T=f??[0,0],A=p??gh;kL(v,S,_);const D=Ub(E,y,x,{nodeOrigin:T,nodeExtent:A,zIndexMode:m});let B=[0,0,1];if(l&&i&&s){const L=Yh(y,{filter:U=>!!((U.width||U.initialWidth)&&(U.height||U.initialHeight))}),{x:z,y:V,zoom:Y}=P1(L,i,s,u,h,c?.padding??.1);B=[z,V,Y]}return{rfId:"1",width:i??0,height:s??0,transform:B,nodes:E,nodesInitialized:D,nodeLookup:y,parentLookup:x,edges:_,edgeLookup:S,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:h,translateExtent:gh,nodeExtent:A,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ql.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:T,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:c,fitViewResolver:null,connection:{...lL},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:hZ,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:oL,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},KQ=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:h,nodeOrigin:f,nodeExtent:p,zIndexMode:m})=>gK((y,x)=>{async function v(){const{nodeLookup:S,panZoom:_,fitViewOptions:E,fitViewResolver:T,width:A,height:D,minZoom:B,maxZoom:L}=x();_&&(await cZ({nodes:S,width:A,height:D,panZoom:_,minZoom:B,maxZoom:L},E),T?.resolve(!0),y({fitViewResolver:null}))}return{...HE({nodes:t,edges:e,width:i,height:s,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:h,nodeOrigin:f,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:m}),setNodes:S=>{const{nodeLookup:_,parentLookup:E,nodeOrigin:T,elevateNodesOnSelect:A,fitViewQueued:D,zIndexMode:B}=x(),L=Ub(S,_,E,{nodeOrigin:T,nodeExtent:p,elevateNodesOnSelect:A,checkEquality:!0,zIndexMode:B});D&&L?(v(),y({nodes:S,nodesInitialized:L,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:S,nodesInitialized:L})},setEdges:S=>{const{connectionLookup:_,edgeLookup:E}=x();kL(_,E,S),y({edges:S})},setDefaultNodesAndEdges:(S,_)=>{if(S){const{setNodes:E}=x();E(S),y({hasDefaultNodes:!0})}if(_){const{setEdges:E}=x();E(_),y({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:_,nodeLookup:E,parentLookup:T,domNode:A,nodeOrigin:D,nodeExtent:B,debug:L,fitViewQueued:z,zIndexMode:V}=x(),{changes:Y,updatedInternals:U}=BZ(S,E,T,A,D,B,V);U&&(MZ(E,T,{nodeOrigin:D,nodeExtent:B,zIndexMode:V}),z?(v(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),Y?.length>0&&(L&&console.log("React Flow: trigger node changes",Y),_?.(Y)))},updateNodePositions:(S,_=!1)=>{const E=[];let T=[];const{nodeLookup:A,triggerNodeChanges:D,connection:B,updateConnection:L,onNodesChangeMiddlewareMap:z}=x();for(const[V,Y]of S){const U=A.get(V),X=!!(U?.expandParent&&U?.parentId&&Y?.position),Z={id:V,type:"position",position:X?{x:Math.max(0,Y.position.x),y:Math.max(0,Y.position.y)}:Y.position,dragging:_};if(U&&B.inProgress&&B.fromNode.id===U.id){const $=vo(U,B.fromHandle,Rt.Left,!0);L({...B,from:$})}X&&U.parentId&&E.push({id:V,parentId:U.parentId,rect:{...Y.internals.positionAbsolute,width:Y.measured.width??0,height:Y.measured.height??0}}),T.push(Z)}if(E.length>0){const{parentLookup:V,nodeOrigin:Y}=x(),U=U1(E,A,V,Y);T.push(...U)}for(const V of z.values())T=V(T);D(T)},triggerNodeChanges:S=>{const{onNodesChange:_,setNodes:E,nodes:T,hasDefaultNodes:A,debug:D}=x();if(S?.length){if(A){const B=IL(S,T);E(B)}D&&console.log("React Flow: trigger node changes",S),_?.(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:_,setEdges:E,edges:T,hasDefaultEdges:A,debug:D}=x();if(S?.length){if(A){const B=HL(S,T);E(B)}D&&console.log("React Flow: trigger edge changes",S),_?.(S)}},addSelectedNodes:S=>{const{multiSelectionActive:_,edgeLookup:E,nodeLookup:T,triggerNodeChanges:A,triggerEdgeChanges:D}=x();if(_){const B=S.map(L=>Qs(L,!0));A(B);return}A(Nl(T,new Set([...S]),!0)),D(Nl(E))},addSelectedEdges:S=>{const{multiSelectionActive:_,edgeLookup:E,nodeLookup:T,triggerNodeChanges:A,triggerEdgeChanges:D}=x();if(_){const B=S.map(L=>Qs(L,!0));D(B);return}D(Nl(E,new Set([...S]))),A(Nl(T,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:_}={})=>{const{edges:E,nodes:T,nodeLookup:A,triggerNodeChanges:D,triggerEdgeChanges:B}=x(),L=S||T,z=_||E,V=L.map(U=>{const X=A.get(U.id);return X&&(X.selected=!1),Qs(U.id,!1)}),Y=z.map(U=>Qs(U.id,!1));D(V),B(Y)},setMinZoom:S=>{const{panZoom:_,maxZoom:E}=x();_?.setScaleExtent([S,E]),y({minZoom:S})},setMaxZoom:S=>{const{panZoom:_,minZoom:E}=x();_?.setScaleExtent([E,S]),y({maxZoom:S})},setTranslateExtent:S=>{x().panZoom?.setTranslateExtent(S),y({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:_,triggerNodeChanges:E,triggerEdgeChanges:T,elementsSelectable:A}=x();if(!A)return;const D=_.reduce((L,z)=>z.selected?[...L,Qs(z.id,!1)]:L,[]),B=S.reduce((L,z)=>z.selected?[...L,Qs(z.id,!1)]:L,[]);E(D),T(B)},setNodeExtent:S=>{const{nodes:_,nodeLookup:E,parentLookup:T,nodeOrigin:A,elevateNodesOnSelect:D,nodeExtent:B,zIndexMode:L}=x();S[0][0]===B[0][0]&&S[0][1]===B[0][1]&&S[1][0]===B[1][0]&&S[1][1]===B[1][1]||(Ub(_,E,T,{nodeOrigin:A,nodeExtent:S,elevateNodesOnSelect:D,checkEquality:!1,zIndexMode:L}),y({nodeExtent:S}))},panBy:S=>{const{transform:_,width:E,height:T,panZoom:A,translateExtent:D}=x();return RZ({delta:S,panZoom:A,transform:_,translateExtent:D,width:E,height:T})},setCenter:async(S,_,E)=>{const{width:T,height:A,maxZoom:D,panZoom:B}=x();if(!B)return Promise.resolve(!1);const L=typeof E?.zoom<"u"?E.zoom:D;return await B.setViewport({x:T/2-S*L,y:A/2-_*L,zoom:L},{duration:E?.duration,ease:E?.ease,interpolate:E?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...lL}})},updateConnection:S=>{y({connection:S})},reset:()=>y({...HE()})}},Object.is);function QQ({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:u,fitView:h,nodeOrigin:f,nodeExtent:p,zIndexMode:m,children:y}){const[x]=k.useState(()=>KQ({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:h,minZoom:l,maxZoom:c,fitViewOptions:u,nodeOrigin:f,nodeExtent:p,zIndexMode:m}));return C.jsx(mK,{value:x,children:C.jsx(PK,{children:y})})}function JQ({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:l,fitView:c,fitViewOptions:u,minZoom:h,maxZoom:f,nodeOrigin:p,nodeExtent:m,zIndexMode:y}){return k.useContext(tm)?C.jsx(C.Fragment,{children:t}):C.jsx(QQ,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:l,fitView:c,initialFitViewOptions:u,initialMinZoom:h,initialMaxZoom:f,nodeOrigin:p,nodeExtent:m,zIndexMode:y,children:t})}const tJ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function eJ({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:l,onNodeClick:c,onEdgeClick:u,onInit:h,onMove:f,onMoveStart:p,onMoveEnd:m,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:S,onClickConnectEnd:_,onNodeMouseEnter:E,onNodeMouseMove:T,onNodeMouseLeave:A,onNodeContextMenu:D,onNodeDoubleClick:B,onNodeDragStart:L,onNodeDrag:z,onNodeDragStop:V,onNodesDelete:Y,onEdgesDelete:U,onDelete:X,onSelectionChange:Z,onSelectionDragStart:$,onSelectionDrag:q,onSelectionDragStop:R,onSelectionContextMenu:F,onSelectionStart:j,onSelectionEnd:W,onBeforeDelete:Q,connectionMode:I,connectionLineType:P=ls.Bezier,connectionLineStyle:G,connectionLineComponent:J,connectionLineContainerStyle:nt,deleteKeyCode:ct="Backspace",selectionKeyCode:ut="Shift",selectionOnDrag:ht=!1,selectionMode:pt=mh.Full,panActivationKeyCode:yt="Space",multiSelectionKeyCode:Lt=xh()?"Meta":"Control",zoomActivationKeyCode:vt=xh()?"Meta":"Control",snapToGrid:Et,snapGrid:zt,onlyRenderVisibleElements:Zt=!1,selectNodesOnDrag:Xt,nodesDraggable:Se,autoPanOnNodeFocus:hn,nodesConnectable:We,nodesFocusable:Ve,nodeOrigin:An=PL,edgesFocusable:or,edgesReconnectable:lr,elementsSelectable:Ae=!0,defaultViewport:Xn=MK,minZoom:Sn=.5,maxZoom:Cn=2,translateExtent:Mn=gh,preventScrolling:zr=!0,nodeExtent:Tr,defaultMarkerColor:Zn="#b1b1b7",zoomOnScroll:ni=!0,zoomOnPinch:cr=!0,panOnScroll:ke=!1,panOnScrollSpeed:Qe=.5,panOnScrollMode:Ye=fo.Free,zoomOnDoubleClick:Yi=!0,panOnDrag:Da=!0,onPaneClick:Ti,onPaneMouseEnter:kr,onPaneMouseMove:ki,onPaneMouseLeave:ye,onPaneScroll:Ne,onPaneContextMenu:Ge,paneClickDistance:ie=1,nodeClickDistance:qe=0,children:nn,onReconnect:dn,onReconnectStart:_n,onReconnectEnd:ze,onEdgeContextMenu:Pn,onEdgeDoubleClick:Dn,onEdgeMouseEnter:Le,onEdgeMouseMove:fn,onEdgeMouseLeave:ur,reconnectRadius:Fn=10,onNodesChange:hr,onEdgesChange:Nn,noDragClassName:xe="nodrag",noWheelClassName:pn="nowheel",noPanClassName:Pr="nopan",fitView:Gi,fitViewOptions:Ds,connectOnClick:Sc,attributionPosition:Bt,proOptions:tt,defaultEdgeOptions:xt,elevateNodesOnSelect:St=!0,elevateEdgesOnSelect:le=!1,disableKeyboardA11y:Be=!1,autoPanOnConnect:be,autoPanOnNodeDrag:ae,autoPanSpeed:dr,connectionRadius:ri,isValidConnection:Er,onError:Me,style:Bo,id:Na,nodeDragThreshold:ad,connectionDragThreshold:Mm,viewport:Ro,onViewportChange:Oo,width:ii,height:fr,colorMode:sd="light",debug:Dm,onScroll:jo,ariaLabelConfig:od,zIndexMode:Ns="basic",...Nm},pr){const Ls=Na||"1",ld=BK(sd),Cc=k.useCallback(Xi=>{Xi.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),jo?.(Xi)},[jo]);return C.jsx("div",{"data-testid":"rf__wrapper",...Nm,onScroll:Cc,style:{...Bo,...tJ},ref:pr,className:un(["react-flow",i,ld]),id:Na,role:"application",children:C.jsxs(JQ,{nodes:t,edges:e,width:ii,height:fr,fitView:Gi,fitViewOptions:Ds,minZoom:Sn,maxZoom:Cn,nodeOrigin:An,nodeExtent:Tr,zIndexMode:Ns,children:[C.jsx(ZQ,{onInit:h,onNodeClick:c,onEdgeClick:u,onNodeMouseEnter:E,onNodeMouseMove:T,onNodeMouseLeave:A,onNodeContextMenu:D,onNodeDoubleClick:B,nodeTypes:s,edgeTypes:l,connectionLineType:P,connectionLineStyle:G,connectionLineComponent:J,connectionLineContainerStyle:nt,selectionKeyCode:ut,selectionOnDrag:ht,selectionMode:pt,deleteKeyCode:ct,multiSelectionKeyCode:Lt,panActivationKeyCode:yt,zoomActivationKeyCode:vt,onlyRenderVisibleElements:Zt,defaultViewport:Xn,translateExtent:Mn,minZoom:Sn,maxZoom:Cn,preventScrolling:zr,zoomOnScroll:ni,zoomOnPinch:cr,zoomOnDoubleClick:Yi,panOnScroll:ke,panOnScrollSpeed:Qe,panOnScrollMode:Ye,panOnDrag:Da,onPaneClick:Ti,onPaneMouseEnter:kr,onPaneMouseMove:ki,onPaneMouseLeave:ye,onPaneScroll:Ne,onPaneContextMenu:Ge,paneClickDistance:ie,nodeClickDistance:qe,onSelectionContextMenu:F,onSelectionStart:j,onSelectionEnd:W,onReconnect:dn,onReconnectStart:_n,onReconnectEnd:ze,onEdgeContextMenu:Pn,onEdgeDoubleClick:Dn,onEdgeMouseEnter:Le,onEdgeMouseMove:fn,onEdgeMouseLeave:ur,reconnectRadius:Fn,defaultMarkerColor:Zn,noDragClassName:xe,noWheelClassName:pn,noPanClassName:Pr,rfId:Ls,disableKeyboardA11y:Be,nodeExtent:Tr,viewport:Ro,onViewportChange:Oo}),C.jsx(LK,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:S,onClickConnectEnd:_,nodesDraggable:Se,autoPanOnNodeFocus:hn,nodesConnectable:We,nodesFocusable:Ve,edgesFocusable:or,edgesReconnectable:lr,elementsSelectable:Ae,elevateNodesOnSelect:St,elevateEdgesOnSelect:le,minZoom:Sn,maxZoom:Cn,nodeExtent:Tr,onNodesChange:hr,onEdgesChange:Nn,snapToGrid:Et,snapGrid:zt,connectionMode:I,translateExtent:Mn,connectOnClick:Sc,defaultEdgeOptions:xt,fitView:Gi,fitViewOptions:Ds,onNodesDelete:Y,onEdgesDelete:U,onDelete:X,onNodeDragStart:L,onNodeDrag:z,onNodeDragStop:V,onSelectionDrag:q,onSelectionDragStart:$,onSelectionDragStop:R,onMove:f,onMoveStart:p,onMoveEnd:m,noPanClassName:Pr,nodeOrigin:An,rfId:Ls,autoPanOnConnect:be,autoPanOnNodeDrag:ae,autoPanSpeed:dr,onError:Me,connectionRadius:ri,isValidConnection:Er,selectNodesOnDrag:Xt,nodeDragThreshold:ad,connectionDragThreshold:Mm,onBeforeDelete:Q,debug:Dm,ariaLabelConfig:od,zIndexMode:Ns}),C.jsx(AK,{onSelectionChange:Z}),nn,C.jsx(CK,{proOptions:tt,position:Bt}),C.jsx(SK,{rfId:Ls,disableKeyboardA11y:Be})]})})}var nJ=VL(eJ);function rJ(t){const[e,n]=k.useState(t),r=k.useCallback(i=>n(s=>IL(i,s)),[]);return[e,n,r]}function iJ(t){const[e,n]=k.useState(t),r=k.useCallback(i=>n(s=>HL(i,s)),[]);return[e,n,r]}function aJ({dimensions:t,lineWidth:e,variant:n,className:r}){return C.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:un(["react-flow__background-pattern",n,r])})}function sJ({radius:t,className:e}){return C.jsx("circle",{cx:t,cy:t,r:t,className:un(["react-flow__background-pattern","dots",e])})}var ds;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ds||(ds={}));const oJ={[ds.Dots]:1,[ds.Lines]:1,[ds.Cross]:6},lJ=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function f5({id:t,variant:e=ds.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:l,bgColor:c,style:u,className:h,patternClassName:f}){const p=k.useRef(null),{transform:m,patternId:y}=oe(lJ,Ie),x=r||oJ[e],v=e===ds.Dots,S=e===ds.Cross,_=Array.isArray(n)?n:[n,n],E=[_[0]*m[2]||1,_[1]*m[2]||1],T=x*m[2],A=Array.isArray(s)?s:[s,s],D=S?[T,T]:E,B=[A[0]*m[2]||1+D[0]/2,A[1]*m[2]||1+D[1]/2],L=`${y}${t||""}`;return C.jsxs("svg",{className:un(["react-flow__background",h]),style:{...u,...nm,"--xy-background-color-props":c,"--xy-background-pattern-color-props":l},ref:p,"data-testid":"rf__background",children:[C.jsx("pattern",{id:L,x:m[0]%E[0],y:m[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${B[0]},-${B[1]})`,children:v?C.jsx(sJ,{radius:T/2,className:f}):C.jsx(aJ,{dimensions:D,lineWidth:i,variant:e,className:f})}),C.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${L})`})]})}f5.displayName="Background";const cJ=k.memo(f5);function uJ(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:C.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function hJ(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:C.jsx("path",{d:"M0 0h32v4.2H0z"})})}function dJ(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:C.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function fJ(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:C.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function pJ(){return C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:C.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ff({children:t,className:e,...n}){return C.jsx("button",{type:"button",className:un(["react-flow__controls-button",e]),...n,children:t})}const gJ=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function p5({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:h,children:f,position:p="bottom-left",orientation:m="vertical","aria-label":y}){const x=He(),{isInteractive:v,minZoomReached:S,maxZoomReached:_,ariaLabelConfig:E}=oe(gJ,Ie),{zoomIn:T,zoomOut:A,fitView:D}=W1(),B=()=>{T(),s?.()},L=()=>{A(),l?.()},z=()=>{D(i),c?.()},V=()=>{x.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),u?.(!v)},Y=m==="horizontal"?"horizontal":"vertical";return C.jsxs(em,{className:un(["react-flow__controls",Y,h]),position:p,style:t,"data-testid":"rf__controls","aria-label":y??E["controls.ariaLabel"],children:[e&&C.jsxs(C.Fragment,{children:[C.jsx(Ff,{onClick:B,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:_,children:C.jsx(uJ,{})}),C.jsx(Ff,{onClick:L,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:S,children:C.jsx(hJ,{})})]}),n&&C.jsx(Ff,{className:"react-flow__controls-fitview",onClick:z,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:C.jsx(dJ,{})}),r&&C.jsx(Ff,{className:"react-flow__controls-interactive",onClick:V,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:v?C.jsx(pJ,{}):C.jsx(fJ,{})}),f]})}p5.displayName="Controls";const mJ=k.memo(p5);function yJ({id:t,x:e,y:n,width:r,height:i,style:s,color:l,strokeColor:c,strokeWidth:u,className:h,borderRadius:f,shapeRendering:p,selected:m,onClick:y}){const{background:x,backgroundColor:v}=s||{},S=l||x||v;return C.jsx("rect",{className:un(["react-flow__minimap-node",{selected:m},h]),x:e,y:n,rx:f,ry:f,width:r,height:i,style:{fill:S,stroke:c,strokeWidth:u},shapeRendering:p,onClick:y?_=>y(_,t):void 0})}const xJ=k.memo(yJ),bJ=t=>t.nodes.map(e=>e.id),Lx=t=>t instanceof Function?t:()=>t;function vJ({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=xJ,onClick:l}){const c=oe(bJ,Ie),u=Lx(e),h=Lx(t),f=Lx(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return C.jsx(C.Fragment,{children:c.map(m=>C.jsx(SJ,{id:m,nodeColorFunc:u,nodeStrokeColorFunc:h,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:l,shapeRendering:p},m))})}function wJ({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:l,NodeComponent:c,onClick:u}){const{node:h,x:f,y:p,width:m,height:y}=oe(x=>{const{internals:v}=x.nodeLookup.get(t),S=v.userNode,{x:_,y:E}=v.positionAbsolute,{width:T,height:A}=Aa(S);return{node:S,x:_,y:E,width:T,height:A}},Ie);return!h||h.hidden||!gL(h)?null:C.jsx(c,{x:f,y:p,width:m,height:y,style:h.style,selected:!!h.selected,className:r(h),color:e(h),borderRadius:i,strokeColor:n(h),strokeWidth:s,shapeRendering:l,onClick:u,id:h.id})}const SJ=k.memo(wJ);var CJ=k.memo(vJ);const _J=200,TJ=150,kJ=t=>!t.hidden,EJ=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?pL(Yh(t.nodeLookup,{filter:kJ}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},AJ="react-flow__minimap-desc";function g5({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:c,bgColor:u,maskColor:h,maskStrokeColor:f,maskStrokeWidth:p,position:m="bottom-right",onClick:y,onNodeClick:x,pannable:v=!1,zoomable:S=!1,ariaLabel:_,inversePan:E,zoomStep:T=1,offsetScale:A=5}){const D=He(),B=k.useRef(null),{boundingRect:L,viewBB:z,rfId:V,panZoom:Y,translateExtent:U,flowWidth:X,flowHeight:Z,ariaLabelConfig:$}=oe(EJ,Ie),q=t?.width??_J,R=t?.height??TJ,F=L.width/q,j=L.height/R,W=Math.max(F,j),Q=W*q,I=W*R,P=A*W,G=L.x-(Q-L.width)/2-P,J=L.y-(I-L.height)/2-P,nt=Q+P*2,ct=I+P*2,ut=`${AJ}-${V}`,ht=k.useRef(0),pt=k.useRef();ht.current=W,k.useEffect(()=>{if(B.current&&Y)return pt.current=VZ({domNode:B.current,panZoom:Y,getTransform:()=>D.getState().transform,getViewScale:()=>ht.current}),()=>{pt.current?.destroy()}},[Y]),k.useEffect(()=>{pt.current?.update({translateExtent:U,width:X,height:Z,inversePan:E,pannable:v,zoomStep:T,zoomable:S})},[v,S,E,T,U,X,Z]);const yt=y?Et=>{const[zt,Zt]=pt.current?.pointer(Et)||[0,0];y(Et,{x:zt,y:Zt})}:void 0,Lt=x?k.useCallback((Et,zt)=>{const Zt=D.getState().nodeLookup.get(zt).internals.userNode;x(Et,Zt)},[]):void 0,vt=_??$["minimap.ariaLabel"];return C.jsx(em,{position:m,style:{...t,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*W:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:un(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:C.jsxs("svg",{width:q,height:R,viewBox:`${G} ${J} ${nt} ${ct}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ut,ref:B,onClick:yt,children:[vt&&C.jsx("title",{id:ut,children:vt}),C.jsx(CJ,{onClick:Lt,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:c}),C.jsx("path",{className:"react-flow__minimap-mask",d:`M${G-P},${J-P}h${nt+P*2}v${ct+P*2}h${-nt-P*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}g5.displayName="MiniMap";k.memo(g5);const MJ=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,DJ={[nc.Line]:"right",[nc.Handle]:"bottom-right"};function NJ({nodeId:t,position:e,variant:n=nc.Handle,className:r,style:i=void 0,children:s,color:l,minWidth:c=10,minHeight:u=10,maxWidth:h=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:m,autoScale:y=!0,shouldResize:x,onResizeStart:v,onResize:S,onResizeEnd:_}){const E=YL(),T=typeof t=="string"?t:E,A=He(),D=k.useRef(null),B=n===nc.Handle,L=oe(k.useCallback(MJ(B&&y),[B,y]),Ie),z=k.useRef(null),V=e??DJ[n];k.useEffect(()=>{if(!(!D.current||!T))return z.current||(z.current=rK({domNode:D.current,nodeId:T,getStoreItems:()=>{const{nodeLookup:U,transform:X,snapGrid:Z,snapToGrid:$,nodeOrigin:q,domNode:R}=A.getState();return{nodeLookup:U,transform:X,snapGrid:Z,snapToGrid:$,nodeOrigin:q,paneDomNode:R}},onChange:(U,X)=>{const{triggerNodeChanges:Z,nodeLookup:$,parentLookup:q,nodeOrigin:R}=A.getState(),F=[],j={x:U.x,y:U.y},W=$.get(T);if(W&&W.expandParent&&W.parentId){const Q=W.origin??R,I=U.width??W.measured.width??0,P=U.height??W.measured.height??0,G={id:W.id,parentId:W.parentId,rect:{width:I,height:P,...mL({x:U.x??W.position.x,y:U.y??W.position.y},{width:I,height:P},W.parentId,$,Q)}},J=U1([G],$,q,R);F.push(...J),j.x=U.x?Math.max(Q[0]*I,U.x):void 0,j.y=U.y?Math.max(Q[1]*P,U.y):void 0}if(j.x!==void 0&&j.y!==void 0){const Q={id:T,type:"position",position:{...j}};F.push(Q)}if(U.width!==void 0&&U.height!==void 0){const I={id:T,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:U.width,height:U.height}};F.push(I)}for(const Q of X){const I={...Q,type:"position"};F.push(I)}Z(F)},onEnd:({width:U,height:X})=>{const Z={id:T,type:"dimensions",resizing:!1,dimensions:{width:U,height:X}};A.getState().triggerNodeChanges([Z])}})),z.current.update({controlPosition:V,boundaries:{minWidth:c,minHeight:u,maxWidth:h,maxHeight:f},keepAspectRatio:p,resizeDirection:m,onResizeStart:v,onResize:S,onResizeEnd:_,shouldResize:x}),()=>{z.current?.destroy()}},[V,c,u,h,f,p,v,S,_,x]);const Y=V.split("-");return C.jsx("div",{className:un(["react-flow__resize-control","nodrag",...Y,n,r]),ref:D,style:{...i,scale:L,...l&&{[B?"backgroundColor":"borderColor"]:l}},children:s})}k.memo(NJ);const Bx=140,VE=50;function LJ(t,e,n,r){const i=Object.keys(n),s=i.length||1,l=200,c=160,u=100,h=Math.max(s*l,600),f=h/2,p=new Map;return p.set("project",{x:f-Bx/2,y:0}),i.forEach((m,y)=>{const x=(y+.5)/s*h-Bx/2;p.set(`squad-${m}`,{x,y:u+VE})}),i.forEach((m,y)=>{const x=r.filter(E=>E.squad===m),v=(y+.5)/s*h,S=x.length*c,_=v-S/2;x.forEach((E,T)=>{const A=_+(T+.5)*c-Bx/2;p.set(`agent-${E.id}`,{x:A,y:(u+VE)*2})})}),t.map(m=>({...m,position:p.get(m.id)||{x:0,y:0}}))}function BJ(t,e,n){const r=[],i=[];r.push({id:"project",position:{x:0,y:0},data:{label:" Project"},style:{backgroundColor:O.bg.surfaceHover,color:O.text.primary,border:`2px solid ${O.accent}`,borderRadius:"12px",padding:"12px 20px",fontSize:"14px",fontWeight:600},sourcePosition:Rt.Bottom}),Object.entries(n).forEach(([c,u])=>{const h=Ii(c);r.push({id:`squad-${c}`,position:{x:0,y:0},data:{label:`${u.icon} ${u.label}`},style:{backgroundColor:h.bg,color:h.main,border:`1.5px solid ${h.main}40`,borderRadius:"10px",padding:"8px 16px",fontSize:"12px",fontWeight:600},sourcePosition:Rt.Bottom,targetPosition:Rt.Top}),i.push({id:`project-${c}`,source:"project",target:`squad-${c}`,style:{stroke:h.main+"40",strokeWidth:1.5},animated:!1})}),e.forEach(c=>{const u=Ii(c.squad),h=t[c.id],f=h?.status==="working",p=h?.status==="done";r.push({id:`agent-${c.id}`,position:{x:0,y:0},data:{label:`${c.icon} ${c.shortName}
${h?.status||"idle"}`,agentId:c.id},style:{backgroundColor:f?u.bg:O.bg.surface,color:f?u.main:p?O.status.complete:O.text.secondary,border:`1.5px solid ${f?u.main:p?O.status.complete+"40":O.bg.border}`,borderRadius:"8px",padding:"6px 12px",fontSize:"10px",fontWeight:500,textAlign:"center",whiteSpace:"pre-line",cursor:"pointer"},targetPosition:Rt.Top,sourcePosition:Rt.Bottom}),i.push({id:`squad-${c.squad}-agent-${c.id}`,source:`squad-${c.squad}`,target:`agent-${c.id}`,style:{stroke:f?u.main:O.bg.border,strokeWidth:f?2:1},animated:f})});const s=e.filter(c=>t[c.id]?.status==="working");for(let c=0;c<s.length;c++)for(let u=c+1;u<s.length;u++)s[c].squad!==s[u].squad&&i.push({id:`collab-${s[c].id}-${s[u].id}`,source:`agent-${s[c].id}`,target:`agent-${s[u].id}`,style:{stroke:O.status.blocked+"40",strokeWidth:1,strokeDasharray:"4"},label:"collaborating",labelStyle:{fontSize:9,fill:O.text.muted}});return{nodes:LJ(r,i,n,e),edges:i}}const RJ=k.memo(function(){const{agents:e,agentMetas:n,squads:r}=En(),{selectAgent:i}=vi(),{nodes:s,edges:l}=k.useMemo(()=>BJ(e,n,r),[e,n,r]),[c,,u]=rJ(s),[h,,f]=iJ(l),p=Object.values(e).filter(S=>S.status==="working").length,m=Object.values(e).filter(S=>S.status==="done").length,y=Object.values(e).filter(S=>S.status==="error").length,x=Object.values(e).filter(S=>S.status==="error"||S.status==="paused").length,v=(S,_)=>{const E=_.data?.agentId;E&&i(E)};return C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[C.jsx("h2",{className:"text-lg font-semibold",style:{color:O.text.primary},children:" Emergence Map"}),C.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:O.text.secondary},children:[C.jsxs("span",{children:[" ",p," active"]}),C.jsxs("span",{children:[" ",m," done"]}),y>0&&C.jsxs("span",{style:{color:O.status.error},children:[" ",y," errors"]}),x>0&&C.jsxs("span",{style:{color:O.status.blocked},children:[" ",x," blocked"]})]})]}),C.jsx("div",{className:"flex-1",style:{backgroundColor:O.bg.primary},children:C.jsxs(nJ,{nodes:c,edges:h,onNodesChange:u,onEdgesChange:f,onNodeClick:v,fitView:!0,proOptions:{hideAttribution:!0},style:{background:O.bg.primary},children:[C.jsx(cJ,{color:O.bg.border,gap:20,size:1}),C.jsx(mJ,{})]})}),C.jsxs("div",{className:"px-6 py-3 border-t",style:{borderColor:O.bg.border},children:[C.jsx("h4",{className:"text-[10px] font-semibold uppercase tracking-wider mb-2",style:{color:O.text.muted},children:"Patterns Detected"}),C.jsxs("div",{className:"flex gap-4 text-xs",style:{color:O.text.secondary},children:[p>2&&C.jsxs("span",{children:[" High activity: ",p," agents working simultaneously"]}),m>6&&C.jsxs("span",{children:[" Good progress: ",m,"/",n.length," agents completed"]}),y>0&&C.jsxs("span",{children:[" Attention: ",y," agent(s) with errors"]}),x>0&&C.jsxs("span",{children:[" Bottleneck: ",x," agent(s) blocked  may be holding up dependencies"]}),p===0&&m===0&&C.jsx("span",{children:" All agents idle  click an agent node to inspect, or start a task"})]})]})]})}),OJ={exec:"",write:"",read:"",thinking:"",result:"",error:"",system:"",inject:""},jJ={exec:"#60A5FA",write:"#34D399",read:"#A78BFA",thinking:"#8B8B8E",result:"#10B981",error:"#EF4444",system:"#EAB308",inject:"#F59E0B"},qE={status:"idle",currentTask:null,checklist:[]},$J=k.memo(function(){const{selectedAgentId:e,selectAgent:n,setView:r}=vi(),{agents:i,agentMetas:s}=En(),[l,c]=k.useState([]),[u,h]=k.useState(""),[f,p]=k.useState(!0),m=k.useRef(null),y=k.useRef(null),x=e?jh(e,s):null,v=e&&i[e]||qE,S=x?Ii(x.squad):{main:"#666"};k.useEffect(()=>{if(!e)return;const T=new EventSource(`/api/agents/${e}/stream`);return T.onmessage=A=>{try{const D=JSON.parse(A.data),B={id:`${Date.now()}-${Math.random().toString(36).slice(2,6)}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:D.type||"system",content:D.content||D.message||JSON.stringify(D),detail:D.detail};c(L=>[...L.slice(-500),B])}catch{}},T.onerror=()=>{},()=>T.close()},[e]),k.useEffect(()=>{if(!e||!v)return;const T=[];v.output&&T.push({id:"output-0",timestamp:"--:--:--",type:"result",content:v.output}),v.checklist?.forEach((A,D)=>{A.done&&T.push({id:`check-${D}`,timestamp:"--:--:--",type:"result",content:` ${A.text}`})}),v.status==="working"&&v.currentTask&&T.push({id:"current",timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:"system",content:`Working on: ${v.currentTask}`}),T.length>0&&c(T)},[e]),k.useEffect(()=>{f&&m.current&&m.current.scrollTo({top:m.current.scrollHeight,behavior:"smooth"})},[l,f]);const _=async()=>{if(!u.trim()||!e)return;const T=u.trim();h(""),c(A=>[...A,{id:`inject-${Date.now()}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:"inject",content:`[YOU]  ${T}`}]);try{await fetch(`/api/agents/${e}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:T})})}catch{c(A=>[...A,{id:`err-${Date.now()}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:"error",content:"Failed to inject command"}])}},E=async T=>{if(e)try{await fetch(`/api/agents/${e}/${T}`,{method:"POST"})}catch{}};return!x||!e?C.jsx("div",{className:"flex-1 flex items-center justify-center",style:{color:O.text.muted},children:"Select an agent to view terminal"}):C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:O.bg.border},children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("button",{onClick:()=>n(null),className:"p-1 rounded hover:bg-white/5",style:{color:O.text.secondary},children:C.jsx(nN,{size:16})}),C.jsx(mN,{size:16,style:{color:S.main}}),C.jsxs("span",{className:"text-sm font-semibold",style:{color:O.text.primary},children:[x.icon," ",x.name]}),C.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full",style:{backgroundColor:v.status==="working"?S.main+"15":O.bg.surfaceHover,color:v.status==="working"?S.main:O.text.secondary},children:v.status})]}),C.jsxs("div",{className:"flex items-center gap-1.5",children:[v.status==="working"?C.jsx(If,{icon:C.jsx(cN,{size:12}),label:"Pause",onClick:()=>E("pause")}):C.jsx(If,{icon:C.jsx(uN,{size:12}),label:"Resume",onClick:()=>E("resume")}),C.jsx(If,{icon:C.jsx(CH,{size:12}),label:"Redirect",onClick:()=>E("redirect")}),C.jsx(If,{icon:C.jsx(yN,{size:12}),label:"Clear",onClick:()=>c([])})]})]}),C.jsxs("div",{ref:m,className:"flex-1 overflow-y-auto font-mono text-xs p-4 space-y-0.5",style:{backgroundColor:"#050506"},onScroll:()=>{if(!m.current)return;const{scrollTop:T,scrollHeight:A,clientHeight:D}=m.current;p(A-T-D<50)},children:[l.length===0&&C.jsx("p",{className:"text-center py-12",style:{color:O.text.muted},children:v.status==="working"?" Waiting for agent activity...":`Agent is ${v.status}. Start a task to see activity here.`}),l.map(T=>C.jsxs("div",{className:"flex items-start gap-2 leading-relaxed py-0.5",children:[C.jsxs("span",{style:{color:O.text.muted},className:"flex-shrink-0 select-none",children:["[",T.timestamp,"]"]}),C.jsx("span",{className:"flex-shrink-0",style:{color:jJ[T.type]},children:OJ[T.type]}),C.jsx("span",{style:{color:T.type==="error"?O.status.error:O.text.primary},children:T.content})]},T.id)),v.status==="working"&&C.jsx(De.div,{className:"flex items-center gap-1 pt-1",animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0},children:C.jsx("span",{style:{color:S.main},children:""})})]}),C.jsx("div",{className:"border-t p-3",style:{borderColor:O.bg.border,backgroundColor:O.bg.surface},children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-xs font-mono",style:{color:S.main},children:"$"}),C.jsx("input",{ref:y,value:u,onChange:T=>h(T.target.value),onKeyDown:T=>{T.key==="Enter"&&(T.preventDefault(),_())},placeholder:"Intervene: redirect agent, inject command, or send instruction...",className:"flex-1 bg-transparent text-xs font-mono outline-none",style:{color:O.text.primary}}),C.jsx("button",{onClick:_,disabled:!u.trim(),className:"p-1.5 rounded transition-colors disabled:opacity-20",style:{color:S.main},children:C.jsx(gN,{size:14})})]})})]})});function If({icon:t,label:e,onClick:n}){return C.jsxs("button",{onClick:n,className:"flex items-center gap-1 px-2 py-1 rounded text-[10px] transition-colors hover:bg-white/5",style:{color:O.text.secondary},title:e,children:[t,C.jsx("span",{className:"hidden sm:inline",children:e})]})}const zJ={status:"idle",progress:0},PJ=[{id:"brief",agentId:"analyst",label:"Project Brief",startDay:0,duration:2,dependencies:[]},{id:"prd",agentId:"pm",label:"PRD",startDay:2,duration:3,dependencies:["brief"]},{id:"ux-spec",agentId:"ux-design-expert",label:"UX Spec",startDay:3,duration:3,dependencies:["prd"]},{id:"architecture",agentId:"architect",label:"Architecture",startDay:4,duration:3,dependencies:["prd"]},{id:"validation",agentId:"po",label:"PO Validation",startDay:7,duration:1,dependencies:["prd","ux-spec","architecture"]},{id:"sharding",agentId:"sm",label:"Task Sharding",startDay:8,duration:2,dependencies:["validation"]},{id:"db-design",agentId:"data-engineer",label:"Database Design",startDay:8,duration:2,dependencies:["architecture"]},{id:"dev-sprint",agentId:"dev",label:"Development Sprint",startDay:10,duration:5,dependencies:["sharding","db-design"]},{id:"qa-review",agentId:"qa",label:"QA & Testing",startDay:12,duration:3,dependencies:["dev-sprint"]},{id:"devops-deploy",agentId:"devops",label:"CI/CD & Deploy",startDay:14,duration:2,dependencies:["qa-review"]}];function FJ(t,e){return e.map(n=>{const r=t[n.agentId]||zJ,i=r.status==="done",s=r.status==="working",l=r.status==="error",c=n.dependencies.every(u=>{const h=e.find(p=>p.id===u);return h?t[h.agentId]?.status==="done":!0});return{...n,progress:i?100:r.progress||0,status:i?"done":l?"blocked":s?"active":c?"waiting":"blocked"}})}function IJ(t){const e=new Map(t.map(s=>[s.id,s])),n=new Map;function r(s){if(n.has(s))return n.get(s);const l=e.get(s);if(!l)return{length:0,path:[]};if(l.dependencies.length===0){const h={length:l.duration,path:[l.id]};return n.set(s,h),h}let c={length:0,path:[]};for(const h of l.dependencies){const f=r(h);f.length>c.length&&(c=f)}const u={length:c.length+l.duration,path:[...c.path,l.id]};return n.set(s,u),u}let i={length:0,path:[]};for(const s of t){const l=r(s.id);l.length>i.length&&(i=l)}return i.path}function HJ({tasks:t,dayWidth:e,labelWidth:n,agentMetas:r}){const i=new Map(t.map((u,h)=>[u.id,{task:u,index:h}])),s=36,l=[];if(t.forEach((u,h)=>{u.dependencies.forEach(f=>{const p=i.get(f);if(!p)return;const m=(p.task.startDay+p.task.duration)*e,y=p.index*s+s/2,x=u.startDay*e,v=h*s+s/2,S=jh(u.agentId,r),_=S?Ii(S.squad):{main:"#666"};l.push({x1:m,y1:y,x2:x,y2:v,color:_.main+"50"})})}),l.length===0)return null;const c=t.length*s;return C.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none",style:{left:`${n}px`,width:`calc(100% - ${n}px)`,height:c},viewBox:`0 0 100 ${c}`,preserveAspectRatio:"none",children:[C.jsx("defs",{children:C.jsx("marker",{id:"arrow-head",markerWidth:"6",markerHeight:"4",refX:"6",refY:"2",orient:"auto",children:C.jsx("polygon",{points:"0 0, 6 2, 0 4",fill:O.text.muted,opacity:.5})})}),l.map((u,h)=>{const f=(u.x1+u.x2)/2;return C.jsx("path",{d:`M ${u.x1} ${u.y1} C ${f} ${u.y1}, ${f} ${u.y2}, ${u.x2} ${u.y2}`,fill:"none",stroke:u.color,strokeWidth:1.5,strokeDasharray:"4 2",markerEnd:"url(#arrow-head)",vectorEffect:"non-scaling-stroke"},h)})]})}const VJ=k.memo(function(){const{agents:e,agentMetas:n}=En(),{selectAgent:r}=vi(),[i,s]=k.useState(null),[l,c]=k.useState(""),[u,h]=k.useState(PJ);k.useEffect(()=>{fetch("/api/gantt/tasks").then(T=>T.ok?T.json():null).then(T=>{T?.tasks&&Array.isArray(T.tasks)&&T.tasks.length>0&&h(T.tasks)}).catch(()=>{})},[]);const f=k.useMemo(()=>FJ(e,u),[e,u]),p=Math.max(...f.map(T=>T.startDay+T.duration),16),m=100/p,y=f.filter(T=>T.status==="done").length,x=f.filter(T=>T.status==="blocked").length,v=k.useMemo(()=>IJ(f),[f]),S=v.map(T=>f.find(A=>A.id===T)?.label).filter(Boolean),_=async T=>{if(!l.trim()){s(null);return}const A=f.find(D=>D.id===T);if(A){try{await fetch(`/api/agents/${A.agentId}/directive`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({directive:l})})}catch{}s(null),c("")}},E=160;return C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden p-6",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("h2",{className:"text-lg font-semibold",style:{color:O.text.primary},children:" Gantt  Dynamic Timeline"}),C.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:O.text.secondary},children:[C.jsxs("span",{children:[" ",y,"/",f.length," done"]}),x>0&&C.jsxs("span",{style:{color:O.status.blocked},children:[C.jsx(b1,{size:12,className:"inline mr-1"}),x," blocked"]}),C.jsxs("span",{children:[C.jsx(F9,{size:12,className:"inline mr-1"}),"ETA: ",p," days"]})]})]}),C.jsx("div",{className:"flex items-end mb-1",style:{paddingLeft:`${E}px`},children:Array.from({length:p},(T,A)=>C.jsxs("div",{className:"text-center text-[9px] flex-shrink-0",style:{width:`${m}%`,color:O.text.muted},children:["D",A+1]},A))}),C.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[C.jsx(HJ,{tasks:f,dayWidth:m,labelWidth:E,agentMetas:n}),C.jsx("div",{className:"space-y-1 relative z-10",children:f.map(T=>{const A=jh(T.agentId,n),D=A?Ii(A.squad):{main:"#666"},B=v.includes(T.id),L=T.status==="done"?O.status.complete:T.status==="active"?D.main:T.status==="blocked"?O.status.blocked:O.text.muted;return C.jsxs("div",{className:"flex items-center group",children:[C.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 pr-3 cursor-pointer hover:opacity-80",style:{width:`${E}px`},onClick:()=>r(T.agentId),children:[C.jsx("span",{className:"text-xs",children:A?.icon}),C.jsxs("div",{className:"min-w-0",children:[C.jsxs("p",{className:"text-[11px] font-medium truncate",style:{color:B?O.accent:O.text.primary},children:[T.label,B&&C.jsx("span",{className:"ml-1 text-[8px]",title:"On critical path",children:""})]}),C.jsxs("p",{className:"text-[9px] truncate",style:{color:O.text.muted},children:[A?.shortName,"  ",T.status]})]})]}),C.jsxs("div",{className:"flex-1 relative h-8 flex items-center",children:[Array.from({length:p},(z,V)=>C.jsx("div",{className:"absolute top-0 bottom-0 border-l",style:{left:`${V*m}%`,borderColor:O.bg.border+"40"}},V)),C.jsxs(De.div,{className:"absolute h-5 rounded-md flex items-center px-1.5 cursor-pointer",style:{left:`${T.startDay*m}%`,width:`${T.duration*m}%`,backgroundColor:L+"20",border:`1px solid ${L}40`,boxShadow:B?`0 0 8px ${O.accent}30`:void 0},whileHover:{backgroundColor:L+"30"},onClick:()=>{s(T.id),c(T.directive||`Direct ${A?.name||"agent"}: `)},children:[C.jsx(De.div,{className:"absolute inset-0 rounded-md",style:{backgroundColor:L+"30",originX:0},animate:{scaleX:T.progress/100},transition:{duration:.5}}),C.jsx("span",{className:"relative text-[9px] font-medium truncate",style:{color:L},children:T.progress>0&&T.progress<100?`${T.progress}%`:""})]}),C.jsx("button",{className:"absolute opacity-0 group-hover:opacity-100 transition-opacity",style:{left:`${(T.startDay+T.duration)*m+.5}%`,color:O.text.secondary},onClick:()=>{s(T.id),c("")},title:"Edit directive",children:C.jsx(ah,{size:10})})]})]},T.id)})})]}),i&&C.jsxs(De.div,{className:"border-t p-4",style:{borderColor:O.bg.border,backgroundColor:O.bg.surface},initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[C.jsx(ah,{size:14,style:{color:O.accent}}),C.jsxs("span",{className:"text-xs font-semibold",style:{color:O.text.primary},children:["Edit Directive  ",f.find(T=>T.id===i)?.label]})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{value:l,onChange:T=>c(T.target.value),onKeyDown:T=>{T.key==="Enter"&&_(i),T.key==="Escape"&&s(null)},placeholder:"Enter new directive for this agent...",className:"flex-1 rounded-lg px-3 py-2 text-xs outline-none border",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.primary},autoFocus:!0}),C.jsx("button",{onClick:()=>_(i),className:"rounded-lg px-4 py-2 text-xs font-medium",style:{backgroundColor:O.accent,color:"#fff"},children:"Apply"}),C.jsx("button",{onClick:()=>s(null),className:"rounded-lg px-3 py-2 text-xs",style:{color:O.text.secondary},children:"Cancel"})]})]}),C.jsx("div",{className:"mt-3 px-1",children:C.jsxs("p",{className:"text-[10px]",style:{color:O.text.muted},children:[" Critical Path: ",S.length>0?S.join("  "):"All done!"]})})]})}),qJ={status:"idle"},UJ=k.memo(function(){const{agents:e,agentMetas:n}=En(),[r,i]=k.useState(""),[s,l]=k.useState(""),[c,u]=k.useState({}),[h,f]=k.useState(null),[p,m]=k.useState(""),[y,x]=k.useState(null),[v,S]=k.useState(!1);k.useEffect(()=>{fetch("/api/strategy").then(T=>T.json()).then(T=>{T.vision&&i(T.vision),T.guardrails&&l(T.guardrails),T.directives&&u(T.directives)}).catch(()=>{i("Define your project vision here..."),l(` Stack constraints
 Quality requirements
 Security policies`)})},[]);const _=async T=>{const A=c[T],D={agentId:T,text:p,history:[...A?.history||[],{text:A?.text||"",timestamp:Date.now()}].slice(-10)};u(B=>({...B,[T]:D})),f(null);try{await fetch(`/api/agents/${T}/directive`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({directive:p})})}catch{}},E=async()=>{try{await fetch("/api/strategy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vision:r,guardrails:s,directives:c})}),S(!0),setTimeout(()=>S(!1),2e3)}catch{}};return C.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:C.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h2",{className:"text-lg font-semibold",style:{color:O.text.primary},children:" Strategy Canvas"}),C.jsxs("div",{className:"flex items-center gap-2",children:[v&&C.jsx(De.span,{className:"text-xs",style:{color:O.status.complete},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:" Saved"}),C.jsxs("button",{onClick:E,className:"flex items-center gap-1.5 rounded-lg px-4 py-2 text-xs font-medium",style:{backgroundColor:O.accent,color:"#fff"},children:[C.jsx(fN,{size:14}),"Apply Changes"]})]})]}),C.jsx(Rx,{title:" Project Vision",icon:C.jsx(iN,{size:14}),children:C.jsx("textarea",{value:r,onChange:T=>i(T.target.value),className:"w-full rounded-lg p-3 text-sm outline-none border resize-none min-h-[80px]",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.primary},placeholder:"Define the project vision that guides all agents..."})}),C.jsx(Rx,{title:" Agent Directives",icon:C.jsx(ah,{size:14}),children:C.jsx("div",{className:"space-y-3",children:n.map(T=>{const A=e[T.id]||qJ,D=c[T.id],B=Ii(T.squad),L=h===T.id;return C.jsxs("div",{className:"rounded-lg border p-3",style:{backgroundColor:O.bg.surface,borderColor:A.status==="working"?B.main+"40":O.bg.border},children:[C.jsxs("div",{className:"flex items-center justify-between mb-2",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{children:T.icon}),C.jsx("span",{className:"text-sm font-medium",style:{color:O.text.primary},children:T.name}),C.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full",style:{backgroundColor:A.status==="working"?B.main+"15":O.bg.surfaceHover,color:A.status==="working"?B.main:O.text.muted},children:A.status})]}),C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("button",{onClick:()=>{L?f(null):(f(T.id),m(D?.text||""))},className:"p-1 rounded hover:bg-white/5",style:{color:O.text.secondary},title:"Edit directive",children:C.jsx(ah,{size:12})}),D?.history?.length?C.jsx("button",{onClick:()=>x(y===T.id?null:T.id),className:"p-1 rounded hover:bg-white/5",style:{color:O.text.secondary},title:"View history",children:C.jsx(K9,{size:12})}):null]})]}),L?C.jsxs("div",{className:"space-y-2",children:[C.jsx("textarea",{value:p,onChange:z=>m(z.target.value),className:"w-full rounded-md p-2 text-xs outline-none border resize-none min-h-[60px]",style:{backgroundColor:O.bg.primary,borderColor:B.main+"40",color:O.text.primary},autoFocus:!0,placeholder:`Direct ${T.name}: focus, priorities, constraints...`}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>_(T.id),className:"text-[10px] px-3 py-1 rounded font-medium",style:{backgroundColor:B.main+"20",color:B.main},children:"Save & Apply"}),C.jsx("button",{onClick:()=>f(null),className:"text-[10px] px-3 py-1 rounded",style:{color:O.text.secondary},children:"Cancel"})]})]}):C.jsx("p",{className:"text-xs leading-relaxed",style:{color:D?.text?O.text.secondary:O.text.muted},children:D?.text||`No directive set. Click edit to guide ${T.name}.`}),C.jsx(_a,{children:y===T.id&&D?.history?.length?C.jsxs(De.div,{className:"mt-2 space-y-1 border-t pt-2",style:{borderColor:O.bg.border},initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:[C.jsx("span",{className:"text-[9px] font-semibold uppercase",style:{color:O.text.muted},children:"Previous Directives"}),D.history.filter(z=>z.text).map((z,V)=>C.jsxs("div",{className:"flex items-start gap-2 text-[10px]",style:{color:O.text.muted},children:[C.jsx("span",{className:"flex-shrink-0",children:new Date(z.timestamp).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})}),C.jsx("span",{children:z.text}),C.jsx("button",{onClick:()=>{f(T.id),m(z.text)},className:"flex-shrink-0 hover:opacity-70",title:"Restore this directive",children:C.jsx(dN,{size:10})})]},V))]}):null})]},T.id)})})}),C.jsx(Rx,{title:" Guardrails (apply to all agents)",icon:C.jsx(wH,{size:14}),children:C.jsx("textarea",{value:s,onChange:T=>l(T.target.value),className:"w-full rounded-lg p-3 text-xs outline-none border resize-none min-h-[100px] font-mono",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.primary},placeholder:"Global rules all agents must follow..."})})]})})});function Rx({title:t,icon:e,children:n}){return C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[C.jsx("span",{style:{color:O.accent},children:e}),C.jsx("h3",{className:"text-sm font-semibold",style:{color:O.text.primary},children:t})]}),n]})}function UE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function WJ(t){if(Array.isArray(t))return t}function YJ(t,e,n){return(e=ttt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],u=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function XJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZJ(t,e){if(t==null)return{};var n,r,i=KJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QJ(t,e){return WJ(t)||GJ(t,e)||ett(t,e)||XJ()}function JJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ttt(t){var e=JJ(t,"string");return typeof e=="symbol"?e:e+""}function ett(t,e){if(t){if(typeof t=="string")return UE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UE(t,e):void 0}}function ntt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){ntt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rtt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function Nu(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return e.apply(n,[].concat(i,c))}}}function Kp(t){return{}.toString.call(t).includes("Object")}function itt(t){return!Object.keys(t).length}function vh(t){return typeof t=="function"}function att(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function stt(t,e){return Kp(e)||fs("changeType"),Object.keys(e).some(function(n){return!att(t,n)})&&fs("changeField"),e}function ott(t){vh(t)||fs("selectorType")}function ltt(t){vh(t)||Kp(t)||fs("handlerType"),Kp(t)&&Object.values(t).some(function(e){return!vh(e)})&&fs("handlersType")}function ctt(t){t||fs("initialIsRequired"),Kp(t)||fs("initialType"),itt(t)&&fs("initialContent")}function utt(t,e){throw new Error(t[e]||t.default)}var htt={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},fs=Nu(utt)(htt),Hf={changes:stt,selector:ott,handler:ltt,initial:ctt};function dtt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Hf.initial(t),Hf.handler(e);var n={current:t},r=Nu(gtt)(n,e),i=Nu(ptt)(n),s=Nu(Hf.changes)(t),l=Nu(ftt)(n);function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Hf.selector(h),h(n.current)}function u(h){rtt(r,i,s,l)(h)}return[c,u]}function ftt(t,e){return vh(e)?e(t.current):e}function ptt(t,e){return t.current=XE(XE({},t.current),e),e}function gtt(t,e,n){return vh(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var mtt={create:dtt},ytt={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function xtt(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return e.apply(n,[].concat(i,c))}}}function btt(t){return{}.toString.call(t).includes("Object")}function vtt(t){return t||ZE("configIsRequired"),btt(t)||ZE("configType"),t.urls?(wtt(),{paths:{vs:t.urls.monacoBase}}):t}function wtt(){console.warn(m5.deprecation)}function Stt(t,e){throw new Error(t[e]||t.default)}var m5={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ZE=xtt(Stt)(m5),Ctt={config:vtt},_tt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,l){return l(s)},i)}};function y5(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],y5(t[n],e[n]))}),YE(YE({},t),e)}var Ttt={type:"cancelation",msg:"operation is manually canceled"};function Ox(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(Ttt):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var ktt=["monaco"],Ett=mtt.create({config:ytt,isInitialized:!1,resolve:null,reject:null,monaco:null}),x5=QJ(Ett,2),Zh=x5[0],im=x5[1];function Att(t){var e=Ctt.config(t),n=e.monaco,r=ZJ(e,ktt);im(function(i){return{config:y5(i.config,r),monaco:n}})}function Mtt(){var t=Zh(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(im({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),Ox(jx);if(window.monaco&&window.monaco.editor)return b5(window.monaco),t.resolve(window.monaco),Ox(jx);_tt(Dtt,Ltt)(Btt)}return Ox(jx)}function Dtt(t){return document.body.appendChild(t)}function Ntt(t){var e=document.createElement("script");return t&&(e.src=t),e}function Ltt(t){var e=Zh(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=Ntt("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Btt(){var t=Zh(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){var r=n.m||n;b5(r),t.resolve(r)},function(n){t.reject(n)})}function b5(t){Zh().monaco||im({monaco:t})}function Rtt(){return Zh(function(t){var e=t.monaco;return e})}var jx=new Promise(function(t,e){return im({resolve:t,reject:e})}),v5={config:Att,init:Mtt,__getMonacoInstance:Rtt},Ott={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},$x=Ott,jtt={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},$tt=jtt;function ztt({children:t}){return re.createElement("div",{style:$tt.container},t)}var Ptt=ztt,Ftt=Ptt;function Itt({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:l}){return re.createElement("section",{style:{...$x.wrapper,width:t,height:e},...l},!n&&re.createElement(Ftt,null,r),re.createElement("div",{ref:i,style:{...$x.fullWidth,...!n&&$x.hide},className:s}))}var Htt=Itt,w5=k.memo(Htt);function Vtt(t){k.useEffect(t,[])}var S5=Vtt;function qtt(t,e,n=!0){let r=k.useRef(!0);k.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var jr=qtt;function Yu(){}function Ll(t,e,n,r){return Utt(t,r)||Wtt(t,e,n,r)}function Utt(t,e){return t.editor.getModel(C5(t,e))}function Wtt(t,e,n,r){return t.editor.createModel(e,n,r?C5(t,r):void 0)}function C5(t,e){return t.Uri.parse(e)}function Ytt({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:h="light",loading:f="Loading...",options:p={},height:m="100%",width:y="100%",className:x,wrapperProps:v={},beforeMount:S=Yu,onMount:_=Yu}){let[E,T]=k.useState(!1),[A,D]=k.useState(!0),B=k.useRef(null),L=k.useRef(null),z=k.useRef(null),V=k.useRef(_),Y=k.useRef(S),U=k.useRef(!1);S5(()=>{let q=v5.init();return q.then(R=>(L.current=R)&&D(!1)).catch(R=>R?.type!=="cancelation"&&console.error("Monaco initialization: error:",R)),()=>B.current?$():q.cancel()}),jr(()=>{if(B.current&&L.current){let q=B.current.getOriginalEditor(),R=Ll(L.current,t||"",r||n||"text",s||"");R!==q.getModel()&&q.setModel(R)}},[s],E),jr(()=>{if(B.current&&L.current){let q=B.current.getModifiedEditor(),R=Ll(L.current,e||"",i||n||"text",l||"");R!==q.getModel()&&q.setModel(R)}},[l],E),jr(()=>{let q=B.current.getModifiedEditor();q.getOption(L.current.editor.EditorOption.readOnly)?q.setValue(e||""):e!==q.getValue()&&(q.executeEdits("",[{range:q.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),q.pushUndoStop())},[e],E),jr(()=>{B.current?.getModel()?.original.setValue(t||"")},[t],E),jr(()=>{let{original:q,modified:R}=B.current.getModel();L.current.editor.setModelLanguage(q,r||n||"text"),L.current.editor.setModelLanguage(R,i||n||"text")},[n,r,i],E),jr(()=>{L.current?.editor.setTheme(h)},[h],E),jr(()=>{B.current?.updateOptions(p)},[p],E);let X=k.useCallback(()=>{if(!L.current)return;Y.current(L.current);let q=Ll(L.current,t||"",r||n||"text",s||""),R=Ll(L.current,e||"",i||n||"text",l||"");B.current?.setModel({original:q,modified:R})},[n,e,i,t,r,s,l]),Z=k.useCallback(()=>{!U.current&&z.current&&(B.current=L.current.editor.createDiffEditor(z.current,{automaticLayout:!0,...p}),X(),L.current?.editor.setTheme(h),T(!0),U.current=!0)},[p,h,X]);k.useEffect(()=>{E&&V.current(B.current,L.current)},[E]),k.useEffect(()=>{!A&&!E&&Z()},[A,E,Z]);function $(){let q=B.current?.getModel();c||q?.original?.dispose(),u||q?.modified?.dispose(),B.current?.dispose()}return re.createElement(w5,{width:y,height:m,isEditorReady:E,loading:f,_ref:z,className:x,wrapperProps:v})}var Gtt=Ytt;k.memo(Gtt);function Xtt(t){let e=k.useRef();return k.useEffect(()=>{e.current=t},[t]),e.current}var Ztt=Xtt,Vf=new Map;function Ktt({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:l="light",line:c,loading:u="Loading...",options:h={},overrideServices:f={},saveViewState:p=!0,keepCurrentModel:m=!1,width:y="100%",height:x="100%",className:v,wrapperProps:S={},beforeMount:_=Yu,onMount:E=Yu,onChange:T,onValidate:A=Yu}){let[D,B]=k.useState(!1),[L,z]=k.useState(!0),V=k.useRef(null),Y=k.useRef(null),U=k.useRef(null),X=k.useRef(E),Z=k.useRef(_),$=k.useRef(),q=k.useRef(r),R=Ztt(s),F=k.useRef(!1),j=k.useRef(!1);S5(()=>{let I=v5.init();return I.then(P=>(V.current=P)&&z(!1)).catch(P=>P?.type!=="cancelation"&&console.error("Monaco initialization: error:",P)),()=>Y.current?Q():I.cancel()}),jr(()=>{let I=Ll(V.current,t||r||"",e||i||"",s||n||"");I!==Y.current?.getModel()&&(p&&Vf.set(R,Y.current?.saveViewState()),Y.current?.setModel(I),p&&Y.current?.restoreViewState(Vf.get(s)))},[s],D),jr(()=>{Y.current?.updateOptions(h)},[h],D),jr(()=>{!Y.current||r===void 0||(Y.current.getOption(V.current.editor.EditorOption.readOnly)?Y.current.setValue(r):r!==Y.current.getValue()&&(j.current=!0,Y.current.executeEdits("",[{range:Y.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),Y.current.pushUndoStop(),j.current=!1))},[r],D),jr(()=>{let I=Y.current?.getModel();I&&i&&V.current?.editor.setModelLanguage(I,i)},[i],D),jr(()=>{c!==void 0&&Y.current?.revealLine(c)},[c],D),jr(()=>{V.current?.editor.setTheme(l)},[l],D);let W=k.useCallback(()=>{if(!(!U.current||!V.current)&&!F.current){Z.current(V.current);let I=s||n,P=Ll(V.current,r||t||"",e||i||"",I||"");Y.current=V.current?.editor.create(U.current,{model:P,automaticLayout:!0,...h},f),p&&Y.current.restoreViewState(Vf.get(I)),V.current.editor.setTheme(l),c!==void 0&&Y.current.revealLine(c),B(!0),F.current=!0}},[t,e,n,r,i,s,h,f,p,l,c]);k.useEffect(()=>{D&&X.current(Y.current,V.current)},[D]),k.useEffect(()=>{!L&&!D&&W()},[L,D,W]),q.current=r,k.useEffect(()=>{D&&T&&($.current?.dispose(),$.current=Y.current?.onDidChangeModelContent(I=>{j.current||T(Y.current.getValue(),I)}))},[D,T]),k.useEffect(()=>{if(D){let I=V.current.editor.onDidChangeMarkers(P=>{let G=Y.current.getModel()?.uri;if(G&&P.find(J=>J.path===G.path)){let J=V.current.editor.getModelMarkers({resource:G});A?.(J)}});return()=>{I?.dispose()}}return()=>{}},[D,A]);function Q(){$.current?.dispose(),m?p&&Vf.set(s,Y.current.saveViewState()):Y.current.getModel()?.dispose(),Y.current.dispose()}return re.createElement(w5,{width:y,height:x,isEditorReady:D,loading:u,_ref:U,className:v,wrapperProps:S})}var Qtt=Ktt,Jtt=k.memo(Qtt),tet=Jtt;const eet=k.memo(function(){const[e,n]=k.useState([]),[r,i]=k.useState(null),[s,l]=k.useState(""),[c,u]=k.useState(""),[h,f]=k.useState(!1),[p,m]=k.useState(!1),[y,x]=k.useState(new Set),v=k.useCallback(async()=>{try{const D=await fetch("/api/docs");if(!D.ok)throw new Error("Failed to fetch docs");const B=await D.json();if(B.groups)n(B.groups);else if(B.files||Array.isArray(B)){const L=B.files||B,z=new Map;for(const V of L){const Y=V.path?.includes("/")?V.path.split("/")[0]:"root";z.has(Y)||z.set(Y,[]),z.get(Y).push(V)}n(Array.from(z.entries()).map(([V,Y])=>({category:V,files:Y})))}}catch{n([{category:"docs",files:[{name:"README.md",path:"docs/README.md",type:"file"}]}])}},[]);k.useEffect(()=>{v()},[v]);const S=k.useCallback(async D=>{f(!0),i(D);try{const B=await fetch(`/api/docs/file?path=${encodeURIComponent(D)}`);if(!B.ok)throw new Error("Failed to load file");const L=await B.json();l(L.content||""),u(L.content||"")}catch{l(`// Could not load ${D}`),u("")}finally{f(!1)}},[]),_=k.useCallback(async()=>{if(r){m(!0);try{await fetch("/api/docs/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:r,content:s})}),u(s)}catch{}finally{m(!1)}}},[r,s]),E=D=>{x(B=>{const L=new Set(B);return L.has(D)?L.delete(D):L.add(D),L})},T=s!==c,A=r?.endsWith(".yaml")||r?.endsWith(".yml")?"yaml":r?.endsWith(".json")?"json":r?.endsWith(".ts")||r?.endsWith(".tsx")?"typescript":r?.endsWith(".js")||r?.endsWith(".jsx")?"javascript":"markdown";return C.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[C.jsxs("aside",{className:"w-64 flex-shrink-0 border-r flex flex-col overflow-hidden",style:{backgroundColor:O.bg.surface,borderColor:O.bg.border},children:[C.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",style:{borderColor:O.bg.border},children:[C.jsx("span",{className:"text-xs font-semibold",style:{color:O.text.primary},children:" Documents"}),C.jsx("button",{onClick:v,className:"p-1 rounded hover:bg-white/5 transition-colors",title:"Refresh",children:C.jsx(hN,{size:12,style:{color:O.text.secondary}})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto py-1",children:[e.map(D=>C.jsxs("div",{children:[C.jsxs("button",{onClick:()=>E(D.category),className:"w-full flex items-center gap-1.5 px-3 py-1.5 text-[11px] font-medium hover:bg-white/5 transition-colors",style:{color:O.text.secondary},children:[y.has(D.category)?C.jsx(x1,{size:12}):C.jsx(Lg,{size:12}),C.jsx(oN,{size:12,style:{color:O.accent}}),D.category,C.jsx("span",{className:"ml-auto text-[9px]",style:{color:O.text.muted},children:D.files.length})]}),!y.has(D.category)&&C.jsx("div",{children:D.files.map(B=>C.jsx(_5,{file:B,selectedFile:r,onSelect:S,depth:1},B.path))})]},D.category)),e.length===0&&C.jsx("p",{className:"text-[10px] text-center py-8",style:{color:O.text.muted},children:"No documents found"})]})]}),C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b flex-shrink-0",style:{backgroundColor:O.bg.surface,borderColor:O.bg.border},children:[C.jsxs("div",{className:"flex items-center gap-2",children:[r?C.jsx("span",{className:"text-xs font-mono",style:{color:O.text.primary},children:r}):C.jsx("span",{className:"text-xs",style:{color:O.text.muted},children:"Select a file to edit"}),T&&C.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full font-medium",style:{backgroundColor:O.status.blocked+"20",color:O.status.blocked},children:"Modified"})]}),r&&C.jsxs("button",{onClick:_,disabled:p||!T,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-md text-[11px] font-medium transition-all disabled:opacity-40",style:{backgroundColor:T?O.accent:O.bg.surfaceHover,color:T?"#fff":O.text.secondary},children:[C.jsx(fN,{size:12}),p?"Saving...":"Save"]})]}),C.jsx("div",{className:"flex-1 overflow-hidden",children:r?h?C.jsx("div",{className:"flex items-center justify-center h-full",children:C.jsx("span",{className:"text-xs animate-pulse",style:{color:O.text.muted},children:"Loading..."})}):C.jsx(tet,{height:"100%",language:A,value:s,onChange:D=>l(D||""),theme:"vs-dark",options:{fontSize:13,fontFamily:"JetBrains Mono, Fira Code, monospace",minimap:{enabled:!1},lineNumbers:"on",wordWrap:"on",padding:{top:12},scrollBeyondLastLine:!1,renderLineHighlight:"gutter",bracketPairColorization:{enabled:!0},smoothScrolling:!0}}):C.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-3",children:[C.jsx(sN,{size:40,style:{color:O.text.muted}}),C.jsx("p",{className:"text-sm",style:{color:O.text.muted},children:"Select a document from the sidebar"}),C.jsx("p",{className:"text-[11px]",style:{color:O.text.muted},children:"Supports Markdown, YAML, JSON, and code files"})]})})]})]})});function _5({file:t,selectedFile:e,onSelect:n,depth:r}){const[i,s]=k.useState(!1),l=e===t.path,c=12+r*16;return t.type==="directory"?C.jsxs("div",{children:[C.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center gap-1.5 py-1 text-[11px] hover:bg-white/5 transition-colors",style:{paddingLeft:c,color:O.text.secondary},children:[i?C.jsx(Lg,{size:10}):C.jsx(x1,{size:10}),C.jsx(oN,{size:11,style:{color:O.accent}}),t.name]}),i&&t.children&&C.jsx("div",{children:t.children.map(u=>C.jsx(_5,{file:u,selectedFile:e,onSelect:n,depth:r+1},u.path))})]}):C.jsxs("button",{onClick:()=>n(t.path),className:"w-full flex items-center gap-1.5 py-1 text-[11px] hover:bg-white/5 transition-colors",style:{paddingLeft:c,color:l?O.text.primary:O.text.secondary,backgroundColor:l?O.bg.surfaceActive:"transparent"},children:[C.jsx(sN,{size:11,style:{color:l?O.accent:O.text.muted}}),t.name]})}const net="modulepreload",ret=function(t){return"/"+t},KE={},me=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=u(n.map(h=>{if(h=ret(h),h in KE)return;KE[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":net,f||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((y,x)=>{m.addEventListener("load",y),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};var QE={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},dp={exports:{}},iet=dp.exports,JE;function aet(){return JE||(JE=1,(function(t,e){(function(n,r){t.exports=r()})(iet,(function(){var n=1e3,r=6e4,i=36e5,s="millisecond",l="second",c="minute",u="hour",h="day",f="week",p="month",m="quarter",y="year",x="date",v="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var q=["th","st","nd","rd"],R=$%100;return"["+$+(q[(R-20)%10]||q[R]||q[0])+"]"}},T=function($,q,R){var F=String($);return!F||F.length>=q?$:""+Array(q+1-F.length).join(R)+$},A={s:T,z:function($){var q=-$.utcOffset(),R=Math.abs(q),F=Math.floor(R/60),j=R%60;return(q<=0?"+":"-")+T(F,2,"0")+":"+T(j,2,"0")},m:function $(q,R){if(q.date()<R.date())return-$(R,q);var F=12*(R.year()-q.year())+(R.month()-q.month()),j=q.clone().add(F,p),W=R-j<0,Q=q.clone().add(F+(W?-1:1),p);return+(-(F+(R-j)/(W?j-Q:Q-j))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:p,y,w:f,d:h,D:x,h:u,m:c,s:l,ms:s,Q:m}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},D="en",B={};B[D]=E;var L="$isDayjsObject",z=function($){return $ instanceof X||!(!$||!$[L])},V=function $(q,R,F){var j;if(!q)return D;if(typeof q=="string"){var W=q.toLowerCase();B[W]&&(j=W),R&&(B[W]=R,j=W);var Q=q.split("-");if(!j&&Q.length>1)return $(Q[0])}else{var I=q.name;B[I]=q,j=I}return!F&&j&&(D=j),j||!F&&D},Y=function($,q){if(z($))return $.clone();var R=typeof q=="object"?q:{};return R.date=$,R.args=arguments,new X(R)},U=A;U.l=V,U.i=z,U.w=function($,q){return Y($,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var X=(function(){function $(R){this.$L=V(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[L]=!0}var q=$.prototype;return q.parse=function(R){this.$d=(function(F){var j=F.date,W=F.utc;if(j===null)return new Date(NaN);if(U.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var Q=j.match(S);if(Q){var I=Q[2]-1||0,P=(Q[7]||"0").substring(0,3);return W?new Date(Date.UTC(Q[1],I,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,P)):new Date(Q[1],I,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,P)}}return new Date(j)})(R),this.init()},q.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},q.$utils=function(){return U},q.isValid=function(){return this.$d.toString()!==v},q.isSame=function(R,F){var j=Y(R);return this.startOf(F)<=j&&j<=this.endOf(F)},q.isAfter=function(R,F){return Y(R)<this.startOf(F)},q.isBefore=function(R,F){return this.endOf(F)<Y(R)},q.$g=function(R,F,j){return U.u(R)?this[F]:this.set(j,R)},q.unix=function(){return Math.floor(this.valueOf()/1e3)},q.valueOf=function(){return this.$d.getTime()},q.startOf=function(R,F){var j=this,W=!!U.u(F)||F,Q=U.p(R),I=function(pt,yt){var Lt=U.w(j.$u?Date.UTC(j.$y,yt,pt):new Date(j.$y,yt,pt),j);return W?Lt:Lt.endOf(h)},P=function(pt,yt){return U.w(j.toDate()[pt].apply(j.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(yt)),j)},G=this.$W,J=this.$M,nt=this.$D,ct="set"+(this.$u?"UTC":"");switch(Q){case y:return W?I(1,0):I(31,11);case p:return W?I(1,J):I(0,J+1);case f:var ut=this.$locale().weekStart||0,ht=(G<ut?G+7:G)-ut;return I(W?nt-ht:nt+(6-ht),J);case h:case x:return P(ct+"Hours",0);case u:return P(ct+"Minutes",1);case c:return P(ct+"Seconds",2);case l:return P(ct+"Milliseconds",3);default:return this.clone()}},q.endOf=function(R){return this.startOf(R,!1)},q.$set=function(R,F){var j,W=U.p(R),Q="set"+(this.$u?"UTC":""),I=(j={},j[h]=Q+"Date",j[x]=Q+"Date",j[p]=Q+"Month",j[y]=Q+"FullYear",j[u]=Q+"Hours",j[c]=Q+"Minutes",j[l]=Q+"Seconds",j[s]=Q+"Milliseconds",j)[W],P=W===h?this.$D+(F-this.$W):F;if(W===p||W===y){var G=this.clone().set(x,1);G.$d[I](P),G.init(),this.$d=G.set(x,Math.min(this.$D,G.daysInMonth())).$d}else I&&this.$d[I](P);return this.init(),this},q.set=function(R,F){return this.clone().$set(R,F)},q.get=function(R){return this[U.p(R)]()},q.add=function(R,F){var j,W=this;R=Number(R);var Q=U.p(F),I=function(J){var nt=Y(W);return U.w(nt.date(nt.date()+Math.round(J*R)),W)};if(Q===p)return this.set(p,this.$M+R);if(Q===y)return this.set(y,this.$y+R);if(Q===h)return I(1);if(Q===f)return I(7);var P=(j={},j[c]=r,j[u]=i,j[l]=n,j)[Q]||1,G=this.$d.getTime()+R*P;return U.w(G,this)},q.subtract=function(R,F){return this.add(-1*R,F)},q.format=function(R){var F=this,j=this.$locale();if(!this.isValid())return j.invalidDate||v;var W=R||"YYYY-MM-DDTHH:mm:ssZ",Q=U.z(this),I=this.$H,P=this.$m,G=this.$M,J=j.weekdays,nt=j.months,ct=j.meridiem,ut=function(yt,Lt,vt,Et){return yt&&(yt[Lt]||yt(F,W))||vt[Lt].slice(0,Et)},ht=function(yt){return U.s(I%12||12,yt,"0")},pt=ct||function(yt,Lt,vt){var Et=yt<12?"AM":"PM";return vt?Et.toLowerCase():Et};return W.replace(_,(function(yt,Lt){return Lt||(function(vt){switch(vt){case"YY":return String(F.$y).slice(-2);case"YYYY":return U.s(F.$y,4,"0");case"M":return G+1;case"MM":return U.s(G+1,2,"0");case"MMM":return ut(j.monthsShort,G,nt,3);case"MMMM":return ut(nt,G);case"D":return F.$D;case"DD":return U.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return ut(j.weekdaysMin,F.$W,J,2);case"ddd":return ut(j.weekdaysShort,F.$W,J,3);case"dddd":return J[F.$W];case"H":return String(I);case"HH":return U.s(I,2,"0");case"h":return ht(1);case"hh":return ht(2);case"a":return pt(I,P,!0);case"A":return pt(I,P,!1);case"m":return String(P);case"mm":return U.s(P,2,"0");case"s":return String(F.$s);case"ss":return U.s(F.$s,2,"0");case"SSS":return U.s(F.$ms,3,"0");case"Z":return Q}return null})(yt)||Q.replace(":","")}))},q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},q.diff=function(R,F,j){var W,Q=this,I=U.p(F),P=Y(R),G=(P.utcOffset()-this.utcOffset())*r,J=this-P,nt=function(){return U.m(Q,P)};switch(I){case y:W=nt()/12;break;case p:W=nt();break;case m:W=nt()/3;break;case f:W=(J-G)/6048e5;break;case h:W=(J-G)/864e5;break;case u:W=J/i;break;case c:W=J/r;break;case l:W=J/n;break;default:W=J}return j?W:U.a(W)},q.daysInMonth=function(){return this.endOf(p).$D},q.$locale=function(){return B[this.$L]},q.locale=function(R,F){if(!R)return this.$L;var j=this.clone(),W=V(R,F,!0);return W&&(j.$L=W),j},q.clone=function(){return U.w(this.$d,this)},q.toDate=function(){return new Date(this.valueOf())},q.toJSON=function(){return this.isValid()?this.toISOString():null},q.toISOString=function(){return this.$d.toISOString()},q.toString=function(){return this.$d.toUTCString()},$})(),Z=X.prototype;return Y.prototype=Z,[["$ms",s],["$s",l],["$m",c],["$H",u],["$W",h],["$M",p],["$y",y],["$D",x]].forEach((function($){Z[$[1]]=function(q){return this.$g(q,$[0],$[1])}})),Y.extend=function($,q){return $.$i||($(q,X,Y),$.$i=!0),Y},Y.locale=V,Y.isDayjs=z,Y.unix=function($){return Y(1e3*$)},Y.en=B[D],Y.Ls=B,Y.p={},Y}))})(dp)),dp.exports}var set=aet();const oet=Dh(set);var T5=Object.defineProperty,M=(t,e)=>T5(t,"name",{value:e,configurable:!0}),cet=(t,e)=>{for(var n in e)T5(t,n,{get:e[n],enumerable:!0})},pa={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},mt={trace:M((...t)=>{},"trace"),debug:M((...t)=>{},"debug"),info:M((...t)=>{},"info"),warn:M((...t)=>{},"warn"),error:M((...t)=>{},"error"),fatal:M((...t)=>{},"fatal")},G1=M(function(t="fatal"){let e=pa.fatal;typeof t=="string"?t.toLowerCase()in pa&&(e=pa[t]):typeof t=="number"&&(e=t),mt.trace=()=>{},mt.debug=()=>{},mt.info=()=>{},mt.warn=()=>{},mt.error=()=>{},mt.fatal=()=>{},e<=pa.fatal&&(mt.fatal=console.error?console.error.bind(console,Gr("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Gr("FATAL"))),e<=pa.error&&(mt.error=console.error?console.error.bind(console,Gr("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Gr("ERROR"))),e<=pa.warn&&(mt.warn=console.warn?console.warn.bind(console,Gr("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Gr("WARN"))),e<=pa.info&&(mt.info=console.info?console.info.bind(console,Gr("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Gr("INFO"))),e<=pa.debug&&(mt.debug=console.debug?console.debug.bind(console,Gr("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Gr("DEBUG"))),e<=pa.trace&&(mt.trace=console.debug?console.debug.bind(console,Gr("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Gr("TRACE")))},"setLogLevel"),Gr=M(t=>`%c${oet().format("ss.SSS")} : ${t} : `,"format");const fp={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,s=2*n-i;switch(r){case"r":return fp.hue2rgb(s,i,t+1/3)*255;case"g":return fp.hue2rgb(s,i,t)*255;case"b":return fp.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n),l=(i+s)/2;if(r==="l")return l*100;if(i===s)return 0;const c=i-s,u=l>.5?c/(2-i-s):c/(i+s);if(r==="s")return u*100;switch(i){case t:return((e-n)/c+(e<n?6:0))*60;case e:return((n-t)/c+2)*60;case n:return((t-e)/c+4)*60;default:return-1}}},uet={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},het={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Vt={channel:fp,lang:uet,unit:het},ss={};for(let t=0;t<=255;t++)ss[t]=Vt.unit.dec2hex(t);const Hn={ALL:0,RGB:1,HSL:2};class det{constructor(){this.type=Hn.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Hn.ALL}is(e){return this.type===e}}class fet{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new det}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Hn.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=Vt.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=Vt.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Vt.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=Vt.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=Vt.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Vt.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Hn.HSL)&&n!==void 0?n:(this._ensureHSL(),Vt.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Hn.HSL)&&n!==void 0?n:(this._ensureHSL(),Vt.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Hn.HSL)&&n!==void 0?n:(this._ensureHSL(),Vt.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Hn.RGB)&&n!==void 0?n:(this._ensureRGB(),Vt.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Hn.RGB)&&n!==void 0?n:(this._ensureRGB(),Vt.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Hn.RGB)&&n!==void 0?n:(this._ensureRGB(),Vt.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Hn.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Hn.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Hn.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Hn.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Hn.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Hn.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const am=new fet({r:0,g:0,b:0,a:0},"transparent"),Pl={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(Pl.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,s=i%4===0,l=i>4,c=l?1:17,u=l?8:4,h=s?0:-1,f=l?255:15;return am.set({r:(r>>u*(h+3)&f)*c,g:(r>>u*(h+2)&f)*c,b:(r>>u*(h+1)&f)*c,a:s?(r&f)*c/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${ss[Math.round(e)]}${ss[Math.round(n)]}${ss[Math.round(r)]}${ss[Math.round(i*255)]}`:`#${ss[Math.round(e)]}${ss[Math.round(n)]}${ss[Math.round(r)]}`}},so={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(so.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return Vt.channel.clamp.h(parseFloat(n)*.9);case"rad":return Vt.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Vt.channel.clamp.h(parseFloat(n)*360)}}return Vt.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(so.re);if(!n)return;const[,r,i,s,l,c]=n;return am.set({h:so._hue2deg(r),s:Vt.channel.clamp.s(parseFloat(i)),l:Vt.channel.clamp.l(parseFloat(s)),a:l?Vt.channel.clamp.a(c?parseFloat(l)/100:parseFloat(l)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${Vt.lang.round(e)}, ${Vt.lang.round(n)}%, ${Vt.lang.round(r)}%, ${i})`:`hsl(${Vt.lang.round(e)}, ${Vt.lang.round(n)}%, ${Vt.lang.round(r)}%)`}},Gu={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Gu.colors[t];if(e)return Pl.parse(e)},stringify:t=>{const e=Pl.stringify(t);for(const n in Gu.colors)if(Gu.colors[n]===e)return n}},Lu={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(Lu.re);if(!n)return;const[,r,i,s,l,c,u,h,f]=n;return am.set({r:Vt.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:Vt.channel.clamp.g(l?parseFloat(s)*2.55:parseFloat(s)),b:Vt.channel.clamp.b(u?parseFloat(c)*2.55:parseFloat(c)),a:h?Vt.channel.clamp.a(f?parseFloat(h)/100:parseFloat(h)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${Vt.lang.round(e)}, ${Vt.lang.round(n)}, ${Vt.lang.round(r)}, ${Vt.lang.round(i)})`:`rgb(${Vt.lang.round(e)}, ${Vt.lang.round(n)}, ${Vt.lang.round(r)})`}},Vi={format:{keyword:Gu,hex:Pl,rgb:Lu,rgba:Lu,hsl:so,hsla:so},parse:t=>{if(typeof t!="string")return t;const e=Pl.parse(t)||Lu.parse(t)||so.parse(t)||Gu.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Hn.HSL)||t.data.r===void 0?so.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?Lu.stringify(t):Pl.stringify(t)},k5=(t,e)=>{const n=Vi.parse(t);for(const r in e)n[r]=Vt.channel.clamp[r](e[r]);return Vi.stringify(n)},Xu=(t,e,n=0,r=1)=>{if(typeof t!="number")return k5(t,{a:e});const i=am.set({r:Vt.channel.clamp.r(t),g:Vt.channel.clamp.g(e),b:Vt.channel.clamp.b(n),a:Vt.channel.clamp.a(r)});return Vi.stringify(i)},pet=t=>{const{r:e,g:n,b:r}=Vi.parse(t),i=.2126*Vt.channel.toLinear(e)+.7152*Vt.channel.toLinear(n)+.0722*Vt.channel.toLinear(r);return Vt.lang.round(i)},get=t=>pet(t)>=.5,Kh=t=>!get(t),E5=(t,e,n)=>{const r=Vi.parse(t),i=r[e],s=Vt.channel.clamp[e](i+n);return i!==s&&(r[e]=s),Vi.stringify(r)},Tt=(t,e)=>E5(t,"l",e),$t=(t,e)=>E5(t,"l",-e),it=(t,e)=>{const n=Vi.parse(t),r={};for(const i in e)e[i]&&(r[i]=n[i]+e[i]);return k5(t,r)},met=(t,e,n=50)=>{const{r,g:i,b:s,a:l}=Vi.parse(t),{r:c,g:u,b:h,a:f}=Vi.parse(e),p=n/100,m=p*2-1,y=l-f,v=((m*y===-1?m:(m+y)/(1+m*y))+1)/2,S=1-v,_=r*v+c*S,E=i*v+u*S,T=s*v+h*S,A=l*p+f*(1-p);return Xu(_,E,T,A)},bt=(t,e=100)=>{const n=Vi.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,met(n,t,e)};const{entries:A5,setPrototypeOf:tA,isFrozen:yet,getPrototypeOf:xet,getOwnPropertyDescriptor:bet}=Object;let{freeze:ir,seal:Jr,create:M5}=Object,{apply:Gb,construct:Xb}=typeof Reflect<"u"&&Reflect;ir||(ir=function(e){return e});Jr||(Jr=function(e){return e});Gb||(Gb=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});Xb||(Xb=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const qf=ar(Array.prototype.forEach),vet=ar(Array.prototype.lastIndexOf),eA=ar(Array.prototype.pop),yu=ar(Array.prototype.push),wet=ar(Array.prototype.splice),pp=ar(String.prototype.toLowerCase),zx=ar(String.prototype.toString),Px=ar(String.prototype.match),xu=ar(String.prototype.replace),Cet=ar(String.prototype.indexOf),_et=ar(String.prototype.trim),ui=ar(Object.prototype.hasOwnProperty),Qn=ar(RegExp.prototype.test),bu=Tet(TypeError);function ar(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Gb(t,e,r)}}function Tet(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Xb(t,n)}}function Jt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pp;tA&&tA(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(yet(e)||(e[r]=s),i=s)}t[i]=!0}return t}function ket(t){for(let e=0;e<t.length;e++)ui(t,e)||(t[e]=null);return t}function ga(t){const e=M5(null);for(const[n,r]of A5(t))ui(t,n)&&(Array.isArray(r)?e[n]=ket(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=ga(r):e[n]=r);return e}function vu(t,e){for(;t!==null;){const r=bet(t,e);if(r){if(r.get)return ar(r.get);if(typeof r.value=="function")return ar(r.value)}t=xet(t)}function n(){return null}return n}const nA=ir(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fx=ir(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ix=ir(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Eet=ir(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Hx=ir(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Aet=ir(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),rA=ir(["#text"]),iA=ir(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Vx=ir(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),aA=ir(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Uf=ir(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Met=Jr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Det=Jr(/<%[\w\W]*|[\w\W]*%>/gm),Net=Jr(/\$\{[\w\W]*/gm),Let=Jr(/^data-[\-\w.\u00B7-\uFFFF]+$/),Bet=Jr(/^aria-[\-\w]+$/),D5=Jr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ret=Jr(/^(?:\w+script|data):/i),Oet=Jr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),N5=Jr(/^html$/i),jet=Jr(/^[a-z][.\w]*(-[.\w]+)+$/i);var sA=Object.freeze({__proto__:null,ARIA_ATTR:Bet,ATTR_WHITESPACE:Oet,CUSTOM_ELEMENT:jet,DATA_ATTR:Let,DOCTYPE_NAME:N5,ERB_EXPR:Det,IS_ALLOWED_URI:D5,IS_SCRIPT_OR_DATA:Ret,MUSTACHE_EXPR:Met,TMPLIT_EXPR:Net});const wu={element:1,text:3,progressingInstruction:7,comment:8,document:9},$et=function(){return typeof window>"u"?null:window},zet=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},oA=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function L5(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$et();const e=Bt=>L5(Bt);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==wu.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:h,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:m,trustedTypes:y}=t,x=u.prototype,v=vu(x,"cloneNode"),S=vu(x,"remove"),_=vu(x,"nextSibling"),E=vu(x,"childNodes"),T=vu(x,"parentNode");if(typeof l=="function"){const Bt=n.createElement("template");Bt.content&&Bt.content.ownerDocument&&(n=Bt.content.ownerDocument)}let A,D="";const{implementation:B,createNodeIterator:L,createDocumentFragment:z,getElementsByTagName:V}=n,{importNode:Y}=r;let U=oA();e.isSupported=typeof A5=="function"&&typeof T=="function"&&B&&B.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:X,ERB_EXPR:Z,TMPLIT_EXPR:$,DATA_ATTR:q,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:W}=sA;let{IS_ALLOWED_URI:Q}=sA,I=null;const P=Jt({},[...nA,...Fx,...Ix,...Hx,...rA]);let G=null;const J=Jt({},[...iA,...Vx,...aA,...Uf]);let nt=Object.seal(M5(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ct=null,ut=null,ht=!0,pt=!0,yt=!1,Lt=!0,vt=!1,Et=!0,zt=!1,Zt=!1,Xt=!1,Se=!1,hn=!1,We=!1,Ve=!0,An=!1;const or="user-content-";let lr=!0,Ae=!1,Xn={},Sn=null;const Cn=Jt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Mn=null;const zr=Jt({},["audio","video","img","source","image","track"]);let Tr=null;const Zn=Jt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ni="http://www.w3.org/1998/Math/MathML",cr="http://www.w3.org/2000/svg",ke="http://www.w3.org/1999/xhtml";let Qe=ke,Ye=!1,Yi=null;const Da=Jt({},[ni,cr,ke],zx);let Ti=Jt({},["mi","mo","mn","ms","mtext"]),kr=Jt({},["annotation-xml"]);const ki=Jt({},["title","style","font","a","script"]);let ye=null;const Ne=["application/xhtml+xml","text/html"],Ge="text/html";let ie=null,qe=null;const nn=n.createElement("form"),dn=function(tt){return tt instanceof RegExp||tt instanceof Function},_n=function(){let tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qe&&qe===tt)){if((!tt||typeof tt!="object")&&(tt={}),tt=ga(tt),ye=Ne.indexOf(tt.PARSER_MEDIA_TYPE)===-1?Ge:tt.PARSER_MEDIA_TYPE,ie=ye==="application/xhtml+xml"?zx:pp,I=ui(tt,"ALLOWED_TAGS")?Jt({},tt.ALLOWED_TAGS,ie):P,G=ui(tt,"ALLOWED_ATTR")?Jt({},tt.ALLOWED_ATTR,ie):J,Yi=ui(tt,"ALLOWED_NAMESPACES")?Jt({},tt.ALLOWED_NAMESPACES,zx):Da,Tr=ui(tt,"ADD_URI_SAFE_ATTR")?Jt(ga(Zn),tt.ADD_URI_SAFE_ATTR,ie):Zn,Mn=ui(tt,"ADD_DATA_URI_TAGS")?Jt(ga(zr),tt.ADD_DATA_URI_TAGS,ie):zr,Sn=ui(tt,"FORBID_CONTENTS")?Jt({},tt.FORBID_CONTENTS,ie):Cn,ct=ui(tt,"FORBID_TAGS")?Jt({},tt.FORBID_TAGS,ie):ga({}),ut=ui(tt,"FORBID_ATTR")?Jt({},tt.FORBID_ATTR,ie):ga({}),Xn=ui(tt,"USE_PROFILES")?tt.USE_PROFILES:!1,ht=tt.ALLOW_ARIA_ATTR!==!1,pt=tt.ALLOW_DATA_ATTR!==!1,yt=tt.ALLOW_UNKNOWN_PROTOCOLS||!1,Lt=tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vt=tt.SAFE_FOR_TEMPLATES||!1,Et=tt.SAFE_FOR_XML!==!1,zt=tt.WHOLE_DOCUMENT||!1,Se=tt.RETURN_DOM||!1,hn=tt.RETURN_DOM_FRAGMENT||!1,We=tt.RETURN_TRUSTED_TYPE||!1,Xt=tt.FORCE_BODY||!1,Ve=tt.SANITIZE_DOM!==!1,An=tt.SANITIZE_NAMED_PROPS||!1,lr=tt.KEEP_CONTENT!==!1,Ae=tt.IN_PLACE||!1,Q=tt.ALLOWED_URI_REGEXP||D5,Qe=tt.NAMESPACE||ke,Ti=tt.MATHML_TEXT_INTEGRATION_POINTS||Ti,kr=tt.HTML_INTEGRATION_POINTS||kr,nt=tt.CUSTOM_ELEMENT_HANDLING||{},tt.CUSTOM_ELEMENT_HANDLING&&dn(tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(nt.tagNameCheck=tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&dn(tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(nt.attributeNameCheck=tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),tt.CUSTOM_ELEMENT_HANDLING&&typeof tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(nt.allowCustomizedBuiltInElements=tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vt&&(pt=!1),hn&&(Se=!0),Xn&&(I=Jt({},rA),G=[],Xn.html===!0&&(Jt(I,nA),Jt(G,iA)),Xn.svg===!0&&(Jt(I,Fx),Jt(G,Vx),Jt(G,Uf)),Xn.svgFilters===!0&&(Jt(I,Ix),Jt(G,Vx),Jt(G,Uf)),Xn.mathMl===!0&&(Jt(I,Hx),Jt(G,aA),Jt(G,Uf))),tt.ADD_TAGS&&(I===P&&(I=ga(I)),Jt(I,tt.ADD_TAGS,ie)),tt.ADD_ATTR&&(G===J&&(G=ga(G)),Jt(G,tt.ADD_ATTR,ie)),tt.ADD_URI_SAFE_ATTR&&Jt(Tr,tt.ADD_URI_SAFE_ATTR,ie),tt.FORBID_CONTENTS&&(Sn===Cn&&(Sn=ga(Sn)),Jt(Sn,tt.FORBID_CONTENTS,ie)),lr&&(I["#text"]=!0),zt&&Jt(I,["html","head","body"]),I.table&&(Jt(I,["tbody"]),delete ct.tbody),tt.TRUSTED_TYPES_POLICY){if(typeof tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw bu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw bu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=tt.TRUSTED_TYPES_POLICY,D=A.createHTML("")}else A===void 0&&(A=zet(y,i)),A!==null&&typeof D=="string"&&(D=A.createHTML(""));ir&&ir(tt),qe=tt}},ze=Jt({},[...Fx,...Ix,...Eet]),Pn=Jt({},[...Hx,...Aet]),Dn=function(tt){let xt=T(tt);(!xt||!xt.tagName)&&(xt={namespaceURI:Qe,tagName:"template"});const St=pp(tt.tagName),le=pp(xt.tagName);return Yi[tt.namespaceURI]?tt.namespaceURI===cr?xt.namespaceURI===ke?St==="svg":xt.namespaceURI===ni?St==="svg"&&(le==="annotation-xml"||Ti[le]):!!ze[St]:tt.namespaceURI===ni?xt.namespaceURI===ke?St==="math":xt.namespaceURI===cr?St==="math"&&kr[le]:!!Pn[St]:tt.namespaceURI===ke?xt.namespaceURI===cr&&!kr[le]||xt.namespaceURI===ni&&!Ti[le]?!1:!Pn[St]&&(ki[St]||!ze[St]):!!(ye==="application/xhtml+xml"&&Yi[tt.namespaceURI]):!1},Le=function(tt){yu(e.removed,{element:tt});try{T(tt).removeChild(tt)}catch{S(tt)}},fn=function(tt,xt){try{yu(e.removed,{attribute:xt.getAttributeNode(tt),from:xt})}catch{yu(e.removed,{attribute:null,from:xt})}if(xt.removeAttribute(tt),tt==="is")if(Se||hn)try{Le(xt)}catch{}else try{xt.setAttribute(tt,"")}catch{}},ur=function(tt){let xt=null,St=null;if(Xt)tt="<remove></remove>"+tt;else{const be=Px(tt,/^[\r\n\t ]+/);St=be&&be[0]}ye==="application/xhtml+xml"&&Qe===ke&&(tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+tt+"</body></html>");const le=A?A.createHTML(tt):tt;if(Qe===ke)try{xt=new m().parseFromString(le,ye)}catch{}if(!xt||!xt.documentElement){xt=B.createDocument(Qe,"template",null);try{xt.documentElement.innerHTML=Ye?D:le}catch{}}const Be=xt.body||xt.documentElement;return tt&&St&&Be.insertBefore(n.createTextNode(St),Be.childNodes[0]||null),Qe===ke?V.call(xt,zt?"html":"body")[0]:zt?xt.documentElement:Be},Fn=function(tt){return L.call(tt.ownerDocument||tt,tt,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},hr=function(tt){return tt instanceof p&&(typeof tt.nodeName!="string"||typeof tt.textContent!="string"||typeof tt.removeChild!="function"||!(tt.attributes instanceof f)||typeof tt.removeAttribute!="function"||typeof tt.setAttribute!="function"||typeof tt.namespaceURI!="string"||typeof tt.insertBefore!="function"||typeof tt.hasChildNodes!="function")},Nn=function(tt){return typeof c=="function"&&tt instanceof c};function xe(Bt,tt,xt){qf(Bt,St=>{St.call(e,tt,xt,qe)})}const pn=function(tt){let xt=null;if(xe(U.beforeSanitizeElements,tt,null),hr(tt))return Le(tt),!0;const St=ie(tt.nodeName);if(xe(U.uponSanitizeElement,tt,{tagName:St,allowedTags:I}),Et&&tt.hasChildNodes()&&!Nn(tt.firstElementChild)&&Qn(/<[/\w!]/g,tt.innerHTML)&&Qn(/<[/\w!]/g,tt.textContent)||tt.nodeType===wu.progressingInstruction||Et&&tt.nodeType===wu.comment&&Qn(/<[/\w]/g,tt.data))return Le(tt),!0;if(!I[St]||ct[St]){if(!ct[St]&&Gi(St)&&(nt.tagNameCheck instanceof RegExp&&Qn(nt.tagNameCheck,St)||nt.tagNameCheck instanceof Function&&nt.tagNameCheck(St)))return!1;if(lr&&!Sn[St]){const le=T(tt)||tt.parentNode,Be=E(tt)||tt.childNodes;if(Be&&le){const be=Be.length;for(let ae=be-1;ae>=0;--ae){const dr=v(Be[ae],!0);dr.__removalCount=(tt.__removalCount||0)+1,le.insertBefore(dr,_(tt))}}}return Le(tt),!0}return tt instanceof u&&!Dn(tt)||(St==="noscript"||St==="noembed"||St==="noframes")&&Qn(/<\/no(script|embed|frames)/i,tt.innerHTML)?(Le(tt),!0):(vt&&tt.nodeType===wu.text&&(xt=tt.textContent,qf([X,Z,$],le=>{xt=xu(xt,le," ")}),tt.textContent!==xt&&(yu(e.removed,{element:tt.cloneNode()}),tt.textContent=xt)),xe(U.afterSanitizeElements,tt,null),!1)},Pr=function(tt,xt,St){if(Ve&&(xt==="id"||xt==="name")&&(St in n||St in nn))return!1;if(!(pt&&!ut[xt]&&Qn(q,xt))){if(!(ht&&Qn(R,xt))){if(!G[xt]||ut[xt]){if(!(Gi(tt)&&(nt.tagNameCheck instanceof RegExp&&Qn(nt.tagNameCheck,tt)||nt.tagNameCheck instanceof Function&&nt.tagNameCheck(tt))&&(nt.attributeNameCheck instanceof RegExp&&Qn(nt.attributeNameCheck,xt)||nt.attributeNameCheck instanceof Function&&nt.attributeNameCheck(xt,tt))||xt==="is"&&nt.allowCustomizedBuiltInElements&&(nt.tagNameCheck instanceof RegExp&&Qn(nt.tagNameCheck,St)||nt.tagNameCheck instanceof Function&&nt.tagNameCheck(St))))return!1}else if(!Tr[xt]){if(!Qn(Q,xu(St,j,""))){if(!((xt==="src"||xt==="xlink:href"||xt==="href")&&tt!=="script"&&Cet(St,"data:")===0&&Mn[tt])){if(!(yt&&!Qn(F,xu(St,j,"")))){if(St)return!1}}}}}}return!0},Gi=function(tt){return tt!=="annotation-xml"&&Px(tt,W)},Ds=function(tt){xe(U.beforeSanitizeAttributes,tt,null);const{attributes:xt}=tt;if(!xt||hr(tt))return;const St={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let le=xt.length;for(;le--;){const Be=xt[le],{name:be,namespaceURI:ae,value:dr}=Be,ri=ie(be),Er=dr;let Me=be==="value"?Er:_et(Er);if(St.attrName=ri,St.attrValue=Me,St.keepAttr=!0,St.forceKeepAttr=void 0,xe(U.uponSanitizeAttribute,tt,St),Me=St.attrValue,An&&(ri==="id"||ri==="name")&&(fn(be,tt),Me=or+Me),Et&&Qn(/((--!?|])>)|<\/(style|title|textarea)/i,Me)){fn(be,tt);continue}if(ri==="attributename"&&Px(Me,"href")){fn(be,tt);continue}if(St.forceKeepAttr)continue;if(!St.keepAttr){fn(be,tt);continue}if(!Lt&&Qn(/\/>/i,Me)){fn(be,tt);continue}vt&&qf([X,Z,$],Na=>{Me=xu(Me,Na," ")});const Bo=ie(tt.nodeName);if(!Pr(Bo,ri,Me)){fn(be,tt);continue}if(A&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!ae)switch(y.getAttributeType(Bo,ri)){case"TrustedHTML":{Me=A.createHTML(Me);break}case"TrustedScriptURL":{Me=A.createScriptURL(Me);break}}if(Me!==Er)try{ae?tt.setAttributeNS(ae,be,Me):tt.setAttribute(be,Me),hr(tt)?Le(tt):eA(e.removed)}catch{fn(be,tt)}}xe(U.afterSanitizeAttributes,tt,null)},Sc=function Bt(tt){let xt=null;const St=Fn(tt);for(xe(U.beforeSanitizeShadowDOM,tt,null);xt=St.nextNode();)xe(U.uponSanitizeShadowNode,xt,null),pn(xt),Ds(xt),xt.content instanceof s&&Bt(xt.content);xe(U.afterSanitizeShadowDOM,tt,null)};return e.sanitize=function(Bt){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xt=null,St=null,le=null,Be=null;if(Ye=!Bt,Ye&&(Bt="<!-->"),typeof Bt!="string"&&!Nn(Bt))if(typeof Bt.toString=="function"){if(Bt=Bt.toString(),typeof Bt!="string")throw bu("dirty is not a string, aborting")}else throw bu("toString is not a function");if(!e.isSupported)return Bt;if(Zt||_n(tt),e.removed=[],typeof Bt=="string"&&(Ae=!1),Ae){if(Bt.nodeName){const dr=ie(Bt.nodeName);if(!I[dr]||ct[dr])throw bu("root node is forbidden and cannot be sanitized in-place")}}else if(Bt instanceof c)xt=ur("<!---->"),St=xt.ownerDocument.importNode(Bt,!0),St.nodeType===wu.element&&St.nodeName==="BODY"||St.nodeName==="HTML"?xt=St:xt.appendChild(St);else{if(!Se&&!vt&&!zt&&Bt.indexOf("<")===-1)return A&&We?A.createHTML(Bt):Bt;if(xt=ur(Bt),!xt)return Se?null:We?D:""}xt&&Xt&&Le(xt.firstChild);const be=Fn(Ae?Bt:xt);for(;le=be.nextNode();)pn(le),Ds(le),le.content instanceof s&&Sc(le.content);if(Ae)return Bt;if(Se){if(hn)for(Be=z.call(xt.ownerDocument);xt.firstChild;)Be.appendChild(xt.firstChild);else Be=xt;return(G.shadowroot||G.shadowrootmode)&&(Be=Y.call(r,Be,!0)),Be}let ae=zt?xt.outerHTML:xt.innerHTML;return zt&&I["!doctype"]&&xt.ownerDocument&&xt.ownerDocument.doctype&&xt.ownerDocument.doctype.name&&Qn(N5,xt.ownerDocument.doctype.name)&&(ae="<!DOCTYPE "+xt.ownerDocument.doctype.name+`>
`+ae),vt&&qf([X,Z,$],dr=>{ae=xu(ae,dr," ")}),A&&We?A.createHTML(ae):ae},e.setConfig=function(){let Bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_n(Bt),Zt=!0},e.clearConfig=function(){qe=null,Zt=!1},e.isValidAttribute=function(Bt,tt,xt){qe||_n({});const St=ie(Bt),le=ie(tt);return Pr(St,le,xt)},e.addHook=function(Bt,tt){typeof tt=="function"&&yu(U[Bt],tt)},e.removeHook=function(Bt,tt){if(tt!==void 0){const xt=vet(U[Bt],tt);return xt===-1?void 0:wet(U[Bt],xt,1)[0]}return eA(U[Bt])},e.removeHooks=function(Bt){U[Bt]=[]},e.removeAllHooks=function(){U=oA()},e}var rc=L5(),B5=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Zu=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Pet=/\s*%%.*\n/gm,Il,R5=(Il=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},M(Il,"UnknownDiagramError"),Il),wo={},X1=M(function(t,e){t=t.replace(B5,"").replace(Zu,"").replace(Pet,`
`);for(const[n,{detector:r}]of Object.entries(wo))if(r(t,e))return n;throw new R5(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),Zb=M((...t)=>{for(const{id:e,detector:n,loader:r}of t)O5(e,n,r)},"registerLazyLoadedDiagrams"),O5=M((t,e,n)=>{wo[t]&&mt.warn(`Detector with key ${t} already exists. Overwriting.`),wo[t]={detector:e,loader:n},mt.debug(`Detector with key ${t} added${n?" with loader":""}`)},"addDetector"),Fet=M(t=>wo[t].loader,"getDiagramLoader"),Kb=M((t,e,{depth:n=2,clobber:r=!1}={})=>{const i={depth:n,clobber:r};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(s=>Kb(t,s,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(s=>{t.includes(s)||t.push(s)}),t):t===void 0||n<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(t[s]===void 0||typeof t[s]=="object")?(t[s]===void 0&&(t[s]=Array.isArray(e[s])?[]:{}),t[s]=Kb(t[s],e[s],{depth:n-1,clobber:r})):(r||typeof t[s]!="object"&&typeof e[s]!="object")&&(t[s]=e[s])}),t)},"assignWithDepth"),bn=Kb,sm="#ffffff",om="#f2f2f2",er=M((t,e)=>e?it(t,{s:-40,l:10}):it(t,{s:-40,l:-10}),"mkBorder"),Hl,Iet=(Hl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||it(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||it(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||er(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||er(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||er(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||er(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||bt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||bt(this.tertiaryColor),this.lineColor=this.lineColor||bt(this.background),this.arrowheadColor=this.arrowheadColor||bt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?$t(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||$t(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||bt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Tt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||$t(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||$t(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Tt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Tt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||it(this.primaryColor,{h:30}),this.cScale4=this.cScale4||it(this.primaryColor,{h:60}),this.cScale5=this.cScale5||it(this.primaryColor,{h:90}),this.cScale6=this.cScale6||it(this.primaryColor,{h:120}),this.cScale7=this.cScale7||it(this.primaryColor,{h:150}),this.cScale8=this.cScale8||it(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||it(this.primaryColor,{h:270}),this.cScale10=this.cScale10||it(this.primaryColor,{h:300}),this.cScale11=this.cScale11||it(this.primaryColor,{h:330}),this.darkMode)for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=$t(this["cScale"+n],75);else for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=$t(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||bt(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this.darkMode?this["cScalePeer"+n]=this["cScalePeer"+n]||Tt(this["cScale"+n],10):this["cScalePeer"+n]=this["cScalePeer"+n]||$t(this["cScale"+n],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||it(this.mainBkg,{h:180,s:-15,l:e*(5+n*3)}),this["surfacePeer"+n]=this["surfacePeer"+n]||it(this.mainBkg,{h:180,s:-15,l:e*(8+n*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||it(this.primaryColor,{h:64}),this.fillType3=this.fillType3||it(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||it(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||it(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||it(this.primaryColor,{h:128}),this.fillType7=this.fillType7||it(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||it(this.primaryColor,{l:-10}),this.pie5=this.pie5||it(this.secondaryColor,{l:-10}),this.pie6=this.pie6||it(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||it(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||it(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||it(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||it(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||it(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||it(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||it(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||it(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||it(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||it(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||it(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||it(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Kh(this.quadrant1Fill)?Tt(this.quadrant1Fill):$t(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?$t(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||it(this.primaryColor,{h:-30}),this.git4=this.git4||it(this.primaryColor,{h:-60}),this.git5=this.git5||it(this.primaryColor,{h:-90}),this.git6=this.git6||it(this.primaryColor,{h:60}),this.git7=this.git7||it(this.primaryColor,{h:120}),this.darkMode?(this.git0=Tt(this.git0,25),this.git1=Tt(this.git1,25),this.git2=Tt(this.git2,25),this.git3=Tt(this.git3,25),this.git4=Tt(this.git4,25),this.git5=Tt(this.git5,25),this.git6=Tt(this.git6,25),this.git7=Tt(this.git7,25)):(this.git0=$t(this.git0,25),this.git1=$t(this.git1,25),this.git2=$t(this.git2,25),this.git3=$t(this.git3,25),this.git4=$t(this.git4,25),this.git5=$t(this.git5,25),this.git6=$t(this.git6,25),this.git7=$t(this.git7,25)),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||sm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||om}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},M(Hl,"Theme"),Hl),Het=M(t=>{const e=new Iet;return e.calculate(t),e},"getThemeVariables"),Vl,Vet=(Vl=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Tt(this.primaryColor,16),this.tertiaryColor=it(this.primaryColor,{h:-160}),this.primaryBorderColor=bt(this.background),this.secondaryBorderColor=er(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=er(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Tt(bt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Xu(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=$t("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=$t(this.sectionBkgColor,10),this.taskBorderColor=Xu(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Xu(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Tt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||$t(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Tt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Tt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Tt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=it(this.primaryColor,{h:64}),this.fillType3=it(this.secondaryColor,{h:64}),this.fillType4=it(this.primaryColor,{h:-64}),this.fillType5=it(this.secondaryColor,{h:-64}),this.fillType6=it(this.primaryColor,{h:128}),this.fillType7=it(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||it(this.primaryColor,{h:30}),this.cScale4=this.cScale4||it(this.primaryColor,{h:60}),this.cScale5=this.cScale5||it(this.primaryColor,{h:90}),this.cScale6=this.cScale6||it(this.primaryColor,{h:120}),this.cScale7=this.cScale7||it(this.primaryColor,{h:150}),this.cScale8=this.cScale8||it(this.primaryColor,{h:210}),this.cScale9=this.cScale9||it(this.primaryColor,{h:270}),this.cScale10=this.cScale10||it(this.primaryColor,{h:300}),this.cScale11=this.cScale11||it(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||bt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||Tt(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||it(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||it(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||it(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||it(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||it(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||it(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||it(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||it(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Kh(this.quadrant1Fill)?Tt(this.quadrant1Fill):$t(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?$t(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Tt(this.secondaryColor,20),this.git1=Tt(this.pie2||this.secondaryColor,20),this.git2=Tt(this.pie3||this.tertiaryColor,20),this.git3=Tt(this.pie4||it(this.primaryColor,{h:-30}),20),this.git4=Tt(this.pie5||it(this.primaryColor,{h:-60}),20),this.git5=Tt(this.pie6||it(this.primaryColor,{h:-90}),10),this.git6=Tt(this.pie7||it(this.primaryColor,{h:60}),10),this.git7=Tt(this.pie8||it(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Tt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Tt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},M(Vl,"Theme"),Vl),qet=M(t=>{const e=new Vet;return e.calculate(t),e},"getThemeVariables"),ql,Uet=(ql=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=it(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=it(this.primaryColor,{h:-160}),this.primaryBorderColor=er(this.primaryColor,this.darkMode),this.secondaryBorderColor=er(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=er(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Xu(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||it(this.primaryColor,{h:30}),this.cScale4=this.cScale4||it(this.primaryColor,{h:60}),this.cScale5=this.cScale5||it(this.primaryColor,{h:90}),this.cScale6=this.cScale6||it(this.primaryColor,{h:120}),this.cScale7=this.cScale7||it(this.primaryColor,{h:150}),this.cScale8=this.cScale8||it(this.primaryColor,{h:210}),this.cScale9=this.cScale9||it(this.primaryColor,{h:270}),this.cScale10=this.cScale10||it(this.primaryColor,{h:300}),this.cScale11=this.cScale11||it(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||$t(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||$t(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=$t(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||$t(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||it(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||it(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||it(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||bt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||bt(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Tt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Tt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Tt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=it(this.primaryColor,{h:64}),this.fillType3=it(this.secondaryColor,{h:64}),this.fillType4=it(this.primaryColor,{h:-64}),this.fillType5=it(this.secondaryColor,{h:-64}),this.fillType6=it(this.primaryColor,{h:128}),this.fillType7=it(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||it(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||it(this.primaryColor,{l:-10}),this.pie5=this.pie5||it(this.secondaryColor,{l:-30}),this.pie6=this.pie6||it(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||it(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||it(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||it(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||it(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||it(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||it(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||it(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||it(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||it(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||it(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||it(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||it(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Kh(this.quadrant1Fill)?Tt(this.quadrant1Fill):$t(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||it(this.primaryColor,{h:-30}),this.git4=this.git4||it(this.primaryColor,{h:-60}),this.git5=this.git5||it(this.primaryColor,{h:-90}),this.git6=this.git6||it(this.primaryColor,{h:60}),this.git7=this.git7||it(this.primaryColor,{h:120}),this.darkMode?(this.git0=Tt(this.git0,25),this.git1=Tt(this.git1,25),this.git2=Tt(this.git2,25),this.git3=Tt(this.git3,25),this.git4=Tt(this.git4,25),this.git5=Tt(this.git5,25),this.git6=Tt(this.git6,25),this.git7=Tt(this.git7,25)):(this.git0=$t(this.git0,25),this.git1=$t(this.git1,25),this.git2=$t(this.git2,25),this.git3=$t(this.git3,25),this.git4=$t(this.git4,25),this.git5=$t(this.git5,25),this.git6=$t(this.git6,25),this.git7=$t(this.git7,25)),this.gitInv0=this.gitInv0||$t(bt(this.git0),25),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||sm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||om}calculate(e){if(Object.keys(this).forEach(r=>{this[r]==="calculated"&&(this[r]=void 0)}),typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},M(ql,"Theme"),ql),Wet=M(t=>{const e=new Uet;return e.calculate(t),e},"getThemeVariables"),Ul,Yet=(Ul=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Tt("#cde498",10),this.primaryBorderColor=er(this.primaryColor,this.darkMode),this.secondaryBorderColor=er(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=er(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.primaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=$t(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||it(this.primaryColor,{h:30}),this.cScale4=this.cScale4||it(this.primaryColor,{h:60}),this.cScale5=this.cScale5||it(this.primaryColor,{h:90}),this.cScale6=this.cScale6||it(this.primaryColor,{h:120}),this.cScale7=this.cScale7||it(this.primaryColor,{h:150}),this.cScale8=this.cScale8||it(this.primaryColor,{h:210}),this.cScale9=this.cScale9||it(this.primaryColor,{h:270}),this.cScale10=this.cScale10||it(this.primaryColor,{h:300}),this.cScale11=this.cScale11||it(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||$t(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||$t(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=$t(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||$t(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||it(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||it(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||it(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Tt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Tt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=it(this.primaryColor,{h:64}),this.fillType3=it(this.secondaryColor,{h:64}),this.fillType4=it(this.primaryColor,{h:-64}),this.fillType5=it(this.secondaryColor,{h:-64}),this.fillType6=it(this.primaryColor,{h:128}),this.fillType7=it(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||it(this.primaryColor,{l:-30}),this.pie5=this.pie5||it(this.secondaryColor,{l:-30}),this.pie6=this.pie6||it(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||it(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||it(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||it(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||it(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||it(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||it(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||it(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||it(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||it(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||it(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||it(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||it(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Kh(this.quadrant1Fill)?Tt(this.quadrant1Fill):$t(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||it(this.primaryColor,{h:-30}),this.git4=this.git4||it(this.primaryColor,{h:-60}),this.git5=this.git5||it(this.primaryColor,{h:-90}),this.git6=this.git6||it(this.primaryColor,{h:60}),this.git7=this.git7||it(this.primaryColor,{h:120}),this.darkMode?(this.git0=Tt(this.git0,25),this.git1=Tt(this.git1,25),this.git2=Tt(this.git2,25),this.git3=Tt(this.git3,25),this.git4=Tt(this.git4,25),this.git5=Tt(this.git5,25),this.git6=Tt(this.git6,25),this.git7=Tt(this.git7,25)):(this.git0=$t(this.git0,25),this.git1=$t(this.git1,25),this.git2=$t(this.git2,25),this.git3=$t(this.git3,25),this.git4=$t(this.git4,25),this.git5=$t(this.git5,25),this.git6=$t(this.git6,25),this.git7=$t(this.git7,25)),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||bt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||bt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||sm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||om}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},M(Ul,"Theme"),Ul),Get=M(t=>{const e=new Yet;return e.calculate(t),e},"getThemeVariables"),Wl,Xet=(Wl=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Tt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=it(this.primaryColor,{h:-160}),this.primaryBorderColor=er(this.primaryColor,this.darkMode),this.secondaryBorderColor=er(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=er(this.tertiaryColor,this.darkMode),this.primaryTextColor=bt(this.primaryColor),this.secondaryTextColor=bt(this.secondaryColor),this.tertiaryTextColor=bt(this.tertiaryColor),this.lineColor=bt(this.background),this.textColor=bt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Tt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Tt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Tt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||bt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||Tt(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||$t(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||it(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||it(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Tt(this.contrast,30),this.sectionBkgColor2=Tt(this.contrast,30),this.taskBorderColor=$t(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Tt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=$t(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=it(this.primaryColor,{h:64}),this.fillType3=it(this.secondaryColor,{h:64}),this.fillType4=it(this.primaryColor,{h:-64}),this.fillType5=it(this.secondaryColor,{h:-64}),this.fillType6=it(this.primaryColor,{h:128}),this.fillType7=it(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||it(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||it(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||it(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||it(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||it(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||it(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Kh(this.quadrant1Fill)?Tt(this.quadrant1Fill):$t(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=$t(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||it(this.primaryColor,{h:-30}),this.git4=this.pie5||it(this.primaryColor,{h:-60}),this.git5=this.pie6||it(this.primaryColor,{h:-90}),this.git6=this.pie7||it(this.primaryColor,{h:60}),this.git7=this.pie8||it(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||bt(this.git0),this.gitInv1=this.gitInv1||bt(this.git1),this.gitInv2=this.gitInv2||bt(this.git2),this.gitInv3=this.gitInv3||bt(this.git3),this.gitInv4=this.gitInv4||bt(this.git4),this.gitInv5=this.gitInv5||bt(this.git5),this.gitInv6=this.gitInv6||bt(this.git6),this.gitInv7=this.gitInv7||bt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||sm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||om}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},M(Wl,"Theme"),Wl),Zet=M(t=>{const e=new Xet;return e.calculate(t),e},"getThemeVariables"),wa={base:{getThemeVariables:Het},dark:{getThemeVariables:qet},default:{getThemeVariables:Wet},forest:{getThemeVariables:Get},neutral:{getThemeVariables:Zet}},Li={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},j5={...Li,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:wa.default.getThemeVariables(),sequence:{...Li.sequence,messageFont:M(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:M(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:M(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Li.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Li.c4,useWidth:void 0,personFont:M(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Li.flowchart,inheritDir:!1},external_personFont:M(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:M(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:M(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:M(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:M(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:M(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:M(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:M(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:M(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:M(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:M(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:M(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:M(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:M(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:M(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:M(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:M(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:M(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:M(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:M(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:M(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Li.pie,useWidth:984},xyChart:{...Li.xyChart,useWidth:void 0},requirement:{...Li.requirement,useWidth:void 0},packet:{...Li.packet},radar:{...Li.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},$5=M((t,e="")=>Object.keys(t).reduce((n,r)=>Array.isArray(t[r])?n:typeof t[r]=="object"&&t[r]!==null?[...n,e+r,...$5(t[r],"")]:[...n,e+r],[]),"keyify"),Ket=new Set($5(j5,"")),z5=j5,Qp=M(t=>{if(mt.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>Qp(e));return}for(const e of Object.keys(t)){if(mt.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!Ket.has(e)||t[e]==null){mt.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){mt.debug("sanitizing object",e),Qp(t[e]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const r of n)e.includes(r)&&(mt.debug("sanitizing css option",e),t[e]=Qet(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const n=t.themeVariables[e];n?.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}mt.debug("After sanitization",t)}},"sanitizeDirective"),Qet=M(t=>{let e=0,n=0;for(const r of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),ic=Object.freeze(z5),Sr=bn({},ic),Jp,So=[],Ku=bn({},ic),lm=M((t,e)=>{let n=bn({},t),r={};for(const i of e)I5(i),r=bn(r,i);if(n=bn(n,r),r.theme&&r.theme in wa){const i=bn({},Jp),s=bn(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in wa&&(n.themeVariables=wa[n.theme].getThemeVariables(s))}return Ku=n,H5(Ku),Ku},"updateCurrentConfig"),Jet=M(t=>(Sr=bn({},ic),Sr=bn(Sr,t),t.theme&&wa[t.theme]&&(Sr.themeVariables=wa[t.theme].getThemeVariables(t.themeVariables)),lm(Sr,So),Sr),"setSiteConfig"),tnt=M(t=>{Jp=bn({},t)},"saveConfigFromInitialize"),ent=M(t=>(Sr=bn(Sr,t),lm(Sr,So),Sr),"updateSiteConfig"),P5=M(()=>bn({},Sr),"getSiteConfig"),F5=M(t=>(H5(t),bn(Ku,t),Un()),"setConfig"),Un=M(()=>bn({},Ku),"getConfig"),I5=M(t=>{t&&(["secure",...Sr.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(mt.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&I5(t[e])}))},"sanitize"),nnt=M(t=>{Qp(t),t.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),So.push(t),lm(Sr,So)},"addDirective"),tg=M((t=Sr)=>{So=[],lm(t,So)},"reset"),rnt={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},lA={},int=M(t=>{lA[t]||(mt.warn(rnt[t]),lA[t]=!0)},"issueWarning"),H5=M(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&int("LAZY_LOAD_DEPRECATED")},"checkConfig"),Qdt=M(()=>{let t={};Jp&&(t=bn(t,Jp));for(const e of So)t=bn(t,e);return t},"getUserDefinedConfig"),Qh=/<br\s*\/?>/gi,ant=M(t=>t?U5(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),snt=(()=>{let t=!1;return()=>{t||(V5(),t=!0)}})();function V5(){const t="data-temp-href-target";rc.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),rc.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}M(V5,"setupDompurifyHooks");var q5=M(t=>(snt(),rc.sanitize(t)),"removeScript"),cA=M((t,e)=>{if(e.flowchart?.htmlLabels!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=q5(t):n!=="loose"&&(t=U5(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=unt(t))}return t},"sanitizeMore"),ti=M((t,e)=>t&&(e.dompurifyConfig?t=rc.sanitize(cA(t,e),e.dompurifyConfig).toString():t=rc.sanitize(cA(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),ont=M((t,e)=>typeof t=="string"?ti(t,e):t.flat().map(n=>ti(n,e)),"sanitizeTextOrArray"),lnt=M(t=>Qh.test(t),"hasBreaks"),cnt=M(t=>t.split(Qh),"splitBreaks"),unt=M(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),U5=M(t=>t.replace(Qh,"#br#"),"breakToPlaceholder"),hnt=M(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),wn=M(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),dnt=M(function(...t){const e=t.filter(n=>!isNaN(n));return Math.max(...e)},"getMax"),fnt=M(function(...t){const e=t.filter(n=>!isNaN(n));return Math.min(...e)},"getMin"),uA=M(function(t){const e=t.split(/(,)/),n=[];for(let r=0;r<e.length;r++){let i=e[r];if(i===","&&r>0&&r+1<e.length){const s=e[r-1],l=e[r+1];pnt(s,l)&&(i=s+","+l,r++,n.pop())}n.push(gnt(i))}return n.join("")},"parseGenericTypes"),Qb=M((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),pnt=M((t,e)=>{const n=Qb(t,"~"),r=Qb(e,"~");return n===1&&r===1},"shouldCombineSets"),gnt=M(t=>{const e=Qb(t,"~");let n=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),n=!0);const r=[...t];let i=r.indexOf("~"),s=r.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)r[i]="<",r[s]=">",i=r.indexOf("~"),s=r.lastIndexOf("~");return n&&r.unshift("~"),r.join("")},"processSet"),hA=M(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Jb=/\$\$(.*)\$\$/g,ac=M(t=>(t.match(Jb)?.length??0)>0,"hasKatex"),Jdt=M(async(t,e)=>{const n=document.createElement("div");n.innerHTML=await Z1(t,e),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",n);const i={width:n.clientWidth,height:n.clientHeight};return n.remove(),i},"calculateMathMLDimensions"),mnt=M(async(t,e)=>{if(!ac(t))return t;if(!(hA()||e.legacyMathML||e.forceLegacyMathML))return t.replace(Jb,"MathML is unsupported in this environment.");{const{default:n}=await me(async()=>{const{default:i}=await import("./katex-DhXJpUyf.js");return{default:i}},[]),r=e.forceLegacyMathML||!hA()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(Qh).map(i=>ac(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(Jb,(i,s)=>n.renderToString(s,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Z1=M(async(t,e)=>ti(await mnt(t,e),e),"renderKatexSanitized"),mc={getRows:ant,sanitizeText:ti,sanitizeTextOrArray:ont,hasBreaks:lnt,splitBreaks:cnt,lineBreakRegex:Qh,removeScript:q5,getUrl:hnt,evaluate:wn,getMax:dnt,getMin:fnt},ynt=M(function(t,e){for(let n of e)t.attr(n[0],n[1])},"d3Attrs"),xnt=M(function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},"calculateSvgSizeAttrs"),W5=M(function(t,e,n,r){const i=xnt(e,n,r);ynt(t,i)},"configureSvgSize"),bnt=M(function(t,e,n,r){const i=e.node().getBBox(),s=i.width,l=i.height;mt.info(`SVG bounds: ${s}x${l}`,i);let c=0,u=0;mt.info(`Graph bounds: ${c}x${u}`,t),c=s+n*2,u=l+n*2,mt.info(`Calculated bounds: ${c}x${u}`),W5(e,u,c,r);const h=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",h)},"setupGraphViewbox"),gp={},vnt=M((t,e,n)=>{let r="";return t in gp&&gp[t]?r=gp[t](n):mt.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${r}

  ${e}
`},"getStyles"),wnt=M((t,e)=>{e!==void 0&&(gp[t]=e)},"addStylesForDiagram"),Snt=vnt,Y5={};cet(Y5,{clear:()=>Cnt,getAccDescription:()=>Ent,getAccTitle:()=>Tnt,getDiagramTitle:()=>Mnt,setAccDescription:()=>knt,setAccTitle:()=>_nt,setDiagramTitle:()=>Ant});var K1="",Q1="",J1="",t2=M(t=>ti(t,Un()),"sanitizeText"),Cnt=M(()=>{K1="",J1="",Q1=""},"clear"),_nt=M(t=>{K1=t2(t).replace(/^\s+/g,"")},"setAccTitle"),Tnt=M(()=>K1,"getAccTitle"),knt=M(t=>{J1=t2(t).replace(/\n\s+/g,`
`)},"setAccDescription"),Ent=M(()=>J1,"getAccDescription"),Ant=M(t=>{Q1=t2(t)},"setDiagramTitle"),Mnt=M(()=>Q1,"getDiagramTitle"),dA=mt,Dnt=G1,pe=Un,tft=F5,eft=ic,e2=M(t=>ti(t,pe()),"sanitizeText"),Nnt=bnt,Lnt=M(()=>Y5,"getCommonDb"),eg={},ng=M((t,e,n)=>{eg[t]&&dA.warn(`Diagram with id ${t} already registered. Overwriting.`),eg[t]=e,n&&O5(t,n),wnt(t,e.styles),e.injectUtils?.(dA,Dnt,pe,e2,Nnt,Lnt(),()=>{})},"registerDiagram"),tv=M(t=>{if(t in eg)return eg[t];throw new Bnt(t)},"getDiagram"),Yl,Bnt=(Yl=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},M(Yl,"DiagramNotFoundError"),Yl);const ev=Math.PI,nv=2*ev,Js=1e-6,Rnt=nv-Js;function G5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ont(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return G5;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class jnt{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?G5:Ont(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,u=r-e,h=i-n,f=l-e,p=c-n,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Js)if(!(Math.abs(p*u-h*f)>Js)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-l,x=i-c,v=u*u+h*h,S=y*y+x*x,_=Math.sqrt(v),E=Math.sqrt(m),T=s*Math.tan((ev-Math.acos((v+m-S)/(2*_*E)))/2),A=T/E,D=T/_;Math.abs(A-1)>Js&&this._append`L${e+A*f},${n+A*p}`,this._append`A${s},${s},0,0,${+(p*y>f*x)},${this._x1=e+D*u},${this._y1=n+D*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),h=e+c,f=n+u,p=1^l,m=l?i-s:s-i;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>Js||Math.abs(this._y1-f)>Js)&&this._append`L${h},${f}`,r&&(m<0&&(m=m%nv+nv),m>Rnt?this._append`A${r},${r},0,1,${p},${e-c},${n-u}A${r},${r},0,1,${p},${this._x1=h},${this._y1=f}`:m>Js&&this._append`A${r},${r},0,${+(m>=ev)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vl(t){return function(){return t}}const nft=Math.abs,rft=Math.atan2,ift=Math.cos,aft=Math.max,sft=Math.min,oft=Math.sin,lft=Math.sqrt,fA=1e-12,n2=Math.PI,pA=n2/2,cft=2*n2;function uft(t){return t>1?0:t<-1?n2:Math.acos(t)}function hft(t){return t>=1?pA:t<=-1?-pA:Math.asin(t)}function $nt(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new jnt(e)}function znt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function X5(t){this._context=t}X5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rg(t){return new X5(t)}function Pnt(t){return t[0]}function Fnt(t){return t[1]}function Int(t,e){var n=vl(!0),r=null,i=rg,s=null,l=$nt(c);t=typeof t=="function"?t:t===void 0?Pnt:vl(t),e=typeof e=="function"?e:e===void 0?Fnt:vl(e);function c(u){var h,f=(u=znt(u)).length,p,m=!1,y;for(r==null&&(s=i(y=l())),h=0;h<=f;++h)!(h<f&&n(p=u[h],h,u))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(p,h,u),+e(p,h,u));if(y)return s=null,y+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:vl(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:vl(+u),c):e},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:vl(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),c):r},c}class Z5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function K5(t){return new Z5(t,!0)}function Q5(t){return new Z5(t,!1)}function vs(){}function ig(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function cm(t){this._context=t}cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ig(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ig(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mp(t){return new cm(t)}function J5(t){this._context=t}J5.prototype={areaStart:vs,areaEnd:vs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ig(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hnt(t){return new J5(t)}function tB(t){this._context=t}tB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ig(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vnt(t){return new tB(t)}function eB(t,e){this._basis=new cm(t),this._beta=e}eB.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,l=e[n]-i,c=-1,u;++c<=n;)u=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+u*s),this._beta*e[c]+(1-this._beta)*(i+u*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const qnt=(function t(e){function n(r){return e===1?new cm(r):new eB(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function ag(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function r2(t,e){this._context=t,this._k=(1-e)/6}r2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ag(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ag(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const nB=(function t(e){function n(r){return new r2(r,e)}return n.tension=function(r){return t(+r)},n})(0);function i2(t,e){this._context=t,this._k=(1-e)/6}i2.prototype={areaStart:vs,areaEnd:vs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ag(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Unt=(function t(e){function n(r){return new i2(r,e)}return n.tension=function(r){return t(+r)},n})(0);function a2(t,e){this._context=t,this._k=(1-e)/6}a2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ag(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Wnt=(function t(e){function n(r){return new a2(r,e)}return n.tension=function(r){return t(+r)},n})(0);function s2(t,e,n){var r=t._x1,i=t._y1,s=t._x2,l=t._y2;if(t._l01_a>fA){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>fA){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*h+t._x1*t._l23_2a-e*t._l12_2a)/f,l=(l*h+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(r,i,s,l,t._x2,t._y2)}function rB(t,e){this._context=t,this._alpha=e}rB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:s2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const iB=(function t(e){function n(r){return e?new rB(r,e):new r2(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function aB(t,e){this._context=t,this._alpha=e}aB.prototype={areaStart:vs,areaEnd:vs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:s2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ynt=(function t(e){function n(r){return e?new aB(r,e):new i2(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function sB(t,e){this._context=t,this._alpha=e}sB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:s2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Gnt=(function t(e){function n(r){return e?new sB(r,e):new a2(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function oB(t){this._context=t}oB.prototype={areaStart:vs,areaEnd:vs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Xnt(t){return new oB(t)}function gA(t){return t<0?-1:1}function mA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(gA(s)+gA(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function yA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qx(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function sg(t){this._context=t}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qx(this,this._t0,yA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qx(this,yA(this,n=mA(this,t,e)),n);break;default:qx(this,this._t0,n=mA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lB(t){this._context=new cB(t)}(lB.prototype=Object.create(sg.prototype)).point=function(t,e){sg.prototype.point.call(this,e,t)};function cB(t){this._context=t}cB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function uB(t){return new sg(t)}function hB(t){return new lB(t)}function dB(t){this._context=t}dB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=xA(t),i=xA(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xA(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function fB(t){return new dB(t)}function um(t,e){this._context=t,this._t=e}um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function pB(t){return new um(t,.5)}function gB(t){return new um(t,0)}function mB(t){return new um(t,1)}var Znt=M(t=>{const{securityLevel:e}=pe();let n=qt("body");if(e==="sandbox"){const s=qt(`#i${t}`).node()?.contentDocument??document;n=qt(s.body)}return n.select(`#${t}`)},"selectSvgElement");function o2(t){return typeof t>"u"||t===null}M(o2,"isNothing");function yB(t){return typeof t=="object"&&t!==null}M(yB,"isObject");function xB(t){return Array.isArray(t)?t:o2(t)?[]:[t]}M(xB,"toArray");function bB(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}M(bB,"extend");function vB(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}M(vB,"repeat");function wB(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}M(wB,"isNegativeZero");var Knt=o2,Qnt=yB,Jnt=xB,trt=vB,ert=wB,nrt=bB,vn={isNothing:Knt,isObject:Qnt,toArray:Jnt,repeat:trt,isNegativeZero:ert,extend:nrt};function l2(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}M(l2,"formatError");function sc(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=l2(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}M(sc,"YAMLException$1");sc.prototype=Object.create(Error.prototype);sc.prototype.constructor=sc;sc.prototype.toString=M(function(e){return this.name+": "+l2(this,e)},"toString");var Cr=sc;function yp(t,e,n,r,i){var s="",l="",c=Math.floor(i/2)-1;return r-e>c&&(s=" ... ",e=r-c+s.length),n-r>c&&(l=" ...",n=r+c-l.length),{str:s+t.slice(e,n).replace(/\t/g,"")+l,pos:r-e+s.length}}M(yp,"getLine");function xp(t,e){return vn.repeat(" ",e-t.length)+t}M(xp,"padStart");function SB(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,l=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&l<0&&(l=r.length-2);l<0&&(l=r.length-1);var c="",u,h,f=Math.min(t.line+e.linesAfter,i.length).toString().length,p=e.maxLength-(e.indent+f+3);for(u=1;u<=e.linesBefore&&!(l-u<0);u++)h=yp(t.buffer,r[l-u],i[l-u],t.position-(r[l]-r[l-u]),p),c=vn.repeat(" ",e.indent)+xp((t.line-u+1).toString(),f)+" | "+h.str+`
`+c;for(h=yp(t.buffer,r[l],i[l],t.position,p),c+=vn.repeat(" ",e.indent)+xp((t.line+1).toString(),f)+" | "+h.str+`
`,c+=vn.repeat("-",e.indent+f+3+h.pos)+`^
`,u=1;u<=e.linesAfter&&!(l+u>=i.length);u++)h=yp(t.buffer,r[l+u],i[l+u],t.position-(r[l]-r[l+u]),p),c+=vn.repeat(" ",e.indent)+xp((t.line+u+1).toString(),f)+" | "+h.str+`
`;return c.replace(/\n$/,"")}M(SB,"makeSnippet");var rrt=SB,irt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],art=["scalar","sequence","mapping"];function CB(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}M(CB,"compileStyleAliases");function _B(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(irt.indexOf(n)===-1)throw new Cr('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=CB(e.styleAliases||null),art.indexOf(this.kind)===-1)throw new Cr('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}M(_B,"Type$1");var Wn=_B;function rv(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,l){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=l)}),n[i]=r}),n}M(rv,"compileList");function TB(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(M(r,"collectType"),e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}M(TB,"compileMap");function og(t){return this.extend(t)}M(og,"Schema$1");og.prototype.extend=M(function(e){var n=[],r=[];if(e instanceof Wn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Cr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Wn))throw new Cr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Cr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Cr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Wn))throw new Cr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(og.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=rv(i,"implicit"),i.compiledExplicit=rv(i,"explicit"),i.compiledTypeMap=TB(i.compiledImplicit,i.compiledExplicit),i},"extend");var srt=og,ort=new Wn("tag:yaml.org,2002:str",{kind:"scalar",construct:M(function(t){return t!==null?t:""},"construct")}),lrt=new Wn("tag:yaml.org,2002:seq",{kind:"sequence",construct:M(function(t){return t!==null?t:[]},"construct")}),crt=new Wn("tag:yaml.org,2002:map",{kind:"mapping",construct:M(function(t){return t!==null?t:{}},"construct")}),urt=new srt({explicit:[ort,lrt,crt]});function kB(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}M(kB,"resolveYamlNull");function EB(){return null}M(EB,"constructYamlNull");function AB(t){return t===null}M(AB,"isNull");var hrt=new Wn("tag:yaml.org,2002:null",{kind:"scalar",resolve:kB,construct:EB,predicate:AB,represent:{canonical:M(function(){return"~"},"canonical"),lowercase:M(function(){return"null"},"lowercase"),uppercase:M(function(){return"NULL"},"uppercase"),camelcase:M(function(){return"Null"},"camelcase"),empty:M(function(){return""},"empty")},defaultStyle:"lowercase"});function MB(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}M(MB,"resolveYamlBoolean");function DB(t){return t==="true"||t==="True"||t==="TRUE"}M(DB,"constructYamlBoolean");function NB(t){return Object.prototype.toString.call(t)==="[object Boolean]"}M(NB,"isBoolean");var drt=new Wn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:MB,construct:DB,predicate:NB,represent:{lowercase:M(function(t){return t?"true":"false"},"lowercase"),uppercase:M(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:M(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function LB(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}M(LB,"isHexCode");function BB(t){return 48<=t&&t<=55}M(BB,"isOctCode");function RB(t){return 48<=t&&t<=57}M(RB,"isDecCode");function OB(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!LB(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!BB(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!RB(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}M(OB,"resolveYamlInteger");function jB(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}M(jB,"constructYamlInteger");function $B(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!vn.isNegativeZero(t)}M($B,"isInteger");var frt=new Wn("tag:yaml.org,2002:int",{kind:"scalar",resolve:OB,construct:jB,predicate:$B,represent:{binary:M(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:M(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:M(function(t){return t.toString(10)},"decimal"),hexadecimal:M(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),prt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function zB(t){return!(t===null||!prt.test(t)||t[t.length-1]==="_")}M(zB,"resolveYamlFloat");function PB(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}M(PB,"constructYamlFloat");var grt=/^[-+]?[0-9]+e/;function FB(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(vn.isNegativeZero(t))return"-0.0";return n=t.toString(10),grt.test(n)?n.replace("e",".e"):n}M(FB,"representYamlFloat");function IB(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||vn.isNegativeZero(t))}M(IB,"isFloat");var mrt=new Wn("tag:yaml.org,2002:float",{kind:"scalar",resolve:zB,construct:PB,predicate:IB,represent:FB,defaultStyle:"lowercase"}),HB=urt.extend({implicit:[hrt,drt,frt,mrt]}),yrt=HB,VB=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),qB=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function UB(t){return t===null?!1:VB.exec(t)!==null||qB.exec(t)!==null}M(UB,"resolveYamlTimestamp");function WB(t){var e,n,r,i,s,l,c,u=0,h=null,f,p,m;if(e=VB.exec(t),e===null&&(e=qB.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],l=+e[5],c=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(f=+e[10],p=+(e[11]||0),h=(f*60+p)*6e4,e[9]==="-"&&(h=-h)),m=new Date(Date.UTC(n,r,i,s,l,c,u)),h&&m.setTime(m.getTime()-h),m}M(WB,"constructYamlTimestamp");function YB(t){return t.toISOString()}M(YB,"representYamlTimestamp");var xrt=new Wn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:UB,construct:WB,instanceOf:Date,represent:YB});function GB(t){return t==="<<"||t===null}M(GB,"resolveYamlMerge");var brt=new Wn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:GB}),c2=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function XB(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=c2;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}M(XB,"resolveYamlBinary");function ZB(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=c2,l=0,c=[];for(e=0;e<i;e++)e%4===0&&e&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):n===18?(c.push(l>>10&255),c.push(l>>2&255)):n===12&&c.push(l>>4&255),new Uint8Array(c)}M(ZB,"constructYamlBinary");function KB(t){var e="",n=0,r,i,s=t.length,l=c2;for(r=0;r<s;r++)r%3===0&&r&&(e+=l[n>>18&63],e+=l[n>>12&63],e+=l[n>>6&63],e+=l[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=l[n>>18&63],e+=l[n>>12&63],e+=l[n>>6&63],e+=l[n&63]):i===2?(e+=l[n>>10&63],e+=l[n>>4&63],e+=l[n<<2&63],e+=l[64]):i===1&&(e+=l[n>>2&63],e+=l[n<<4&63],e+=l[64],e+=l[64]),e}M(KB,"representYamlBinary");function QB(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}M(QB,"isBinary");var vrt=new Wn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:XB,construct:ZB,predicate:QB,represent:KB}),wrt=Object.prototype.hasOwnProperty,Srt=Object.prototype.toString;function JB(t){if(t===null)return!0;var e=[],n,r,i,s,l,c=t;for(n=0,r=c.length;n<r;n+=1){if(i=c[n],l=!1,Srt.call(i)!=="[object Object]")return!1;for(s in i)if(wrt.call(i,s))if(!l)l=!0;else return!1;if(!l)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}M(JB,"resolveYamlOmap");function tR(t){return t!==null?t:[]}M(tR,"constructYamlOmap");var Crt=new Wn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:JB,construct:tR}),_rt=Object.prototype.toString;function eR(t){if(t===null)return!0;var e,n,r,i,s,l=t;for(s=new Array(l.length),e=0,n=l.length;e<n;e+=1){if(r=l[e],_rt.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}M(eR,"resolveYamlPairs");function nR(t){if(t===null)return[];var e,n,r,i,s,l=t;for(s=new Array(l.length),e=0,n=l.length;e<n;e+=1)r=l[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}M(nR,"constructYamlPairs");var Trt=new Wn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:eR,construct:nR}),krt=Object.prototype.hasOwnProperty;function rR(t){if(t===null)return!0;var e,n=t;for(e in n)if(krt.call(n,e)&&n[e]!==null)return!1;return!0}M(rR,"resolveYamlSet");function iR(t){return t!==null?t:{}}M(iR,"constructYamlSet");var Ert=new Wn("tag:yaml.org,2002:set",{kind:"mapping",resolve:rR,construct:iR}),aR=yrt.extend({implicit:[xrt,brt],explicit:[vrt,Crt,Trt,Ert]}),ws=Object.prototype.hasOwnProperty,lg=1,sR=2,oR=3,cg=4,Ux=1,Art=2,bA=3,Mrt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Drt=/[\x85\u2028\u2029]/,Nrt=/[,\[\]\{\}]/,lR=/^(?:!|!!|![a-z\-]+!)$/i,cR=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function iv(t){return Object.prototype.toString.call(t)}M(iv,"_class");function xi(t){return t===10||t===13}M(xi,"is_EOL");function ps(t){return t===9||t===32}M(ps,"is_WHITE_SPACE");function nr(t){return t===9||t===32||t===10||t===13}M(nr,"is_WS_OR_EOL");function oo(t){return t===44||t===91||t===93||t===123||t===125}M(oo,"is_FLOW_INDICATOR");function uR(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}M(uR,"fromHexCode");function hR(t){return t===120?2:t===117?4:t===85?8:0}M(hR,"escapedHexLen");function dR(t){return 48<=t&&t<=57?t-48:-1}M(dR,"fromDecimalCode");function av(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}M(av,"simpleEscapeSequence");function fR(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}M(fR,"charFromCodepoint");var pR=new Array(256),gR=new Array(256);for(Zs=0;Zs<256;Zs++)pR[Zs]=av(Zs)?1:0,gR[Zs]=av(Zs);var Zs;function mR(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||aR,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}M(mR,"State$1");function u2(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=rrt(n),new Cr(e,n)}M(u2,"generateError");function Ot(t,e){throw u2(t,e)}M(Ot,"throwError");function wh(t,e){t.onWarning&&t.onWarning.call(null,u2(t,e))}M(wh,"throwWarning");var vA={YAML:M(function(e,n,r){var i,s,l;e.version!==null&&Ot(e,"duplication of %YAML directive"),r.length!==1&&Ot(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Ot(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),l=parseInt(i[2],10),s!==1&&Ot(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=l<2,l!==1&&l!==2&&wh(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:M(function(e,n,r){var i,s;r.length!==2&&Ot(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],lR.test(i)||Ot(e,"ill-formed tag handle (first argument) of the TAG directive"),ws.call(e.tagMap,i)&&Ot(e,'there is a previously declared suffix for "'+i+'" tag handle'),cR.test(s)||Ot(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Ot(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s},"handleTagDirective")};function Sa(t,e,n,r){var i,s,l,c;if(e<n){if(c=t.input.slice(e,n),r)for(i=0,s=c.length;i<s;i+=1)l=c.charCodeAt(i),l===9||32<=l&&l<=1114111||Ot(t,"expected valid JSON character");else Mrt.test(c)&&Ot(t,"the stream contains non-printable characters");t.result+=c}}M(Sa,"captureSegment");function sv(t,e,n,r){var i,s,l,c;for(vn.isObject(n)||Ot(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),l=0,c=i.length;l<c;l+=1)s=i[l],ws.call(e,s)||(e[s]=n[s],r[s]=!0)}M(sv,"mergeMappings");function lo(t,e,n,r,i,s,l,c,u){var h,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),h=0,f=i.length;h<f;h+=1)Array.isArray(i[h])&&Ot(t,"nested arrays are not supported inside keys"),typeof i=="object"&&iv(i[h])==="[object Object]"&&(i[h]="[object Object]");if(typeof i=="object"&&iv(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(h=0,f=s.length;h<f;h+=1)sv(t,e,s[h],n);else sv(t,e,s,n);else!t.json&&!ws.call(n,i)&&ws.call(e,i)&&(t.line=l||t.line,t.lineStart=c||t.lineStart,t.position=u||t.position,Ot(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}M(lo,"storeMappingPair");function hm(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Ot(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}M(hm,"readLineBreak");function en(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;ps(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(xi(i))for(hm(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&wh(t,"deficient indentation"),r}M(en,"skipSeparationSpace");function Jh(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||nr(n)))}M(Jh,"testDocumentSeparator");function dm(t,e){e===1?t.result+=" ":e>1&&(t.result+=vn.repeat(`
`,e-1))}M(dm,"writeFoldedLines");function yR(t,e,n){var r,i,s,l,c,u,h,f,p=t.kind,m=t.result,y;if(y=t.input.charCodeAt(t.position),nr(y)||oo(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(i=t.input.charCodeAt(t.position+1),nr(i)||n&&oo(i)))return!1;for(t.kind="scalar",t.result="",s=l=t.position,c=!1;y!==0;){if(y===58){if(i=t.input.charCodeAt(t.position+1),nr(i)||n&&oo(i))break}else if(y===35){if(r=t.input.charCodeAt(t.position-1),nr(r))break}else{if(t.position===t.lineStart&&Jh(t)||n&&oo(y))break;if(xi(y))if(u=t.line,h=t.lineStart,f=t.lineIndent,en(t,!1,-1),t.lineIndent>=e){c=!0,y=t.input.charCodeAt(t.position);continue}else{t.position=l,t.line=u,t.lineStart=h,t.lineIndent=f;break}}c&&(Sa(t,s,l,!1),dm(t,t.line-u),s=l=t.position,c=!1),ps(y)||(l=t.position+1),y=t.input.charCodeAt(++t.position)}return Sa(t,s,l,!1),t.result?!0:(t.kind=p,t.result=m,!1)}M(yR,"readPlainScalar");function xR(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Sa(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else xi(n)?(Sa(t,r,i,!0),dm(t,en(t,!1,e)),r=i=t.position):t.position===t.lineStart&&Jh(t)?Ot(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Ot(t,"unexpected end of the stream within a single quoted scalar")}M(xR,"readSingleQuotedScalar");function bR(t,e){var n,r,i,s,l,c;if(c=t.input.charCodeAt(t.position),c!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(c=t.input.charCodeAt(t.position))!==0;){if(c===34)return Sa(t,n,t.position,!0),t.position++,!0;if(c===92){if(Sa(t,n,t.position,!0),c=t.input.charCodeAt(++t.position),xi(c))en(t,!1,e);else if(c<256&&pR[c])t.result+=gR[c],t.position++;else if((l=hR(c))>0){for(i=l,s=0;i>0;i--)c=t.input.charCodeAt(++t.position),(l=uR(c))>=0?s=(s<<4)+l:Ot(t,"expected hexadecimal character");t.result+=fR(s),t.position++}else Ot(t,"unknown escape sequence");n=r=t.position}else xi(c)?(Sa(t,n,r,!0),dm(t,en(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Jh(t)?Ot(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Ot(t,"unexpected end of the stream within a double quoted scalar")}M(bR,"readDoubleQuotedScalar");function vR(t,e){var n=!0,r,i,s,l=t.tag,c,u=t.anchor,h,f,p,m,y,x=Object.create(null),v,S,_,E;if(E=t.input.charCodeAt(t.position),E===91)f=93,y=!1,c=[];else if(E===123)f=125,y=!0,c={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=c),E=t.input.charCodeAt(++t.position);E!==0;){if(en(t,!0,e),E=t.input.charCodeAt(t.position),E===f)return t.position++,t.tag=l,t.anchor=u,t.kind=y?"mapping":"sequence",t.result=c,!0;n?E===44&&Ot(t,"expected the node content, but found ','"):Ot(t,"missed comma between flow collection entries"),S=v=_=null,p=m=!1,E===63&&(h=t.input.charCodeAt(t.position+1),nr(h)&&(p=m=!0,t.position++,en(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,Co(t,e,lg,!1,!0),S=t.tag,v=t.result,en(t,!0,e),E=t.input.charCodeAt(t.position),(m||t.line===r)&&E===58&&(p=!0,E=t.input.charCodeAt(++t.position),en(t,!0,e),Co(t,e,lg,!1,!0),_=t.result),y?lo(t,c,x,S,v,_,r,i,s):p?c.push(lo(t,null,x,S,v,_,r,i,s)):c.push(v),en(t,!0,e),E=t.input.charCodeAt(t.position),E===44?(n=!0,E=t.input.charCodeAt(++t.position)):n=!1}Ot(t,"unexpected end of the stream within a flow collection")}M(vR,"readFlowCollection");function wR(t,e){var n,r,i=Ux,s=!1,l=!1,c=e,u=0,h=!1,f,p;if(p=t.input.charCodeAt(t.position),p===124)r=!1;else if(p===62)r=!0;else return!1;for(t.kind="scalar",t.result="";p!==0;)if(p=t.input.charCodeAt(++t.position),p===43||p===45)Ux===i?i=p===43?bA:Art:Ot(t,"repeat of a chomping mode identifier");else if((f=dR(p))>=0)f===0?Ot(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Ot(t,"repeat of an indentation width identifier"):(c=e+f-1,l=!0);else break;if(ps(p)){do p=t.input.charCodeAt(++t.position);while(ps(p));if(p===35)do p=t.input.charCodeAt(++t.position);while(!xi(p)&&p!==0)}for(;p!==0;){for(hm(t),t.lineIndent=0,p=t.input.charCodeAt(t.position);(!l||t.lineIndent<c)&&p===32;)t.lineIndent++,p=t.input.charCodeAt(++t.position);if(!l&&t.lineIndent>c&&(c=t.lineIndent),xi(p)){u++;continue}if(t.lineIndent<c){i===bA?t.result+=vn.repeat(`
`,s?1+u:u):i===Ux&&s&&(t.result+=`
`);break}for(r?ps(p)?(h=!0,t.result+=vn.repeat(`
`,s?1+u:u)):h?(h=!1,t.result+=vn.repeat(`
`,u+1)):u===0?s&&(t.result+=" "):t.result+=vn.repeat(`
`,u):t.result+=vn.repeat(`
`,s?1+u:u),s=!0,l=!0,u=0,n=t.position;!xi(p)&&p!==0;)p=t.input.charCodeAt(++t.position);Sa(t,n,t.position,!1)}return!0}M(wR,"readBlockScalar");function ov(t,e){var n,r=t.tag,i=t.anchor,s=[],l,c=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),u=t.input.charCodeAt(t.position);u!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ot(t,"tab characters must not be used in indentation")),!(u!==45||(l=t.input.charCodeAt(t.position+1),!nr(l))));){if(c=!0,t.position++,en(t,!0,-1)&&t.lineIndent<=e){s.push(null),u=t.input.charCodeAt(t.position);continue}if(n=t.line,Co(t,e,oR,!1,!0),s.push(t.result),en(t,!0,-1),u=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&u!==0)Ot(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return c?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}M(ov,"readBlockSequence");function SR(t,e,n){var r,i,s,l,c,u,h=t.tag,f=t.anchor,p={},m=Object.create(null),y=null,x=null,v=null,S=!1,_=!1,E;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=p),E=t.input.charCodeAt(t.position);E!==0;){if(!S&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ot(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(E===63||E===58)&&nr(r))E===63?(S&&(lo(t,p,m,y,x,null,l,c,u),y=x=v=null),_=!0,S=!0,i=!0):S?(S=!1,i=!0):Ot(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,E=r;else{if(l=t.line,c=t.lineStart,u=t.position,!Co(t,n,sR,!1,!0))break;if(t.line===s){for(E=t.input.charCodeAt(t.position);ps(E);)E=t.input.charCodeAt(++t.position);if(E===58)E=t.input.charCodeAt(++t.position),nr(E)||Ot(t,"a whitespace character is expected after the key-value separator within a block mapping"),S&&(lo(t,p,m,y,x,null,l,c,u),y=x=v=null),_=!0,S=!1,i=!1,y=t.tag,x=t.result;else if(_)Ot(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=h,t.anchor=f,!0}else if(_)Ot(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=h,t.anchor=f,!0}if((t.line===s||t.lineIndent>e)&&(S&&(l=t.line,c=t.lineStart,u=t.position),Co(t,e,cg,!0,i)&&(S?x=t.result:v=t.result),S||(lo(t,p,m,y,x,v,l,c,u),y=x=v=null),en(t,!0,-1),E=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&E!==0)Ot(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return S&&lo(t,p,m,y,x,null,l,c,u),_&&(t.tag=h,t.anchor=f,t.kind="mapping",t.result=p),_}M(SR,"readBlockMapping");function CR(t){var e,n=!1,r=!1,i,s,l;if(l=t.input.charCodeAt(t.position),l!==33)return!1;if(t.tag!==null&&Ot(t,"duplication of a tag property"),l=t.input.charCodeAt(++t.position),l===60?(n=!0,l=t.input.charCodeAt(++t.position)):l===33?(r=!0,i="!!",l=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do l=t.input.charCodeAt(++t.position);while(l!==0&&l!==62);t.position<t.length?(s=t.input.slice(e,t.position),l=t.input.charCodeAt(++t.position)):Ot(t,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!nr(l);)l===33&&(r?Ot(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),lR.test(i)||Ot(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),l=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),Nrt.test(s)&&Ot(t,"tag suffix cannot contain flow indicator characters")}s&&!cR.test(s)&&Ot(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Ot(t,"tag name is malformed: "+s)}return n?t.tag=s:ws.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:Ot(t,'undeclared tag handle "'+i+'"'),!0}M(CR,"readTagProperty");function _R(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Ot(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!nr(n)&&!oo(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Ot(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}M(_R,"readAnchorProperty");function TR(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!nr(r)&&!oo(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Ot(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),ws.call(t.anchorMap,n)||Ot(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],en(t,!0,-1),!0}M(TR,"readAlias");function Co(t,e,n,r,i){var s,l,c,u=1,h=!1,f=!1,p,m,y,x,v,S;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=l=c=cg===n||oR===n,r&&en(t,!0,-1)&&(h=!0,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)),u===1)for(;CR(t)||_R(t);)en(t,!0,-1)?(h=!0,c=s,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)):c=!1;if(c&&(c=h||i),(u===1||cg===n)&&(lg===n||sR===n?v=e:v=e+1,S=t.position-t.lineStart,u===1?c&&(ov(t,S)||SR(t,S,v))||vR(t,v)?f=!0:(l&&wR(t,v)||xR(t,v)||bR(t,v)?f=!0:TR(t)?(f=!0,(t.tag!==null||t.anchor!==null)&&Ot(t,"alias node should not have any properties")):yR(t,v,lg===n)&&(f=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):u===0&&(f=c&&ov(t,S))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Ot(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),p=0,m=t.implicitTypes.length;p<m;p+=1)if(x=t.implicitTypes[p],x.resolve(t.result)){t.result=x.construct(t.result),t.tag=x.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ws.call(t.typeMap[t.kind||"fallback"],t.tag))x=t.typeMap[t.kind||"fallback"][t.tag];else for(x=null,y=t.typeMap.multi[t.kind||"fallback"],p=0,m=y.length;p<m;p+=1)if(t.tag.slice(0,y[p].tag.length)===y[p].tag){x=y[p];break}x||Ot(t,"unknown tag !<"+t.tag+">"),t.result!==null&&x.kind!==t.kind&&Ot(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+x.kind+'", not "'+t.kind+'"'),x.resolve(t.result,t.tag)?(t.result=x.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Ot(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||f}M(Co,"composeNode");function kR(t){var e=t.position,n,r,i,s=!1,l;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(l=t.input.charCodeAt(t.position))!==0&&(en(t,!0,-1),l=t.input.charCodeAt(t.position),!(t.lineIndent>0||l!==37));){for(s=!0,l=t.input.charCodeAt(++t.position),n=t.position;l!==0&&!nr(l);)l=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&Ot(t,"directive name must not be less than one character in length");l!==0;){for(;ps(l);)l=t.input.charCodeAt(++t.position);if(l===35){do l=t.input.charCodeAt(++t.position);while(l!==0&&!xi(l));break}if(xi(l))break;for(n=t.position;l!==0&&!nr(l);)l=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}l!==0&&hm(t),ws.call(vA,r)?vA[r](t,r,i):wh(t,'unknown document directive "'+r+'"')}if(en(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,en(t,!0,-1)):s&&Ot(t,"directives end mark is expected"),Co(t,t.lineIndent-1,cg,!1,!0),en(t,!0,-1),t.checkLineBreaks&&Drt.test(t.input.slice(e,t.position))&&wh(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Jh(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,en(t,!0,-1));return}if(t.position<t.length-1)Ot(t,"end of the stream or a document separator is expected");else return}M(kR,"readDocument");function h2(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new mR(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,Ot(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)kR(n);return n.documents}M(h2,"loadDocuments");function Lrt(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=h2(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}M(Lrt,"loadAll$1");function ER(t,e){var n=h2(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Cr("expected a single document in the stream, but found more")}}M(ER,"load$1");var Brt=ER,Rrt={load:Brt},AR=Object.prototype.toString,MR=Object.prototype.hasOwnProperty,d2=65279,Ort=9,Sh=10,jrt=13,$rt=32,zrt=33,Prt=34,lv=35,Frt=37,Irt=38,Hrt=39,Vrt=42,DR=44,qrt=45,ug=58,Urt=61,Wrt=62,Yrt=63,Grt=64,NR=91,LR=93,Xrt=96,BR=123,Zrt=124,RR=125,Gn={};Gn[0]="\\0";Gn[7]="\\a";Gn[8]="\\b";Gn[9]="\\t";Gn[10]="\\n";Gn[11]="\\v";Gn[12]="\\f";Gn[13]="\\r";Gn[27]="\\e";Gn[34]='\\"';Gn[92]="\\\\";Gn[133]="\\N";Gn[160]="\\_";Gn[8232]="\\L";Gn[8233]="\\P";var Krt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Qrt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function OR(t,e){var n,r,i,s,l,c,u;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)l=r[i],c=String(e[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),u=t.compiledTypeMap.fallback[l],u&&MR.call(u.styleAliases,c)&&(c=u.styleAliases[c]),n[l]=c;return n}M(OR,"compileStyleMap");function jR(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new Cr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+vn.repeat("0",r-e.length)+e}M(jR,"encodeHex");var Jrt=1,Ch=2;function $R(t){this.schema=t.schema||aR,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=vn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=OR(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Ch:Jrt,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}M($R,"State");function cv(t,e){for(var n=vn.repeat(" ",e),r=0,i=-1,s="",l,c=t.length;r<c;)i=t.indexOf(`
`,r),i===-1?(l=t.slice(r),r=c):(l=t.slice(r,i+1),r=i+1),l.length&&l!==`
`&&(s+=n),s+=l;return s}M(cv,"indentString");function hg(t,e){return`
`+vn.repeat(" ",t.indent*e)}M(hg,"generateNextLine");function zR(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}M(zR,"testImplicitResolving");function _h(t){return t===$rt||t===Ort}M(_h,"isWhitespace");function oc(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==d2||65536<=t&&t<=1114111}M(oc,"isPrintable");function uv(t){return oc(t)&&t!==d2&&t!==jrt&&t!==Sh}M(uv,"isNsCharOrWhitespace");function hv(t,e,n){var r=uv(t),i=r&&!_h(t);return(n?r:r&&t!==DR&&t!==NR&&t!==LR&&t!==BR&&t!==RR)&&t!==lv&&!(e===ug&&!i)||uv(e)&&!_h(e)&&t===lv||e===ug&&i}M(hv,"isPlainSafe");function PR(t){return oc(t)&&t!==d2&&!_h(t)&&t!==qrt&&t!==Yrt&&t!==ug&&t!==DR&&t!==NR&&t!==LR&&t!==BR&&t!==RR&&t!==lv&&t!==Irt&&t!==Vrt&&t!==zrt&&t!==Zrt&&t!==Urt&&t!==Wrt&&t!==Hrt&&t!==Prt&&t!==Frt&&t!==Grt&&t!==Xrt}M(PR,"isPlainSafeFirst");function FR(t){return!_h(t)&&t!==ug}M(FR,"isPlainSafeLast");function Bl(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}M(Bl,"codePointAt");function f2(t){var e=/^\n* /;return e.test(t)}M(f2,"needIndentIndicator");var IR=1,dv=2,HR=3,VR=4,_l=5;function qR(t,e,n,r,i,s,l,c){var u,h=0,f=null,p=!1,m=!1,y=r!==-1,x=-1,v=PR(Bl(t,0))&&FR(Bl(t,t.length-1));if(e||l)for(u=0;u<t.length;h>=65536?u+=2:u++){if(h=Bl(t,u),!oc(h))return _l;v=v&&hv(h,f,c),f=h}else{for(u=0;u<t.length;h>=65536?u+=2:u++){if(h=Bl(t,u),h===Sh)p=!0,y&&(m=m||u-x-1>r&&t[x+1]!==" ",x=u);else if(!oc(h))return _l;v=v&&hv(h,f,c),f=h}m=m||y&&u-x-1>r&&t[x+1]!==" "}return!p&&!m?v&&!l&&!i(t)?IR:s===Ch?_l:dv:n>9&&f2(t)?_l:l?s===Ch?_l:dv:m?VR:HR}M(qR,"chooseScalarStyle");function UR(t,e,n,r,i){t.dump=(function(){if(e.length===0)return t.quotingType===Ch?'""':"''";if(!t.noCompatMode&&(Krt.indexOf(e)!==-1||Qrt.test(e)))return t.quotingType===Ch?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),l=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),c=r||t.flowLevel>-1&&n>=t.flowLevel;function u(h){return zR(t,h)}switch(M(u,"testAmbiguity"),qR(e,c,t.indent,l,u,t.quotingType,t.forceQuotes&&!r,i)){case IR:return e;case dv:return"'"+e.replace(/'/g,"''")+"'";case HR:return"|"+fv(e,t.indent)+pv(cv(e,s));case VR:return">"+fv(e,t.indent)+pv(cv(WR(e,l),s));case _l:return'"'+YR(e)+'"';default:throw new Cr("impossible error: invalid scalar style")}})()}M(UR,"writeScalar");function fv(t,e){var n=f2(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}M(fv,"blockHeader");function pv(t){return t[t.length-1]===`
`?t.slice(0,-1):t}M(pv,"dropEndingNewline");function WR(t,e){for(var n=/(\n+)([^\n]*)/g,r=(function(){var h=t.indexOf(`
`);return h=h!==-1?h:t.length,n.lastIndex=h,gv(t.slice(0,h),e)})(),i=t[0]===`
`||t[0]===" ",s,l;l=n.exec(t);){var c=l[1],u=l[2];s=u[0]===" ",r+=c+(!i&&!s&&u!==""?`
`:"")+gv(u,e),i=s}return r}M(WR,"foldString");function gv(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,l=0,c=0,u="";r=n.exec(t);)c=r.index,c-i>e&&(s=l>i?l:c,u+=`
`+t.slice(i,s),i=s+1),l=c;return u+=`
`,t.length-i>e&&l>i?u+=t.slice(i,l)+`
`+t.slice(l+1):u+=t.slice(i),u.slice(1)}M(gv,"foldLine");function YR(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Bl(t,i),r=Gn[n],!r&&oc(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||jR(n);return e}M(YR,"escapeString");function GR(t,e,n){var r="",i=t.tag,s,l,c;for(s=0,l=n.length;s<l;s+=1)c=n[s],t.replacer&&(c=t.replacer.call(n,String(s),c)),(qi(t,e,c,!1,!1)||typeof c>"u"&&qi(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}M(GR,"writeFlowSequence");function mv(t,e,n,r){var i="",s=t.tag,l,c,u;for(l=0,c=n.length;l<c;l+=1)u=n[l],t.replacer&&(u=t.replacer.call(n,String(l),u)),(qi(t,e+1,u,!0,!0,!1,!0)||typeof u>"u"&&qi(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=hg(t,e)),t.dump&&Sh===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}M(mv,"writeBlockSequence");function XR(t,e,n){var r="",i=t.tag,s=Object.keys(n),l,c,u,h,f;for(l=0,c=s.length;l<c;l+=1)f="",r!==""&&(f+=", "),t.condenseFlow&&(f+='"'),u=s[l],h=n[u],t.replacer&&(h=t.replacer.call(n,u,h)),qi(t,e,u,!1,!1)&&(t.dump.length>1024&&(f+="? "),f+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),qi(t,e,h,!1,!1)&&(f+=t.dump,r+=f));t.tag=i,t.dump="{"+r+"}"}M(XR,"writeFlowMapping");function ZR(t,e,n,r){var i="",s=t.tag,l=Object.keys(n),c,u,h,f,p,m;if(t.sortKeys===!0)l.sort();else if(typeof t.sortKeys=="function")l.sort(t.sortKeys);else if(t.sortKeys)throw new Cr("sortKeys must be a boolean or a function");for(c=0,u=l.length;c<u;c+=1)m="",(!r||i!=="")&&(m+=hg(t,e)),h=l[c],f=n[h],t.replacer&&(f=t.replacer.call(n,h,f)),qi(t,e+1,h,!0,!0,!0)&&(p=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,p&&(t.dump&&Sh===t.dump.charCodeAt(0)?m+="?":m+="? "),m+=t.dump,p&&(m+=hg(t,e)),qi(t,e+1,f,!0,p)&&(t.dump&&Sh===t.dump.charCodeAt(0)?m+=":":m+=": ",m+=t.dump,i+=m));t.tag=s,t.dump=i||"{}"}M(ZR,"writeBlockMapping");function yv(t,e,n){var r,i,s,l,c,u;for(i=n?t.explicitTypes:t.implicitTypes,s=0,l=i.length;s<l;s+=1)if(c=i[s],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof e=="object"&&e instanceof c.instanceOf)&&(!c.predicate||c.predicate(e))){if(n?c.multi&&c.representName?t.tag=c.representName(e):t.tag=c.tag:t.tag="?",c.represent){if(u=t.styleMap[c.tag]||c.defaultStyle,AR.call(c.represent)==="[object Function]")r=c.represent(e,u);else if(MR.call(c.represent,u))r=c.represent[u](e,u);else throw new Cr("!<"+c.tag+'> tag resolver accepts not "'+u+'" style');t.dump=r}return!0}return!1}M(yv,"detectType");function qi(t,e,n,r,i,s,l){t.tag=null,t.dump=n,yv(t,n,!1)||yv(t,n,!0);var c=AR.call(t.dump),u=r,h;r&&(r=t.flowLevel<0||t.flowLevel>e);var f=c==="[object Object]"||c==="[object Array]",p,m;if(f&&(p=t.duplicates.indexOf(n),m=p!==-1),(t.tag!==null&&t.tag!=="?"||m||t.indent!==2&&e>0)&&(i=!1),m&&t.usedDuplicates[p])t.dump="*ref_"+p;else{if(f&&m&&!t.usedDuplicates[p]&&(t.usedDuplicates[p]=!0),c==="[object Object]")r&&Object.keys(t.dump).length!==0?(ZR(t,e,t.dump,i),m&&(t.dump="&ref_"+p+t.dump)):(XR(t,e,t.dump),m&&(t.dump="&ref_"+p+" "+t.dump));else if(c==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!l&&e>0?mv(t,e-1,t.dump,i):mv(t,e,t.dump,i),m&&(t.dump="&ref_"+p+t.dump)):(GR(t,e,t.dump),m&&(t.dump="&ref_"+p+" "+t.dump));else if(c==="[object String]")t.tag!=="?"&&UR(t,t.dump,e,s,u);else{if(c==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Cr("unacceptable kind of an object to dump "+c)}t.tag!==null&&t.tag!=="?"&&(h=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",t.dump=h+" "+t.dump)}return!0}M(qi,"writeNode");function KR(t,e){var n=[],r=[],i,s;for(dg(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}M(KR,"getDuplicateReferences");function dg(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)dg(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)dg(t[r[i]],e,n)}M(dg,"inspectNode");function tit(t,e){e=e||{};var n=new $R(e);n.noRefs||KR(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),qi(n,0,r,!0,!0)?n.dump+`
`:""}M(tit,"dump$1");function eit(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}M(eit,"renamed");var nit=HB,rit=Rrt.load;var Vn={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},wA={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function Bu(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=Fe(t),e=Fe(e);const[n,r]=[t.x,t.y],[i,s]=[e.x,e.y],l=i-n,c=s-r;return{angle:Math.atan(c/l),deltaX:l,deltaY:c}}M(Bu,"calculateDeltaAndAngle");var Fe=M(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),iit=M(t=>({x:M(function(e,n,r){let i=0;const s=Fe(r[0]).x<Fe(r[r.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(Vn,t.arrowTypeStart)){const{angle:y,deltaX:x}=Bu(r[0],r[1]);i=Vn[t.arrowTypeStart]*Math.cos(y)*(x>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Vn,t.arrowTypeEnd)){const{angle:y,deltaX:x}=Bu(r[r.length-1],r[r.length-2]);i=Vn[t.arrowTypeEnd]*Math.cos(y)*(x>=0?1:-1)}const l=Math.abs(Fe(e).x-Fe(r[r.length-1]).x),c=Math.abs(Fe(e).y-Fe(r[r.length-1]).y),u=Math.abs(Fe(e).x-Fe(r[0]).x),h=Math.abs(Fe(e).y-Fe(r[0]).y),f=Vn[t.arrowTypeStart],p=Vn[t.arrowTypeEnd],m=1;if(l<p&&l>0&&c<p){let y=p+m-l;y*=s==="right"?-1:1,i-=y}if(u<f&&u>0&&h<f){let y=f+m-u;y*=s==="right"?-1:1,i+=y}return Fe(e).x+i},"x"),y:M(function(e,n,r){let i=0;const s=Fe(r[0]).y<Fe(r[r.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(Vn,t.arrowTypeStart)){const{angle:y,deltaY:x}=Bu(r[0],r[1]);i=Vn[t.arrowTypeStart]*Math.abs(Math.sin(y))*(x>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Vn,t.arrowTypeEnd)){const{angle:y,deltaY:x}=Bu(r[r.length-1],r[r.length-2]);i=Vn[t.arrowTypeEnd]*Math.abs(Math.sin(y))*(x>=0?1:-1)}const l=Math.abs(Fe(e).y-Fe(r[r.length-1]).y),c=Math.abs(Fe(e).x-Fe(r[r.length-1]).x),u=Math.abs(Fe(e).y-Fe(r[0]).y),h=Math.abs(Fe(e).x-Fe(r[0]).x),f=Vn[t.arrowTypeStart],p=Vn[t.arrowTypeEnd],m=1;if(l<p&&l>0&&c<p){let y=p+m-l;y*=s==="up"?-1:1,i-=y}if(u<f&&u>0&&h<f){let y=f+m-u;y*=s==="up"?-1:1,i+=y}return Fe(e).y+i},"y")}),"getLineFunctionsWithOffset"),p2=M(({flowchart:t})=>{const e=t?.subGraphTitleMargin?.top??0,n=t?.subGraphTitleMargin?.bottom??0,r=e+n;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:r}},"getSubGraphTitleMargins"),ait=M(t=>{const{handDrawnSeed:e}=pe();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),yc=M(t=>{const e=sit([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),sit=M(t=>{const e=new Map;return t.forEach(n=>{const[r,i]=n.split(":");e.set(r.trim(),i?.trim())}),e},"styles2Map"),QR=M(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),Mt=M(t=>{const{stylesArray:e}=yc(t),n=[],r=[],i=[],s=[];return e.forEach(l=>{const c=l[0];QR(c)?n.push(l.join(":")+" !important"):(r.push(l.join(":")+" !important"),c.includes("stroke")&&i.push(l.join(":")+" !important"),c==="fill"&&s.push(l.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:s}},"styles2String"),At=M((t,e)=>{const{themeVariables:n,handDrawnSeed:r}=pe(),{nodeBorder:i,mainBkg:s}=n,{stylesMap:l}=yc(t);return Object.assign({roughness:.7,fill:l.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:l.get("stroke")||i,seed:r,strokeWidth:l.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:oit(l.get("stroke-dasharray"))},e)},"userNodeOverrides"),oit=M(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const i=isNaN(e[0])?0:e[0];return[i,i]}const n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1];return[n,r]},"getStrokeDashArray"),Wf={},mn={},SA;function lit(){return SA||(SA=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.BLANK_URL=mn.relativeFirstCharacters=mn.whitespaceEscapeCharsRegex=mn.urlSchemeRegex=mn.ctrlCharactersRegex=mn.htmlCtrlEntityRegex=mn.htmlEntitiesRegex=mn.invalidProtocolRegex=void 0,mn.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,mn.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,mn.htmlCtrlEntityRegex=/&(newline|tab);/gi,mn.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,mn.urlSchemeRegex=/^.+(:|&colon;)/gim,mn.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,mn.relativeFirstCharacters=[".","/"],mn.BLANK_URL="about:blank"),mn}var CA;function cit(){if(CA)return Wf;CA=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.sanitizeUrl=s;var t=lit();function e(l){return t.relativeFirstCharacters.indexOf(l[0])>-1}function n(l){var c=l.replace(t.ctrlCharactersRegex,"");return c.replace(t.htmlEntitiesRegex,function(u,h){return String.fromCharCode(h)})}function r(l){return URL.canParse(l)}function i(l){try{return decodeURIComponent(l)}catch{return l}}function s(l){if(!l)return t.BLANK_URL;var c,u=i(l.trim());do u=n(u).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),u=i(u),c=u.match(t.ctrlCharactersRegex)||u.match(t.htmlEntitiesRegex)||u.match(t.htmlCtrlEntityRegex)||u.match(t.whitespaceEscapeCharsRegex);while(c&&c.length>0);var h=u;if(!h)return t.BLANK_URL;if(e(h))return h;var f=h.trimStart(),p=f.match(t.urlSchemeRegex);if(!p)return h;var m=p[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(m))return t.BLANK_URL;var y=f.replace(/\\/g,"/");if(m==="mailto:"||m.includes("://"))return y;if(m==="http:"||m==="https:"){if(!r(y))return t.BLANK_URL;var x=new URL(y);return x.protocol=x.protocol.toLowerCase(),x.hostname=x.hostname.toLowerCase(),x.toString()}return y}return Wf}var uit=cit(),JR=typeof global=="object"&&global&&global.Object===Object&&global,hit=typeof self=="object"&&self&&self.Object===Object&&self,Wi=JR||hit||Function("return this")(),fg=Wi.Symbol,tO=Object.prototype,dit=tO.hasOwnProperty,fit=tO.toString,Su=fg?fg.toStringTag:void 0;function pit(t){var e=dit.call(t,Su),n=t[Su];try{t[Su]=void 0;var r=!0}catch{}var i=fit.call(t);return r&&(e?t[Su]=n:delete t[Su]),i}var git=Object.prototype,mit=git.toString;function yit(t){return mit.call(t)}var xit="[object Null]",bit="[object Undefined]",_A=fg?fg.toStringTag:void 0;function xc(t){return t==null?t===void 0?bit:xit:_A&&_A in Object(t)?pit(t):yit(t)}function Ao(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vit="[object AsyncFunction]",wit="[object Function]",Sit="[object GeneratorFunction]",Cit="[object Proxy]";function g2(t){if(!Ao(t))return!1;var e=xc(t);return e==wit||e==Sit||e==vit||e==Cit}var Wx=Wi["__core-js_shared__"],TA=(function(){var t=/[^.]+$/.exec(Wx&&Wx.keys&&Wx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function _it(t){return!!TA&&TA in t}var Tit=Function.prototype,kit=Tit.toString;function Mo(t){if(t!=null){try{return kit.call(t)}catch{}try{return t+""}catch{}}return""}var Eit=/[\\^$.*+?()[\]{}|]/g,Ait=/^\[object .+?Constructor\]$/,Mit=Function.prototype,Dit=Object.prototype,Nit=Mit.toString,Lit=Dit.hasOwnProperty,Bit=RegExp("^"+Nit.call(Lit).replace(Eit,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rit(t){if(!Ao(t)||_it(t))return!1;var e=g2(t)?Bit:Ait;return e.test(Mo(t))}function Oit(t,e){return t?.[e]}function Do(t,e){var n=Oit(t,e);return Rit(n)?n:void 0}var Th=Do(Object,"create");function jit(){this.__data__=Th?Th(null):{},this.size=0}function $it(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zit="__lodash_hash_undefined__",Pit=Object.prototype,Fit=Pit.hasOwnProperty;function Iit(t){var e=this.__data__;if(Th){var n=e[t];return n===zit?void 0:n}return Fit.call(e,t)?e[t]:void 0}var Hit=Object.prototype,Vit=Hit.hasOwnProperty;function qit(t){var e=this.__data__;return Th?e[t]!==void 0:Vit.call(e,t)}var Uit="__lodash_hash_undefined__";function Wit(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Th&&e===void 0?Uit:e,this}function _o(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_o.prototype.clear=jit;_o.prototype.delete=$it;_o.prototype.get=Iit;_o.prototype.has=qit;_o.prototype.set=Wit;function Yit(){this.__data__=[],this.size=0}function fm(t,e){return t===e||t!==t&&e!==e}function pm(t,e){for(var n=t.length;n--;)if(fm(t[n][0],e))return n;return-1}var Git=Array.prototype,Xit=Git.splice;function Zit(t){var e=this.__data__,n=pm(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Xit.call(e,n,1),--this.size,!0}function Kit(t){var e=this.__data__,n=pm(e,t);return n<0?void 0:e[n][1]}function Qit(t){return pm(this.__data__,t)>-1}function Jit(t,e){var n=this.__data__,r=pm(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ma(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ma.prototype.clear=Yit;Ma.prototype.delete=Zit;Ma.prototype.get=Kit;Ma.prototype.has=Qit;Ma.prototype.set=Jit;var kh=Do(Wi,"Map");function tat(){this.size=0,this.__data__={hash:new _o,map:new(kh||Ma),string:new _o}}function eat(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function gm(t,e){var n=t.__data__;return eat(e)?n[typeof e=="string"?"string":"hash"]:n.map}function nat(t){var e=gm(this,t).delete(t);return this.size-=e?1:0,e}function rat(t){return gm(this,t).get(t)}function iat(t){return gm(this,t).has(t)}function aat(t,e){var n=gm(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ks(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ks.prototype.clear=tat;ks.prototype.delete=nat;ks.prototype.get=rat;ks.prototype.has=iat;ks.prototype.set=aat;var sat="Expected a function";function td(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(sat);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var l=t.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(td.Cache||ks),n}td.Cache=ks;function oat(){this.__data__=new Ma,this.size=0}function lat(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function cat(t){return this.__data__.get(t)}function uat(t){return this.__data__.has(t)}var hat=200;function dat(t,e){var n=this.__data__;if(n instanceof Ma){var r=n.__data__;if(!kh||r.length<hat-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ks(r)}return n.set(t,e),this.size=n.size,this}function bc(t){var e=this.__data__=new Ma(t);this.size=e.size}bc.prototype.clear=oat;bc.prototype.delete=lat;bc.prototype.get=cat;bc.prototype.has=uat;bc.prototype.set=dat;var pg=(function(){try{var t=Do(Object,"defineProperty");return t({},"",{}),t}catch{}})();function m2(t,e,n){e=="__proto__"&&pg?pg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function xv(t,e,n){(n!==void 0&&!fm(t[e],n)||n===void 0&&!(e in t))&&m2(t,e,n)}function fat(t){return function(e,n,r){for(var i=-1,s=Object(e),l=r(e),c=l.length;c--;){var u=l[++i];if(n(s[u],u,s)===!1)break}return e}}var pat=fat(),eO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kA=eO&&typeof module=="object"&&module&&!module.nodeType&&module,gat=kA&&kA.exports===eO,EA=gat?Wi.Buffer:void 0,AA=EA?EA.allocUnsafe:void 0;function mat(t,e){if(e)return t.slice();var n=t.length,r=AA?AA(n):new t.constructor(n);return t.copy(r),r}var MA=Wi.Uint8Array;function yat(t){var e=new t.constructor(t.byteLength);return new MA(e).set(new MA(t)),e}function xat(t,e){var n=e?yat(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function bat(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var DA=Object.create,vat=(function(){function t(){}return function(e){if(!Ao(e))return{};if(DA)return DA(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function nO(t,e){return function(n){return t(e(n))}}var rO=nO(Object.getPrototypeOf,Object),wat=Object.prototype;function mm(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wat;return t===n}function Sat(t){return typeof t.constructor=="function"&&!mm(t)?vat(rO(t)):{}}function ed(t){return t!=null&&typeof t=="object"}var Cat="[object Arguments]";function NA(t){return ed(t)&&xc(t)==Cat}var iO=Object.prototype,_at=iO.hasOwnProperty,Tat=iO.propertyIsEnumerable,gg=NA((function(){return arguments})())?NA:function(t){return ed(t)&&_at.call(t,"callee")&&!Tat.call(t,"callee")},mg=Array.isArray,kat=9007199254740991;function aO(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kat}function ym(t){return t!=null&&aO(t.length)&&!g2(t)}function Eat(t){return ed(t)&&ym(t)}function Aat(){return!1}var sO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,LA=sO&&typeof module=="object"&&module&&!module.nodeType&&module,Mat=LA&&LA.exports===sO,BA=Mat?Wi.Buffer:void 0,Dat=BA?BA.isBuffer:void 0,y2=Dat||Aat,Nat="[object Object]",Lat=Function.prototype,Bat=Object.prototype,oO=Lat.toString,Rat=Bat.hasOwnProperty,Oat=oO.call(Object);function jat(t){if(!ed(t)||xc(t)!=Nat)return!1;var e=rO(t);if(e===null)return!0;var n=Rat.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&oO.call(n)==Oat}var $at="[object Arguments]",zat="[object Array]",Pat="[object Boolean]",Fat="[object Date]",Iat="[object Error]",Hat="[object Function]",Vat="[object Map]",qat="[object Number]",Uat="[object Object]",Wat="[object RegExp]",Yat="[object Set]",Gat="[object String]",Xat="[object WeakMap]",Zat="[object ArrayBuffer]",Kat="[object DataView]",Qat="[object Float32Array]",Jat="[object Float64Array]",tst="[object Int8Array]",est="[object Int16Array]",nst="[object Int32Array]",rst="[object Uint8Array]",ist="[object Uint8ClampedArray]",ast="[object Uint16Array]",sst="[object Uint32Array]",je={};je[Qat]=je[Jat]=je[tst]=je[est]=je[nst]=je[rst]=je[ist]=je[ast]=je[sst]=!0;je[$at]=je[zat]=je[Zat]=je[Pat]=je[Kat]=je[Fat]=je[Iat]=je[Hat]=je[Vat]=je[qat]=je[Uat]=je[Wat]=je[Yat]=je[Gat]=je[Xat]=!1;function ost(t){return ed(t)&&aO(t.length)&&!!je[xc(t)]}function lst(t){return function(e){return t(e)}}var lO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qu=lO&&typeof module=="object"&&module&&!module.nodeType&&module,cst=Qu&&Qu.exports===lO,Yx=cst&&JR.process,RA=(function(){try{var t=Qu&&Qu.require&&Qu.require("util").types;return t||Yx&&Yx.binding&&Yx.binding("util")}catch{}})(),OA=RA&&RA.isTypedArray,x2=OA?lst(OA):ost;function bv(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var ust=Object.prototype,hst=ust.hasOwnProperty;function dst(t,e,n){var r=t[e];(!(hst.call(t,e)&&fm(r,n))||n===void 0&&!(e in t))&&m2(t,e,n)}function fst(t,e,n,r){var i=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var c=e[s],u=void 0;u===void 0&&(u=t[c]),i?m2(n,c,u):dst(n,c,u)}return n}function pst(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var gst=9007199254740991,mst=/^(?:0|[1-9]\d*)$/;function cO(t,e){var n=typeof t;return e=e??gst,!!e&&(n=="number"||n!="symbol"&&mst.test(t))&&t>-1&&t%1==0&&t<e}var yst=Object.prototype,xst=yst.hasOwnProperty;function bst(t,e){var n=mg(t),r=!n&&gg(t),i=!n&&!r&&y2(t),s=!n&&!r&&!i&&x2(t),l=n||r||i||s,c=l?pst(t.length,String):[],u=c.length;for(var h in t)(e||xst.call(t,h))&&!(l&&(h=="length"||i&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||cO(h,u)))&&c.push(h);return c}function vst(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var wst=Object.prototype,Sst=wst.hasOwnProperty;function Cst(t){if(!Ao(t))return vst(t);var e=mm(t),n=[];for(var r in t)r=="constructor"&&(e||!Sst.call(t,r))||n.push(r);return n}function uO(t){return ym(t)?bst(t,!0):Cst(t)}function _st(t){return fst(t,uO(t))}function Tst(t,e,n,r,i,s,l){var c=bv(t,n),u=bv(e,n),h=l.get(u);if(h){xv(t,n,h);return}var f=s?s(c,u,n+"",t,e,l):void 0,p=f===void 0;if(p){var m=mg(u),y=!m&&y2(u),x=!m&&!y&&x2(u);f=u,m||y||x?mg(c)?f=c:Eat(c)?f=bat(c):y?(p=!1,f=mat(u,!0)):x?(p=!1,f=xat(u,!0)):f=[]:jat(u)||gg(u)?(f=c,gg(c)?f=_st(c):(!Ao(c)||g2(c))&&(f=Sat(u))):p=!1}p&&(l.set(u,f),i(f,u,r,s,l),l.delete(u)),xv(t,n,f)}function hO(t,e,n,r,i){t!==e&&pat(e,function(s,l){if(i||(i=new bc),Ao(s))Tst(t,e,l,n,hO,r,i);else{var c=r?r(bv(t,l),s,l+"",t,e,i):void 0;c===void 0&&(c=s),xv(t,l,c)}},uO)}function dO(t){return t}function kst(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var jA=Math.max;function Est(t,e,n){return e=jA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=jA(r.length-e,0),l=Array(s);++i<s;)l[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=n(l),kst(t,this,c)}}function Ast(t){return function(){return t}}var Mst=pg?function(t,e){return pg(t,"toString",{configurable:!0,enumerable:!1,value:Ast(e),writable:!0})}:dO,Dst=800,Nst=16,Lst=Date.now;function Bst(t){var e=0,n=0;return function(){var r=Lst(),i=Nst-(r-n);if(n=r,i>0){if(++e>=Dst)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Rst=Bst(Mst);function Ost(t,e){return Rst(Est(t,e,dO),t+"")}function jst(t,e,n){if(!Ao(n))return!1;var r=typeof e;return(r=="number"?ym(n)&&cO(e,n.length):r=="string"&&e in n)?fm(n[e],t):!1}function $st(t){return Ost(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,l&&jst(n[0],n[1],l)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,s)}return e})}var zst=$st(function(t,e,n){hO(t,e,n)}),Pst="",Fst={curveBasis:mp,curveBasisClosed:Hnt,curveBasisOpen:Vnt,curveBumpX:K5,curveBumpY:Q5,curveBundle:qnt,curveCardinalClosed:Unt,curveCardinalOpen:Wnt,curveCardinal:nB,curveCatmullRomClosed:Ynt,curveCatmullRomOpen:Gnt,curveCatmullRom:iB,curveLinear:rg,curveLinearClosed:Xnt,curveMonotoneX:uB,curveMonotoneY:hB,curveNatural:fB,curveStep:pB,curveStepAfter:mB,curveStepBefore:gB},Ist=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Hst=M(function(t,e){const n=fO(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const l=n.map(c=>c.args);Qp(l),r=bn(r,[...l])}else r=n.args;if(!r)return;let i=X1(t,e);const s="config";return r[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),r[i]=r[s],delete r[s]),r},"detectInit"),fO=M(function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${Ist.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),mt.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let r;const i=[];for(;(r=Zu.exec(t))!==null;)if(r.index===Zu.lastIndex&&Zu.lastIndex++,r&&!e||e&&r[1]?.match(e)||e&&r[2]?.match(e)){const s=r[1]?r[1]:r[2],l=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:s,args:l})}return i.length===0?{type:t,args:null}:i.length===1?i[0]:i}catch(n){return mt.error(`ERROR: ${n.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),Vst=M(function(t){return t.replace(Zu,"")},"removeDirectives"),qst=M(function(t,e){for(const[n,r]of e.entries())if(r.match(t))return n;return-1},"isSubstringInArray");function b2(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return Fst[n]??e}M(b2,"interpolateToCurve");function pO(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?uit.sanitizeUrl(n):n}M(pO,"formatUrl");var Ust=M((t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let s=window;for(let l=0;l<r;l++)if(s=s[n[l]],!s){mt.error(`Function name: ${t} not found in window`);return}s[i](...e)},"runFunc");function v2(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}M(v2,"distance");function gO(t){let e,n=0;t.forEach(i=>{n+=v2(i,e),e=i});const r=n/2;return w2(t,r)}M(gO,"traverseEdge");function mO(t){return t.length===1?t[0]:gO(t)}M(mO,"calcLabelPosition");var $A=M((t,e=2)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},"roundNumber"),w2=M((t,e)=>{let n,r=e;for(const i of t){if(n){const s=v2(i,n);if(s===0)return n;if(s<r)r-=s;else{const l=r/s;if(l<=0)return n;if(l>=1)return{x:i.x,y:i.y};if(l>0&&l<1)return{x:$A((1-l)*n.x+l*i.x,5),y:$A((1-l)*n.y+l*i.y,5)}}}n=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Wst=M((t,e,n)=>{mt.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());const i=w2(e,25),s=t?10:5,l=Math.atan2(e[0].y-i.y,e[0].x-i.x),c={x:0,y:0};return c.x=Math.sin(l)*s+(e[0].x+i.x)/2,c.y=-Math.cos(l)*s+(e[0].y+i.y)/2,c},"calcCardinalityPosition");function yO(t,e,n){const r=structuredClone(n);mt.info("our points",r),e!=="start_left"&&e!=="start_right"&&r.reverse();const i=25+t,s=w2(r,i),l=10+t*.5,c=Math.atan2(r[0].y-s.y,r[0].x-s.x),u={x:0,y:0};return e==="start_left"?(u.x=Math.sin(c+Math.PI)*l+(r[0].x+s.x)/2,u.y=-Math.cos(c+Math.PI)*l+(r[0].y+s.y)/2):e==="end_right"?(u.x=Math.sin(c-Math.PI)*l+(r[0].x+s.x)/2-5,u.y=-Math.cos(c-Math.PI)*l+(r[0].y+s.y)/2-5):e==="end_left"?(u.x=Math.sin(c)*l+(r[0].x+s.x)/2-5,u.y=-Math.cos(c)*l+(r[0].y+s.y)/2-5):(u.x=Math.sin(c)*l+(r[0].x+s.x)/2,u.y=-Math.cos(c)*l+(r[0].y+s.y)/2),u}M(yO,"calcTerminalLabelPosition");function xO(t){let e="",n="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":e=e+r+";");return{style:e,labelStyle:n}}M(xO,"getStylesFromArray");var zA=0,Yst=M(()=>(zA++,"id-"+Math.random().toString(36).substr(2,12)+"-"+zA),"generateId");function bO(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}M(bO,"makeRandomHex");var Gst=M(t=>bO(t.length),"random"),Xst=M(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),Zst=M(function(t,e){const n=e.text.replace(mc.lineBreakRegex," "),[,r]=xm(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",r),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(n),i},"drawSimpleText"),Kst=td((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),mc.lineBreakRegex.test(t)))return t;const r=t.split(" ").filter(Boolean),i=[];let s="";return r.forEach((l,c)=>{const u=ka(`${l} `,n),h=ka(s,n);if(u>e){const{hyphenatedStrings:m,remainingWord:y}=Qst(l,e,"-",n);i.push(s,...m),s=y}else h+u>=e?(i.push(s),s=l):s=[s,l].filter(Boolean).join(" ");c+1===r.length&&i.push(s)}),i.filter(l=>l!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),Qst=td((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=[...t],s=[];let l="";return i.forEach((c,u)=>{const h=`${l}${c}`;if(ka(h,r)>=e){const p=u+1,m=i.length===p,y=`${h}${n}`;s.push(m?h:y),l=""}else l=h}),{hyphenatedStrings:s,remainingWord:l}},(t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function vO(t,e){return S2(t,e).height}M(vO,"calculateTextHeight");function ka(t,e){return S2(t,e).width}M(ka,"calculateTextWidth");var S2=td((t,e)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,s]=xm(n),l=["sans-serif",r],c=t.split(mc.lineBreakRegex),u=[],h=qt("body");if(!h.remove)return{width:0,height:0,lineHeight:0};const f=h.append("svg");for(const m of l){let y=0;const x={width:0,height:0,lineHeight:0};for(const v of c){const S=Xst();S.text=v||Pst;const _=Zst(f,S).style("font-size",s).style("font-weight",i).style("font-family",m),E=(_._groups||_)[0][0].getBBox();if(E.width===0&&E.height===0)throw new Error("svg element not in render tree");x.width=Math.round(Math.max(x.width,E.width)),y=Math.round(E.height),x.height+=y,x.lineHeight=Math.round(Math.max(x.lineHeight,y))}u.push(x)}f.remove();const p=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[p]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),Gl,Jst=(Gl=class{constructor(e=!1,n){this.count=0,this.count=n?n.length:0,this.next=e?()=>this.count++:()=>Date.now()}},M(Gl,"InitIDGenerator"),Gl),Yf,tot=M(function(t){return Yf=Yf||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Yf.innerHTML=t,unescape(Yf.textContent)},"entityDecode");function C2(t){return"str"in t}M(C2,"isDetailedError");var eot=M((t,e,n,r)=>{if(!r)return;const i=t.node()?.getBBox();i&&t.append("text").text(r).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-n).attr("class",e)},"insertTitle"),xm=M(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function _2(t,e){return zst({},t,e)}M(_2,"cleanAndMerge");var gi={assignWithDepth:bn,wrapLabel:Kst,calculateTextHeight:vO,calculateTextWidth:ka,calculateTextDimensions:S2,cleanAndMerge:_2,detectInit:Hst,detectDirective:fO,isSubstringInArray:qst,interpolateToCurve:b2,calcLabelPosition:mO,calcCardinalityPosition:Wst,calcTerminalLabelPosition:yO,formatUrl:pO,getStylesFromArray:xO,generateId:Yst,random:Gst,runFunc:Ust,entityDecode:tot,insertTitle:eot,isLabelCoordinateInPath:wO,parseFontSize:xm,InitIDGenerator:Jst},not=M(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?""+r+"":""+r+""}),e},"encodeEntities"),No=M(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),dft=M((t,e,{counter:n=0,prefix:r,suffix:i},s)=>s||`${r?`${r}_`:""}${t}_${e}_${n}${i?`_${i}`:""}`,"getEdgeId");function Yn(t){return t??null}M(Yn,"handleUndefinedAttr");function wO(t,e){const n=Math.round(t.x),r=Math.round(t.y),i=e.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(n.toString())||i.includes(r.toString())}M(wO,"isLabelCoordinateInPath");const rot=Object.freeze({left:0,top:0,width:16,height:16}),yg=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),SO=Object.freeze({...rot,...yg}),iot=Object.freeze({...SO,body:"",hidden:!1}),aot=Object.freeze({width:null,height:null}),sot=Object.freeze({...aot,...yg}),oot=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const c=i.pop(),u=i.pop(),h={provider:i.length>0?i[0]:r,prefix:u,name:c};return Gx(h)?h:null}const s=i[0],l=s.split("-");if(l.length>1){const c={provider:r,prefix:l.shift(),name:l.join("-")};return Gx(c)?c:null}if(n&&r===""){const c={provider:r,prefix:"",name:s};return Gx(c,n)?c:null}return null},Gx=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function lot(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function PA(t,e){const n=lot(t,e);for(const r in iot)r in yg?r in t&&!(r in n)&&(n[r]=yg[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function cot(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(l){if(n[l])return i[l]=[];if(!(l in i)){i[l]=null;const c=r[l]&&r[l].parent,u=c&&s(c);u&&(i[l]=[c].concat(u))}return i[l]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function FA(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function l(c){s=PA(r[c]||i[c],s)}return l(e),n.forEach(l),PA(t,s)}function uot(t,e){if(t.icons[e])return FA(t,e,[]);const n=cot(t,[e])[e];return n?FA(t,e,n):null}const hot=/(-?[0-9.]*[0-9]+[0-9.]*)/g,dot=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function IA(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(hot);if(r===null||!r.length)return t;const i=[];let s=r.shift(),l=dot.test(s);for(;;){if(l){const c=parseFloat(s);isNaN(c)?i.push(s):i.push(Math.ceil(c*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");l=!l}}function fot(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const l=t.indexOf(">",s);if(l===-1)break;n+=t.slice(i+1,s).trim(),t=t.slice(0,r).trim()+t.slice(l+1)}return{defs:n,content:t}}function pot(t,e){return t?"<defs>"+t+"</defs>"+e:e}function got(t,e,n){const r=fot(t);return pot(r.defs,e+r.content+n)}const mot=t=>t==="unset"||t==="undefined"||t==="none";function yot(t,e){const n={...SO,...t},r={...sot,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(v=>{const S=[],_=v.hFlip,E=v.vFlip;let T=v.rotate;_?E?T+=2:(S.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),S.push("scale(-1 1)"),i.top=i.left=0):E&&(S.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),S.push("scale(1 -1)"),i.top=i.left=0);let A;switch(T<0&&(T-=Math.floor(T/4)*4),T=T%4,T){case 1:A=i.height/2+i.top,S.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:S.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:A=i.width/2+i.left,S.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}T%2===1&&(i.left!==i.top&&(A=i.left,i.left=i.top,i.top=A),i.width!==i.height&&(A=i.width,i.width=i.height,i.height=A)),S.length&&(s=got(s,'<g transform="'+S.join(" ")+'">',"</g>"))});const l=r.width,c=r.height,u=i.width,h=i.height;let f,p;l===null?(p=c===null?"1em":c==="auto"?h:c,f=IA(p,u/h)):(f=l==="auto"?u:l,p=c===null?IA(f,h/u):c==="auto"?h:c);const m={},y=(v,S)=>{mot(S)||(m[v]=S.toString())};y("width",f),y("height",p);const x=[i.left,i.top,u,h];return m.viewBox=x.join(" "),{attributes:m,viewBox:x,body:s}}const xot=/\sid="(\S+)"/g,HA=new Map;function bot(t){t=t.replace(/[0-9]+$/,"")||"a";const e=HA.get(t)||0;return HA.set(t,e+1),e?`${t}${e}`:t}function vot(t){const e=[];let n;for(;n=xot.exec(t);)e.push(n[1]);if(!e.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(i=>{const s=bot(i),l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+s+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}function wot(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function T2(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Lo=T2();function CO(t){Lo=t}var Ju={exec:()=>null};function he(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let l=typeof s=="string"?s:s.source;return l=l.replace(rr.caret,"$1"),n=n.replace(i,l),r},getRegex:()=>new RegExp(n,e)};return r}var Sot=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),rr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Cot=/^(?:[ \t]*(?:\n|$))+/,_ot=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Tot=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,nd=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,kot=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,k2=/(?:[*+-]|\d{1,9}[.)])/,_O=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,TO=he(_O).replace(/bull/g,k2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Eot=he(_O).replace(/bull/g,k2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),E2=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Aot=/^[^\n]+/,A2=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Mot=he(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",A2).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Dot=he(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,k2).getRegex(),bm="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",M2=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Not=he("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",M2).replace("tag",bm).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),kO=he(E2).replace("hr",nd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bm).getRegex(),Lot=he(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",kO).getRegex(),D2={blockquote:Lot,code:_ot,def:Mot,fences:Tot,heading:kot,hr:nd,html:Not,lheading:TO,list:Dot,newline:Cot,paragraph:kO,table:Ju,text:Aot},VA=he("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",nd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bm).getRegex(),Bot={...D2,lheading:Eot,table:VA,paragraph:he(E2).replace("hr",nd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",VA).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bm).getRegex()},Rot={...D2,html:he(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",M2).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ju,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:he(E2).replace("hr",nd).replace("heading",` *#{1,6} *[^
]`).replace("lheading",TO).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Oot=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,jot=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,EO=/^( {2,}|\\)\n(?!\s*$)/,$ot=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,vm=/[\p{P}\p{S}]/u,N2=/[\s\p{P}\p{S}]/u,AO=/[^\s\p{P}\p{S}]/u,zot=he(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,N2).getRegex(),MO=/(?!~)[\p{P}\p{S}]/u,Pot=/(?!~)[\s\p{P}\p{S}]/u,Fot=/(?:[^\s\p{P}\p{S}]|~)/u,Iot=he(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Sot?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),DO=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Hot=he(DO,"u").replace(/punct/g,vm).getRegex(),Vot=he(DO,"u").replace(/punct/g,MO).getRegex(),NO="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",qot=he(NO,"gu").replace(/notPunctSpace/g,AO).replace(/punctSpace/g,N2).replace(/punct/g,vm).getRegex(),Uot=he(NO,"gu").replace(/notPunctSpace/g,Fot).replace(/punctSpace/g,Pot).replace(/punct/g,MO).getRegex(),Wot=he("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,AO).replace(/punctSpace/g,N2).replace(/punct/g,vm).getRegex(),Yot=he(/\\(punct)/,"gu").replace(/punct/g,vm).getRegex(),Got=he(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Xot=he(M2).replace("(?:-->|$)","-->").getRegex(),Zot=he("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Xot).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),xg=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Kot=he(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",xg).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),LO=he(/^!?\[(label)\]\[(ref)\]/).replace("label",xg).replace("ref",A2).getRegex(),BO=he(/^!?\[(ref)\](?:\[\])?/).replace("ref",A2).getRegex(),Qot=he("reflink|nolink(?!\\()","g").replace("reflink",LO).replace("nolink",BO).getRegex(),qA=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,L2={_backpedal:Ju,anyPunctuation:Yot,autolink:Got,blockSkip:Iot,br:EO,code:jot,del:Ju,emStrongLDelim:Hot,emStrongRDelimAst:qot,emStrongRDelimUnd:Wot,escape:Oot,link:Kot,nolink:BO,punctuation:zot,reflink:LO,reflinkSearch:Qot,tag:Zot,text:$ot,url:Ju},Jot={...L2,link:he(/^!?\[(label)\]\((.*?)\)/).replace("label",xg).getRegex(),reflink:he(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xg).getRegex()},vv={...L2,emStrongRDelimAst:Uot,emStrongLDelim:Vot,url:he(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",qA).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:he(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",qA).getRegex()},tlt={...vv,br:he(EO).replace("{2,}","*").getRegex(),text:he(vv.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Gf={normal:D2,gfm:Bot,pedantic:Rot},Cu={normal:L2,gfm:vv,breaks:tlt,pedantic:Jot},elt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},UA=t=>elt[t];function Bi(t,e){if(e){if(rr.escapeTest.test(t))return t.replace(rr.escapeReplace,UA)}else if(rr.escapeTestNoEncode.test(t))return t.replace(rr.escapeReplaceNoEncode,UA);return t}function WA(t){try{t=encodeURI(t).replace(rr.percentDecode,"%")}catch{return null}return t}function YA(t,e){let n=t.replace(rr.findPipe,(s,l,c)=>{let u=!1,h=l;for(;--h>=0&&c[h]==="\\";)u=!u;return u?"|":" |"}),r=n.split(rr.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(rr.slashPipe,"|");return r}function _u(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function nlt(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function GA(t,e,n,r,i){let s=e.href,l=e.title||null,c=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:l,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,u}function rlt(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let l=s.match(n.other.beginningSpace);if(l===null)return s;let[c]=l;return c.length>=i.length?s.slice(i.length):s}).join(`
`)}var bg=class{options;rules;lexer;constructor(e){this.options=e||Lo}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:_u(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=rlt(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=_u(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:_u(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=_u(n[0],`
`).split(`
`),i="",s="",l=[];for(;r.length>0;){let c=!1,u=[],h;for(h=0;h<r.length;h++)if(this.rules.other.blockquoteStart.test(r[h]))u.push(r[h]),c=!0;else if(!c)u.push(r[h]);else break;r=r.slice(h);let f=u.join(`
`),p=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${f}`:f,s=s?`${s}
${p}`:p;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,l,!0),this.lexer.state.top=m,r.length===0)break;let y=l.at(-1);if(y?.type==="code")break;if(y?.type==="blockquote"){let x=y,v=x.raw+`
`+r.join(`
`),S=this.blockquote(v);l[l.length-1]=S,i=i.substring(0,i.length-x.raw.length)+S.raw,s=s.substring(0,s.length-x.text.length)+S.text;break}else if(y?.type==="list"){let x=y,v=x.raw+`
`+r.join(`
`),S=this.list(v);l[l.length-1]=S,i=i.substring(0,i.length-y.raw.length)+S.raw,s=s.substring(0,s.length-x.raw.length)+S.raw,r=v.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:l,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let l=this.rules.other.listItemRegex(r),c=!1;for(;e;){let h=!1,f="",p="";if(!(n=l.exec(e))||this.rules.block.hr.test(e))break;f=n[0],e=e.substring(f.length);let m=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),y=e.split(`
`,1)[0],x=!m.trim(),v=0;if(this.options.pedantic?(v=2,p=m.trimStart()):x?v=n[1].length+1:(v=n[2].search(this.rules.other.nonSpaceChar),v=v>4?1:v,p=m.slice(v),v+=n[1].length),x&&this.rules.other.blankLine.test(y)&&(f+=y+`
`,e=e.substring(y.length+1),h=!0),!h){let E=this.rules.other.nextBulletRegex(v),T=this.rules.other.hrRegex(v),A=this.rules.other.fencesBeginRegex(v),D=this.rules.other.headingBeginRegex(v),B=this.rules.other.htmlBeginRegex(v);for(;e;){let L=e.split(`
`,1)[0],z;if(y=L,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),z=y):z=y.replace(this.rules.other.tabCharGlobal,"    "),A.test(y)||D.test(y)||B.test(y)||E.test(y)||T.test(y))break;if(z.search(this.rules.other.nonSpaceChar)>=v||!y.trim())p+=`
`+z.slice(v);else{if(x||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(m)||D.test(m)||T.test(m))break;p+=`
`+y}!x&&!y.trim()&&(x=!0),f+=L+`
`,e=e.substring(L.length+1),m=z.slice(v)}}s.loose||(c?s.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(c=!0));let S=null,_;this.options.gfm&&(S=this.rules.other.listIsTask.exec(p),S&&(_=S[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:f,task:!!S,checked:_,loose:!1,text:p,tokens:[]}),s.raw+=f}let u=s.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let h=0;h<s.items.length;h++)if(this.lexer.state.top=!1,s.items[h].tokens=this.lexer.blockTokens(s.items[h].text,[]),!s.loose){let f=s.items[h].tokens.filter(m=>m.type==="space"),p=f.length>0&&f.some(m=>this.rules.other.anyLine.test(m.raw));s.loose=p}if(s.loose)for(let h=0;h<s.items.length;h++)s.items[h].loose=!0;return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=YA(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let c of i)this.rules.other.tableAlignRight.test(c)?l.align.push("right"):this.rules.other.tableAlignCenter.test(c)?l.align.push("center"):this.rules.other.tableAlignLeft.test(c)?l.align.push("left"):l.align.push(null);for(let c=0;c<r.length;c++)l.header.push({text:r[c],tokens:this.lexer.inline(r[c]),header:!0,align:l.align[c]});for(let c of s)l.rows.push(YA(c,l.header.length).map((u,h)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:l.align[h]})));return l}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let l=_u(r.slice(0,-1),"\\");if((r.length-l.length)%2===0)return}else{let l=nlt(n[2],"()");if(l===-2)return;if(l>-1){let c=(n[0].indexOf("!")===0?5:4)+n[1].length+l;n[2]=n[2].substring(0,l),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let l=this.rules.other.pedanticHrefTitle.exec(i);l&&(i=l[1],s=l[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),GA(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){let l=r[0].charAt(0);return{type:"text",raw:l,text:l}}return GA(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,l,c,u=s,h=0,f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,n=n.slice(-1*e.length+s);(i=f.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(c=[...l].length,i[3]||i[4]){u+=c;continue}else if((i[5]||i[6])&&s%3&&!((s+c)%3)){h+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+h);let p=[...i[0]][0].length,m=e.slice(0,s+i.index+p+c);if(Math.min(s,c)%2){let x=m.slice(1,-1);return{type:"em",raw:m,text:x,tokens:this.lexer.inlineTokens(x)}}let y=m.slice(2,-2);return{type:"strong",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=n[0],i="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);r=n[0],n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},di=class wv{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Lo,this.options.tokenizer=this.options.tokenizer||new bg,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:rr,block:Gf.normal,inline:Cu.normal};this.options.pedantic?(n.block=Gf.pedantic,n.inline=Cu.pedantic):this.options.gfm&&(n.block=Gf.gfm,this.options.breaks?n.inline=Cu.breaks:n.inline=Cu.gfm),this.tokenizer.rules=n}static get rules(){return{block:Gf,inline:Cu}}static lex(e,n){return new wv(n).lex(e)}static lexInline(e,n){return new wv(n).inlineTokens(e)}lex(e){e=e.replace(rr.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(rr.tabCharGlobal,"    ").replace(rr.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(l=>(i=l.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let l=n.at(-1);i.raw.length===1&&l!==void 0?l.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let l=n.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.text,this.inlineQueue.at(-1).src=l.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let l=n.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},n.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let l=1/0,c=e.slice(1),u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},c),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(s=e.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let l=n.at(-1);r&&l?.type==="paragraph"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(i),r=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let l=n.at(-1);l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+i.raw,l.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(i);continue}if(e){let l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,i=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=i[2]?i[2].length:0,r=r.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let l=!1,c="";for(;e;){l||(c=""),l=!1;let u;if(this.options.extensions?.inline?.some(f=>(u=f.call({lexer:this},e,n))?(e=e.substring(u.raw.length),n.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);let f=n.at(-1);u.type==="text"&&f?.type==="text"?(f.raw+=u.raw,f.text+=u.text):n.push(u);continue}if(u=this.tokenizer.emStrong(e,r,c)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),n.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),n.push(u);continue}let h=e;if(this.options.extensions?.startInline){let f=1/0,p=e.slice(1),m;this.options.extensions.startInline.forEach(y=>{m=y.call({lexer:this},p),typeof m=="number"&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(h=e.substring(0,f+1))}if(u=this.tokenizer.inlineText(h)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(c=u.raw.slice(-1)),l=!0;let f=n.at(-1);f?.type==="text"?(f.raw+=u.raw,f.text+=u.text):n.push(u);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}},vg=class{options;parser;constructor(e){this.options=e||Lo}space(e){return""}code({text:e,lang:n,escaped:r}){let i=(n||"").match(rr.notSpaceStart)?.[0],s=e.replace(rr.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Bi(i)+'">'+(r?s:Bi(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:Bi(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,r=e.start,i="";for(let c=0;c<e.items.length;c++){let u=e.items[c];i+=this.listitem(u)}let s=n?"ol":"ul",l=n&&r!==1?' start="'+r+'"':"";return"<"+s+l+`>
`+i+"</"+s+`>
`}listitem(e){let n="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Bi(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){let l=e.rows[s];r="";for(let c=0;c<l.length;c++)r+=this.tablecell(l[c]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Bi(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){let i=this.parser.parseInline(r),s=WA(e);if(s===null)return i;e=s;let l='<a href="'+e+'"';return n&&(l+=' title="'+Bi(n)+'"'),l+=">"+i+"</a>",l}image({href:e,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let s=WA(e);if(s===null)return Bi(r);e=s;let l=`<img src="${e}" alt="${r}"`;return n&&(l+=` title="${Bi(n)}"`),l+=">",l}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Bi(e.text)}},B2=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},fi=class Sv{options;renderer;textRenderer;constructor(e){this.options=e||Lo,this.options.renderer=this.options.renderer||new vg,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new B2}static parse(e,n){return new Sv(n).parse(e)}static parseInline(e,n){return new Sv(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let c=s,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=u||"";continue}}let l=s;switch(l.type){case"space":{r+=this.renderer.space(l);continue}case"hr":{r+=this.renderer.hr(l);continue}case"heading":{r+=this.renderer.heading(l);continue}case"code":{r+=this.renderer.code(l);continue}case"table":{r+=this.renderer.table(l);continue}case"blockquote":{r+=this.renderer.blockquote(l);continue}case"list":{r+=this.renderer.list(l);continue}case"html":{r+=this.renderer.html(l);continue}case"def":{r+=this.renderer.def(l);continue}case"paragraph":{r+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;i+1<e.length&&e[i+1].type==="text";)c=e[++i],u+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){let r="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let c=this.options.extensions.renderers[s.type].call({parser:this},s);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=c||"";continue}}let l=s;switch(l.type){case"escape":{r+=n.text(l);break}case"html":{r+=n.html(l);break}case"link":{r+=n.link(l);break}case"image":{r+=n.image(l);break}case"strong":{r+=n.strong(l);break}case"em":{r+=n.em(l);break}case"codespan":{r+=n.codespan(l);break}case"br":{r+=n.br(l);break}case"del":{r+=n.del(l);break}case"text":{r+=n.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Ru=class{options;block;constructor(e){this.options=e||Lo}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?di.lex:di.lexInline}provideParser(){return this.block?fi.parse:fi.parseInline}},ilt=class{defaults=T2();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=fi;Renderer=vg;TextRenderer=B2;Lexer=di;Tokenizer=bg;Hooks=Ru;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(let i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{let s=i;for(let l of s.header)r=r.concat(this.walkTokens(l.tokens,n));for(let l of s.rows)for(let c of l)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{let s=i;r=r.concat(this.walkTokens(s.items,n));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(l=>{let c=s[l].flat(1/0);r=r.concat(this.walkTokens(c,n))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let l=n.renderers[s.name];l?n.renderers[s.name]=function(...c){let u=s.renderer.apply(this,c);return u===!1&&(u=l.apply(this,c)),u}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let l=n[s.level];l?l.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){let s=this.defaults.renderer||new vg(this.defaults);for(let l in r.renderer){if(!(l in s))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;let c=l,u=r.renderer[c],h=s[c];s[c]=(...f)=>{let p=u.apply(s,f);return p===!1&&(p=h.apply(s,f)),p||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new bg(this.defaults);for(let l in r.tokenizer){if(!(l in s))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;let c=l,u=r.tokenizer[c],h=s[c];s[c]=(...f)=>{let p=u.apply(s,f);return p===!1&&(p=h.apply(s,f)),p}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new Ru;for(let l in r.hooks){if(!(l in s))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;let c=l,u=r.hooks[c],h=s[c];Ru.passThroughHooks.has(l)?s[c]=f=>{if(this.defaults.async&&Ru.passThroughHooksRespectAsync.has(l))return(async()=>{let m=await u.call(s,f);return h.call(s,m)})();let p=u.call(s,f);return h.call(s,p)}:s[c]=(...f)=>{if(this.defaults.async)return(async()=>{let m=await u.apply(s,f);return m===!1&&(m=await h.apply(s,f)),m})();let p=u.apply(s,f);return p===!1&&(p=h.apply(s,f)),p}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,l=r.walkTokens;i.walkTokens=function(c){let u=[];return u.push(l.call(this,c)),s&&(u=u.concat(s.call(this,c))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return di.lex(e,n??this.defaults)}parser(e,n){return fi.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},l=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let c=s.hooks?await s.hooks.preprocess(n):n,u=await(s.hooks?await s.hooks.provideLexer():e?di.lex:di.lexInline)(c,s),h=s.hooks?await s.hooks.processAllTokens(u):u;s.walkTokens&&await Promise.all(this.walkTokens(h,s.walkTokens));let f=await(s.hooks?await s.hooks.provideParser():e?fi.parse:fi.parseInline)(h,s);return s.hooks?await s.hooks.postprocess(f):f})().catch(l);try{s.hooks&&(n=s.hooks.preprocess(n));let c=(s.hooks?s.hooks.provideLexer():e?di.lex:di.lexInline)(n,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let u=(s.hooks?s.hooks.provideParser():e?fi.parse:fi.parseInline)(c,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(c){return l(c)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+Bi(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},To=new ilt;function ge(t,e){return To.parse(t,e)}ge.options=ge.setOptions=function(t){return To.setOptions(t),ge.defaults=To.defaults,CO(ge.defaults),ge};ge.getDefaults=T2;ge.defaults=Lo;ge.use=function(...t){return To.use(...t),ge.defaults=To.defaults,CO(ge.defaults),ge};ge.walkTokens=function(t,e){return To.walkTokens(t,e)};ge.parseInline=To.parseInline;ge.Parser=fi;ge.parser=fi.parse;ge.Renderer=vg;ge.TextRenderer=B2;ge.Lexer=di;ge.lexer=di.lex;ge.Tokenizer=bg;ge.Hooks=Ru;ge.parse=ge;ge.options;ge.setOptions;ge.use;ge.walkTokens;ge.parseInline;fi.parse;di.lex;function RO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(c,u){var h=u.match(/\n([\t ]+|(?!\s).)/g);return h?c.concat(h.map(function(f){var p,m;return(m=(p=f.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0})):c},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(c){return c.replace(s,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var l=r[0];return e.forEach(function(c,u){var h=l.match(/(?:^|\n)( *)$/),f=h?h[1]:"",p=c;typeof c=="string"&&c.includes(`
`)&&(p=String(c).split(`
`).map(function(m,y){return y===0?m:""+f+m}).join(`
`)),l+=p+r[u+1]}),l}var alt={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Cv=new Map,OO=new Map,slt=M(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(mt.debug("Registering icon pack:",e.name),"loader"in e)OO.set(e.name,e.loader);else if("icons"in e)Cv.set(e.name,e.icons);else throw mt.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),jO=M(async(t,e)=>{const n=oot(t,!0,e!==void 0);if(!n)throw new Error(`Invalid icon name: ${t}`);const r=n.prefix||e;if(!r)throw new Error(`Icon name must contain a prefix: ${t}`);let i=Cv.get(r);if(!i){const l=OO.get(r);if(!l)throw new Error(`Icon set not found: ${n.prefix}`);try{i={...await l(),prefix:r},Cv.set(r,i)}catch(c){throw mt.error(c),new Error(`Failed to load icon set: ${n.prefix}`)}}const s=uot(i,n.name);if(!s)throw new Error(`Icon not found: ${t}`);return s},"getRegisteredIconData"),olt=M(async t=>{try{return await jO(t),!0}catch{return!1}},"isIconAvailable"),rd=M(async(t,e,n)=>{let r;try{r=await jO(t,e?.fallbackPrefix)}catch(l){mt.error(l),r=alt}const i=yot(r,e),s=wot(vot(i.body),{...i.attributes,...n});return ti(s,Un())},"getIconSVG");function $O(t,{markdownAutoWrap:e}){const r=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=RO(r);return e===!1?i.replace(/ /g,"&nbsp;"):i}M($O,"preprocessMarkdown");function zO(t,e={}){const n=$O(t,e),r=ge.lexer(n),i=[[]];let s=0;function l(c,u="normal"){c.type==="text"?c.text.split(`
`).forEach((f,p)=>{p!==0&&(s++,i.push([])),f.split(" ").forEach(m=>{m=m.replace(/&#39;/g,"'"),m&&i[s].push({content:m,type:u})})}):c.type==="strong"||c.type==="em"?c.tokens.forEach(h=>{l(h,c.type)}):c.type==="html"&&i[s].push({content:c.text,type:"normal"})}return M(l,"processNode"),r.forEach(c=>{c.type==="paragraph"?c.tokens?.forEach(u=>{l(u)}):c.type==="html"?i[s].push({content:c.text,type:"normal"}):i[s].push({content:c.raw,type:"normal"})}),i}M(zO,"markdownToLines");function PO(t,{markdownAutoWrap:e}={}){const n=ge.lexer(t);function r(i){return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${i.tokens?.map(r).join("")}</strong>`:i.type==="em"?`<em>${i.tokens?.map(r).join("")}</em>`:i.type==="paragraph"?`<p>${i.tokens?.map(r).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(mt.warn(`Unsupported markdown: ${i.type}`),i.raw)}return M(r,"output"),n.map(r).join("")}M(PO,"markdownToHTML");function FO(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}M(FO,"splitTextToChars");function IO(t,e){const n=FO(e.content);return R2(t,[],n,e.type)}M(IO,"splitWordToFitWidth");function R2(t,e,n,r){if(n.length===0)return[{content:e.join(""),type:r},{content:"",type:r}];const[i,...s]=n,l=[...e,i];return t([{content:l.join(""),type:r}])?R2(t,l,s,r):(e.length===0&&i&&(e.push(i),n.shift()),[{content:e.join(""),type:r},{content:n.join(""),type:r}])}M(R2,"splitWordToFitWidthRecursion");function HO(t,e){if(t.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return wg(t,e)}M(HO,"splitLineToFitWidth");function wg(t,e,n=[],r=[]){if(t.length===0)return r.length>0&&n.push(r),n.length>0?n:[];let i="";t[0].content===" "&&(i=" ",t.shift());const s=t.shift()??{content:" ",type:"normal"},l=[...r];if(i!==""&&l.push({content:i,type:"normal"}),l.push(s),e(l))return wg(t,e,n,l);if(r.length>0)n.push(r),t.unshift(s);else if(s.content){const[c,u]=IO(e,s);n.push([c]),u.content&&t.unshift(u)}return wg(t,e,n)}M(wg,"splitLineToFitWidthRecursion");function _v(t,e){e&&t.attr("style",e)}M(_v,"applyStyle");async function VO(t,e,n,r,i=!1,s=Un()){const l=t.append("foreignObject");l.attr("width",`${10*n}px`),l.attr("height",`${10*n}px`);const c=l.append("xhtml:div"),u=ac(e.label)?await Z1(e.label.replace(mc.lineBreakRegex,`
`),s):ti(e.label,s),h=e.isNode?"nodeLabel":"edgeLabel",f=c.append("span");f.html(u),_v(f,e.labelStyle),f.attr("class",`${h} ${r}`),_v(c,e.labelStyle),c.style("display","table-cell"),c.style("white-space","nowrap"),c.style("line-height","1.5"),c.style("max-width",n+"px"),c.style("text-align","center"),c.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&c.attr("class","labelBkg");let p=c.node().getBoundingClientRect();return p.width===n&&(c.style("display","table"),c.style("white-space","break-spaces"),c.style("width",n+"px"),p=c.node().getBoundingClientRect()),l.node()}M(VO,"addHtmlSpan");function wm(t,e,n){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*n-.1+"em").attr("dy",n+"em")}M(wm,"createTspan");function qO(t,e,n){const r=t.append("text"),i=wm(r,1,e);Sm(i,n);const s=i.node().getComputedTextLength();return r.remove(),s}M(qO,"computeWidthOfText");function llt(t,e,n){const r=t.append("text"),i=wm(r,1,e);Sm(i,[{content:n,type:"normal"}]);const s=i.node()?.getBoundingClientRect();return s&&r.remove(),s}M(llt,"computeDimensionOfText");function UO(t,e,n,r=!1){const s=e.append("g"),l=s.insert("rect").attr("class","background").attr("style","stroke: none"),c=s.append("text").attr("y","-10.1");let u=0;for(const h of n){const f=M(m=>qO(s,1.1,m)<=t,"checkWidth"),p=f(h)?[h]:HO(h,f);for(const m of p){const y=wm(c,u,1.1);Sm(y,m),u++}}if(r){const h=c.node().getBBox(),f=2;return l.attr("x",h.x-f).attr("y",h.y-f).attr("width",h.width+2*f).attr("height",h.height+2*f),s.node()}else return c.node()}M(UO,"createFormattedText");function Sm(t,e){t.text(""),e.forEach((n,r)=>{const i=t.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");r===0?i.text(n.content):i.text(" "+n.content)})}M(Sm,"updateTextContentAndStyles");async function WO(t,e={}){const n=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,l)=>(n.push((async()=>{const c=`${s}:${l}`;return await olt(c)?await rd(c,void 0,{class:"label-icon"}):`<i class='${ti(i,e).replace(":"," ")}'></i>`})()),i));const r=await Promise.all(n);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>r.shift()??"")}M(WO,"replaceIconSubstring");var Es=M(async(t,e="",{style:n="",isTitle:r=!1,classes:i="",useHtmlLabels:s=!0,isNode:l=!0,width:c=200,addSvgBackground:u=!1}={},h)=>{if(mt.debug("XYZ createText",e,n,r,i,s,l,"addSvgBackground: ",u),s){const f=PO(e,h),p=await WO(No(f),h),m=e.replace(/\\\\/g,"\\"),y={isNode:l,label:ac(e)?m:p,labelStyle:n.replace("fill:","color:")};return await VO(t,y,c,i,u,h)}else{const f=e.replace(/<br\s*\/?>/g,"<br/>"),p=zO(f.replace("<br>","<br/>"),h),m=UO(c,t,p,e?u:!1);if(l){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const y=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");qt(m).attr("style",y)}else{const y=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");qt(m).select("rect").attr("style",y.replace(/background:/g,"fill:"));const x=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");qt(m).select("text").attr("style",x)}return m}},"createText");function Xx(t,e,n){if(t&&t.length){const[r,i]=e,s=Math.PI/180*n,l=Math.cos(s),c=Math.sin(s);for(const u of t){const[h,f]=u;u[0]=(h-r)*l-(f-i)*c+r,u[1]=(h-r)*c+(f-i)*l+i}}}function clt(t,e){return t[0]===e[0]&&t[1]===e[1]}function ult(t,e,n,r=1){const i=n,s=Math.max(e,.1),l=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,c=[0,0];if(i)for(const h of l)Xx(h,c,i);const u=(function(h,f,p){const m=[];for(const E of h){const T=[...E];clt(T[0],T[T.length-1])||T.push([T[0][0],T[0][1]]),T.length>2&&m.push(T)}const y=[];f=Math.max(f,.1);const x=[];for(const E of m)for(let T=0;T<E.length-1;T++){const A=E[T],D=E[T+1];if(A[1]!==D[1]){const B=Math.min(A[1],D[1]);x.push({ymin:B,ymax:Math.max(A[1],D[1]),x:B===A[1]?A[0]:D[0],islope:(D[0]-A[0])/(D[1]-A[1])})}}if(x.sort(((E,T)=>E.ymin<T.ymin?-1:E.ymin>T.ymin?1:E.x<T.x?-1:E.x>T.x?1:E.ymax===T.ymax?0:(E.ymax-T.ymax)/Math.abs(E.ymax-T.ymax))),!x.length)return y;let v=[],S=x[0].ymin,_=0;for(;v.length||x.length;){if(x.length){let E=-1;for(let T=0;T<x.length&&!(x[T].ymin>S);T++)E=T;x.splice(0,E+1).forEach((T=>{v.push({s:S,edge:T})}))}if(v=v.filter((E=>!(E.edge.ymax<=S))),v.sort(((E,T)=>E.edge.x===T.edge.x?0:(E.edge.x-T.edge.x)/Math.abs(E.edge.x-T.edge.x))),(p!==1||_%f==0)&&v.length>1)for(let E=0;E<v.length;E+=2){const T=E+1;if(T>=v.length)break;const A=v[E].edge,D=v[T].edge;y.push([[Math.round(A.x),S],[Math.round(D.x),S]])}S+=p,v.forEach((E=>{E.edge.x=E.edge.x+p*E.edge.islope})),_++}return y})(l,s,r);if(i){for(const h of l)Xx(h,c,-i);(function(h,f,p){const m=[];h.forEach((y=>m.push(...y))),Xx(m,f,p)})(u,c,-i)}return u}function id(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=i),ult(t,i,r,s||1)}class O2{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=id(e,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}}function Cm(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class hlt extends O2{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=id(e,Object.assign({},n,{hachureGap:r})),s=Math.PI/180*n.hachureAngle,l=[],c=.5*r*Math.cos(s),u=.5*r*Math.sin(s);for(const[h,f]of i)Cm([h,f])&&l.push([[h[0]-c,h[1]+u],[...f]],[[h[0]+c,h[1]-u],[...f]]);return{type:"fillSketch",ops:this.renderLines(l,n)}}}class dlt extends O2{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,i);return r.ops=r.ops.concat(s.ops),r}}class flt{constructor(e){this.helper=e}fillPolygons(e,n){const r=id(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const l=i/4;for(const c of e){const u=Cm(c),h=u/i,f=Math.ceil(h)-1,p=u-f*i,m=(c[0][0]+c[1][0])/2-i/4,y=Math.min(c[0][1],c[1][1]);for(let x=0;x<f;x++){const v=y+p+x*i,S=m-l+2*Math.random()*l,_=v-l+2*Math.random()*l,E=this.helper.ellipse(S,_,s,s,n);r.push(...E.ops)}}return{type:"fillSketch",ops:r}}}class plt{constructor(e){this.helper=e}fillPolygons(e,n){const r=id(e,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return e.forEach((l=>{const c=Cm(l),u=Math.floor(c/(r+i)),h=(c+i-u*(r+i))/2;let f=l[0],p=l[1];f[0]>p[0]&&(f=l[1],p=l[0]);const m=Math.atan((p[1]-f[1])/(p[0]-f[0]));for(let y=0;y<u;y++){const x=y*(r+i),v=x+r,S=[f[0]+x*Math.cos(m)+h*Math.cos(m),f[1]+x*Math.sin(m)+h*Math.sin(m)],_=[f[0]+v*Math.cos(m)+h*Math.cos(m),f[1]+v*Math.sin(m)+h*Math.sin(m)];s.push(...this.helper.doubleLineOps(S[0],S[1],_[0],_[1],n))}})),s}}class glt{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,s=id(e,n=Object.assign({},n,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach((s=>{const l=Cm(s),c=Math.round(l/(2*n));let u=s[0],h=s[1];u[0]>h[0]&&(u=s[1],h=s[0]);const f=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let p=0;p<c;p++){const m=2*p*n,y=2*(p+1)*n,x=Math.sqrt(2*Math.pow(n,2)),v=[u[0]+m*Math.cos(f),u[1]+m*Math.sin(f)],S=[u[0]+y*Math.cos(f),u[1]+y*Math.sin(f)],_=[v[0]+x*Math.cos(f+Math.PI/4),v[1]+x*Math.sin(f+Math.PI/4)];i.push(...this.helper.doubleLineOps(v[0],v[1],_[0],_[1],r),...this.helper.doubleLineOps(_[0],_[1],S[0],S[1],r))}})),i}}const wr={};class mlt{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const ylt=0,Zx=1,XA=2,Xf={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Kx(t,e){return t.type===e}function j2(t){const e=[],n=(function(l){const c=new Array;for(;l!=="";)if(l.match(/^([ \t\r\n,]+)/))l=l.substr(RegExp.$1.length);else if(l.match(/^([aAcChHlLmMqQsStTvVzZ])/))c[c.length]={type:ylt,text:RegExp.$1},l=l.substr(RegExp.$1.length);else{if(!l.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];c[c.length]={type:Zx,text:`${parseFloat(RegExp.$1)}`},l=l.substr(RegExp.$1.length)}return c[c.length]={type:XA,text:""},c})(t);let r="BOD",i=0,s=n[i];for(;!Kx(s,XA);){let l=0;const c=[];if(r==="BOD"){if(s.text!=="M"&&s.text!=="m")return j2("M0,0"+t);i++,l=Xf[s.text],r=s.text}else Kx(s,Zx)?l=Xf[r]:(i++,l=Xf[s.text],r=s.text);if(!(i+l<n.length))throw new Error("Path data ended short");for(let u=i;u<i+l;u++){const h=n[u];if(!Kx(h,Zx))throw new Error("Param not a number: "+r+","+h.text);c[c.length]=+h.text}if(typeof Xf[r]!="number")throw new Error("Bad segment: "+r);{const u={key:r,data:c};e.push(u),i+=l,s=n[i],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function YO(t){let e=0,n=0,r=0,i=0;const s=[];for(const{key:l,data:c}of t)switch(l){case"M":s.push({key:"M",data:[...c]}),[e,n]=c,[r,i]=c;break;case"m":e+=c[0],n+=c[1],s.push({key:"M",data:[e,n]}),r=e,i=n;break;case"L":s.push({key:"L",data:[...c]}),[e,n]=c;break;case"l":e+=c[0],n+=c[1],s.push({key:"L",data:[e,n]});break;case"C":s.push({key:"C",data:[...c]}),e=c[4],n=c[5];break;case"c":{const u=c.map(((h,f)=>f%2?h+n:h+e));s.push({key:"C",data:u}),e=u[4],n=u[5];break}case"Q":s.push({key:"Q",data:[...c]}),e=c[2],n=c[3];break;case"q":{const u=c.map(((h,f)=>f%2?h+n:h+e));s.push({key:"Q",data:u}),e=u[2],n=u[3];break}case"A":s.push({key:"A",data:[...c]}),e=c[5],n=c[6];break;case"a":e+=c[5],n+=c[6],s.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],e,n]});break;case"H":s.push({key:"H",data:[...c]}),e=c[0];break;case"h":e+=c[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...c]}),n=c[0];break;case"v":n+=c[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...c]}),e=c[2],n=c[3];break;case"s":{const u=c.map(((h,f)=>f%2?h+n:h+e));s.push({key:"S",data:u}),e=u[2],n=u[3];break}case"T":s.push({key:"T",data:[...c]}),e=c[0],n=c[1];break;case"t":e+=c[0],n+=c[1],s.push({key:"T",data:[e,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=r,n=i}return s}function GO(t){const e=[];let n="",r=0,i=0,s=0,l=0,c=0,u=0;for(const{key:h,data:f}of t){switch(h){case"M":e.push({key:"M",data:[...f]}),[r,i]=f,[s,l]=f;break;case"C":e.push({key:"C",data:[...f]}),r=f[4],i=f[5],c=f[2],u=f[3];break;case"L":e.push({key:"L",data:[...f]}),[r,i]=f;break;case"H":r=f[0],e.push({key:"L",data:[r,i]});break;case"V":i=f[0],e.push({key:"L",data:[r,i]});break;case"S":{let p=0,m=0;n==="C"||n==="S"?(p=r+(r-c),m=i+(i-u)):(p=r,m=i),e.push({key:"C",data:[p,m,...f]}),c=f[0],u=f[1],r=f[2],i=f[3];break}case"T":{const[p,m]=f;let y=0,x=0;n==="Q"||n==="T"?(y=r+(r-c),x=i+(i-u)):(y=r,x=i);const v=r+2*(y-r)/3,S=i+2*(x-i)/3,_=p+2*(y-p)/3,E=m+2*(x-m)/3;e.push({key:"C",data:[v,S,_,E,p,m]}),c=y,u=x,r=p,i=m;break}case"Q":{const[p,m,y,x]=f,v=r+2*(p-r)/3,S=i+2*(m-i)/3,_=y+2*(p-y)/3,E=x+2*(m-x)/3;e.push({key:"C",data:[v,S,_,E,y,x]}),c=p,u=m,r=y,i=x;break}case"A":{const p=Math.abs(f[0]),m=Math.abs(f[1]),y=f[2],x=f[3],v=f[4],S=f[5],_=f[6];p===0||m===0?(e.push({key:"C",data:[r,i,S,_,S,_]}),r=S,i=_):(r!==S||i!==_)&&(XO(r,i,S,_,p,m,y,x,v).forEach((function(E){e.push({key:"C",data:E})})),r=S,i=_);break}case"Z":e.push({key:"Z",data:[]}),r=s,i=l}n=h}return e}function Tu(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function XO(t,e,n,r,i,s,l,c,u,h){const f=(p=l,Math.PI*p/180);var p;let m=[],y=0,x=0,v=0,S=0;if(h)[y,x,v,S]=h;else{[t,e]=Tu(t,e,-f),[n,r]=Tu(n,r,-f);const Z=(t-n)/2,$=(e-r)/2;let q=Z*Z/(i*i)+$*$/(s*s);q>1&&(q=Math.sqrt(q),i*=q,s*=q);const R=i*i,F=s*s,j=R*F-R*$*$-F*Z*Z,W=R*$*$+F*Z*Z,Q=(c===u?-1:1)*Math.sqrt(Math.abs(j/W));v=Q*i*$/s+(t+n)/2,S=Q*-s*Z/i+(e+r)/2,y=Math.asin(parseFloat(((e-S)/s).toFixed(9))),x=Math.asin(parseFloat(((r-S)/s).toFixed(9))),t<v&&(y=Math.PI-y),n<v&&(x=Math.PI-x),y<0&&(y=2*Math.PI+y),x<0&&(x=2*Math.PI+x),u&&y>x&&(y-=2*Math.PI),!u&&x>y&&(x-=2*Math.PI)}let _=x-y;if(Math.abs(_)>120*Math.PI/180){const Z=x,$=n,q=r;x=u&&x>y?y+120*Math.PI/180*1:y+120*Math.PI/180*-1,m=XO(n=v+i*Math.cos(x),r=S+s*Math.sin(x),$,q,i,s,l,0,u,[x,Z,v,S])}_=x-y;const E=Math.cos(y),T=Math.sin(y),A=Math.cos(x),D=Math.sin(x),B=Math.tan(_/4),L=4/3*i*B,z=4/3*s*B,V=[t,e],Y=[t+L*T,e-z*E],U=[n+L*D,r-z*A],X=[n,r];if(Y[0]=2*V[0]-Y[0],Y[1]=2*V[1]-Y[1],h)return[Y,U,X].concat(m);{m=[Y,U,X].concat(m);const Z=[];for(let $=0;$<m.length;$+=3){const q=Tu(m[$][0],m[$][1],f),R=Tu(m[$+1][0],m[$+1][1],f),F=Tu(m[$+2][0],m[$+2][1],f);Z.push([q[0],q[1],R[0],R[1],F[0],F[1]])}return Z}}const xlt={randOffset:function(t,e){return Ht(t,e)},randOffsetWithRange:function(t,e,n){return Sg(t,e,n)},ellipse:function(t,e,n,r,i){const s=KO(n,r,i);return Tv(t,e,i,s).opset},doubleLineOps:function(t,e,n,r,i){return Ss(t,e,n,r,i,!0)}};function ZO(t,e,n,r,i){return{type:"path",ops:Ss(t,e,n,r,i)}}function bp(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...Ss(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&i.push(...Ss(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:i}}return r===2?ZO(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function blt(t,e,n,r,i){return(function(s,l){return bp(s,!0,l)})([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function ZA(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,r=Zf(n[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:Zf(n[0],1.5*(1+.22*e.roughness),JA(e));for(let s=1;s<n.length;s++){const l=n[s];if(l.length){const c=Zf(l,1*(1+.2*e.roughness),e),u=e.disableMultiStroke?[]:Zf(l,1.5*(1+.22*e.roughness),JA(e));for(const h of c)h.op!=="move"&&r.push(h);for(const h of u)h.op!=="move"&&i.push(h)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function KO(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=2*Math.PI/i;let l=Math.abs(t/2),c=Math.abs(e/2);const u=1-n.curveFitting;return l+=Ht(l*u,n),c+=Ht(c*u,n),{increment:s,rx:l,ry:c}}function Tv(t,e,n,r){const[i,s]=tM(r.increment,t,e,r.rx,r.ry,1,r.increment*Sg(.1,Sg(.4,1,n),n),n);let l=Cg(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[c]=tM(r.increment,t,e,r.rx,r.ry,1.5,0,n),u=Cg(c,null,n);l=l.concat(u)}return{estimatedPoints:s,opset:{type:"path",ops:l}}}function KA(t,e,n,r,i,s,l,c,u){const h=t,f=e;let p=Math.abs(n/2),m=Math.abs(r/2);p+=Ht(.01*p,u),m+=Ht(.01*m,u);let y=i,x=s;for(;y<0;)y+=2*Math.PI,x+=2*Math.PI;x-y>2*Math.PI&&(y=0,x=2*Math.PI);const v=2*Math.PI/u.curveStepCount,S=Math.min(v/2,(x-y)/2),_=eM(S,h,f,p,m,y,x,1,u);if(!u.disableMultiStroke){const E=eM(S,h,f,p,m,y,x,1.5,u);_.push(...E)}return l&&(c?_.push(...Ss(h,f,h+p*Math.cos(y),f+m*Math.sin(y),u),...Ss(h,f,h+p*Math.cos(x),f+m*Math.sin(x),u)):_.push({op:"lineTo",data:[h,f]},{op:"lineTo",data:[h+p*Math.cos(y),f+m*Math.sin(y)]})),{type:"path",ops:_}}function QA(t,e){const n=GO(YO(j2(t))),r=[];let i=[0,0],s=[0,0];for(const{key:l,data:c}of n)switch(l){case"M":s=[c[0],c[1]],i=[c[0],c[1]];break;case"L":r.push(...Ss(s[0],s[1],c[0],c[1],e)),s=[c[0],c[1]];break;case"C":{const[u,h,f,p,m,y]=c;r.push(...vlt(u,h,f,p,m,y,s,e)),s=[m,y];break}case"Z":r.push(...Ss(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:r}}function Qx(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:"move",data:[r[0][0]+Ht(i,e),r[0][1]+Ht(i,e)]});for(let l=1;l<s;l++)n.push({op:"lineTo",data:[r[l][0]+Ht(i,e),r[l][1]+Ht(i,e)]})}}return{type:"fillPath",ops:n}}function wl(t,e){return(function(n,r){let i=n.fillStyle||"hachure";if(!wr[i])switch(i){case"zigzag":wr[i]||(wr[i]=new hlt(r));break;case"cross-hatch":wr[i]||(wr[i]=new dlt(r));break;case"dots":wr[i]||(wr[i]=new flt(r));break;case"dashed":wr[i]||(wr[i]=new plt(r));break;case"zigzag-line":wr[i]||(wr[i]=new glt(r));break;default:i="hachure",wr[i]||(wr[i]=new O2(r))}return wr[i]})(e,xlt).fillPolygons(t,e)}function JA(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function QO(t){return t.randomizer||(t.randomizer=new mlt(t.seed||0)),t.randomizer.next()}function Sg(t,e,n,r=1){return n.roughness*r*(QO(n)*(e-t)+t)}function Ht(t,e,n=1){return Sg(-t,t,e,n)}function Ss(t,e,n,r,i,s=!1){const l=s?i.disableMultiStrokeFill:i.disableMultiStroke,c=kv(t,e,n,r,i,!0,!1);if(l)return c;const u=kv(t,e,n,r,i,!0,!0);return c.concat(u)}function kv(t,e,n,r,i,s,l){const c=Math.pow(t-n,2)+Math.pow(e-r,2),u=Math.sqrt(c);let h=1;h=u<200?1:u>500?.4:-.0016668*u+1.233334;let f=i.maxRandomnessOffset||0;f*f*100>c&&(f=u/10);const p=f/2,m=.2+.2*QO(i);let y=i.bowing*i.maxRandomnessOffset*(r-e)/200,x=i.bowing*i.maxRandomnessOffset*(t-n)/200;y=Ht(y,i,h),x=Ht(x,i,h);const v=[],S=()=>Ht(p,i,h),_=()=>Ht(f,i,h),E=i.preserveVertices;return l?v.push({op:"move",data:[t+(E?0:S()),e+(E?0:S())]}):v.push({op:"move",data:[t+(E?0:Ht(f,i,h)),e+(E?0:Ht(f,i,h))]}),l?v.push({op:"bcurveTo",data:[y+t+(n-t)*m+S(),x+e+(r-e)*m+S(),y+t+2*(n-t)*m+S(),x+e+2*(r-e)*m+S(),n+(E?0:S()),r+(E?0:S())]}):v.push({op:"bcurveTo",data:[y+t+(n-t)*m+_(),x+e+(r-e)*m+_(),y+t+2*(n-t)*m+_(),x+e+2*(r-e)*m+_(),n+(E?0:_()),r+(E?0:_())]}),v}function Zf(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+Ht(e,n),t[0][1]+Ht(e,n)]),r.push([t[0][0]+Ht(e,n),t[0][1]+Ht(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+Ht(e,n),t[i][1]+Ht(e,n)]),i===t.length-1&&r.push([t[i][0]+Ht(e,n),t[i][1]+Ht(e,n)]);return Cg(r,null,n)}function Cg(t,e,n){const r=t.length,i=[];if(r>3){const s=[],l=1-n.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let c=1;c+2<r;c++){const u=t[c];s[0]=[u[0],u[1]],s[1]=[u[0]+(l*t[c+1][0]-l*t[c-1][0])/6,u[1]+(l*t[c+1][1]-l*t[c-1][1])/6],s[2]=[t[c+1][0]+(l*t[c][0]-l*t[c+2][0])/6,t[c+1][1]+(l*t[c][1]-l*t[c+2][1])/6],s[3]=[t[c+1][0],t[c+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...kv(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function tM(t,e,n,r,i,s,l,c){const u=[],h=[];if(c.roughness===0){t/=4,h.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let f=0;f<=2*Math.PI;f+=t){const p=[e+r*Math.cos(f),n+i*Math.sin(f)];u.push(p),h.push(p)}h.push([e+r*Math.cos(0),n+i*Math.sin(0)]),h.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const f=Ht(.5,c)-Math.PI/2;h.push([Ht(s,c)+e+.9*r*Math.cos(f-t),Ht(s,c)+n+.9*i*Math.sin(f-t)]);const p=2*Math.PI+f-.01;for(let m=f;m<p;m+=t){const y=[Ht(s,c)+e+r*Math.cos(m),Ht(s,c)+n+i*Math.sin(m)];u.push(y),h.push(y)}h.push([Ht(s,c)+e+r*Math.cos(f+2*Math.PI+.5*l),Ht(s,c)+n+i*Math.sin(f+2*Math.PI+.5*l)]),h.push([Ht(s,c)+e+.98*r*Math.cos(f+l),Ht(s,c)+n+.98*i*Math.sin(f+l)]),h.push([Ht(s,c)+e+.9*r*Math.cos(f+.5*l),Ht(s,c)+n+.9*i*Math.sin(f+.5*l)])}return[h,u]}function eM(t,e,n,r,i,s,l,c,u){const h=s+Ht(.1,u),f=[];f.push([Ht(c,u)+e+.9*r*Math.cos(h-t),Ht(c,u)+n+.9*i*Math.sin(h-t)]);for(let p=h;p<=l;p+=t)f.push([Ht(c,u)+e+r*Math.cos(p),Ht(c,u)+n+i*Math.sin(p)]);return f.push([e+r*Math.cos(l),n+i*Math.sin(l)]),f.push([e+r*Math.cos(l),n+i*Math.sin(l)]),Cg(f,null,u)}function vlt(t,e,n,r,i,s,l,c){const u=[],h=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3];let f=[0,0];const p=c.disableMultiStroke?1:2,m=c.preserveVertices;for(let y=0;y<p;y++)y===0?u.push({op:"move",data:[l[0],l[1]]}):u.push({op:"move",data:[l[0]+(m?0:Ht(h[0],c)),l[1]+(m?0:Ht(h[0],c))]}),f=m?[i,s]:[i+Ht(h[y],c),s+Ht(h[y],c)],u.push({op:"bcurveTo",data:[t+Ht(h[y],c),e+Ht(h[y],c),n+Ht(h[y],c),r+Ht(h[y],c),f[0],f[1]]});return u}function ku(t){return[...t]}function nM(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(ku(t[0]),ku(t[1]),ku(t[2]),ku(t[2]));else{const i=[];i.push(t[0],t[0]);for(let c=1;c<t.length;c++)i.push(t[c]),c===t.length-1&&i.push(t[c]);const s=[],l=1-e;r.push(ku(i[0]));for(let c=1;c+2<i.length;c++){const u=i[c];s[0]=[u[0],u[1]],s[1]=[u[0]+(l*i[c+1][0]-l*i[c-1][0])/6,u[1]+(l*i[c+1][1]-l*i[c-1][1])/6],s[2]=[i[c+1][0]+(l*i[c][0]-l*i[c+2][0])/6,i[c+1][1]+(l*i[c][1]-l*i[c+2][1])/6],s[3]=[i[c+1][0],i[c+1][1]],r.push(s[1],s[2],s[3])}}return r}function vp(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function wlt(t,e,n){const r=vp(e,n);if(r===0)return vp(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),vp(t,to(e,n,i))}function to(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function Ev(t,e,n,r){const i=r||[];if((function(c,u){const h=c[u+0],f=c[u+1],p=c[u+2],m=c[u+3];let y=3*f[0]-2*h[0]-m[0];y*=y;let x=3*f[1]-2*h[1]-m[1];x*=x;let v=3*p[0]-2*m[0]-h[0];v*=v;let S=3*p[1]-2*m[1]-h[1];return S*=S,y<v&&(y=v),x<S&&(x=S),y+x})(t,e)<n){const c=t[e+0];i.length?(s=i[i.length-1],l=c,Math.sqrt(vp(s,l))>1&&i.push(c)):i.push(c),i.push(t[e+3])}else{const u=t[e+0],h=t[e+1],f=t[e+2],p=t[e+3],m=to(u,h,.5),y=to(h,f,.5),x=to(f,p,.5),v=to(m,y,.5),S=to(y,x,.5),_=to(v,S,.5);Ev([u,m,v,_],0,n,i),Ev([_,S,x,p],0,n,i)}var s,l;return i}function Slt(t,e){return _g(t,0,t.length,e)}function _g(t,e,n,r,i){const s=i||[],l=t[e],c=t[n-1];let u=0,h=1;for(let f=e+1;f<n-1;++f){const p=wlt(t[f],l,c);p>u&&(u=p,h=f)}return Math.sqrt(u)>r?(_g(t,e,h+1,r,s),_g(t,h,n,r,s)):(s.length||s.push(l),s.push(c)),s}function Jx(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let s=0;s<i;s++)Ev(t,3*s,e,r);return n&&n>0?_g(r,0,r.length,n):r}const Or="none";class Tg{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,s){const l=this._o(s);return this._d("line",[ZO(e,n,r,i,l)],l)}rectangle(e,n,r,i,s){const l=this._o(s),c=[],u=blt(e,n,r,i,l);if(l.fill){const h=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];l.fillStyle==="solid"?c.push(Qx([h],l)):c.push(wl([h],l))}return l.stroke!==Or&&c.push(u),this._d("rectangle",c,l)}ellipse(e,n,r,i,s){const l=this._o(s),c=[],u=KO(r,i,l),h=Tv(e,n,l,u);if(l.fill)if(l.fillStyle==="solid"){const f=Tv(e,n,l,u).opset;f.type="fillPath",c.push(f)}else c.push(wl([h.estimatedPoints],l));return l.stroke!==Or&&c.push(h.opset),this._d("ellipse",c,l)}circle(e,n,r,i){const s=this.ellipse(e,n,r,r,i);return s.shape="circle",s}linearPath(e,n){const r=this._o(n);return this._d("linearPath",[bp(e,!1,r)],r)}arc(e,n,r,i,s,l,c=!1,u){const h=this._o(u),f=[],p=KA(e,n,r,i,s,l,c,!0,h);if(c&&h.fill)if(h.fillStyle==="solid"){const m=Object.assign({},h);m.disableMultiStroke=!0;const y=KA(e,n,r,i,s,l,!0,!1,m);y.type="fillPath",f.push(y)}else f.push((function(m,y,x,v,S,_,E){const T=m,A=y;let D=Math.abs(x/2),B=Math.abs(v/2);D+=Ht(.01*D,E),B+=Ht(.01*B,E);let L=S,z=_;for(;L<0;)L+=2*Math.PI,z+=2*Math.PI;z-L>2*Math.PI&&(L=0,z=2*Math.PI);const V=(z-L)/E.curveStepCount,Y=[];for(let U=L;U<=z;U+=V)Y.push([T+D*Math.cos(U),A+B*Math.sin(U)]);return Y.push([T+D*Math.cos(z),A+B*Math.sin(z)]),Y.push([T,A]),wl([Y],E)})(e,n,r,i,s,l,h));return h.stroke!==Or&&f.push(p),this._d("arc",f,h)}curve(e,n){const r=this._o(n),i=[],s=ZA(e,r);if(r.fill&&r.fill!==Or)if(r.fillStyle==="solid"){const l=ZA(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],c=e;if(c.length){const u=typeof c[0][0]=="number"?[c]:c;for(const h of u)h.length<3?l.push(...h):h.length===3?l.push(...Jx(nM([h[0],h[0],h[1],h[2]]),10,(1+r.roughness)/2)):l.push(...Jx(nM(h),10,(1+r.roughness)/2))}l.length&&i.push(wl([l],r))}return r.stroke!==Or&&i.push(s),this._d("curve",i,r)}polygon(e,n){const r=this._o(n),i=[],s=bp(e,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(Qx([e],r)):i.push(wl([e],r))),r.stroke!==Or&&i.push(s),this._d("polygon",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d("path",i,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=r.fill&&r.fill!=="transparent"&&r.fill!==Or,l=r.stroke!==Or,c=!!(r.simplification&&r.simplification<1),u=(function(f,p,m){const y=GO(YO(j2(f))),x=[];let v=[],S=[0,0],_=[];const E=()=>{_.length>=4&&v.push(...Jx(_,p)),_=[]},T=()=>{E(),v.length&&(x.push(v),v=[])};for(const{key:D,data:B}of y)switch(D){case"M":T(),S=[B[0],B[1]],v.push(S);break;case"L":E(),v.push([B[0],B[1]]);break;case"C":if(!_.length){const L=v.length?v[v.length-1]:S;_.push([L[0],L[1]])}_.push([B[0],B[1]]),_.push([B[2],B[3]]),_.push([B[4],B[5]]);break;case"Z":E(),v.push([S[0],S[1]])}if(T(),!m)return x;const A=[];for(const D of x){const B=Slt(D,m);B.length&&A.push(B)}return A})(e,1,c?4-4*(r.simplification||1):(1+r.roughness)/2),h=QA(e,r);if(s)if(r.fillStyle==="solid")if(u.length===1){const f=QA(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(f.ops)})}else i.push(Qx(u,r));else i.push(wl(u,r));return l&&(c?u.forEach((f=>{i.push(bp(f,!1,r))})):i.push(h)),this._d("path",i,r)}opsToPath(e,n){let r="";for(const i of e.ops){const s=typeof n=="number"&&n>=0?i.data.map((l=>+l.toFixed(n))):i.data;switch(i.op){case"move":r+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":r+=`L${s[0]} ${s[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const s of n){let l=null;switch(s.type){case"path":l={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:Or};break;case"fillPath":l={d:this.opsToPath(s),stroke:Or,strokeWidth:0,fill:r.fill||Or};break;case"fillSketch":l=this.fillSketch(s,r)}l&&i.push(l)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||Or,strokeWidth:r,fill:Or}}_mergedShape(e){return e.filter(((n,r)=>r===0||n.op!=="move"))}}class Clt{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Tg(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const l of n)switch(l.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,l,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const c=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,l,s,c),i.restore();break}case"fillSketch":this.fillSketch(i,l,r)}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i="nonzero"){e.beginPath();for(const s of n.ops){const l=typeof r=="number"&&r>=0?s.data.map((c=>+c.toFixed(r))):s.data;switch(s.op){case"move":e.moveTo(l[0],l[1]);break;case"bcurveTo":e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":e.lineTo(l[0],l[1])}}n.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,s){const l=this.gen.line(e,n,r,i,s);return this.draw(l),l}rectangle(e,n,r,i,s){const l=this.gen.rectangle(e,n,r,i,s);return this.draw(l),l}ellipse(e,n,r,i,s){const l=this.gen.ellipse(e,n,r,i,s);return this.draw(l),l}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,s,l,c=!1,u){const h=this.gen.arc(e,n,r,i,s,l,c,u);return this.draw(h),h}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}}const Kf="http://www.w3.org/2000/svg";class _lt{constructor(e,n){this.svg=e,this.gen=new Tg(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(Kf,"g"),l=e.options.fixedDecimalPlaceDigits;for(const c of n){let u=null;switch(c.type){case"path":u=i.createElementNS(Kf,"path"),u.setAttribute("d",this.opsToPath(c,l)),u.setAttribute("stroke",r.stroke),u.setAttribute("stroke-width",r.strokeWidth+""),u.setAttribute("fill","none"),r.strokeLineDash&&u.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":u=i.createElementNS(Kf,"path"),u.setAttribute("d",this.opsToPath(c,l)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(i,c,r)}u&&s.appendChild(u)}return s}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=e.createElementNS(Kf,"path");return s.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,s){const l=this.gen.line(e,n,r,i,s);return this.draw(l)}rectangle(e,n,r,i,s){const l=this.gen.rectangle(e,n,r,i,s);return this.draw(l)}ellipse(e,n,r,i,s){const l=this.gen.ellipse(e,n,r,i,s);return this.draw(l)}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,s,l,c=!1,u){const h=this.gen.arc(e,n,r,i,s,l,c,u);return this.draw(h)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}}var kt={canvas:(t,e)=>new Clt(t,e),svg:(t,e)=>new _lt(t,e),generator:t=>new Tg(t),newSeed:()=>Tg.newSeed()},It=M(async(t,e,n)=>{let r;const i=e.useHtmlLabels||wn(pe()?.htmlLabels);n?r=n:r="node default";const s=t.insert("g").attr("class",r).attr("id",e.domId||e.id),l=s.insert("g").attr("class","label").attr("style",Yn(e.labelStyle));let c;e.label===void 0?c="":c=typeof e.label=="string"?e.label:e.label[0];const u=await Es(l,ti(No(c),pe()),{useHtmlLabels:i,width:e.width||pe().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let h=u.getBBox();const f=(e?.padding??0)/2;if(i){const p=u.children[0],m=qt(u),y=p.getElementsByTagName("img");if(y){const x=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(v=>new Promise(S=>{function _(){if(v.style.display="flex",v.style.flexDirection="column",x){const E=pe().fontSize?pe().fontSize:window.getComputedStyle(document.body).fontSize,T=5,[A=z5.fontSize]=xm(E),D=A*T+"px";v.style.minWidth=D,v.style.maxWidth=D}else v.style.width="100%";S(v)}M(_,"setupImage"),setTimeout(()=>{v.complete&&_()}),v.addEventListener("error",_),v.addEventListener("load",_)})))}h=p.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}return i?l.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):l.attr("transform","translate(0, "+-h.height/2+")"),e.centerLabel&&l.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:s,bbox:h,halfPadding:f,label:l}},"labelHelper"),tb=M(async(t,e,n)=>{const r=n.useHtmlLabels||wn(pe()?.flowchart?.htmlLabels),i=t.insert("g").attr("class","label").attr("style",n.labelStyle||""),s=await Es(i,ti(No(e),pe()),{useHtmlLabels:r,width:n.width||pe()?.flowchart?.wrappingWidth,style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let l=s.getBBox();const c=n.padding/2;if(wn(pe()?.flowchart?.htmlLabels)){const u=s.children[0],h=qt(s);l=u.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}return r?i.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"):i.attr("transform","translate(0, "+-l.height/2+")"),n.centerLabel&&i.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:l,halfPadding:c,label:i}},"insertLabel"),Dt=M((t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height},"updateNodeBounds"),Pt=M((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function te(t){const e=t.map((n,r)=>`${r===0?"M":"L"}${n.x},${n.y}`);return e.push("Z"),e.join(" ")}M(te,"createPathFromPoints");function Cs(t,e,n,r,i,s){const l=[],u=n-t,h=r-e,f=u/s,p=2*Math.PI/f,m=e+h/2;for(let y=0;y<=50;y++){const x=y/50,v=t+x*u,S=m+i*Math.sin(p*(v-t));l.push({x:v,y:S})}return l}M(Cs,"generateFullSineWavePoints");function Eh(t,e,n,r,i,s){const l=[],c=i*Math.PI/180,f=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*f,y=t+n*Math.cos(m),x=e+n*Math.sin(m);l.push({x:-y,y:-x})}return l}M(Eh,"generateCirclePoints");var Tlt=M((t,e)=>{var n=t.x,r=t.y,i=e.x-n,s=e.y-r,l=t.width/2,c=t.height/2,u,h;return Math.abs(s)*l>Math.abs(i)*c?(s<0&&(c=-c),u=s===0?0:c*i/s,h=c):(i<0&&(l=-l),u=l,h=i===0?0:l*s/i),{x:n+u,y:r+h}},"intersectRect"),vc=Tlt;function JO(t,e){e&&t.attr("style",e)}M(JO,"applyStyle");async function tj(t){const e=qt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=pe();let i=t.label;t.label&&ac(t.label)&&(i=await Z1(t.label.replace(mc.lineBreakRegex,`
`),r));const l='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>";return n.html(ti(l,r)),JO(n,t.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}M(tj,"addHtmlLabel");var klt=M(async(t,e,n,r)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),wn(pe().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),mt.info("vertexText"+i);const s={isNode:r,label:No(i).replace(/fa[blrs]?:fa-[\w-]+/g,c=>`<i class='${c.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await tj(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let l=[];typeof i=="string"?l=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?l=i:l=[];for(const c of l){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),n?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=c.trim(),s.appendChild(u)}return s}},"createLabel"),co=klt,As=M((t,e,n,r,i)=>["M",t+i,e,"H",t+n-i,"A",i,i,0,0,1,t+n,e+i,"V",e+r-i,"A",i,i,0,0,1,t+n-i,e+r,"H",t+i,"A",i,i,0,0,1,t,e+r-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),ej=M(async(t,e)=>{mt.info("Creating subgraph rect for ",e.id,e);const n=pe(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:s,clusterBorder:l}=r,{labelStyles:c,nodeStyles:u,borderStyles:h,backgroundStyles:f}=Mt(e),p=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),m=wn(n.flowchart.htmlLabels),y=p.insert("g").attr("class","cluster-label "),x=await Es(y,e.label,{style:e.labelStyle,useHtmlLabels:m,isNode:!0});let v=x.getBBox();if(wn(n.flowchart.htmlLabels)){const L=x.children[0],z=qt(x);v=L.getBoundingClientRect(),z.attr("width",v.width),z.attr("height",v.height)}const S=e.width<=v.width+e.padding?v.width+e.padding:e.width;e.width<=v.width+e.padding?e.diff=(S-e.width)/2-e.padding:e.diff=-e.padding;const _=e.height,E=e.x-S/2,T=e.y-_/2;mt.trace("Data ",e,JSON.stringify(e));let A;if(e.look==="handDrawn"){const L=kt.svg(p),z=At(e,{roughness:.7,fill:s,stroke:l,fillWeight:3,seed:i}),V=L.path(As(E,T,S,_,0),z);A=p.insert(()=>(mt.debug("Rough node insert CXC",V),V),":first-child"),A.select("path:nth-child(2)").attr("style",h.join(";")),A.select("path").attr("style",f.join(";").replace("fill","stroke"))}else A=p.insert("rect",":first-child"),A.attr("style",u).attr("rx",e.rx).attr("ry",e.ry).attr("x",E).attr("y",T).attr("width",S).attr("height",_);const{subGraphTitleTopMargin:D}=p2(n);if(y.attr("transform",`translate(${e.x-v.width/2}, ${e.y-e.height/2+D})`),c){const L=y.select("span");L&&L.attr("style",c)}const B=A.node().getBBox();return e.offsetX=0,e.width=B.width,e.height=B.height,e.offsetY=v.height-e.padding/2,e.intersect=function(L){return vc(e,L)},{cluster:p,labelBBox:v}},"rect"),Elt=M((t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,s=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const l=r.node().getBBox();return e.width=l.width,e.height=l.height,e.intersect=function(c){return vc(e,c)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),Alt=M(async(t,e)=>{const n=pe(),{themeVariables:r,handDrawnSeed:i}=n,{altBackground:s,compositeBackground:l,compositeTitleBackground:c,nodeBorder:u}=r,h=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),f=h.insert("g",":first-child"),p=h.insert("g").attr("class","cluster-label");let m=h.append("rect");const y=p.node().appendChild(await co(e.label,e.labelStyle,void 0,!0));let x=y.getBBox();if(wn(n.flowchart.htmlLabels)){const V=y.children[0],Y=qt(y);x=V.getBoundingClientRect(),Y.attr("width",x.width),Y.attr("height",x.height)}const v=0*e.padding,S=v/2,_=(e.width<=x.width+e.padding?x.width+e.padding:e.width)+v;e.width<=x.width+e.padding?e.diff=(_-e.width)/2-e.padding:e.diff=-e.padding;const E=e.height+v,T=e.height+v-x.height-6,A=e.x-_/2,D=e.y-E/2;e.width=_;const B=e.y-e.height/2-S+x.height+2;let L;if(e.look==="handDrawn"){const V=e.cssClasses.includes("statediagram-cluster-alt"),Y=kt.svg(h),U=e.rx||e.ry?Y.path(As(A,D,_,E,10),{roughness:.7,fill:c,fillStyle:"solid",stroke:u,seed:i}):Y.rectangle(A,D,_,E,{seed:i});L=h.insert(()=>U,":first-child");const X=Y.rectangle(A,B,_,T,{fill:V?s:l,fillStyle:V?"hachure":"solid",stroke:u,seed:i});L=h.insert(()=>U,":first-child"),m=h.insert(()=>X)}else L=f.insert("rect",":first-child"),L.attr("class","outer").attr("x",A).attr("y",D).attr("width",_).attr("height",E).attr("data-look",e.look),m.attr("class","inner").attr("x",A).attr("y",B).attr("width",_).attr("height",T);p.attr("transform",`translate(${e.x-x.width/2}, ${D+1-(wn(n.flowchart.htmlLabels)?0:3)})`);const z=L.node().getBBox();return e.height=z.height,e.offsetX=0,e.offsetY=x.height-e.padding/2,e.labelBBox=x,e.intersect=function(V){return vc(e,V)},{cluster:h,labelBBox:x}},"roundedWithTitle"),Mlt=M(async(t,e)=>{mt.info("Creating subgraph rect for ",e.id,e);const n=pe(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:s,clusterBorder:l}=r,{labelStyles:c,nodeStyles:u,borderStyles:h,backgroundStyles:f}=Mt(e),p=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),m=wn(n.flowchart.htmlLabels),y=p.insert("g").attr("class","cluster-label "),x=await Es(y,e.label,{style:e.labelStyle,useHtmlLabels:m,isNode:!0,width:e.width});let v=x.getBBox();if(wn(n.flowchart.htmlLabels)){const L=x.children[0],z=qt(x);v=L.getBoundingClientRect(),z.attr("width",v.width),z.attr("height",v.height)}const S=e.width<=v.width+e.padding?v.width+e.padding:e.width;e.width<=v.width+e.padding?e.diff=(S-e.width)/2-e.padding:e.diff=-e.padding;const _=e.height,E=e.x-S/2,T=e.y-_/2;mt.trace("Data ",e,JSON.stringify(e));let A;if(e.look==="handDrawn"){const L=kt.svg(p),z=At(e,{roughness:.7,fill:s,stroke:l,fillWeight:4,seed:i}),V=L.path(As(E,T,S,_,e.rx),z);A=p.insert(()=>(mt.debug("Rough node insert CXC",V),V),":first-child"),A.select("path:nth-child(2)").attr("style",h.join(";")),A.select("path").attr("style",f.join(";").replace("fill","stroke"))}else A=p.insert("rect",":first-child"),A.attr("style",u).attr("rx",e.rx).attr("ry",e.ry).attr("x",E).attr("y",T).attr("width",S).attr("height",_);const{subGraphTitleTopMargin:D}=p2(n);if(y.attr("transform",`translate(${e.x-v.width/2}, ${e.y-e.height/2+D})`),c){const L=y.select("span");L&&L.attr("style",c)}const B=A.node().getBBox();return e.offsetX=0,e.width=B.width,e.height=B.height,e.offsetY=v.height-e.padding/2,e.intersect=function(L){return vc(e,L)},{cluster:p,labelBBox:v}},"kanbanSection"),Dlt=M((t,e)=>{const n=pe(),{themeVariables:r,handDrawnSeed:i}=n,{nodeBorder:s}=r,l=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),c=l.insert("g",":first-child"),u=0*e.padding,h=e.width+u;e.diff=-e.padding;const f=e.height+u,p=e.x-h/2,m=e.y-f/2;e.width=h;let y;if(e.look==="handDrawn"){const S=kt.svg(l).rectangle(p,m,h,f,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});y=l.insert(()=>S,":first-child")}else y=c.insert("rect",":first-child"),y.attr("class","divider").attr("x",p).attr("y",m).attr("width",h).attr("height",f).attr("data-look",e.look);const x=y.node().getBBox();return e.height=x.height,e.offsetX=0,e.offsetY=0,e.intersect=function(v){return vc(e,v)},{cluster:l,labelBBox:{}}},"divider"),Nlt=ej,Llt={rect:ej,squareRect:Nlt,roundedWithTitle:Alt,noteGroup:Elt,divider:Dlt,kanbanSection:Mlt},nj=new Map,Blt=M(async(t,e)=>{const n=e.shape||"rect",r=await Llt[n](t,e);return nj.set(e.id,r),r},"insertCluster"),xft=M(()=>{nj=new Map},"clear");function rj(t,e){return t.intersect(e)}M(rj,"intersectNode");var Rlt=rj;function ij(t,e,n,r){var i=t.x,s=t.y,l=i-r.x,c=s-r.y,u=Math.sqrt(e*e*c*c+n*n*l*l),h=Math.abs(e*n*l/u);r.x<i&&(h=-h);var f=Math.abs(e*n*c/u);return r.y<s&&(f=-f),{x:i+h,y:s+f}}M(ij,"intersectEllipse");var aj=ij;function sj(t,e,n){return aj(t,e,e,n)}M(sj,"intersectCircle");var Olt=sj;function oj(t,e,n,r){{const i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,c=i*n.x+s*n.y+l,u=i*r.x+s*r.y+l,h=1e-6;if(c!==0&&u!==0&&Av(c,u))return;const f=r.y-n.y,p=n.x-r.x,m=r.x*n.y-n.x*r.y,y=f*t.x+p*t.y+m,x=f*e.x+p*e.y+m;if(Math.abs(y)<h&&Math.abs(x)<h&&Av(y,x))return;const v=i*p-f*s;if(v===0)return;const S=Math.abs(v/2);let _=s*m-p*l;const E=_<0?(_-S)/v:(_+S)/v;_=f*l-i*m;const T=_<0?(_-S)/v:(_+S)/v;return{x:E,y:T}}}M(oj,"intersectLine");function Av(t,e){return t*e>0}M(Av,"sameSign");var jlt=oj;function lj(t,e,n){let r=t.x,i=t.y,s=[],l=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(f){l=Math.min(l,f.x),c=Math.min(c,f.y)}):(l=Math.min(l,e.x),c=Math.min(c,e.y));let u=r-t.width/2-l,h=i-t.height/2-c;for(let f=0;f<e.length;f++){let p=e[f],m=e[f<e.length-1?f+1:0],y=jlt(t,n,{x:u+p.x,y:h+p.y},{x:u+m.x,y:h+m.y});y&&s.push(y)}return s.length?(s.length>1&&s.sort(function(f,p){let m=f.x-n.x,y=f.y-n.y,x=Math.sqrt(m*m+y*y),v=p.x-n.x,S=p.y-n.y,_=Math.sqrt(v*v+S*S);return x<_?-1:x===_?0:1}),s[0]):t}M(lj,"intersectPolygon");var $lt=lj,wt={node:Rlt,circle:Olt,ellipse:aj,polygon:$lt,rect:vc};function cj(t,e){const{labelStyles:n}=Mt(e);e.labelStyle=n;const r=Pt(e);let i=r;r||(i="anchor");const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),l=1,{cssStyles:c}=e,u=kt.svg(s),h=At(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(h.roughness=0);const f=u.circle(0,0,l*2,h),p=s.insert(()=>f,":first-child");return p.attr("class","anchor").attr("style",Yn(c)),Dt(e,p),e.intersect=function(m){return mt.info("Circle intersect",e,l,m),wt.circle(e,l,m)},s}M(cj,"anchor");function Mv(t,e,n,r,i,s,l){const u=(t+n)/2,h=(e+r)/2,f=Math.atan2(r-e,n-t),p=(n-t)/2,m=(r-e)/2,y=p/i,x=m/s,v=Math.sqrt(y**2+x**2);if(v>1)throw new Error("The given radii are too small to create an arc between the points.");const S=Math.sqrt(1-v**2),_=u+S*s*Math.sin(f)*(l?-1:1),E=h-S*i*Math.cos(f)*(l?-1:1),T=Math.atan2((e-E)/s,(t-_)/i);let D=Math.atan2((r-E)/s,(n-_)/i)-T;l&&D<0&&(D+=2*Math.PI),!l&&D>0&&(D-=2*Math.PI);const B=[];for(let L=0;L<20;L++){const z=L/19,V=T+z*D,Y=_+i*Math.cos(V),U=E+s*Math.sin(V);B.push({x:Y,y:U})}return B}M(Mv,"generateArcPoints");async function uj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=s.width+e.padding+20,c=s.height+e.padding,u=c/2,h=u/(2.5+c/50),{cssStyles:f}=e,p=[{x:l/2,y:-c/2},{x:-l/2,y:-c/2},...Mv(-l/2,-c/2,-l/2,c/2,h,u,!1),{x:l/2,y:c/2},...Mv(l/2,c/2,l/2,-c/2,h,u,!0)],m=kt.svg(i),y=At(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=te(p),v=m.path(x,y),S=i.insert(()=>v,":first-child");return S.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",r),S.attr("transform",`translate(${h/2}, 0)`),Dt(e,S),e.intersect=function(_){return wt.polygon(e,p,_)},i}M(uj,"bowTieRect");function Ms(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}M(Ms,"insertPolygonShape");async function hj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=s.height+e.padding,c=12,u=s.width+e.padding+c,h=0,f=u,p=-l,m=0,y=[{x:h+c,y:p},{x:f,y:p},{x:f,y:m},{x:h,y:m},{x:h,y:p+c},{x:h+c,y:p}];let x;const{cssStyles:v}=e;if(e.look==="handDrawn"){const S=kt.svg(i),_=At(e,{}),E=te(y),T=S.path(E,_);x=i.insert(()=>T,":first-child").attr("transform",`translate(${-u/2}, ${l/2})`),v&&x.attr("style",v)}else x=Ms(i,u,l,y);return r&&x.attr("style",r),Dt(e,x),e.intersect=function(S){return wt.polygon(e,y,S)},i}M(hj,"card");function dj(t,e){const{nodeStyles:n}=Mt(e);e.label="";const r=t.insert("g").attr("class",Pt(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,s=Math.max(28,e.width??0),l=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],c=kt.svg(r),u=At(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=te(l),f=c.path(h,u),p=r.insert(()=>f,":first-child");return i&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",i),n&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",n),e.width=28,e.height=28,e.intersect=function(m){return wt.polygon(e,l,m)},r}M(dj,"choice");async function $2(t,e,n){const{labelStyles:r,nodeStyles:i}=Mt(e);e.labelStyle=r;const{shapeSvg:s,bbox:l,halfPadding:c}=await It(t,e,Pt(e)),u=n?.padding??c,h=l.width/2+u;let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=kt.svg(s),y=At(e,{}),x=m.circle(0,0,h*2,y);f=s.insert(()=>x,":first-child"),f.attr("class","basic label-container").attr("style",Yn(p))}else f=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0);return Dt(e,f),e.calcIntersect=function(m,y){const x=m.width/2;return wt.circle(m,x,y)},e.intersect=function(m){return mt.info("Circle intersect",e,h,m),wt.circle(e,h,m)},s}M($2,"circle");function fj(t){const e=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),r=t*2,i={x:r/2*e,y:r/2*n},s={x:-(r/2)*e,y:r/2*n},l={x:-(r/2)*e,y:-(r/2)*n},c={x:r/2*e,y:-(r/2)*n};return`M ${s.x},${s.y} L ${c.x},${c.y}
                   M ${i.x},${i.y} L ${l.x},${l.y}`}M(fj,"createLine");function pj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n,e.label="";const i=t.insert("g").attr("class",Pt(e)).attr("id",e.domId??e.id),s=Math.max(30,e?.width??0),{cssStyles:l}=e,c=kt.svg(i),u=At(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=c.circle(0,0,s*2,u),f=fj(s),p=c.path(f,u),m=i.insert(()=>h,":first-child");return m.insert(()=>p),l&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",l),r&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",r),Dt(e,m),e.intersect=function(y){return mt.info("crossedCircle intersect",e,{radius:s,point:y}),wt.circle(e,s,y)},i}M(pj,"crossedCircle");function ma(t,e,n,r=100,i=0,s=180){const l=[],c=i*Math.PI/180,f=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*f,y=t+n*Math.cos(m),x=e+n*Math.sin(m);l.push({x:-y,y:-x})}return l}M(ma,"generateCirclePoints");async function gj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=s.width+(e.padding??0),u=s.height+(e.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=e,p=[...ma(c/2,-u/2,h,30,-90,0),{x:-c/2-h,y:h},...ma(c/2+h*2,-h,h,20,-180,-270),...ma(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-u/2},...ma(c/2,u/2,h,20,0,90)],m=[{x:c/2,y:-u/2-h},{x:-c/2,y:-u/2-h},...ma(c/2,-u/2,h,20,-90,0),{x:-c/2-h,y:-h},...ma(c/2+c*.1,-h,h,20,-180,-270),...ma(c/2+c*.1,h,h,20,-90,-180),{x:-c/2-h,y:u/2},...ma(c/2,u/2,h,20,0,90),{x:-c/2,y:u/2+h},{x:c/2,y:u/2+h}],y=kt.svg(i),x=At(e,{fill:"none"});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=te(p).replace("Z",""),_=y.path(S,x),E=te(m),T=y.path(E,{...x}),A=i.insert("g",":first-child");return A.insert(()=>T,":first-child").attr("stroke-opacity",0),A.insert(()=>_,":first-child"),A.attr("class","text"),f&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",r),A.attr("transform",`translate(${h}, 0)`),l.attr("transform",`translate(${-c/2+h-(s.x-(s.left??0))},${-u/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Dt(e,A),e.intersect=function(D){return wt.polygon(e,m,D)},i}M(gj,"curlyBraceLeft");function ya(t,e,n,r=100,i=0,s=180){const l=[],c=i*Math.PI/180,f=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*f,y=t+n*Math.cos(m),x=e+n*Math.sin(m);l.push({x:y,y:x})}return l}M(ya,"generateCirclePoints");async function mj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=s.width+(e.padding??0),u=s.height+(e.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=e,p=[...ya(c/2,-u/2,h,20,-90,0),{x:c/2+h,y:-h},...ya(c/2+h*2,-h,h,20,-180,-270),...ya(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:u/2},...ya(c/2,u/2,h,20,0,90)],m=[{x:-c/2,y:-u/2-h},{x:c/2,y:-u/2-h},...ya(c/2,-u/2,h,20,-90,0),{x:c/2+h,y:-h},...ya(c/2+h*2,-h,h,20,-180,-270),...ya(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:u/2},...ya(c/2,u/2,h,20,0,90),{x:c/2,y:u/2+h},{x:-c/2,y:u/2+h}],y=kt.svg(i),x=At(e,{fill:"none"});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=te(p).replace("Z",""),_=y.path(S,x),E=te(m),T=y.path(E,{...x}),A=i.insert("g",":first-child");return A.insert(()=>T,":first-child").attr("stroke-opacity",0),A.insert(()=>_,":first-child"),A.attr("class","text"),f&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",r),A.attr("transform",`translate(${-h}, 0)`),l.attr("transform",`translate(${-c/2+(e.padding??0)/2-(s.x-(s.left??0))},${-u/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Dt(e,A),e.intersect=function(D){return wt.polygon(e,m,D)},i}M(mj,"curlyBraceRight");function jn(t,e,n,r=100,i=0,s=180){const l=[],c=i*Math.PI/180,f=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*f,y=t+n*Math.cos(m),x=e+n*Math.sin(m);l.push({x:-y,y:-x})}return l}M(jn,"generateCirclePoints");async function yj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=s.width+(e.padding??0),u=s.height+(e.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=e,p=[...jn(c/2,-u/2,h,30,-90,0),{x:-c/2-h,y:h},...jn(c/2+h*2,-h,h,20,-180,-270),...jn(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-u/2},...jn(c/2,u/2,h,20,0,90)],m=[...jn(-c/2+h+h/2,-u/2,h,20,-90,-180),{x:c/2-h/2,y:h},...jn(-c/2-h/2,-h,h,20,0,90),...jn(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...jn(-c/2+h+h/2,u/2,h,30,-180,-270)],y=[{x:c/2,y:-u/2-h},{x:-c/2,y:-u/2-h},...jn(c/2,-u/2,h,20,-90,0),{x:-c/2-h,y:-h},...jn(c/2+h*2,-h,h,20,-180,-270),...jn(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:u/2},...jn(c/2,u/2,h,20,0,90),{x:-c/2,y:u/2+h},{x:c/2-h-h/2,y:u/2+h},...jn(-c/2+h+h/2,-u/2,h,20,-90,-180),{x:c/2-h/2,y:h},...jn(-c/2-h/2,-h,h,20,0,90),...jn(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...jn(-c/2+h+h/2,u/2,h,30,-180,-270)],x=kt.svg(i),v=At(e,{fill:"none"});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=te(p).replace("Z",""),E=x.path(_,v),A=te(m).replace("Z",""),D=x.path(A,v),B=te(y),L=x.path(B,{...v}),z=i.insert("g",":first-child");return z.insert(()=>L,":first-child").attr("stroke-opacity",0),z.insert(()=>E,":first-child"),z.insert(()=>D,":first-child"),z.attr("class","text"),f&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",r),z.attr("transform",`translate(${h-h/4}, 0)`),l.attr("transform",`translate(${-c/2+(e.padding??0)/2-(s.x-(s.left??0))},${-u/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Dt(e,z),e.intersect=function(V){return wt.polygon(e,y,V)},i}M(yj,"curlyBraces");async function xj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=80,c=20,u=Math.max(l,(s.width+(e.padding??0)*2)*1.25,e?.width??0),h=Math.max(c,s.height+(e.padding??0)*2,e?.height??0),f=h/2,{cssStyles:p}=e,m=kt.svg(i),y=At(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=u,v=h,S=x-f,_=v/4,E=[{x:S,y:0},{x:_,y:0},{x:0,y:v/2},{x:_,y:v},{x:S,y:v},...Eh(-S,-v/2,f,50,270,90)],T=te(E),A=m.path(T,y),D=i.insert(()=>A,":first-child");return D.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",r),D.attr("transform",`translate(${-u/2}, ${-h/2})`),Dt(e,D),e.intersect=function(B){return wt.polygon(e,E,B)},i}M(xj,"curvedTrapezoid");var zlt=M((t,e,n,r,i,s)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${n},0`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createCylinderPathD"),Plt=M((t,e,n,r,i,s)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD"),Flt=M((t,e,n,r,i,s)=>[`M${t-n/2},${-r/2}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function bj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=Math.max(s.width+e.padding,e.width??0),u=c/2,h=u/(2.5+c/50),f=Math.max(s.height+h+e.padding,e.height??0);let p;const{cssStyles:m}=e;if(e.look==="handDrawn"){const y=kt.svg(i),x=Plt(0,0,c,f,u,h),v=Flt(0,h,c,f,u,h),S=y.path(x,At(e,{})),_=y.path(v,At(e,{fill:"none"}));p=i.insert(()=>_,":first-child"),p=i.insert(()=>S,":first-child"),p.attr("class","basic label-container"),m&&p.attr("style",m)}else{const y=zlt(0,0,c,f,u,h);p=i.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",Yn(m)).attr("style",r)}return p.attr("label-offset-y",h),p.attr("transform",`translate(${-c/2}, ${-(f/2+h)})`),Dt(e,p),l.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(e.padding??0)/1.5-(s.y-(s.top??0))})`),e.intersect=function(y){const x=wt.rect(e,y),v=x.x-(e.x??0);if(u!=0&&(Math.abs(v)<(e.width??0)/2||Math.abs(v)==(e.width??0)/2&&Math.abs(x.y-(e.y??0))>(e.height??0)/2-h)){let S=h*h*(1-v*v/(u*u));S>0&&(S=Math.sqrt(S)),S=h-S,y.y-(e.y??0)>0&&(S=-S),x.y+=S}return x},i}M(bj,"cylinder");async function vj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=s.width+e.padding,u=s.height+e.padding,h=u*.2,f=-c/2,p=-u/2-h/2,{cssStyles:m}=e,y=kt.svg(i),x=At(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:f,y:p+h},{x:-f,y:p+h},{x:-f,y:-p},{x:f,y:-p},{x:f,y:p},{x:-f,y:p},{x:-f,y:p+h}],S=y.polygon(v.map(E=>[E.x,E.y]),x),_=i.insert(()=>S,":first-child");return _.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",r),l.attr("transform",`translate(${f+(e.padding??0)/2-(s.x-(s.left??0))}, ${p+h+(e.padding??0)/2-(s.y-(s.top??0))})`),Dt(e,_),e.intersect=function(E){return wt.rect(e,E)},i}M(vj,"dividedRectangle");async function wj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:l}=await It(t,e,Pt(e)),u=s.width/2+l+5,h=s.width/2+l;let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=kt.svg(i),y=At(e,{roughness:.2,strokeWidth:2.5}),x=At(e,{roughness:.2,strokeWidth:1.5}),v=m.circle(0,0,u*2,y),S=m.circle(0,0,h*2,x);f=i.insert("g",":first-child"),f.attr("class",Yn(e.cssClasses)).attr("style",Yn(p)),f.node()?.appendChild(v),f.node()?.appendChild(S)}else{f=i.insert("g",":first-child");const m=f.insert("circle",":first-child"),y=f.insert("circle");f.attr("class","basic label-container").attr("style",r),m.attr("class","outer-circle").attr("style",r).attr("r",u).attr("cx",0).attr("cy",0),y.attr("class","inner-circle").attr("style",r).attr("r",h).attr("cx",0).attr("cy",0)}return Dt(e,f),e.intersect=function(m){return mt.info("DoubleCircle intersect",e,u,m),wt.circle(e,u,m)},i}M(wj,"doublecircle");function Sj(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Mt(e);e.label="",e.labelStyle=r;const s=t.insert("g").attr("class",Pt(e)).attr("id",e.domId??e.id),l=7,{cssStyles:c}=e,u=kt.svg(s),{nodeBorder:h}=n,f=At(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(f.roughness=0);const p=u.circle(0,0,l*2,f),m=s.insert(()=>p,":first-child");return m.selectAll("path").attr("style",`fill: ${h} !important;`),c&&c.length>0&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",c),i&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",i),Dt(e,m),e.intersect=function(y){return mt.info("filledCircle intersect",e,{radius:l,point:y}),wt.circle(e,l,y)},s}M(Sj,"filledCircle");async function Cj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=s.width+(e.padding??0),u=c+s.height,h=c+s.height,f=[{x:0,y:-u},{x:h,y:-u},{x:h/2,y:0}],{cssStyles:p}=e,m=kt.svg(i),y=At(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=te(f),v=m.path(x,y),S=i.insert(()=>v,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",r),e.width=c,e.height=u,Dt(e,S),l.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-u/2+(e.padding??0)/2+(s.y-(s.top??0))})`),e.intersect=function(_){return mt.info("Triangle intersect",e,f,_),wt.polygon(e,f,_)},i}M(Cj,"flippedTriangle");function _j(t,e,{dir:n,config:{state:r,themeVariables:i}}){const{nodeStyles:s}=Mt(e);e.label="";const l=t.insert("g").attr("class",Pt(e)).attr("id",e.domId??e.id),{cssStyles:c}=e;let u=Math.max(70,e?.width??0),h=Math.max(10,e?.height??0);n==="LR"&&(u=Math.max(10,e?.width??0),h=Math.max(70,e?.height??0));const f=-1*u/2,p=-1*h/2,m=kt.svg(l),y=At(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=m.rectangle(f,p,u,h,y),v=l.insert(()=>x,":first-child");c&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",c),s&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",s),Dt(e,v);const S=r?.padding??0;return e.width&&e.height&&(e.width+=S/2||0,e.height+=S/2||0),e.intersect=function(_){return wt.rect(e,_)},l}M(_j,"forkJoin");async function Tj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const i=80,s=50,{shapeSvg:l,bbox:c}=await It(t,e,Pt(e)),u=Math.max(i,c.width+(e.padding??0)*2,e?.width??0),h=Math.max(s,c.height+(e.padding??0)*2,e?.height??0),f=h/2,{cssStyles:p}=e,m=kt.svg(l),y=At(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-u/2,y:-h/2},{x:u/2-f,y:-h/2},...Eh(-u/2+f,0,f,50,90,270),{x:u/2-f,y:h/2},{x:-u/2,y:h/2}],v=te(x),S=m.path(v,y),_=l.insert(()=>S,":first-child");return _.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),Dt(e,_),e.intersect=function(E){return mt.info("Pill intersect",e,{radius:f,point:E}),wt.polygon(e,x,E)},l}M(Tj,"halfRoundedRectangle");async function kj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=s.height+(e.padding??0),c=s.width+(e.padding??0)*2.5,{cssStyles:u}=e,h=kt.svg(i),f=At(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let p=c/2;const m=p/6;p=p+m;const y=l/2,x=y/2,v=p-x,S=[{x:-v,y:-y},{x:0,y:-y},{x:v,y:-y},{x:p,y:0},{x:v,y},{x:0,y},{x:-v,y},{x:-p,y:0}],_=te(S),E=h.path(_,f),T=i.insert(()=>E,":first-child");return T.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",u),r&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",r),e.width=c,e.height=l,Dt(e,T),e.intersect=function(A){return wt.polygon(e,S,A)},i}M(kj,"hexagon");async function Ej(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.label="",e.labelStyle=n;const{shapeSvg:i}=await It(t,e,Pt(e)),s=Math.max(30,e?.width??0),l=Math.max(30,e?.height??0),{cssStyles:c}=e,u=kt.svg(i),h=At(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=[{x:0,y:0},{x:s,y:0},{x:0,y:l},{x:s,y:l}],p=te(f),m=u.path(p,h),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),c&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",c),r&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),y.attr("transform",`translate(${-s/2}, ${-l/2})`),Dt(e,y),e.intersect=function(x){return mt.info("Pill intersect",e,{points:f}),wt.polygon(e,f,x)},i}M(Ej,"hourglass");async function Aj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Mt(e);e.labelStyle=i;const s=e.assetHeight??48,l=e.assetWidth??48,c=Math.max(s,l),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,label:p}=await It(t,e,"icon-shape default"),m=e.pos==="t",y=c,x=c,{nodeBorder:v}=n,{stylesMap:S}=yc(e),_=-x/2,E=-y/2,T=e.label?8:0,A=kt.svg(h),D=At(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const B=A.rectangle(_,E,x,y,D),L=Math.max(x,f.width),z=y+f.height+T,V=A.rectangle(-L/2,-z/2,L,z,{...D,fill:"transparent",stroke:"none"}),Y=h.insert(()=>B,":first-child"),U=h.insert(()=>V);if(e.icon){const X=h.append("g");X.html(`<g>${await rd(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const Z=X.node().getBBox(),$=Z.width,q=Z.height,R=Z.x,F=Z.y;X.attr("transform",`translate(${-$/2-R},${m?f.height/2+T/2-q/2-F:-f.height/2-T/2-q/2-F})`),X.attr("style",`color: ${S.get("stroke")??v};`)}return p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${m?-z/2:z/2-f.height})`),Y.attr("transform",`translate(0,${m?f.height/2+T/2:-f.height/2-T/2})`),Dt(e,U),e.intersect=function(X){if(mt.info("iconSquare intersect",e,X),!e.label)return wt.rect(e,X);const Z=e.x??0,$=e.y??0,q=e.height??0;let R=[];return m?R=[{x:Z-f.width/2,y:$-q/2},{x:Z+f.width/2,y:$-q/2},{x:Z+f.width/2,y:$-q/2+f.height+T},{x:Z+x/2,y:$-q/2+f.height+T},{x:Z+x/2,y:$+q/2},{x:Z-x/2,y:$+q/2},{x:Z-x/2,y:$-q/2+f.height+T},{x:Z-f.width/2,y:$-q/2+f.height+T}]:R=[{x:Z-x/2,y:$-q/2},{x:Z+x/2,y:$-q/2},{x:Z+x/2,y:$-q/2+y},{x:Z+f.width/2,y:$-q/2+y},{x:Z+f.width/2/2,y:$+q/2},{x:Z-f.width/2,y:$+q/2},{x:Z-f.width/2,y:$-q/2+y},{x:Z-x/2,y:$-q/2+y}],wt.polygon(e,R,X)},h}M(Aj,"icon");async function Mj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Mt(e);e.labelStyle=i;const s=e.assetHeight??48,l=e.assetWidth??48,c=Math.max(s,l),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,label:p}=await It(t,e,"icon-shape default"),m=20,y=e.label?8:0,x=e.pos==="t",{nodeBorder:v,mainBkg:S}=n,{stylesMap:_}=yc(e),E=kt.svg(h),T=At(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const A=_.get("fill");T.stroke=A??S;const D=h.append("g");e.icon&&D.html(`<g>${await rd(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const B=D.node().getBBox(),L=B.width,z=B.height,V=B.x,Y=B.y,U=Math.max(L,z)*Math.SQRT2+m*2,X=E.circle(0,0,U,T),Z=Math.max(U,f.width),$=U+f.height+y,q=E.rectangle(-Z/2,-$/2,Z,$,{...T,fill:"transparent",stroke:"none"}),R=h.insert(()=>X,":first-child"),F=h.insert(()=>q);return D.attr("transform",`translate(${-L/2-V},${x?f.height/2+y/2-z/2-Y:-f.height/2-y/2-z/2-Y})`),D.attr("style",`color: ${_.get("stroke")??v};`),p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${x?-$/2:$/2-f.height})`),R.attr("transform",`translate(0,${x?f.height/2+y/2:-f.height/2-y/2})`),Dt(e,F),e.intersect=function(j){return mt.info("iconSquare intersect",e,j),wt.rect(e,j)},h}M(Mj,"iconCircle");async function Dj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Mt(e);e.labelStyle=i;const s=e.assetHeight??48,l=e.assetWidth??48,c=Math.max(s,l),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,halfPadding:p,label:m}=await It(t,e,"icon-shape default"),y=e.pos==="t",x=c+p*2,v=c+p*2,{nodeBorder:S,mainBkg:_}=n,{stylesMap:E}=yc(e),T=-v/2,A=-x/2,D=e.label?8:0,B=kt.svg(h),L=At(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const z=E.get("fill");L.stroke=z??_;const V=B.path(As(T,A,v,x,5),L),Y=Math.max(v,f.width),U=x+f.height+D,X=B.rectangle(-Y/2,-U/2,Y,U,{...L,fill:"transparent",stroke:"none"}),Z=h.insert(()=>V,":first-child").attr("class","icon-shape2"),$=h.insert(()=>X);if(e.icon){const q=h.append("g");q.html(`<g>${await rd(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const R=q.node().getBBox(),F=R.width,j=R.height,W=R.x,Q=R.y;q.attr("transform",`translate(${-F/2-W},${y?f.height/2+D/2-j/2-Q:-f.height/2-D/2-j/2-Q})`),q.attr("style",`color: ${E.get("stroke")??S};`)}return m.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${y?-U/2:U/2-f.height})`),Z.attr("transform",`translate(0,${y?f.height/2+D/2:-f.height/2-D/2})`),Dt(e,$),e.intersect=function(q){if(mt.info("iconSquare intersect",e,q),!e.label)return wt.rect(e,q);const R=e.x??0,F=e.y??0,j=e.height??0;let W=[];return y?W=[{x:R-f.width/2,y:F-j/2},{x:R+f.width/2,y:F-j/2},{x:R+f.width/2,y:F-j/2+f.height+D},{x:R+v/2,y:F-j/2+f.height+D},{x:R+v/2,y:F+j/2},{x:R-v/2,y:F+j/2},{x:R-v/2,y:F-j/2+f.height+D},{x:R-f.width/2,y:F-j/2+f.height+D}]:W=[{x:R-v/2,y:F-j/2},{x:R+v/2,y:F-j/2},{x:R+v/2,y:F-j/2+x},{x:R+f.width/2,y:F-j/2+x},{x:R+f.width/2/2,y:F+j/2},{x:R-f.width/2,y:F+j/2},{x:R-f.width/2,y:F-j/2+x},{x:R-v/2,y:F-j/2+x}],wt.polygon(e,W,q)},h}M(Dj,"iconRounded");async function Nj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Mt(e);e.labelStyle=i;const s=e.assetHeight??48,l=e.assetWidth??48,c=Math.max(s,l),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,halfPadding:p,label:m}=await It(t,e,"icon-shape default"),y=e.pos==="t",x=c+p*2,v=c+p*2,{nodeBorder:S,mainBkg:_}=n,{stylesMap:E}=yc(e),T=-v/2,A=-x/2,D=e.label?8:0,B=kt.svg(h),L=At(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const z=E.get("fill");L.stroke=z??_;const V=B.path(As(T,A,v,x,.1),L),Y=Math.max(v,f.width),U=x+f.height+D,X=B.rectangle(-Y/2,-U/2,Y,U,{...L,fill:"transparent",stroke:"none"}),Z=h.insert(()=>V,":first-child"),$=h.insert(()=>X);if(e.icon){const q=h.append("g");q.html(`<g>${await rd(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const R=q.node().getBBox(),F=R.width,j=R.height,W=R.x,Q=R.y;q.attr("transform",`translate(${-F/2-W},${y?f.height/2+D/2-j/2-Q:-f.height/2-D/2-j/2-Q})`),q.attr("style",`color: ${E.get("stroke")??S};`)}return m.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${y?-U/2:U/2-f.height})`),Z.attr("transform",`translate(0,${y?f.height/2+D/2:-f.height/2-D/2})`),Dt(e,$),e.intersect=function(q){if(mt.info("iconSquare intersect",e,q),!e.label)return wt.rect(e,q);const R=e.x??0,F=e.y??0,j=e.height??0;let W=[];return y?W=[{x:R-f.width/2,y:F-j/2},{x:R+f.width/2,y:F-j/2},{x:R+f.width/2,y:F-j/2+f.height+D},{x:R+v/2,y:F-j/2+f.height+D},{x:R+v/2,y:F+j/2},{x:R-v/2,y:F+j/2},{x:R-v/2,y:F-j/2+f.height+D},{x:R-f.width/2,y:F-j/2+f.height+D}]:W=[{x:R-v/2,y:F-j/2},{x:R+v/2,y:F-j/2},{x:R+v/2,y:F-j/2+x},{x:R+f.width/2,y:F-j/2+x},{x:R+f.width/2/2,y:F+j/2},{x:R-f.width/2,y:F+j/2},{x:R-f.width/2,y:F-j/2+x},{x:R-v/2,y:F-j/2+x}],wt.polygon(e,W,q)},h}M(Nj,"iconSquare");async function Lj(t,e,{config:{flowchart:n}}){const r=new Image;r.src=e?.img??"",await r.decode();const i=Number(r.naturalWidth.toString().replace("px","")),s=Number(r.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/s;const{labelStyles:l}=Mt(e);e.labelStyle=l;const c=n?.wrappingWidth;e.defaultWidth=n?.wrappingWidth;const u=Math.max(e.label?c??0:0,e?.assetWidth??i),h=e.constraint==="on"&&e?.assetHeight?e.assetHeight*e.imageAspectRatio:u,f=e.constraint==="on"?h/e.imageAspectRatio:e?.assetHeight??s;e.width=Math.max(h,c??0);const{shapeSvg:p,bbox:m,label:y}=await It(t,e,"image-shape default"),x=e.pos==="t",v=-h/2,S=-f/2,_=e.label?8:0,E=kt.svg(p),T=At(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const A=E.rectangle(v,S,h,f,T),D=Math.max(h,m.width),B=f+m.height+_,L=E.rectangle(-D/2,-B/2,D,B,{...T,fill:"none",stroke:"none"}),z=p.insert(()=>A,":first-child"),V=p.insert(()=>L);if(e.img){const Y=p.append("image");Y.attr("href",e.img),Y.attr("width",h),Y.attr("height",f),Y.attr("preserveAspectRatio","none"),Y.attr("transform",`translate(${-h/2},${x?B/2-f:-B/2})`)}return y.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${x?-f/2-m.height/2-_/2:f/2-m.height/2+_/2})`),z.attr("transform",`translate(0,${x?m.height/2+_/2:-m.height/2-_/2})`),Dt(e,V),e.intersect=function(Y){if(mt.info("iconSquare intersect",e,Y),!e.label)return wt.rect(e,Y);const U=e.x??0,X=e.y??0,Z=e.height??0;let $=[];return x?$=[{x:U-m.width/2,y:X-Z/2},{x:U+m.width/2,y:X-Z/2},{x:U+m.width/2,y:X-Z/2+m.height+_},{x:U+h/2,y:X-Z/2+m.height+_},{x:U+h/2,y:X+Z/2},{x:U-h/2,y:X+Z/2},{x:U-h/2,y:X-Z/2+m.height+_},{x:U-m.width/2,y:X-Z/2+m.height+_}]:$=[{x:U-h/2,y:X-Z/2},{x:U+h/2,y:X-Z/2},{x:U+h/2,y:X-Z/2+f},{x:U+m.width/2,y:X-Z/2+f},{x:U+m.width/2/2,y:X+Z/2},{x:U-m.width/2,y:X+Z/2},{x:U-m.width/2,y:X-Z/2+f},{x:U-h/2,y:X-Z/2+f}],wt.polygon(e,$,Y)},p}M(Lj,"imageSquare");async function Bj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=[{x:0,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:-3*c/6,y:-c}];let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=kt.svg(i),m=At(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),f&&h.attr("style",f)}else h=Ms(i,l,c,u);return r&&h.attr("style",r),e.width=l,e.height=c,Dt(e,h),e.intersect=function(p){return wt.polygon(e,u,p)},i}M(Bj,"inv_trapezoid");async function _m(t,e,n){const{labelStyles:r,nodeStyles:i}=Mt(e);e.labelStyle=r;const{shapeSvg:s,bbox:l}=await It(t,e,Pt(e)),c=Math.max(l.width+n.labelPaddingX*2,e?.width||0),u=Math.max(l.height+n.labelPaddingY*2,e?.height||0),h=-c/2,f=-u/2;let p,{rx:m,ry:y}=e;const{cssStyles:x}=e;if(n?.rx&&n.ry&&(m=n.rx,y=n.ry),e.look==="handDrawn"){const v=kt.svg(s),S=At(e,{}),_=m||y?v.path(As(h,f,c,u,m||0),S):v.rectangle(h,f,c,u,S);p=s.insert(()=>_,":first-child"),p.attr("class","basic label-container").attr("style",Yn(x))}else p=s.insert("rect",":first-child"),p.attr("class","basic label-container").attr("style",i).attr("rx",Yn(m)).attr("ry",Yn(y)).attr("x",h).attr("y",f).attr("width",c).attr("height",u);return Dt(e,p),e.calcIntersect=function(v,S){return wt.rect(v,S)},e.intersect=function(v){return wt.rect(e,v)},s}M(_m,"drawRect");async function Rj(t,e){const{shapeSvg:n,bbox:r,label:i}=await It(t,e,"label"),s=n.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(r.width/2)-(r.x-(r.left??0))}, ${-(r.height/2)-(r.y-(r.top??0))})`),Dt(e,s),e.intersect=function(u){return wt.rect(e,u)},n}M(Rj,"labelRect");async function Oj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=Math.max(s.width+(e.padding??0),e?.width??0),c=Math.max(s.height+(e.padding??0),e?.height??0),u=[{x:0,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:-(3*c)/6,y:-c}];let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=kt.svg(i),m=At(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),f&&h.attr("style",f)}else h=Ms(i,l,c,u);return r&&h.attr("style",r),e.width=l,e.height=c,Dt(e,h),e.intersect=function(p){return wt.polygon(e,u,p)},i}M(Oj,"lean_left");async function jj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=Math.max(s.width+(e.padding??0),e?.width??0),c=Math.max(s.height+(e.padding??0),e?.height??0),u=[{x:-3*c/6,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:0,y:-c}];let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=kt.svg(i),m=At(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),f&&h.attr("style",f)}else h=Ms(i,l,c,u);return r&&h.attr("style",r),e.width=l,e.height=c,Dt(e,h),e.intersect=function(p){return wt.polygon(e,u,p)},i}M(jj,"lean_right");function $j(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.label="",e.labelStyle=n;const i=t.insert("g").attr("class",Pt(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,l=Math.max(35,e?.width??0),c=Math.max(35,e?.height??0),u=7,h=[{x:l,y:0},{x:0,y:c+u/2},{x:l-2*u,y:c+u/2},{x:0,y:2*c},{x:l,y:c-u/2},{x:2*u,y:c-u/2}],f=kt.svg(i),p=At(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=te(h),y=f.path(m,p),x=i.insert(()=>y,":first-child");return s&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",s),r&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(-${l/2},${-c})`),Dt(e,x),e.intersect=function(v){return mt.info("lightningBolt intersect",e,v),wt.polygon(e,h,v)},i}M($j,"lightningBolt");var Ilt=M((t,e,n,r,i,s,l)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${n},0`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+l}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),Hlt=M((t,e,n,r,i,s,l)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+l}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),Vlt=M((t,e,n,r,i,s)=>[`M${t-n/2},${-r/2}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function zj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=Math.max(s.width+(e.padding??0),e.width??0),u=c/2,h=u/(2.5+c/50),f=Math.max(s.height+h+(e.padding??0),e.height??0),p=f*.1;let m;const{cssStyles:y}=e;if(e.look==="handDrawn"){const x=kt.svg(i),v=Hlt(0,0,c,f,u,h,p),S=Vlt(0,h,c,f,u,h),_=At(e,{}),E=x.path(v,_),T=x.path(S,_);i.insert(()=>T,":first-child").attr("class","line"),m=i.insert(()=>E,":first-child"),m.attr("class","basic label-container"),y&&m.attr("style",y)}else{const x=Ilt(0,0,c,f,u,h,p);m=i.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",Yn(y)).attr("style",r)}return m.attr("label-offset-y",h),m.attr("transform",`translate(${-c/2}, ${-(f/2+h)})`),Dt(e,m),l.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+h-(s.y-(s.top??0))})`),e.intersect=function(x){const v=wt.rect(e,x),S=v.x-(e.x??0);if(u!=0&&(Math.abs(S)<(e.width??0)/2||Math.abs(S)==(e.width??0)/2&&Math.abs(v.y-(e.y??0))>(e.height??0)/2-h)){let _=h*h*(1-S*S/(u*u));_>0&&(_=Math.sqrt(_)),_=h-_,x.y-(e.y??0)>0&&(_=-_),v.y+=_}return v},i}M(zj,"linedCylinder");async function Pj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/4,f=u+h,{cssStyles:p}=e,m=kt.svg(i),y=At(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-c/2-c/2*.1,y:-f/2},{x:-c/2-c/2*.1,y:f/2},...Cs(-c/2-c/2*.1,f/2,c/2+c/2*.1,f/2,h,.8),{x:c/2+c/2*.1,y:-f/2},{x:-c/2-c/2*.1,y:-f/2},{x:-c/2,y:-f/2},{x:-c/2,y:f/2*1.1},{x:-c/2,y:-f/2}],v=m.polygon(x.map(_=>[_.x,_.y]),y),S=i.insert(()=>v,":first-child");return S.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",r),S.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(e.padding??0)+c/2*.1/2-(s.x-(s.left??0))},${-u/2+(e.padding??0)-h/2-(s.y-(s.top??0))})`),Dt(e,S),e.intersect=function(_){return wt.polygon(e,x,_)},i}M(Pj,"linedWaveEdgedRect");async function Fj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=5,f=-c/2,p=-u/2,{cssStyles:m}=e,y=kt.svg(i),x=At(e,{}),v=[{x:f-h,y:p+h},{x:f-h,y:p+u+h},{x:f+c-h,y:p+u+h},{x:f+c-h,y:p+u},{x:f+c,y:p+u},{x:f+c,y:p+u-h},{x:f+c+h,y:p+u-h},{x:f+c+h,y:p-h},{x:f+h,y:p-h},{x:f+h,y:p},{x:f,y:p},{x:f,y:p+h}],S=[{x:f,y:p+h},{x:f+c-h,y:p+h},{x:f+c-h,y:p+u},{x:f+c,y:p+u},{x:f+c,y:p},{x:f,y:p}];e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const _=te(v),E=y.path(_,x),T=te(S),A=y.path(T,{...x,fill:"none"}),D=i.insert(()=>A,":first-child");return D.insert(()=>E,":first-child"),D.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",r),l.attr("transform",`translate(${-(s.width/2)-h-(s.x-(s.left??0))}, ${-(s.height/2)+h-(s.y-(s.top??0))})`),Dt(e,D),e.intersect=function(B){return wt.polygon(e,v,B)},i}M(Fj,"multiRect");async function Ij(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/4,f=u+h,p=-c/2,m=-f/2,y=5,{cssStyles:x}=e,v=Cs(p-y,m+f+y,p+c-y,m+f+y,h,.8),S=v?.[v.length-1],_=[{x:p-y,y:m+y},{x:p-y,y:m+f+y},...v,{x:p+c-y,y:S.y-y},{x:p+c,y:S.y-y},{x:p+c,y:S.y-2*y},{x:p+c+y,y:S.y-2*y},{x:p+c+y,y:m-y},{x:p+y,y:m-y},{x:p+y,y:m},{x:p,y:m},{x:p,y:m+y}],E=[{x:p,y:m+y},{x:p+c-y,y:m+y},{x:p+c-y,y:S.y-y},{x:p+c,y:S.y-y},{x:p+c,y:m},{x:p,y:m}],T=kt.svg(i),A=At(e,{});e.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const D=te(_),B=T.path(D,A),L=te(E),z=T.path(L,A),V=i.insert(()=>B,":first-child");return V.insert(()=>z),V.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&V.selectAll("path").attr("style",x),r&&e.look!=="handDrawn"&&V.selectAll("path").attr("style",r),V.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-(s.width/2)-y-(s.x-(s.left??0))}, ${-(s.height/2)+y-h/2-(s.y-(s.top??0))})`),Dt(e,V),e.intersect=function(Y){return wt.polygon(e,_,Y)},i}M(Ij,"multiWaveEdgedRectangle");async function Hj(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Mt(e);e.labelStyle=r,e.useHtmlLabels||Un().flowchart?.htmlLabels!==!1||(e.centerLabel=!0);const{shapeSvg:l,bbox:c,label:u}=await It(t,e,Pt(e)),h=Math.max(c.width+(e.padding??0)*2,e?.width??0),f=Math.max(c.height+(e.padding??0)*2,e?.height??0),p=-h/2,m=-f/2,{cssStyles:y}=e,x=kt.svg(l),v=At(e,{fill:n.noteBkgColor,stroke:n.noteBorderColor});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=x.rectangle(p,m,h,f,v),_=l.insert(()=>S,":first-child");return _.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",y),i&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",i),u.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))}, ${-(c.height/2)-(c.y-(c.top??0))})`),Dt(e,_),e.intersect=function(E){return wt.rect(e,E)},l}M(Hj,"note");var qlt=M((t,e,n)=>[`M${t+n/2},${e}`,`L${t+n},${e-n/2}`,`L${t+n/2},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Vj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=s.width+e.padding,c=s.height+e.padding,u=l+c,h=.5,f=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}];let p;const{cssStyles:m}=e;if(e.look==="handDrawn"){const y=kt.svg(i),x=At(e,{}),v=qlt(0,0,u),S=y.path(v,x);p=i.insert(()=>S,":first-child").attr("transform",`translate(${-u/2+h}, ${u/2})`),m&&p.attr("style",m)}else p=Ms(i,u,u,f),p.attr("transform",`translate(${-u/2+h}, ${u/2})`);return r&&p.attr("style",r),Dt(e,p),e.calcIntersect=function(y,x){const v=y.width,S=[{x:v/2,y:0},{x:v,y:-v/2},{x:v/2,y:-v},{x:0,y:-v/2}],_=wt.polygon(y,S,x);return{x:_.x-.5,y:_.y-.5}},e.intersect=function(y){return this.calcIntersect(e,y)},i}M(Vj,"question");async function qj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=Math.max(s.width+(e.padding??0),e?.width??0),u=Math.max(s.height+(e.padding??0),e?.height??0),h=-c/2,f=-u/2,p=f/2,m=[{x:h+p,y:f},{x:h,y:0},{x:h+p,y:-f},{x:-h,y:-f},{x:-h,y:f}],{cssStyles:y}=e,x=kt.svg(i),v=At(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=te(m),_=x.path(S,v),E=i.insert(()=>_,":first-child");return E.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",y),r&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(${-p/2},0)`),l.attr("transform",`translate(${-p/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Dt(e,E),e.intersect=function(T){return wt.polygon(e,m,T)},i}M(qj,"rect_left_inv_arrow");async function Uj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),l=s.insert("g"),c=s.insert("g").attr("class","label").attr("style",r),u=e.description,h=e.label,f=c.node().appendChild(await co(h,e.labelStyle,!0,!0));let p={width:0,height:0};if(wn(pe()?.flowchart?.htmlLabels)){const z=f.children[0],V=qt(f);p=z.getBoundingClientRect(),V.attr("width",p.width),V.attr("height",p.height)}mt.info("Text 2",u);const m=u||[],y=f.getBBox(),x=c.node().appendChild(await co(m.join?m.join("<br/>"):m,e.labelStyle,!0,!0)),v=x.children[0],S=qt(x);p=v.getBoundingClientRect(),S.attr("width",p.width),S.attr("height",p.height);const _=(e.padding||0)/2;qt(x).attr("transform","translate( "+(p.width>y.width?0:(y.width-p.width)/2)+", "+(y.height+_+5)+")"),qt(f).attr("transform","translate( "+(p.width<y.width?0:-(y.width-p.width)/2)+", 0)"),p=c.node().getBBox(),c.attr("transform","translate("+-p.width/2+", "+(-p.height/2-_+3)+")");const E=p.width+(e.padding||0),T=p.height+(e.padding||0),A=-p.width/2-_,D=-p.height/2-_;let B,L;if(e.look==="handDrawn"){const z=kt.svg(s),V=At(e,{}),Y=z.path(As(A,D,E,T,e.rx||0),V),U=z.line(-p.width/2-_,-p.height/2-_+y.height+_,p.width/2+_,-p.height/2-_+y.height+_,V);L=s.insert(()=>(mt.debug("Rough node insert CXC",Y),U),":first-child"),B=s.insert(()=>(mt.debug("Rough node insert CXC",Y),Y),":first-child")}else B=l.insert("rect",":first-child"),L=l.insert("line"),B.attr("class","outer title-state").attr("style",r).attr("x",-p.width/2-_).attr("y",-p.height/2-_).attr("width",p.width+(e.padding||0)).attr("height",p.height+(e.padding||0)),L.attr("class","divider").attr("x1",-p.width/2-_).attr("x2",p.width/2+_).attr("y1",-p.height/2-_+y.height+_).attr("y2",-p.height/2-_+y.height+_);return Dt(e,B),e.intersect=function(z){return wt.rect(e,z)},s}M(Uj,"rectWithTitle");function Ou(t,e,n,r,i,s,l){const u=(t+n)/2,h=(e+r)/2,f=Math.atan2(r-e,n-t),p=(n-t)/2,m=(r-e)/2,y=p/i,x=m/s,v=Math.sqrt(y**2+x**2);if(v>1)throw new Error("The given radii are too small to create an arc between the points.");const S=Math.sqrt(1-v**2),_=u+S*s*Math.sin(f)*(l?-1:1),E=h-S*i*Math.cos(f)*(l?-1:1),T=Math.atan2((e-E)/s,(t-_)/i);let D=Math.atan2((r-E)/s,(n-_)/i)-T;l&&D<0&&(D+=2*Math.PI),!l&&D>0&&(D-=2*Math.PI);const B=[];for(let L=0;L<20;L++){const z=L/19,V=T+z*D,Y=_+i*Math.cos(V),U=E+s*Math.sin(V);B.push({x:Y,y:U})}return B}M(Ou,"generateArcPoints");async function Wj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=e?.padding??0,c=e?.padding??0,u=(e?.width?e?.width:s.width)+l*2,h=(e?.height?e?.height:s.height)+c*2,f=e.radius||5,p=e.taper||5,{cssStyles:m}=e,y=kt.svg(i),x=At(e,{});e.stroke&&(x.stroke=e.stroke),e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:-u/2+p,y:-h/2},{x:u/2-p,y:-h/2},...Ou(u/2-p,-h/2,u/2,-h/2+p,f,f,!0),{x:u/2,y:-h/2+p},{x:u/2,y:h/2-p},...Ou(u/2,h/2-p,u/2-p,h/2,f,f,!0),{x:u/2-p,y:h/2},{x:-u/2+p,y:h/2},...Ou(-u/2+p,h/2,-u/2,h/2-p,f,f,!0),{x:-u/2,y:h/2-p},{x:-u/2,y:-h/2+p},...Ou(-u/2,-h/2+p,-u/2+p,-h/2,f,f,!0)],S=te(v),_=y.path(S,x),E=i.insert(()=>_,":first-child");return E.attr("class","basic label-container outer-path"),m&&e.look!=="handDrawn"&&E.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&E.selectChildren("path").attr("style",r),Dt(e,E),e.intersect=function(T){return wt.polygon(e,v,T)},i}M(Wj,"roundedRect");async function Yj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=e?.padding??0,u=Math.max(s.width+(e.padding??0)*2,e?.width??0),h=Math.max(s.height+(e.padding??0)*2,e?.height??0),f=-s.width/2-c,p=-s.height/2-c,{cssStyles:m}=e,y=kt.svg(i),x=At(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:f,y:p},{x:f+u+8,y:p},{x:f+u+8,y:p+h},{x:f-8,y:p+h},{x:f-8,y:p},{x:f,y:p},{x:f,y:p+h}],S=y.polygon(v.map(E=>[E.x,E.y]),x),_=i.insert(()=>S,":first-child");return _.attr("class","basic label-container").attr("style",Yn(m)),r&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",r),m&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",r),l.attr("transform",`translate(${-u/2+4+(e.padding??0)-(s.x-(s.left??0))},${-h/2+(e.padding??0)-(s.y-(s.top??0))})`),Dt(e,_),e.intersect=function(E){return wt.rect(e,E)},i}M(Yj,"shadedProcess");async function Gj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=-c/2,f=-u/2,{cssStyles:p}=e,m=kt.svg(i),y=At(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:h,y:f},{x:h,y:f+u},{x:h+c,y:f+u},{x:h+c,y:f-u/2}],v=te(x),S=m.path(v,y),_=i.insert(()=>S,":first-child");return _.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),_.attr("transform",`translate(0, ${u/4})`),l.attr("transform",`translate(${-c/2+(e.padding??0)-(s.x-(s.left??0))}, ${-u/4+(e.padding??0)-(s.y-(s.top??0))})`),Dt(e,_),e.intersect=function(E){return wt.polygon(e,x,E)},i}M(Gj,"slopedRect");async function Xj(t,e){const n={rx:0,ry:0,labelPaddingX:e.labelPaddingX??(e?.padding||0)*2,labelPaddingY:(e?.padding||0)*1};return _m(t,e,n)}M(Xj,"squareRect");async function Zj(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=s.height+e.padding,c=s.width+l/4+e.padding,u=l/2,{cssStyles:h}=e,f=kt.svg(i),p=At(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=[{x:-c/2+u,y:-l/2},{x:c/2-u,y:-l/2},...Eh(-c/2+u,0,u,50,90,270),{x:c/2-u,y:l/2},...Eh(c/2-u,0,u,50,270,450)],y=te(m),x=f.path(y,p),v=i.insert(()=>x,":first-child");return v.attr("class","basic label-container outer-path"),h&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",h),r&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",r),Dt(e,v),e.intersect=function(S){return wt.polygon(e,m,S)},i}M(Zj,"stadium");async function Kj(t,e){return _m(t,e,{rx:5,ry:5})}M(Kj,"state");function Qj(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Mt(e);e.labelStyle=r;const{cssStyles:s}=e,{lineColor:l,stateBorder:c,nodeBorder:u}=n,h=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),f=kt.svg(h),p=At(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=f.circle(0,0,14,{...p,stroke:l,strokeWidth:2}),y=c??u,x=f.circle(0,0,5,{...p,fill:y,stroke:y,strokeWidth:2,fillStyle:"solid"}),v=h.insert(()=>m,":first-child");return v.insert(()=>x),s&&v.selectAll("path").attr("style",s),i&&v.selectAll("path").attr("style",i),Dt(e,v),e.intersect=function(S){return wt.circle(e,7,S)},h}M(Qj,"stateEnd");function Jj(t,e,{config:{themeVariables:n}}){const{lineColor:r}=n,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s;if(e.look==="handDrawn"){const c=kt.svg(i).circle(0,0,14,ait(r));s=i.insert(()=>c),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Dt(e,s),e.intersect=function(l){return wt.circle(e,7,l)},i}M(Jj,"stateStart");async function t4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=(e?.padding||0)/2,c=s.width+e.padding,u=s.height+e.padding,h=-s.width/2-l,f=-s.height/2-l,p=[{x:0,y:0},{x:c,y:0},{x:c,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:c+8,y:0},{x:c+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(e.look==="handDrawn"){const m=kt.svg(i),y=At(e,{}),x=m.rectangle(h-8,f,c+16,u,y),v=m.line(h,f,h,f+u,y),S=m.line(h+c,f,h+c,f+u,y);i.insert(()=>v,":first-child"),i.insert(()=>S,":first-child");const _=i.insert(()=>x,":first-child"),{cssStyles:E}=e;_.attr("class","basic label-container").attr("style",Yn(E)),Dt(e,_)}else{const m=Ms(i,c,u,p);r&&m.attr("style",r),Dt(e,m)}return e.intersect=function(m){return wt.polygon(e,p,m)},i}M(t4,"subroutine");async function e4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=-l/2,h=-c/2,f=.2*c,p=.2*c,{cssStyles:m}=e,y=kt.svg(i),x=At(e,{}),v=[{x:u-f/2,y:h},{x:u+l+f/2,y:h},{x:u+l+f/2,y:h+c},{x:u-f/2,y:h+c}],S=[{x:u+l-f/2,y:h+c},{x:u+l+f/2,y:h+c},{x:u+l+f/2,y:h+c-p}];e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const _=te(v),E=y.path(_,x),T=te(S),A=y.path(T,{...x,fillStyle:"solid"}),D=i.insert(()=>A,":first-child");return D.insert(()=>E,":first-child"),D.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",r),Dt(e,D),e.intersect=function(B){return wt.polygon(e,v,B)},i}M(e4,"taggedRect");async function n4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/4,f=.2*c,p=.2*u,m=u+h,{cssStyles:y}=e,x=kt.svg(i),v=At(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const S=[{x:-c/2-c/2*.1,y:m/2},...Cs(-c/2-c/2*.1,m/2,c/2+c/2*.1,m/2,h,.8),{x:c/2+c/2*.1,y:-m/2},{x:-c/2-c/2*.1,y:-m/2}],_=-c/2+c/2*.1,E=-m/2-p*.4,T=[{x:_+c-f,y:(E+u)*1.4},{x:_+c,y:E+u-p},{x:_+c,y:(E+u)*.9},...Cs(_+c,(E+u)*1.3,_+c-f,(E+u)*1.5,-u*.03,.5)],A=te(S),D=x.path(A,v),B=te(T),L=x.path(B,{...v,fillStyle:"solid"}),z=i.insert(()=>L,":first-child");return z.insert(()=>D,":first-child"),z.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",y),r&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",r),z.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(e.padding??0)-(s.x-(s.left??0))},${-u/2+(e.padding??0)-h/2-(s.y-(s.top??0))})`),Dt(e,z),e.intersect=function(V){return wt.polygon(e,S,V)},i}M(n4,"taggedWaveEdgedRectangle");async function r4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=Math.max(s.width+e.padding,e?.width||0),c=Math.max(s.height+e.padding,e?.height||0),u=-l/2,h=-c/2,f=i.insert("rect",":first-child");return f.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",u).attr("y",h).attr("width",l).attr("height",c),Dt(e,f),e.intersect=function(p){return wt.rect(e,p)},i}M(r4,"text");var Ult=M((t,e,n,r,i,s)=>`M${t},${e}
    a${i},${s} 0,0,1 0,${-r}
    l${n},0
    a${i},${s} 0,0,1 0,${r}
    M${n},${-r}
    a${i},${s} 0,0,0 0,${r}
    l${-n},0`,"createCylinderPathD"),Wlt=M((t,e,n,r,i,s)=>[`M${t},${e}`,`M${t+n},${e}`,`a${i},${s} 0,0,0 0,${-r}`,`l${-n},0`,`a${i},${s} 0,0,0 0,${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),Ylt=M((t,e,n,r,i,s)=>[`M${t+n/2},${-r/2}`,`a${i},${s} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function i4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l,halfPadding:c}=await It(t,e,Pt(e)),u=e.look==="neo"?c*2:c,h=s.height+u,f=h/2,p=f/(2.5+h/50),m=s.width+p+u,{cssStyles:y}=e;let x;if(e.look==="handDrawn"){const v=kt.svg(i),S=Wlt(0,0,m,h,p,f),_=Ylt(0,0,m,h,p,f),E=v.path(S,At(e,{})),T=v.path(_,At(e,{fill:"none"}));x=i.insert(()=>T,":first-child"),x=i.insert(()=>E,":first-child"),x.attr("class","basic label-container"),y&&x.attr("style",y)}else{const v=Ult(0,0,m,h,p,f);x=i.insert("path",":first-child").attr("d",v).attr("class","basic label-container").attr("style",Yn(y)).attr("style",r),x.attr("class","basic label-container"),y&&x.selectAll("path").attr("style",y),r&&x.selectAll("path").attr("style",r)}return x.attr("label-offset-x",p),x.attr("transform",`translate(${-m/2}, ${h/2} )`),l.attr("transform",`translate(${-(s.width/2)-p-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Dt(e,x),e.intersect=function(v){const S=wt.rect(e,v),_=S.y-(e.y??0);if(f!=0&&(Math.abs(_)<(e.height??0)/2||Math.abs(_)==(e.height??0)/2&&Math.abs(S.x-(e.x??0))>(e.width??0)/2-p)){let E=p*p*(1-_*_/(f*f));E!=0&&(E=Math.sqrt(Math.abs(E))),E=p-E,v.x-(e.x??0)>0&&(E=-E),S.x+=E}return S},i}M(i4,"tiltedCylinder");async function a4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=s.width+e.padding,c=s.height+e.padding,u=[{x:-3*c/6,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:0,y:-c}];let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=kt.svg(i),m=At(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),f&&h.attr("style",f)}else h=Ms(i,l,c,u);return r&&h.attr("style",r),e.width=l,e.height=c,Dt(e,h),e.intersect=function(p){return wt.polygon(e,u,p)},i}M(a4,"trapezoid");async function s4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=60,c=20,u=Math.max(l,s.width+(e.padding??0)*2,e?.width??0),h=Math.max(c,s.height+(e.padding??0)*2,e?.height??0),{cssStyles:f}=e,p=kt.svg(i),m=At(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-u/2*.8,y:-h/2},{x:u/2*.8,y:-h/2},{x:u/2,y:-h/2*.6},{x:u/2,y:h/2},{x:-u/2,y:h/2},{x:-u/2,y:-h/2*.6}],x=te(y),v=p.path(x,m),S=i.insert(()=>v,":first-child");return S.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",f),r&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",r),Dt(e,S),e.intersect=function(_){return wt.polygon(e,y,_)},i}M(s4,"trapezoidalPentagon");async function o4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=wn(pe().flowchart?.htmlLabels),u=s.width+(e.padding??0),h=u+s.height,f=u+s.height,p=[{x:0,y:0},{x:f,y:0},{x:f/2,y:-h}],{cssStyles:m}=e,y=kt.svg(i),x=At(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=te(p),S=y.path(v,x),_=i.insert(()=>S,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return m&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),e.width=u,e.height=h,Dt(e,_),l.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${h/2-(s.height+(e.padding??0)/(c?2:1)-(s.y-(s.top??0)))})`),e.intersect=function(E){return mt.info("Triangle intersect",e,p,E),wt.polygon(e,p,E)},i}M(o4,"triangle");async function l4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/8,f=u+h,{cssStyles:p}=e,y=70-c,x=y>0?y/2:0,v=kt.svg(i),S=At(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const _=[{x:-c/2-x,y:f/2},...Cs(-c/2-x,f/2,c/2+x,f/2,h,.8),{x:c/2+x,y:-f/2},{x:-c/2-x,y:-f/2}],E=te(_),T=v.path(E,S),A=i.insert(()=>T,":first-child");return A.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",r),A.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(e.padding??0)-(s.x-(s.left??0))},${-u/2+(e.padding??0)-h-(s.y-(s.top??0))})`),Dt(e,A),e.intersect=function(D){return wt.polygon(e,_,D)},i}M(l4,"waveEdgedRectangle");async function c4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await It(t,e,Pt(e)),l=100,c=50,u=Math.max(s.width+(e.padding??0)*2,e?.width??0),h=Math.max(s.height+(e.padding??0)*2,e?.height??0),f=u/h;let p=u,m=h;p>m*f?m=p/f:p=m*f,p=Math.max(p,l),m=Math.max(m,c);const y=Math.min(m*.2,m/4),x=m+y*2,{cssStyles:v}=e,S=kt.svg(i),_=At(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const E=[{x:-p/2,y:x/2},...Cs(-p/2,x/2,p/2,x/2,y,1),{x:p/2,y:-x/2},...Cs(p/2,-x/2,-p/2,-x/2,y,-1)],T=te(E),A=S.path(T,_),D=i.insert(()=>A,":first-child");return D.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",v),r&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",r),Dt(e,D),e.intersect=function(B){return wt.polygon(e,E,B)},i}M(c4,"waveRectangle");async function u4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:l}=await It(t,e,Pt(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=5,f=-c/2,p=-u/2,{cssStyles:m}=e,y=kt.svg(i),x=At(e,{}),v=[{x:f-h,y:p-h},{x:f-h,y:p+u},{x:f+c,y:p+u},{x:f+c,y:p-h}],S=`M${f-h},${p-h} L${f+c},${p-h} L${f+c},${p+u} L${f-h},${p+u} L${f-h},${p-h}
                M${f-h},${p} L${f+c},${p}
                M${f},${p-h} L${f},${p+u}`;e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const _=y.path(S,x),E=i.insert(()=>_,":first-child");return E.attr("transform",`translate(${h/2}, ${h/2})`),E.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",r),l.attr("transform",`translate(${-(s.width/2)+h/2-(s.x-(s.left??0))}, ${-(s.height/2)+h/2-(s.y-(s.top??0))})`),Dt(e,E),e.intersect=function(T){return wt.polygon(e,v,T)},i}M(u4,"windowPane");async function z2(t,e){const n=e;if(n.alias&&(e.label=n.alias),e.look==="handDrawn"){const{themeVariables:P}=Un(),{background:G}=P,J={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${G}`]};await z2(t,J)}const r=Un();e.useHtmlLabels=r.htmlLabels;let i=r.er?.diagramPadding??10,s=r.er?.entityPadding??6;const{cssStyles:l}=e,{labelStyles:c,nodeStyles:u}=Mt(e);if(n.attributes.length===0&&e.label){const P={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};ka(e.label,r)+P.labelPaddingX*2<r.er.minEntityWidth&&(e.width=r.er.minEntityWidth);const G=await _m(t,e,P);if(!wn(r.htmlLabels)){const J=G.select("text"),nt=J.node()?.getBBox();J.attr("transform",`translate(${-nt.width/2}, 0)`)}return G}r.htmlLabels||(i*=1.25,s*=1.25);let h=Pt(e);h||(h="node default");const f=t.insert("g").attr("class",h).attr("id",e.domId||e.id),p=await Tl(f,e.label??"",r,0,0,["name"],c);p.height+=s;let m=0;const y=[],x=[];let v=0,S=0,_=0,E=0,T=!0,A=!0;for(const P of n.attributes){const G=await Tl(f,P.type,r,0,m,["attribute-type"],c);v=Math.max(v,G.width+i);const J=await Tl(f,P.name,r,0,m,["attribute-name"],c);S=Math.max(S,J.width+i);const nt=await Tl(f,P.keys.join(),r,0,m,["attribute-keys"],c);_=Math.max(_,nt.width+i);const ct=await Tl(f,P.comment,r,0,m,["attribute-comment"],c);E=Math.max(E,ct.width+i);const ut=Math.max(G.height,J.height,nt.height,ct.height)+s;x.push({yOffset:m,rowHeight:ut}),m+=ut}let D=4;_<=i&&(T=!1,_=0,D--),E<=i&&(A=!1,E=0,D--);const B=f.node().getBBox();if(p.width+i*2-(v+S+_+E)>0){const P=p.width+i*2-(v+S+_+E);v+=P/D,S+=P/D,_>0&&(_+=P/D),E>0&&(E+=P/D)}const L=v+S+_+E,z=kt.svg(f),V=At(e,{});e.look!=="handDrawn"&&(V.roughness=0,V.fillStyle="solid");let Y=0;x.length>0&&(Y=x.reduce((P,G)=>P+(G?.rowHeight??0),0));const U=Math.max(B.width+i*2,e?.width||0,L),X=Math.max((Y??0)+p.height,e?.height||0),Z=-U/2,$=-X/2;f.selectAll("g:not(:first-child)").each((P,G,J)=>{const nt=qt(J[G]),ct=nt.attr("transform");let ut=0,ht=0;if(ct){const yt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(ct);yt&&(ut=parseFloat(yt[1]),ht=parseFloat(yt[2]),nt.attr("class").includes("attribute-name")?ut+=v:nt.attr("class").includes("attribute-keys")?ut+=v+S:nt.attr("class").includes("attribute-comment")&&(ut+=v+S+_))}nt.attr("transform",`translate(${Z+i/2+ut}, ${ht+$+p.height+s/2})`)}),f.select(".name").attr("transform","translate("+-p.width/2+", "+($+s/2)+")");const q=z.rectangle(Z,$,U,X,V),R=f.insert(()=>q,":first-child").attr("style",l.join("")),{themeVariables:F}=Un(),{rowEven:j,rowOdd:W,nodeBorder:Q}=F;y.push(0);for(const[P,G]of x.entries()){const nt=(P+1)%2===0&&G.yOffset!==0,ct=z.rectangle(Z,p.height+$+G?.yOffset,U,G?.rowHeight,{...V,fill:nt?j:W,stroke:Q});f.insert(()=>ct,"g.label").attr("style",l.join("")).attr("class",`row-rect-${nt?"even":"odd"}`)}let I=z.line(Z,p.height+$,U+Z,p.height+$,V);f.insert(()=>I).attr("class","divider"),I=z.line(v+Z,p.height+$,v+Z,X+$,V),f.insert(()=>I).attr("class","divider"),T&&(I=z.line(v+S+Z,p.height+$,v+S+Z,X+$,V),f.insert(()=>I).attr("class","divider")),A&&(I=z.line(v+S+_+Z,p.height+$,v+S+_+Z,X+$,V),f.insert(()=>I).attr("class","divider"));for(const P of y)I=z.line(Z,p.height+$+P,U+Z,p.height+$+P,V),f.insert(()=>I).attr("class","divider");if(Dt(e,R),u&&e.look!=="handDrawn"){const G=u.split(";")?.filter(J=>J.includes("stroke"))?.map(J=>`${J}`).join("; ");f.selectAll("path").attr("style",G??""),f.selectAll(".row-rect-even path").attr("style",u)}return e.intersect=function(P){return wt.rect(e,P)},f}M(z2,"erBox");async function Tl(t,e,n,r=0,i=0,s=[],l=""){const c=t.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${r}, ${i})`).attr("style",l);e!==uA(e)&&(e=uA(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const u=c.node().appendChild(await Es(c,e,{width:ka(e,n)+100,style:l,useHtmlLabels:n.htmlLabels},n));if(e.includes("&lt;")||e.includes("&gt;")){let f=u.children[0];for(f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");f.childNodes[0];)f=f.childNodes[0],f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let h=u.getBBox();if(wn(n.htmlLabels)){const f=u.children[0];f.style.textAlign="start";const p=qt(u);h=f.getBoundingClientRect(),p.attr("width",h.width),p.attr("height",h.height)}return h}M(Tl,"addText");async function h4(t,e,n,r,i=n.class.padding??12){const s=r?0:3,l=t.insert("g").attr("class",Pt(e)).attr("id",e.domId||e.id);let c=null,u=null,h=null,f=null,p=0,m=0,y=0;if(c=l.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const E=e.annotations[0];await ju(c,{text:`${E}`},0),p=c.node().getBBox().height}u=l.insert("g").attr("class","label-group text"),await ju(u,e,0,["font-weight: bolder"]);const x=u.node().getBBox();m=x.height,h=l.insert("g").attr("class","members-group text");let v=0;for(const E of e.members){const T=await ju(h,E,v,[E.parseClassifier()]);v+=T+s}y=h.node().getBBox().height,y<=0&&(y=i/2),f=l.insert("g").attr("class","methods-group text");let S=0;for(const E of e.methods){const T=await ju(f,E,S,[E.parseClassifier()]);S+=T+s}let _=l.node().getBBox();if(c!==null){const E=c.node().getBBox();c.attr("transform",`translate(${-E.width/2})`)}return u.attr("transform",`translate(${-x.width/2}, ${p})`),_=l.node().getBBox(),h.attr("transform",`translate(0, ${p+m+i*2})`),_=l.node().getBBox(),f.attr("transform",`translate(0, ${p+m+(y?y+i*4:i*2)})`),_=l.node().getBBox(),{shapeSvg:l,bbox:_}}M(h4,"textHelper");async function ju(t,e,n,r=[]){const i=t.insert("g").attr("class","label").attr("style",r.join("; ")),s=Un();let l="useHtmlLabels"in e?e.useHtmlLabels:wn(s.htmlLabels)??!0,c="";"text"in e?c=e.text:c=e.label,!l&&c.startsWith("\\")&&(c=c.substring(1)),ac(c)&&(l=!0);const u=await Es(i,e2(No(c)),{width:ka(c,s)+50,classes:"markdown-node-label",useHtmlLabels:l},s);let h,f=1;if(l){const p=u.children[0],m=qt(u);f=p.innerHTML.split("<br>").length,p.innerHTML.includes("</math>")&&(f+=p.innerHTML.split("<mrow>").length-1);const y=p.getElementsByTagName("img");if(y){const x=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(v=>new Promise(S=>{function _(){if(v.style.display="flex",v.style.flexDirection="column",x){const E=s.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,A=parseInt(E,10)*5+"px";v.style.minWidth=A,v.style.maxWidth=A}else v.style.width="100%";S(v)}M(_,"setupImage"),setTimeout(()=>{v.complete&&_()}),v.addEventListener("error",_),v.addEventListener("load",_)})))}h=p.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}else{r.includes("font-weight: bolder")&&qt(u).selectAll("tspan").attr("font-weight",""),f=u.children.length;const p=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(p.textContent=c[0]+c.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),c[1]===" "&&(p.textContent=p.textContent[0]+" "+p.textContent.substring(1))),p.textContent==="undefined"&&(p.textContent=""),h=u.getBBox()}return i.attr("transform","translate(0,"+(-h.height/(2*f)+n)+")"),h.height}M(ju,"addText");async function d4(t,e){const n=pe(),r=n.class.padding??12,i=r,s=e.useHtmlLabels??wn(n.htmlLabels)??!0,l=e;l.annotations=l.annotations??[],l.members=l.members??[],l.methods=l.methods??[];const{shapeSvg:c,bbox:u}=await h4(t,e,n,s,i),{labelStyles:h,nodeStyles:f}=Mt(e);e.labelStyle=h,e.cssStyles=l.styles||"";const p=l.styles?.join(";")||f||"";e.cssStyles||(e.cssStyles=p.replaceAll("!important","").split(";"));const m=l.members.length===0&&l.methods.length===0&&!n.class?.hideEmptyMembersBox,y=kt.svg(c),x=At(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=u.width;let S=u.height;l.members.length===0&&l.methods.length===0?S+=i:l.members.length>0&&l.methods.length===0&&(S+=i*2);const _=-v/2,E=-S/2,T=y.rectangle(_-r,E-r-(m?r:l.members.length===0&&l.methods.length===0?-r/2:0),v+2*r,S+2*r+(m?r*2:l.members.length===0&&l.methods.length===0?-r:0),x),A=c.insert(()=>T,":first-child");A.attr("class","basic label-container");const D=A.node().getBBox();c.selectAll(".text").each((V,Y,U)=>{const X=qt(U[Y]),Z=X.attr("transform");let $=0;if(Z){const j=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Z);j&&($=parseFloat(j[2]))}let q=$+E+r-(m?r:l.members.length===0&&l.methods.length===0?-r/2:0);s||(q-=4);let R=_;(X.attr("class").includes("label-group")||X.attr("class").includes("annotation-group"))&&(R=-X.node()?.getBBox().width/2||0,c.selectAll("text").each(function(F,j,W){window.getComputedStyle(W[j]).textAnchor==="middle"&&(R=0)})),X.attr("transform",`translate(${R}, ${q})`)});const B=c.select(".annotation-group").node().getBBox().height-(m?r/2:0)||0,L=c.select(".label-group").node().getBBox().height-(m?r/2:0)||0,z=c.select(".members-group").node().getBBox().height-(m?r/2:0)||0;if(l.members.length>0||l.methods.length>0||m){const V=y.line(D.x,B+L+E+r,D.x+D.width,B+L+E+r,x);c.insert(()=>V).attr("class","divider").attr("style",p)}if(m||l.members.length>0||l.methods.length>0){const V=y.line(D.x,B+L+z+E+i*2+r,D.x+D.width,B+L+z+E+r+i*2,x);c.insert(()=>V).attr("class","divider").attr("style",p)}if(l.look!=="handDrawn"&&c.selectAll("path").attr("style",p),A.select(":nth-child(2)").attr("style",p),c.selectAll(".divider").select("path").attr("style",p),e.labelStyle?c.selectAll("span").attr("style",e.labelStyle):c.selectAll("span").attr("style",p),!s){const V=RegExp(/color\s*:\s*([^;]*)/),Y=V.exec(p);if(Y){const U=Y[0].replace("color","fill");c.selectAll("tspan").attr("style",U)}else if(h){const U=V.exec(h);if(U){const X=U[0].replace("color","fill");c.selectAll("tspan").attr("style",X)}}}return Dt(e,A),e.intersect=function(V){return wt.rect(e,V)},c}M(d4,"classBox");async function f4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const i=e,s=e,l=20,c=20,u="verifyMethod"in e,h=Pt(e),f=t.insert("g").attr("class",h).attr("id",e.domId??e.id);let p;u?p=await Ri(f,`&lt;&lt;${i.type}&gt;&gt;`,0,e.labelStyle):p=await Ri(f,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let m=p;const y=await Ri(f,i.name,m,e.labelStyle+"; font-weight: bold;");if(m+=y+c,u){const B=await Ri(f,`${i.requirementId?`ID: ${i.requirementId}`:""}`,m,e.labelStyle);m+=B;const L=await Ri(f,`${i.text?`Text: ${i.text}`:""}`,m,e.labelStyle);m+=L;const z=await Ri(f,`${i.risk?`Risk: ${i.risk}`:""}`,m,e.labelStyle);m+=z,await Ri(f,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,m,e.labelStyle)}else{const B=await Ri(f,`${s.type?`Type: ${s.type}`:""}`,m,e.labelStyle);m+=B,await Ri(f,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,m,e.labelStyle)}const x=(f.node()?.getBBox().width??200)+l,v=(f.node()?.getBBox().height??200)+l,S=-x/2,_=-v/2,E=kt.svg(f),T=At(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const A=E.rectangle(S,_,x,v,T),D=f.insert(()=>A,":first-child");if(D.attr("class","basic label-container").attr("style",r),f.selectAll(".label").each((B,L,z)=>{const V=qt(z[L]),Y=V.attr("transform");let U=0,X=0;if(Y){const R=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Y);R&&(U=parseFloat(R[1]),X=parseFloat(R[2]))}const Z=X-v/2;let $=S+l/2;(L===0||L===1)&&($=U),V.attr("transform",`translate(${$}, ${Z+l})`)}),m>p+y+c){const B=E.line(S,_+p+y+c,S+x,_+p+y+c,T);f.insert(()=>B).attr("style",r)}return Dt(e,D),e.intersect=function(B){return wt.rect(e,B)},f}M(f4,"requirementBox");async function Ri(t,e,n,r=""){if(e==="")return 0;const i=t.insert("g").attr("class","label").attr("style",r),s=pe(),l=s.htmlLabels??!0,c=await Es(i,e2(No(e)),{width:ka(e,s)+50,classes:"markdown-node-label",useHtmlLabels:l,style:r},s);let u;if(l){const h=c.children[0],f=qt(c);u=h.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}else{const h=c.children[0];for(const f of h.children)f.textContent=f.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),r&&f.setAttribute("style",r);u=c.getBBox(),u.height+=6}return i.attr("transform",`translate(${-u.width/2},${-u.height/2+n})`),u.height}M(Ri,"addText");var Glt=M(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function p4(t,e,{config:n}){const{labelStyles:r,nodeStyles:i}=Mt(e);e.labelStyle=r||"";const s=10,l=e.width;e.width=(e.width??200)-10;const{shapeSvg:c,bbox:u,label:h}=await It(t,e,Pt(e)),f=e.padding||10;let p="",m;"ticket"in e&&e.ticket&&n?.kanban?.ticketBaseUrl&&(p=n?.kanban?.ticketBaseUrl.replace("#TICKET#",e.ticket),m=c.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",p).attr("target","_blank"));const y={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let x,v;m?{label:x,bbox:v}=await tb(m,"ticket"in e&&e.ticket||"",y):{label:x,bbox:v}=await tb(c,"ticket"in e&&e.ticket||"",y);const{label:S,bbox:_}=await tb(c,"assigned"in e&&e.assigned||"",y);e.width=l;const E=10,T=e?.width||0,A=Math.max(v.height,_.height)/2,D=Math.max(u.height+E*2,e?.height||0)+A,B=-T/2,L=-D/2;h.attr("transform","translate("+(f-T/2)+", "+(-A-u.height/2)+")"),x.attr("transform","translate("+(f-T/2)+", "+(-A+u.height/2)+")"),S.attr("transform","translate("+(f+T/2-_.width-2*s)+", "+(-A+u.height/2)+")");let z;const{rx:V,ry:Y}=e,{cssStyles:U}=e;if(e.look==="handDrawn"){const X=kt.svg(c),Z=At(e,{}),$=V||Y?X.path(As(B,L,T,D,V||0),Z):X.rectangle(B,L,T,D,Z);z=c.insert(()=>$,":first-child"),z.attr("class","basic label-container").attr("style",U||null)}else{z=c.insert("rect",":first-child"),z.attr("class","basic label-container __APA__").attr("style",i).attr("rx",V??5).attr("ry",Y??5).attr("x",B).attr("y",L).attr("width",T).attr("height",D);const X="priority"in e&&e.priority;if(X){const Z=c.append("line"),$=B+2,q=L+Math.floor((V??0)/2),R=L+D-Math.floor((V??0)/2);Z.attr("x1",$).attr("y1",q).attr("x2",$).attr("y2",R).attr("stroke-width","4").attr("stroke",Glt(X))}}return Dt(e,z),e.height=D,e.intersect=function(X){return wt.rect(e,X)},c}M(p4,"kanbanItem");async function g4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:l,label:c}=await It(t,e,Pt(e)),u=s.width+10*l,h=s.height+8*l,f=.15*u,{cssStyles:p}=e,m=s.width+20,y=s.height+20,x=Math.max(u,m),v=Math.max(h,y);c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let S;const _=`M0 0 
    a${f},${f} 1 0,0 ${x*.25},${-1*v*.1}
    a${f},${f} 1 0,0 ${x*.25},0
    a${f},${f} 1 0,0 ${x*.25},0
    a${f},${f} 1 0,0 ${x*.25},${v*.1}

    a${f},${f} 1 0,0 ${x*.15},${v*.33}
    a${f*.8},${f*.8} 1 0,0 0,${v*.34}
    a${f},${f} 1 0,0 ${-1*x*.15},${v*.33}

    a${f},${f} 1 0,0 ${-1*x*.25},${v*.15}
    a${f},${f} 1 0,0 ${-1*x*.25},0
    a${f},${f} 1 0,0 ${-1*x*.25},0
    a${f},${f} 1 0,0 ${-1*x*.25},${-1*v*.15}

    a${f},${f} 1 0,0 ${-1*x*.1},${-1*v*.33}
    a${f*.8},${f*.8} 1 0,0 0,${-1*v*.34}
    a${f},${f} 1 0,0 ${x*.1},${-1*v*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const E=kt.svg(i),T=At(e,{}),A=E.path(_,T);S=i.insert(()=>A,":first-child"),S.attr("class","basic label-container").attr("style",Yn(p))}else S=i.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",_);return S.attr("transform",`translate(${-x/2}, ${-v/2})`),Dt(e,S),e.calcIntersect=function(E,T){return wt.rect(E,T)},e.intersect=function(E){return mt.info("Bang intersect",e,E),wt.rect(e,E)},i}M(g4,"bang");async function m4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:l,label:c}=await It(t,e,Pt(e)),u=s.width+2*l,h=s.height+2*l,f=.15*u,p=.25*u,m=.35*u,y=.2*u,{cssStyles:x}=e;let v;const S=`M0 0 
    a${f},${f} 0 0,1 ${u*.25},${-1*u*.1}
    a${m},${m} 1 0,1 ${u*.4},${-1*u*.1}
    a${p},${p} 1 0,1 ${u*.35},${u*.2}

    a${f},${f} 1 0,1 ${u*.15},${h*.35}
    a${y},${y} 1 0,1 ${-1*u*.15},${h*.65}

    a${p},${f} 1 0,1 ${-1*u*.25},${u*.15}
    a${m},${m} 1 0,1 ${-1*u*.5},0
    a${f},${f} 1 0,1 ${-1*u*.25},${-1*u*.15}

    a${f},${f} 1 0,1 ${-1*u*.1},${-1*h*.35}
    a${y},${y} 1 0,1 ${u*.1},${-1*h*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const _=kt.svg(i),E=At(e,{}),T=_.path(S,E);v=i.insert(()=>T,":first-child"),v.attr("class","basic label-container").attr("style",Yn(x))}else v=i.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",S);return c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),v.attr("transform",`translate(${-u/2}, ${-h/2})`),Dt(e,v),e.calcIntersect=function(_,E){return wt.rect(_,E)},e.intersect=function(_){return mt.info("Cloud intersect",e,_),wt.rect(e,_)},i}M(m4,"cloud");async function y4(t,e){const{labelStyles:n,nodeStyles:r}=Mt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:l,label:c}=await It(t,e,Pt(e)),u=s.width+8*l,h=s.height+2*l,f=5,p=`
    M${-u/2} ${h/2-f}
    v${-h+2*f}
    q0,-${f} ${f},-${f}
    h${u-2*f}
    q${f},0 ${f},${f}
    v${h-2*f}
    q0,${f} -${f},${f}
    h${-u+2*f}
    q-${f},0 -${f},-${f}
    Z
  `,m=i.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",r).attr("d",p);return i.append("line").attr("class","node-line-").attr("x1",-u/2).attr("y1",h/2).attr("x2",u/2).attr("y2",h/2),c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>c.node()),Dt(e,m),e.calcIntersect=function(y,x){return wt.rect(y,x)},e.intersect=function(y){return wt.rect(e,y)},i}M(y4,"defaultMindmapNode");async function x4(t,e){const n={padding:e.padding??0};return $2(t,e,n)}M(x4,"mindmapCircle");var Xlt=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Xj},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Wj},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Zj},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:t4},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:bj},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:$2},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:g4},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:m4},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Vj},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:kj},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:jj},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Oj},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:a4},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Bj},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:wj},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:r4},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:hj},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Yj},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Jj},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Qj},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:_j},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Ej},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:gj},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:mj},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:yj},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:$j},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:l4},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Tj},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:i4},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:zj},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:xj},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:vj},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:o4},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:u4},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:Sj},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:s4},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Cj},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Gj},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Ij},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:Fj},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:uj},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:pj},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:n4},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:e4},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:c4},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:qj},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:Pj}],Zlt=M(()=>{const e=[...Object.entries({state:Kj,choice:dj,note:Hj,rectWithTitle:Uj,labelRect:Rj,iconSquare:Nj,iconCircle:Mj,icon:Aj,iconRounded:Dj,imageSquare:Lj,anchor:cj,kanbanItem:p4,mindmapCircle:x4,defaultMindmapNode:y4,classBox:d4,erBox:z2,requirementBox:f4}),...Xlt.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(i=>[i,n.handler]))];return Object.fromEntries(e)},"generateShapeMap"),b4=Zlt();function Klt(t){return t in b4}M(Klt,"isValidShape");var Tm=new Map;async function v4(t,e,n){let r,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const s=e.shape?b4[e.shape]:void 0;if(!s)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let l;n.config.securityLevel==="sandbox"?l="_top":e.linkTarget&&(l=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",l??null),i=await s(r,e,n)}else i=await s(t,e,n),r=i;return e.tooltip&&i.attr("title",e.tooltip),Tm.set(e.id,r),e.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}M(v4,"insertNode");var bft=M((t,e)=>{Tm.set(e.id,t)},"setNodeElem"),vft=M(()=>{Tm.clear()},"clear"),wft=M(t=>{const e=Tm.get(t.id);mt.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode"),Qlt=M((t,e,n,r,i,s)=>{e.arrowTypeStart&&rM(t,"start",e.arrowTypeStart,n,r,i,s),e.arrowTypeEnd&&rM(t,"end",e.arrowTypeEnd,n,r,i,s)},"addEdgeMarkers"),Jlt={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},rM=M((t,e,n,r,i,s,l)=>{const c=Jlt[n];if(!c){mt.warn(`Unknown arrow type: ${n}`);return}const u=c.type,f=`${i}_${s}-${u}${e==="start"?"Start":"End"}`;if(l&&l.trim()!==""){const p=l.replace(/[^\dA-Za-z]/g,"_"),m=`${f}_${p}`;if(!document.getElementById(m)){const y=document.getElementById(f);if(y){const x=y.cloneNode(!0);x.id=m,x.querySelectorAll("path, circle, line").forEach(S=>{S.setAttribute("stroke",l),c.fill&&S.setAttribute("fill",l)}),y.parentNode?.appendChild(x)}}t.attr(`marker-${e}`,`url(${r}#${m})`)}else t.attr(`marker-${e}`,`url(${r}#${f})`)},"addEdgeMarker"),kg=new Map,$n=new Map,Sft=M(()=>{kg.clear(),$n.clear()},"clear"),Qf=M(t=>t?t.reduce((n,r)=>n+";"+r,""):"","getLabelStyles"),tct=M(async(t,e)=>{let n=wn(pe().flowchart.htmlLabels);const{labelStyles:r}=Mt(e);e.labelStyle=r;const i=await Es(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});mt.info("abc82",e,e.labelType);const s=t.insert("g").attr("class","edgeLabel"),l=s.insert("g").attr("class","label").attr("data-id",e.id);l.node().appendChild(i);let c=i.getBBox();if(n){const h=i.children[0],f=qt(i);c=h.getBoundingClientRect(),f.attr("width",c.width),f.attr("height",c.height)}l.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),kg.set(e.id,s),e.width=c.width,e.height=c.height;let u;if(e.startLabelLeft){const h=await co(e.startLabelLeft,Qf(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");u=p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),$n.get(e.id)||$n.set(e.id,{}),$n.get(e.id).startLeft=f,$u(u,e.startLabelLeft)}if(e.startLabelRight){const h=await co(e.startLabelRight,Qf(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");u=f.node().appendChild(h),p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),$n.get(e.id)||$n.set(e.id,{}),$n.get(e.id).startRight=f,$u(u,e.startLabelRight)}if(e.endLabelLeft){const h=await co(e.endLabelLeft,Qf(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");u=p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),f.node().appendChild(h),$n.get(e.id)||$n.set(e.id,{}),$n.get(e.id).endLeft=f,$u(u,e.endLabelLeft)}if(e.endLabelRight){const h=await co(e.endLabelRight,Qf(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");u=p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),f.node().appendChild(h),$n.get(e.id)||$n.set(e.id,{}),$n.get(e.id).endRight=f,$u(u,e.endLabelRight)}return i},"insertEdgeLabel");function $u(t,e){pe().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}M($u,"setTerminalWidth");var ect=M((t,e)=>{mt.debug("Moving label abc88 ",t.id,t.label,kg.get(t.id),e);let n=e.updatedPath?e.updatedPath:e.originalPath;const r=pe(),{subGraphTitleTotalMargin:i}=p2(r);if(t.label){const s=kg.get(t.id);let l=t.x,c=t.y;if(n){const u=gi.calcLabelPosition(n);mt.debug("Moving label "+t.label+" from (",l,",",c,") to (",u.x,",",u.y,") abc88"),e.updatedPath&&(l=u.x,c=u.y)}s.attr("transform",`translate(${l}, ${c+i/2})`)}if(t.startLabelLeft){const s=$n.get(t.id).startLeft;let l=t.x,c=t.y;if(n){const u=gi.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);l=u.x,c=u.y}s.attr("transform",`translate(${l}, ${c})`)}if(t.startLabelRight){const s=$n.get(t.id).startRight;let l=t.x,c=t.y;if(n){const u=gi.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);l=u.x,c=u.y}s.attr("transform",`translate(${l}, ${c})`)}if(t.endLabelLeft){const s=$n.get(t.id).endLeft;let l=t.x,c=t.y;if(n){const u=gi.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);l=u.x,c=u.y}s.attr("transform",`translate(${l}, ${c})`)}if(t.endLabelRight){const s=$n.get(t.id).endRight;let l=t.x,c=t.y;if(n){const u=gi.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);l=u.x,c=u.y}s.attr("transform",`translate(${l}, ${c})`)}},"positionEdgeLabel"),nct=M((t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),s=Math.abs(e.y-r),l=t.width/2,c=t.height/2;return i>=l||s>=c},"outsideNode"),rct=M((t,e,n)=>{mt.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,s=Math.abs(r-n.x),l=t.width/2;let c=n.x<e.x?l-s:l+s;const u=t.height/2,h=Math.abs(e.y-n.y),f=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*l>Math.abs(r-e.x)*u){let p=n.y<e.y?e.y-u-i:i-u-e.y;c=f*p/h;const m={x:n.x<e.x?n.x+c:n.x-f+c,y:n.y<e.y?n.y+h-p:n.y-h+p};return c===0&&(m.x=e.x,m.y=e.y),f===0&&(m.x=e.x),h===0&&(m.y=e.y),mt.debug(`abc89 top/bottom calc, Q ${h}, q ${p}, R ${f}, r ${c}`,m),m}else{n.x<e.x?c=e.x-l-r:c=r-l-e.x;let p=h*c/f,m=n.x<e.x?n.x+f-c:n.x-f+c,y=n.y<e.y?n.y+p:n.y-p;return mt.debug(`sides calc abc89, Q ${h}, q ${p}, R ${f}, r ${c}`,{_x:m,_y:y}),c===0&&(m=e.x,y=e.y),f===0&&(m=e.x),h===0&&(y=e.y),{x:m,y}}},"intersection"),iM=M((t,e)=>{mt.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach(s=>{if(mt.info("abc88 checking point",s,e),!nct(e,s)&&!i){const l=rct(e,r,s);mt.debug("abc88 inside",s,r,l),mt.debug("abc88 intersection",l,e);let c=!1;n.forEach(u=>{c=c||u.x===l.x&&u.y===l.y}),n.some(u=>u.x===l.x&&u.y===l.y)?mt.warn("abc88 no intersect",l,n):n.push(l),i=!0}else mt.warn("abc88 outside",s,r),r=s,i||n.push(s)}),mt.debug("returning points",n),n},"cutPathAtIntersect");function w4(t){const e=[],n=[];for(let r=1;r<t.length-1;r++){const i=t[r-1],s=t[r],l=t[r+1];(i.x===s.x&&s.y===l.y&&Math.abs(s.x-l.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===l.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-l.y)>5)&&(e.push(s),n.push(r))}return{cornerPoints:e,cornerPointPositions:n}}M(w4,"extractCornerPoints");var aM=M(function(t,e,n){const r=e.x-t.x,i=e.y-t.y,s=Math.sqrt(r*r+i*i),l=n/s;return{x:e.x-l*r,y:e.y-l*i}},"findAdjacentPoint"),ict=M(function(t){const{cornerPointPositions:e}=w4(t),n=[];for(let r=0;r<t.length;r++)if(e.includes(r)){const i=t[r-1],s=t[r+1],l=t[r],c=aM(i,l,5),u=aM(s,l,5),h=u.x-c.x,f=u.y-c.y;n.push(c);const p=Math.sqrt(2)*2;let m={x:l.x,y:l.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){mt.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const y=5;l.x===c.x?m={x:h<0?c.x-y+p:c.x+y-p,y:f<0?c.y-p:c.y+p}:m={x:h<0?c.x-p:c.x+p,y:f<0?c.y-y+p:c.y+y-p}}else mt.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));n.push(m,u)}else n.push(t[r]);return n},"fixCorners"),act=M((t,e,n)=>{const r=t-e-n,i=2,s=2,l=i+s,c=Math.floor(r/l),u=Array(c).fill(`${i} ${s}`).join(" ");return`0 ${e} ${u} ${n}`},"generateDashArray"),sct=M(function(t,e,n,r,i,s,l,c=!1){const{handDrawnSeed:u}=pe();let h=e.points,f=!1;const p=i;var m=s;const y=[];for(const $ in e.cssCompiledStyles)QR($)||y.push(e.cssCompiledStyles[$]);mt.debug("UIO intersect check",e.points,m.x,p.x),m.intersect&&p.intersect&&!c&&(h=h.slice(1,e.points.length-1),h.unshift(p.intersect(h[0])),mt.debug("Last point UIO",e.start,"-->",e.end,h[h.length-1],m,m.intersect(h[h.length-1])),h.push(m.intersect(h[h.length-1])));const x=btoa(JSON.stringify(h));e.toCluster&&(mt.info("to cluster abc88",n.get(e.toCluster)),h=iM(e.points,n.get(e.toCluster).node),f=!0),e.fromCluster&&(mt.debug("from cluster abc88",n.get(e.fromCluster),JSON.stringify(h,null,2)),h=iM(h.reverse(),n.get(e.fromCluster).node).reverse(),f=!0);let v=h.filter($=>!Number.isNaN($.y));v=ict(v);let S=mp;switch(S=rg,e.curve){case"linear":S=rg;break;case"basis":S=mp;break;case"cardinal":S=nB;break;case"bumpX":S=K5;break;case"bumpY":S=Q5;break;case"catmullRom":S=iB;break;case"monotoneX":S=uB;break;case"monotoneY":S=hB;break;case"natural":S=fB;break;case"step":S=pB;break;case"stepAfter":S=mB;break;case"stepBefore":S=gB;break;default:S=mp}const{x:_,y:E}=iit(e),T=Int().x(_).y(E).curve(S);let A;switch(e.thickness){case"normal":A="edge-thickness-normal";break;case"thick":A="edge-thickness-thick";break;case"invisible":A="edge-thickness-invisible";break;default:A="edge-thickness-normal"}switch(e.pattern){case"solid":A+=" edge-pattern-solid";break;case"dotted":A+=" edge-pattern-dotted";break;case"dashed":A+=" edge-pattern-dashed";break;default:A+=" edge-pattern-solid"}let D,B=e.curve==="rounded"?S4(C4(v,e),5):T(v);const L=Array.isArray(e.style)?e.style:[e.style];let z=L.find($=>$?.startsWith("stroke:")),V=!1;if(e.look==="handDrawn"){const $=kt.svg(t);Object.assign([],v);const q=$.path(B,{roughness:.3,seed:u});A+=" transition",D=qt(q).select("path").attr("id",e.id).attr("class"," "+A+(e.classes?" "+e.classes:"")).attr("style",L?L.reduce((F,j)=>F+";"+j,""):"");let R=D.attr("d");D.attr("d",R),t.node().appendChild(D.node())}else{const $=y.join(";"),q=L?L.reduce((P,G)=>P+G+";",""):"";let R="";e.animate&&(R=" edge-animation-fast"),e.animation&&(R=" edge-animation-"+e.animation);const F=($?$+";"+q+";":q)+";"+(L?L.reduce((P,G)=>P+";"+G,""):"");D=t.append("path").attr("d",B).attr("id",e.id).attr("class"," "+A+(e.classes?" "+e.classes:"")+(R??"")).attr("style",F),z=F.match(/stroke:([^;]+)/)?.[1],V=e.animate===!0||!!e.animation||$.includes("animation");const j=D.node(),W=typeof j.getTotalLength=="function"?j.getTotalLength():0,Q=wA[e.arrowTypeStart]||0,I=wA[e.arrowTypeEnd]||0;if(e.look==="neo"&&!V){const G=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?act(W,Q,I):`0 ${Q} ${W-Q-I} ${I}`}; stroke-dashoffset: 0;`;D.attr("style",G+D.attr("style"))}}D.attr("data-edge",!0),D.attr("data-et","edge"),D.attr("data-id",e.id),D.attr("data-points",x),e.showPoints&&v.forEach($=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",$.x).attr("cy",$.y)});let Y="";(pe().flowchart.arrowMarkerAbsolute||pe().state.arrowMarkerAbsolute)&&(Y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Y=Y.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),mt.info("arrowTypeStart",e.arrowTypeStart),mt.info("arrowTypeEnd",e.arrowTypeEnd),Qlt(D,e,Y,l,r,z);const U=Math.floor(h.length/2),X=h[U];gi.isLabelCoordinateInPath(X,D.attr("d"))||(f=!0);let Z={};return f&&(Z.updatedPath=h),Z.originalPath=e.points,Z},"insertEdge");function S4(t,e){if(t.length<2)return"";let n="";const r=t.length,i=1e-5;for(let s=0;s<r;s++){const l=t[s],c=t[s-1],u=t[s+1];if(s===0)n+=`M${l.x},${l.y}`;else if(s===r-1)n+=`L${l.x},${l.y}`;else{const h=l.x-c.x,f=l.y-c.y,p=u.x-l.x,m=u.y-l.y,y=Math.hypot(h,f),x=Math.hypot(p,m);if(y<i||x<i){n+=`L${l.x},${l.y}`;continue}const v=h/y,S=f/y,_=p/x,E=m/x,T=v*_+S*E,A=Math.max(-1,Math.min(1,T)),D=Math.acos(A);if(D<i||Math.abs(Math.PI-D)<i){n+=`L${l.x},${l.y}`;continue}const B=Math.min(e/Math.sin(D/2),y/2,x/2),L=l.x-v*B,z=l.y-S*B,V=l.x+_*B,Y=l.y+E*B;n+=`L${L},${z}`,n+=`Q${l.x},${l.y} ${V},${Y}`}}return n}M(S4,"generateRoundedPath");function Dv(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};const n=e.x-t.x,r=e.y-t.y;return{angle:Math.atan2(r,n),deltaX:n,deltaY:r}}M(Dv,"calculateDeltaAndAngle");function C4(t,e){const n=t.map(i=>({...i}));if(t.length>=2&&Vn[e.arrowTypeStart]){const i=Vn[e.arrowTypeStart],s=t[0],l=t[1],{angle:c}=Dv(s,l),u=i*Math.cos(c),h=i*Math.sin(c);n[0].x=s.x+u,n[0].y=s.y+h}const r=t.length;if(r>=2&&Vn[e.arrowTypeEnd]){const i=Vn[e.arrowTypeEnd],s=t[r-1],l=t[r-2],{angle:c}=Dv(l,s),u=i*Math.cos(c),h=i*Math.sin(c);n[r-1].x=s.x-u,n[r-1].y=s.y-h}return n}M(C4,"applyMarkerOffsetsToPoints");var oct=M((t,e,n,r)=>{e.forEach(i=>{Cct[i](t,n,r)})},"insertMarkers"),lct=M((t,e,n)=>{mt.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),cct=M((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),uct=M((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),hct=M((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),dct=M((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),fct=M((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),pct=M((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),gct=M((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),mct=M((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),yct=M((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),xct=M((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("d","M9,0 L9,18");const i=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),bct=M((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),vct=M((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),wct=M((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),Sct=M((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");r.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),r.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),r.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),Cct={extension:lct,composition:cct,aggregation:uct,dependency:hct,lollipop:dct,point:fct,circle:pct,cross:gct,barb:mct,only_one:yct,zero_or_one:xct,one_or_more:bct,zero_or_more:vct,requirement_arrow:wct,requirement_contains:Sct},_ct=oct,Tct={common:mc,getConfig:Un,insertCluster:Blt,insertEdge:sct,insertEdgeLabel:tct,insertMarkers:_ct,insertNode:v4,interpolateToCurve:b2,labelHelper:It,log:mt,positionEdgeLabel:ect},Ah={},_4=M(t=>{for(const e of t)Ah[e.name]=e},"registerLayoutLoaders"),kct=M(()=>{_4([{name:"dagre",loader:M(async()=>await me(()=>import("./dagre-6UL2VRFP-DyhQoE6M.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:M(async()=>await me(()=>import("./cose-bilkent-S5V4N54A-muM0_7HI.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");kct();var Cft=M(async(t,e)=>{if(!(t.layoutAlgorithm in Ah))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const n=Ah[t.layoutAlgorithm];return(await n.loader()).render(t,e,Tct,{algorithm:n.algorithm})},"render"),_ft=M((t="",{fallback:e="dagre"}={})=>{if(t in Ah)return t;if(e in Ah)return mt.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),T4="comm",k4="rule",E4="decl",Ect="@import",Act="@namespace",Mct="@keyframes",Dct="@layer",A4=Math.abs,P2=String.fromCharCode;function M4(t){return t.trim()}function wp(t,e,n){return t.replace(e,n)}function Nct(t,e,n){return t.indexOf(e,n)}function Fl(t,e){return t.charCodeAt(e)|0}function lc(t,e,n){return t.slice(e,n)}function Oi(t){return t.length}function Lct(t){return t.length}function Jf(t,e){return e.push(t),t}var km=1,cc=1,D4=0,ei=0,cn=0,wc="";function F2(t,e,n,r,i,s,l,c){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:km,column:cc,length:l,return:"",siblings:c}}function Bct(){return cn}function Rct(){return cn=ei>0?Fl(wc,--ei):0,cc--,cn===10&&(cc=1,km--),cn}function bi(){return cn=ei<D4?Fl(wc,ei++):0,cc++,cn===10&&(cc=1,km++),cn}function us(){return Fl(wc,ei)}function Sp(){return ei}function Em(t,e){return lc(wc,t,e)}function Mh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Oct(t){return km=cc=1,D4=Oi(wc=t),ei=0,[]}function jct(t){return wc="",t}function eb(t){return M4(Em(ei-1,Nv(t===91?t+2:t===40?t+1:t)))}function $ct(t){for(;(cn=us())&&cn<33;)bi();return Mh(t)>2||Mh(cn)>3?"":" "}function zct(t,e){for(;--e&&bi()&&!(cn<48||cn>102||cn>57&&cn<65||cn>70&&cn<97););return Em(t,Sp()+(e<6&&us()==32&&bi()==32))}function Nv(t){for(;bi();)switch(cn){case t:return ei;case 34:case 39:t!==34&&t!==39&&Nv(cn);break;case 40:t===41&&Nv(t);break;case 92:bi();break}return ei}function Pct(t,e){for(;bi()&&t+cn!==57;)if(t+cn===84&&us()===47)break;return"/*"+Em(e,ei-1)+"*"+P2(t===47?t:bi())}function Fct(t){for(;!Mh(us());)bi();return Em(t,ei)}function Ict(t){return jct(Cp("",null,null,null,[""],t=Oct(t),0,[0],t))}function Cp(t,e,n,r,i,s,l,c,u){for(var h=0,f=0,p=l,m=0,y=0,x=0,v=1,S=1,_=1,E=0,T="",A=i,D=s,B=r,L=T;S;)switch(x=E,E=bi()){case 40:if(x!=108&&Fl(L,p-1)==58){Nct(L+=wp(eb(E),"&","&\f"),"&\f",A4(h?c[h-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:L+=eb(E);break;case 9:case 10:case 13:case 32:L+=$ct(x);break;case 92:L+=zct(Sp()-1,7);continue;case 47:switch(us()){case 42:case 47:Jf(Hct(Pct(bi(),Sp()),e,n,u),u),(Mh(x||1)==5||Mh(us()||1)==5)&&Oi(L)&&lc(L,-1,void 0)!==" "&&(L+=" ");break;default:L+="/"}break;case 123*v:c[h++]=Oi(L)*_;case 125*v:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+f:_==-1&&(L=wp(L,/\f/g,"")),y>0&&(Oi(L)-p||v===0&&x===47)&&Jf(y>32?oM(L+";",r,n,p-1,u):oM(wp(L," ","")+";",r,n,p-2,u),u);break;case 59:L+=";";default:if(Jf(B=sM(L,e,n,h,f,i,c,T,A=[],D=[],p,s),s),E===123)if(f===0)Cp(L,e,B,B,A,s,p,c,D);else{switch(m){case 99:if(Fl(L,3)===110)break;case 108:if(Fl(L,2)===97)break;default:f=0;case 100:case 109:case 115:}f?Cp(t,B,B,r&&Jf(sM(t,B,B,0,0,i,c,T,i,A=[],p,D),D),i,D,p,c,r?A:D):Cp(L,B,B,B,[""],D,0,c,D)}}h=f=y=0,v=_=1,T=L="",p=l;break;case 58:p=1+Oi(L),y=x;default:if(v<1){if(E==123)--v;else if(E==125&&v++==0&&Rct()==125)continue}switch(L+=P2(E),E*v){case 38:_=f>0?1:(L+="\f",-1);break;case 44:c[h++]=(Oi(L)-1)*_,_=1;break;case 64:us()===45&&(L+=eb(bi())),m=us(),f=p=Oi(T=L+=Fct(Sp())),E++;break;case 45:x===45&&Oi(L)==2&&(v=0)}}return s}function sM(t,e,n,r,i,s,l,c,u,h,f,p){for(var m=i-1,y=i===0?s:[""],x=Lct(y),v=0,S=0,_=0;v<r;++v)for(var E=0,T=lc(t,m+1,m=A4(S=l[v])),A=t;E<x;++E)(A=M4(S>0?y[E]+" "+T:wp(T,/&\f/g,y[E])))&&(u[_++]=A);return F2(t,e,n,i===0?k4:c,u,h,f,p)}function Hct(t,e,n,r){return F2(t,e,n,T4,P2(Bct()),lc(t,2,-2),0,r)}function oM(t,e,n,r,i){return F2(t,e,n,E4,lc(t,0,r),lc(t,r+1,-1),r,i)}function Lv(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Vct(t,e,n,r){switch(t.type){case Dct:if(t.children.length)break;case Ect:case Act:case E4:return t.return=t.return||t.value;case T4:return"";case Mct:return t.return=t.value+"{"+Lv(t.children,r)+"}";case k4:if(!Oi(t.value=t.props.join(",")))return""}return Oi(n=Lv(t.children,r))?t.return=t.value+"{"+n+"}":""}var qct=nO(Object.keys,Object),Uct=Object.prototype,Wct=Uct.hasOwnProperty;function Yct(t){if(!mm(t))return qct(t);var e=[];for(var n in Object(t))Wct.call(t,n)&&n!="constructor"&&e.push(n);return e}var Bv=Do(Wi,"DataView"),Rv=Do(Wi,"Promise"),Ov=Do(Wi,"Set"),jv=Do(Wi,"WeakMap"),lM="[object Map]",Gct="[object Object]",cM="[object Promise]",uM="[object Set]",hM="[object WeakMap]",dM="[object DataView]",Xct=Mo(Bv),Zct=Mo(kh),Kct=Mo(Rv),Qct=Mo(Ov),Jct=Mo(jv),eo=xc;(Bv&&eo(new Bv(new ArrayBuffer(1)))!=dM||kh&&eo(new kh)!=lM||Rv&&eo(Rv.resolve())!=cM||Ov&&eo(new Ov)!=uM||jv&&eo(new jv)!=hM)&&(eo=function(t){var e=xc(t),n=e==Gct?t.constructor:void 0,r=n?Mo(n):"";if(r)switch(r){case Xct:return dM;case Zct:return lM;case Kct:return cM;case Qct:return uM;case Jct:return hM}return e});var tut="[object Map]",eut="[object Set]",nut=Object.prototype,rut=nut.hasOwnProperty;function fM(t){if(t==null)return!0;if(ym(t)&&(mg(t)||typeof t=="string"||typeof t.splice=="function"||y2(t)||x2(t)||gg(t)))return!t.length;var e=eo(t);if(e==tut||e==eut)return!t.size;if(mm(t))return!Yct(t).length;for(var n in t)if(rut.call(t,n))return!1;return!0}var N4="c4",iut=M(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),aut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-Djqzazvf.js");return{diagram:e}},__vite__mapDeps([8,9]));return{id:N4,diagram:t}},"loader"),sut={id:N4,detector:iut,loader:aut},out=sut,L4="flowchart",lut=M((t,e)=>e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(t),"detector"),cut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-B5xjCLHv.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:L4,diagram:t}},"loader"),uut={id:L4,detector:lut,loader:cut},hut=uut,B4="flowchart-v2",dut=M((t,e)=>e?.flowchart?.defaultRenderer==="dagre-d3"?!1:(e?.flowchart?.defaultRenderer==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(t)),"detector"),fut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-B5xjCLHv.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:B4,diagram:t}},"loader"),put={id:B4,detector:dut,loader:fut},gut=put,R4="er",mut=M(t=>/^\s*erDiagram/.test(t),"detector"),yut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-z0Gyy2kA.js");return{diagram:e}},__vite__mapDeps([15,12,13,14]));return{id:R4,diagram:t}},"loader"),xut={id:R4,detector:mut,loader:yut},but=xut,O4="gitGraph",vut=M(t=>/^\s*gitGraph/.test(t),"detector"),wut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-vTZEFbY2.js");return{diagram:e}},__vite__mapDeps([16,17,18,19,4,2]));return{id:O4,diagram:t}},"loader"),Sut={id:O4,detector:vut,loader:wut},Cut=Sut,j4="gantt",_ut=M(t=>/^\s*gantt/.test(t),"detector"),Tut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./ganttDiagram-JELNMOA3-Ctqnxh_A.js");return{diagram:e}},__vite__mapDeps([20,21,22,23]));return{id:j4,diagram:t}},"loader"),kut={id:j4,detector:_ut,loader:Tut},Eut=kut,$4="info",Aut=M(t=>/^\s*info/.test(t),"detector"),Mut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./infoDiagram-WHAUD3N6-HLv0GVxG.js");return{diagram:e}},__vite__mapDeps([24,19,4,2]));return{id:$4,diagram:t}},"loader"),Dut={id:$4,detector:Aut,loader:Mut},z4="pie",Nut=M(t=>/^\s*pie/.test(t),"detector"),Lut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX--QQuEYnD.js");return{diagram:e}},__vite__mapDeps([25,17,19,4,2,26,27,22]));return{id:z4,diagram:t}},"loader"),But={id:z4,detector:Nut,loader:Lut},P4="quadrantChart",Rut=M(t=>/^\s*quadrantChart/.test(t),"detector"),Out=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-WLXNJHVc.js");return{diagram:e}},__vite__mapDeps([28,21,22,23]));return{id:P4,diagram:t}},"loader"),jut={id:P4,detector:Rut,loader:Out},$ut=jut,F4="xychart",zut=M(t=>/^\s*xychart(-beta)?/.test(t),"detector"),Put=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-EPlMNzu_.js");return{diagram:e}},__vite__mapDeps([29,22,27,21,23]));return{id:F4,diagram:t}},"loader"),Fut={id:F4,detector:zut,loader:Put},Iut=Fut,I4="requirement",Hut=M(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),Vut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-CVQG8WNB.js");return{diagram:e}},__vite__mapDeps([30,12,13]));return{id:I4,diagram:t}},"loader"),qut={id:I4,detector:Hut,loader:Vut},Uut=qut,H4="sequence",Wut=M(t=>/^\s*sequenceDiagram/.test(t),"detector"),Yut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-Dg9ePxxy.js");return{diagram:e}},__vite__mapDeps([31,9,18]));return{id:H4,diagram:t}},"loader"),Gut={id:H4,detector:Wut,loader:Yut},Xut=Gut,V4="class",Zut=M((t,e)=>e?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t),"detector"),Kut=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-BEKXQ7ER.js");return{diagram:e}},__vite__mapDeps([32,33,11,12,13]));return{id:V4,diagram:t}},"loader"),Qut={id:V4,detector:Zut,loader:Kut},Jut=Qut,q4="classDiagram",tht=M((t,e)=>/^\s*classDiagram/.test(t)&&e?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t),"detector"),eht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-BEKXQ7ER.js");return{diagram:e}},__vite__mapDeps([34,33,11,12,13]));return{id:q4,diagram:t}},"loader"),nht={id:q4,detector:tht,loader:eht},rht=nht,U4="state",iht=M((t,e)=>e?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t),"detector"),aht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-BSPOXe00.js");return{diagram:e}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:U4,diagram:t}},"loader"),sht={id:U4,detector:iht,loader:aht},oht=sht,W4="stateDiagram",lht=M((t,e)=>!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&e?.state?.defaultRenderer==="dagre-wrapper"),"detector"),cht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-DVaj1zR1.js");return{diagram:e}},__vite__mapDeps([37,36,12,13]));return{id:W4,diagram:t}},"loader"),uht={id:W4,detector:lht,loader:cht},hht=uht,Y4="journey",dht=M(t=>/^\s*journey/.test(t),"detector"),fht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-DgygRIio.js");return{diagram:e}},__vite__mapDeps([38,9,11,26]));return{id:Y4,diagram:t}},"loader"),pht={id:Y4,detector:dht,loader:fht},ght=pht,mht=M((t,e,n)=>{mt.debug(`rendering svg for syntax error
`);const r=Znt(e),i=r.append("g");r.attr("viewBox","0 0 2412 512"),W5(r,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),G4={draw:mht},yht=G4,xht={db:{},renderer:G4,parser:{parse:M(()=>{},"parse")}},bht=xht,X4="flowchart-elk",vht=M((t,e={})=>/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&e?.flowchart?.defaultRenderer==="elk"?(e.layout="elk",!0):!1,"detector"),wht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-B5xjCLHv.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:X4,diagram:t}},"loader"),Sht={id:X4,detector:vht,loader:wht},Cht=Sht,Z4="timeline",_ht=M(t=>/^\s*timeline/.test(t),"detector"),Tht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-CMsohGh-.js");return{diagram:e}},__vite__mapDeps([39,26]));return{id:Z4,diagram:t}},"loader"),kht={id:Z4,detector:_ht,loader:Tht},Eht=kht,K4="mindmap",Aht=M(t=>/^\s*mindmap/.test(t),"detector"),Mht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-D6YNDqKg.js");return{diagram:e}},__vite__mapDeps([40,12,13]));return{id:K4,diagram:t}},"loader"),Dht={id:K4,detector:Aht,loader:Mht},Nht=Dht,Q4="kanban",Lht=M(t=>/^\s*kanban/.test(t),"detector"),Bht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-CrQxP0Ke.js");return{diagram:e}},__vite__mapDeps([41,11]));return{id:Q4,diagram:t}},"loader"),Rht={id:Q4,detector:Lht,loader:Bht},Oht=Rht,J4="sankey",jht=M(t=>/^\s*sankey(-beta)?/.test(t),"detector"),$ht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-DzAg1YGX.js");return{diagram:e}},__vite__mapDeps([42,27,22]));return{id:J4,diagram:t}},"loader"),zht={id:J4,detector:jht,loader:$ht},Pht=zht,t$="packet",Fht=M(t=>/^\s*packet(-beta)?/.test(t),"detector"),Iht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-CZQY3apa.js");return{diagram:e}},__vite__mapDeps([43,17,19,4,2]));return{id:t$,diagram:t}},"loader"),Hht={id:t$,detector:Fht,loader:Iht},e$="radar",Vht=M(t=>/^\s*radar-beta/.test(t),"detector"),qht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-Cr8KXtP8.js");return{diagram:e}},__vite__mapDeps([44,17,19,4,2]));return{id:e$,diagram:t}},"loader"),Uht={id:e$,detector:Vht,loader:qht},n$="block",Wht=M(t=>/^\s*block(-beta)?/.test(t),"detector"),Yht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-CaYVrb5K.js");return{diagram:e}},__vite__mapDeps([45,11,5,1,2,14]));return{id:n$,diagram:t}},"loader"),Ght={id:n$,detector:Wht,loader:Yht},Xht=Ght,r$="architecture",Zht=M(t=>/^\s*architecture/.test(t),"detector"),Kht=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-AkJPI0qX.js");return{diagram:e}},__vite__mapDeps([46,17,19,4,2,7]));return{id:r$,diagram:t}},"loader"),Qht={id:r$,detector:Zht,loader:Kht},Jht=Qht,i$="treemap",tdt=M(t=>/^\s*treemap/.test(t),"detector"),edt=M(async()=>{const{diagram:t}=await me(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-CTO8u-fb.js");return{diagram:e}},__vite__mapDeps([47,13,17,19,4,2,23,27,22]));return{id:i$,diagram:t}},"loader"),ndt={id:i$,detector:tdt,loader:edt},pM=!1,Am=M(()=>{pM||(pM=!0,ng("error",bht,t=>t.toLowerCase().trim()==="error"),ng("---",{db:{clear:M(()=>{},"clear")},styles:{},renderer:{draw:M(()=>{},"draw")},parser:{parse:M(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:M(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),Zb(Cht,Nht,Jht),Zb(out,Oht,rht,Jut,but,Eut,Dut,But,Uut,Xut,gut,hut,Eht,Cut,hht,oht,ght,$ut,Pht,Hht,Iut,Xht,Uht,ndt))},"addDiagrams"),rdt=M(async()=>{mt.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(wo).map(async([n,{detector:r,loader:i}])=>{if(i)try{tv(n)}catch{try{const{diagram:s,id:l}=await i();ng(l,s,r)}catch(s){throw mt.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete wo[n],s}}}))).filter(n=>n.status==="rejected");if(e.length>0){mt.error(`Failed to load ${e.length} external diagrams`);for(const n of e)mt.error(n);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),idt="graphics-document document";function a$(t,e){t.attr("role",idt),e!==""&&t.attr("aria-roledescription",e)}M(a$,"setA11yDiagramInfo");function s$(t,e,n,r){if(t.insert!==void 0){if(n){const i=`chart-desc-${r}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(n)}if(e){const i=`chart-title-${r}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}M(s$,"addSVGa11yTitleDescription");var po,$v=(po=class{constructor(e,n,r,i,s){this.type=e,this.text=n,this.db=r,this.parser=i,this.renderer=s}static async fromText(e,n={}){const r=Un(),i=X1(e,r);e=not(e)+`
`;try{tv(i)}catch{const h=Fet(i);if(!h)throw new R5(`Diagram ${i} not found.`);const{id:f,diagram:p}=await h();ng(f,p)}const{db:s,parser:l,renderer:c,init:u}=tv(i);return l.parser&&(l.parser.yy=s),s.clear?.(),u?.(r),n.title&&s.setDiagramTitle?.(n.title),await l.parse(e),new po(i,e,s,l,c)}async render(e,n){await this.renderer.draw(this.text,e,n,this)}getParser(){return this.parser}getType(){return this.type}},M(po,"Diagram"),po),gM=[],adt=M(()=>{gM.forEach(t=>{t()}),gM=[]},"attachFunctions"),sdt=M(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function o$(t){const e=t.match(B5);if(!e)return{text:t,metadata:{}};let n=rit(e[1],{schema:nit})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const r={};return n.displayMode&&(r.displayMode=n.displayMode.toString()),n.title&&(r.title=n.title.toString()),n.config&&(r.config=n.config),{text:t.slice(e[0].length),metadata:r}}M(o$,"extractFrontMatter");var odt=M(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,n,r)=>"<"+n+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),ldt=M(t=>{const{text:e,metadata:n}=o$(t),{displayMode:r,title:i,config:s={}}=n;return r&&(s.gantt||(s.gantt={}),s.gantt.displayMode=r),{title:i,config:s,text:e}},"processFrontmatter"),cdt=M(t=>{const e=gi.detectInit(t)??{},n=gi.detectDirective(t,"wrap");return Array.isArray(n)?e.wrap=n.some(({type:r})=>r==="wrap"):n?.type==="wrap"&&(e.wrap=!0),{text:Vst(t),directive:e}},"processDirectives");function I2(t){const e=odt(t),n=ldt(e),r=cdt(n.text),i=_2(n.config,r.directive);return t=sdt(r.text),{code:t,title:n.title,config:i}}M(I2,"preprocessDiagram");function l$(t){const e=new TextEncoder().encode(t),n=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(n)}M(l$,"toBase64");var udt=5e4,hdt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",ddt="sandbox",fdt="loose",pdt="http://www.w3.org/2000/svg",gdt="http://www.w3.org/1999/xlink",mdt="http://www.w3.org/1999/xhtml",ydt="100%",xdt="100%",bdt="border:0;margin:0;",vdt="margin:0",wdt="allow-top-navigation-by-user-activation allow-popups",Sdt='The "iframe" tag is not supported by your browser.',Cdt=["foreignobject"],_dt=["dominant-baseline"];function H2(t){const e=I2(t);return tg(),nnt(e.config??{}),e}M(H2,"processAndSetConfigs");async function c$(t,e){Am();try{const{code:n,config:r}=H2(t);return{diagramType:(await h$(n)).type,config:r}}catch(n){if(e?.suppressErrors)return!1;throw n}}M(c$,"parse");var mM=M((t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),Tdt=M((t,e=new Map)=>{let n="";if(t.themeCSS!==void 0&&(n+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const l=t.htmlLabels??t.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(c=>{fM(c.styles)||l.forEach(u=>{n+=mM(c.id,u,c.styles)}),fM(c.textStyles)||(n+=mM(c.id,"tspan",(c?.textStyles||[]).map(u=>u.replace("color","fill"))))})}return n},"createCssStyles"),kdt=M((t,e,n,r)=>{const i=Tdt(t,n),s=Snt(e,i,t.themeVariables);return Lv(Ict(`${r}{${s}}`),Vct)},"createUserStyles"),Edt=M((t="",e,n)=>{let r=t;return!n&&!e&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=No(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),Adt=M((t="",e)=>{const n=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":xdt,r=l$(`<body style="${vdt}">${t}</body>`);return`<iframe style="width:${ydt};height:${n};${bdt}" src="data:text/html;charset=UTF-8;base64,${r}" sandbox="${wdt}">
  ${Sdt}
</iframe>`},"putIntoIFrame"),yM=M((t,e,n,r,i)=>{const s=t.append("div");s.attr("id",n),r&&s.attr("style",r);const l=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",pdt);return i&&l.attr("xmlns:xlink",i),l.append("g"),t},"appendDivSvgG");function zv(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}M(zv,"sandboxedIframe");var Mdt=M((t,e,n,r)=>{t.getElementById(e)?.remove(),t.getElementById(n)?.remove(),t.getElementById(r)?.remove()},"removeExistingElements"),Ddt=M(async function(t,e,n){Am();const r=H2(e);e=r.code;const i=Un();mt.debug(i),e.length>(i?.maxTextSize??udt)&&(e=hdt);const s="#"+t,l="i"+t,c="#"+l,u="d"+t,h="#"+u,f=M(()=>{const Z=qt(m?c:h).node();Z&&"remove"in Z&&Z.remove()},"removeTempElements");let p=qt("body");const m=i.securityLevel===ddt,y=i.securityLevel===fdt,x=i.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),m){const X=zv(qt(n),l);p=qt(X.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=qt(n);yM(p,t,u,`font-family: ${x}`,gdt)}else{if(Mdt(document,t,u,l),m){const X=zv(qt("body"),l);p=qt(X.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=qt("body");yM(p,t,u)}let v,S;try{v=await $v.fromText(e,{title:r.title})}catch(X){if(i.suppressErrorRendering)throw f(),X;v=await $v.fromText("error"),S=X}const _=p.select(h).node(),E=v.type,T=_.firstChild,A=T.firstChild,D=v.renderer.getClasses?.(e,v),B=kdt(i,E,D,s),L=document.createElement("style");L.innerHTML=B,T.insertBefore(L,A);try{await v.renderer.draw(e,t,QE.version,v)}catch(X){throw i.suppressErrorRendering?f():yht.draw(e,t,QE.version),X}const z=p.select(`${h} svg`),V=v.db.getAccTitle?.(),Y=v.db.getAccDescription?.();d$(E,z,V,Y),p.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",mdt);let U=p.select(h).node().innerHTML;if(mt.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),U=Edt(U,m,wn(i.arrowMarkerAbsolute)),m){const X=p.select(h+" svg").node();U=Adt(U,X)}else y||(U=rc.sanitize(U,{ADD_TAGS:Cdt,ADD_ATTR:_dt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(adt(),S)throw S;return f(),{diagramType:E,svg:U,bindFunctions:v.db.bindFunctions}},"render");function u$(t={}){const e=bn({},t);e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),tnt(e),e?.theme&&e.theme in wa?e.themeVariables=wa[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=wa.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?Jet(e):P5();G1(n.logLevel),Am()}M(u$,"initialize");var h$=M((t,e={})=>{const{code:n}=I2(t);return $v.fromText(n,e)},"getDiagramFromText");function d$(t,e,n,r){a$(e,t),s$(e,n,r,e.attr("id"))}M(d$,"addA11yInfo");var ko=Object.freeze({render:Ddt,parse:c$,getDiagramFromText:h$,initialize:u$,getConfig:Un,setConfig:F5,getSiteConfig:P5,updateSiteConfig:ent,reset:M(()=>{tg()},"reset"),globalReset:M(()=>{tg(ic)},"globalReset"),defaultConfig:ic});G1(Un().logLevel);tg(Un());var Ndt=M((t,e,n)=>{mt.warn(t),C2(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),f$=M(async function(t={querySelector:".mermaid"}){try{await Ldt(t)}catch(e){if(C2(e)&&mt.error(e.str),Ea.parseError&&Ea.parseError(e),!t.suppressErrors)throw mt.error("Use the suppressErrors option to suppress these errors"),e}},"run"),Ldt=M(async function({postRenderCallback:t,querySelector:e,nodes:n}={querySelector:".mermaid"}){const r=ko.getConfig();mt.debug(`${t?"":"No "}Callback function found`);let i;if(n)i=n;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");mt.debug(`Found ${i.length} diagrams`),r?.startOnLoad!==void 0&&(mt.debug("Start On Load: "+r?.startOnLoad),ko.updateSiteConfig({startOnLoad:r?.startOnLoad}));const s=new gi.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let l;const c=[];for(const u of Array.from(i)){if(mt.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");const h=`mermaid-${s.next()}`;l=u.innerHTML,l=RO(gi.entityDecode(l)).trim().replace(/<br\s*\/?>/gi,"<br/>");const f=gi.detectInit(l);f&&mt.debug("Detected early reinit: ",f);try{const{svg:p,bindFunctions:m}=await y$(h,l,u);u.innerHTML=p,t&&await t(h),m&&m(u)}catch(p){Ndt(p,c,Ea.parseError)}}if(c.length>0)throw c[0]},"runThrowsErrors"),p$=M(function(t){ko.initialize(t)},"initialize"),Bdt=M(async function(t,e,n){mt.warn("mermaid.init is deprecated. Please use run instead."),t&&p$(t);const r={postRenderCallback:n,querySelector:".mermaid"};typeof e=="string"?r.querySelector=e:e&&(e instanceof HTMLElement?r.nodes=[e]:r.nodes=e),await f$(r)},"init"),Rdt=M(async(t,{lazyLoad:e=!0}={})=>{Am(),Zb(...t),e===!1&&await rdt()},"registerExternalDiagrams"),g$=M(function(){if(Ea.startOnLoad){const{startOnLoad:t}=ko.getConfig();t&&Ea.run().catch(e=>mt.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",g$,!1);var Odt=M(function(t){Ea.parseError=t},"setParseErrorHandler"),Eg=[],nb=!1,m$=M(async()=>{if(!nb){for(nb=!0;Eg.length>0;){const t=Eg.shift();if(t)try{await t()}catch(e){mt.error("Error executing queue",e)}}nb=!1}},"executeQueue"),jdt=M(async(t,e)=>new Promise((n,r)=>{const i=M(()=>new Promise((s,l)=>{ko.parse(t,e).then(c=>{s(c),n(c)},c=>{mt.error("Error parsing",c),Ea.parseError?.(c),l(c),r(c)})}),"performCall");Eg.push(i),m$().catch(r)}),"parse"),y$=M((t,e,n)=>new Promise((r,i)=>{const s=M(()=>new Promise((l,c)=>{ko.render(t,e,n).then(u=>{l(u),r(u)},u=>{mt.error("Error parsing",u),Ea.parseError?.(u),c(u),i(u)})}),"performCall");Eg.push(s),m$().catch(i)}),"render"),$dt=M(()=>Object.keys(wo).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),Ea={startOnLoad:!0,mermaidAPI:ko,parse:jdt,render:y$,init:Bdt,run:f$,registerExternalDiagrams:Rdt,registerLayoutLoaders:_4,initialize:p$,parseError:void 0,contentLoaded:g$,setParseErrorHandler:Odt,detectType:X1,registerIconPacks:slt,getRegisteredDiagramsMetadata:$dt},x$=Ea;const zdt=[{id:"flow",label:"Workflow"},{id:"architecture",label:"Architecture"},{id:"agent-flow",label:"Agent Flow"},{id:"custom",label:"Custom"}];x$.initialize({startOnLoad:!1,theme:"dark",themeVariables:{primaryColor:"#3B82F6",primaryTextColor:"#EDEDEF",primaryBorderColor:"#2A2A2E",lineColor:"#5A5A5D",secondaryColor:"#1C1C1F",tertiaryColor:"#141416",background:"#0A0A0B",mainBkg:"#141416",nodeBorder:"#2A2A2E",clusterBkg:"#1C1C1F",titleColor:"#EDEDEF",edgeLabelBackground:"#141416"}});function Pdt(){return`flowchart TD
    A[ Analyst\\nProject Brief] --> B[ PM\\nPRD]
    B --> C[ UX Designer\\nUX Spec]
    B --> D[ Architect\\nArchitecture]
    C --> E[ PO\\nValidation]
    D --> E
    E --> F[ Scrum Master\\nTask Sharding]
    D --> G[ Data Engineer\\nDatabase Design]
    F --> H[ Developer\\nImplementation]
    G --> H
    H --> I[ QA\\nTesting]
    I --> J[ DevOps\\nDeploy]
    
    style A fill:#A855F720,stroke:#A855F7
    style B fill:#A855F720,stroke:#A855F7
    style C fill:#10B98120,stroke:#10B981
    style D fill:#3B82F620,stroke:#3B82F6
    style E fill:#A855F720,stroke:#A855F7
    style F fill:#EF444420,stroke:#EF4444
    style G fill:#3B82F620,stroke:#3B82F6
    style H fill:#3B82F620,stroke:#3B82F6
    style I fill:#EF444420,stroke:#EF4444
    style J fill:#3B82F620,stroke:#3B82F6`}function Fdt(){return`flowchart TB
    subgraph UI[" AG Dev UI (React)"]
      CV[Cockpit View]
      TV[Terminal View]
      GV[Gantt View]
      SV[Strategy Canvas]
    end
    
    subgraph Server[" AG Dev Server (Express)"]
      API[REST API]
      SSE[SSE Stream]
      State[State Manager]
    end
    
    subgraph Bridge[" WebSocket Bridge"]
      WS[WS Client]
    end
    
    subgraph Gateway[" Clawdbot Gateway"]
      Agent[Agent Loop]
      Sessions[Session Manager]
      Tools[Tool Pipeline]
      Hooks[Lifecycle Hooks]
    end
    
    UI --> |HTTP + SSE| Server
    Server --> |WebSocket v3| Bridge
    Bridge --> |Protocol v3| Gateway
    Gateway --> |Events| Bridge
    Bridge --> |SSE Broadcast| Server
    Server --> |Real-time| UI
    
    style UI fill:#3B82F610,stroke:#3B82F6
    style Server fill:#10B98110,stroke:#10B981
    style Bridge fill:#A855F710,stroke:#A855F7
    style Gateway fill:#EF444410,stroke:#EF4444`}function Idt(t,e){const n=["flowchart LR"],r=e.filter(l=>t[l.id]?.status==="working"),i=e.filter(l=>t[l.id]?.status==="done"),s=e.filter(l=>!t[l.id]||t[l.id]?.status==="idle");return n.push('  subgraph Active[" Active"]'),r.forEach(l=>n.push(`    ${l.id}["${l.icon} ${l.shortName}"]`)),r.length===0&&n.push('    none_active["No active agents"]'),n.push("  end"),n.push('  subgraph Done[" Done"]'),i.forEach(l=>n.push(`    ${l.id}["${l.icon} ${l.shortName}"]`)),i.length===0&&n.push('    none_done["None yet"]'),n.push("  end"),n.push('  subgraph Waiting[" Waiting"]'),s.forEach(l=>n.push(`    ${l.id}["${l.icon} ${l.shortName}"]`)),n.push("  end"),n.push("  style Active fill:#10B98110,stroke:#10B981"),n.push("  style Done fill:#3B82F610,stroke:#3B82F6"),n.push("  style Waiting fill:#1C1C1F,stroke:#2A2A2E"),n.join(`
`)}const Hdt=k.memo(function(){const{agents:e,agentMetas:n}=En(),[r,i]=k.useState("flow"),[s,l]=k.useState(`flowchart TD
  A[Start] --> B[End]`),[c,u]=k.useState(!1),[h,f]=k.useState("");k.useRef(null);const p=k.useRef(0),m=k.useCallback(()=>{switch(r){case"flow":return Pdt();case"architecture":return Fdt();case"agent-flow":return Idt(e,n);case"custom":return s}},[r,e,n,s]),y=k.useCallback(async()=>{const v=m();try{const S=`mermaid-${++p.current}`,{svg:_}=await x$.render(S,v);f(_)}catch(S){f(`<p style="color:#EF4444;padding:20px">Diagram error: ${S instanceof Error?S.message:"Unknown error"}</p>`)}},[m]);k.useEffect(()=>{y()},[y]);const x=()=>{const v=new Blob([h],{type:"image/svg+xml"}),S=URL.createObjectURL(v),_=document.createElement("a");_.href=S,_.download=`ag-dev-${r}.svg`,_.click(),URL.revokeObjectURL(S)};return C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",style:{borderColor:O.bg.border},children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("h2",{className:"text-lg font-semibold",style:{color:O.text.primary},children:" Diagrams"}),C.jsx("div",{className:"flex items-center gap-1",children:zdt.map(v=>C.jsx("button",{onClick:()=>{i(v.id),u(!1)},className:"px-3 py-1.5 rounded-md text-xs font-medium transition-colors",style:{backgroundColor:r===v.id?O.bg.surfaceActive:"transparent",color:r===v.id?O.text.primary:O.text.secondary},children:v.label},v.id))})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-colors hover:bg-white/5 border",style:{borderColor:O.bg.border,color:O.text.secondary},children:[c?C.jsx(iN,{size:12}):C.jsx(ah,{size:12}),c?"Preview":"Edit"]}),C.jsxs("button",{onClick:y,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-colors hover:bg-white/5 border",style:{borderColor:O.bg.border,color:O.text.secondary},children:[C.jsx(hN,{size:12}),"Refresh"]}),C.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium",style:{backgroundColor:O.accent,color:"#fff"},children:[C.jsx(rN,{size:12}),"Export SVG"]})]})]}),C.jsx("div",{className:"flex-1 flex overflow-hidden",children:c?C.jsxs("div",{className:"flex-1 flex",children:[C.jsx("div",{className:"w-1/2 border-r p-4",style:{borderColor:O.bg.border},children:C.jsx("textarea",{value:r==="custom"?s:m(),onChange:v=>{r==="custom"&&l(v.target.value)},readOnly:r!=="custom",className:"w-full h-full rounded-lg p-3 font-mono text-xs resize-none outline-none border",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.primary}})}),C.jsx("div",{className:"w-1/2 overflow-auto flex items-center justify-center p-4",dangerouslySetInnerHTML:{__html:h}})]}):C.jsx("div",{className:"flex-1 overflow-auto flex items-center justify-center p-8",style:{backgroundColor:O.bg.primary},dangerouslySetInnerHTML:{__html:h}})})]})}),Vdt={agent_status:"#3B82F6",agent_paused:"#F59E0B",agent_resumed:"#10B981",chat_message:"#A855F7",agent_command:"#60A5FA",doc_saved:"#34D399",git_commit:"#10B981",error:"#EF4444",system:"#EAB308"},qdt={agent_status:"",agent_paused:"",agent_resumed:"",chat_message:"",agent_command:"",doc_saved:"",git_commit:"",error:"",system:""},Udt=k.memo(function(){const[e,n]=k.useState([]),[r,i]=k.useState(""),[s,l]=k.useState(null),[c,u]=k.useState(!0),h=k.useRef(null);k.useEffect(()=>{const y=async()=>{try{const S=await(await fetch("/api/timeline")).json();n(S.events||[])}catch{}};y();const x=setInterval(y,5e3);return()=>clearInterval(x)},[]),k.useEffect(()=>{c&&h.current&&h.current.scrollTo({top:h.current.scrollHeight,behavior:"smooth"})},[e,c]);const f=e.filter(y=>!(s&&y.type!==s||r&&!JSON.stringify(y).toLowerCase().includes(r.toLowerCase()))),p=[...new Set(e.map(y=>y.type))],m=()=>{const y=f.map(_=>`[${_.time}] ${_.type}: ${_.preview||_.message||JSON.stringify(_)}`).join(`
`),x=new Blob([y],{type:"text/plain"}),v=URL.createObjectURL(x),S=document.createElement("a");S.href=v,S.download=`ag-dev-logs-${new Date().toISOString().slice(0,10)}.txt`,S.click(),URL.revokeObjectURL(v)};return C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b",style:{borderColor:O.bg.border},children:[C.jsx("h2",{className:"text-lg font-semibold",style:{color:O.text.primary},children:" Logs"}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"flex items-center gap-1.5 rounded-lg border px-2.5 py-1.5",style:{borderColor:O.bg.border},children:[C.jsx(pN,{size:12,style:{color:O.text.muted}}),C.jsx("input",{value:r,onChange:y=>i(y.target.value),placeholder:"Filter logs...",className:"bg-transparent text-xs outline-none w-40",style:{color:O.text.primary}})]}),C.jsxs("select",{value:s||"",onChange:y=>l(y.target.value||null),className:"rounded-lg border px-2.5 py-1.5 text-xs outline-none",style:{backgroundColor:O.bg.surface,borderColor:O.bg.border,color:O.text.primary},children:[C.jsx("option",{value:"",children:"All types"}),p.map(y=>C.jsx("option",{value:y,children:y},y))]}),C.jsx("button",{onClick:m,className:"p-1.5 rounded hover:bg-white/5",style:{color:O.text.secondary},title:"Export",children:C.jsx(rN,{size:14})}),C.jsx("button",{onClick:()=>n([]),className:"p-1.5 rounded hover:bg-white/5",style:{color:O.text.secondary},title:"Clear",children:C.jsx(yN,{size:14})})]})]}),C.jsxs("div",{ref:h,className:"flex-1 overflow-y-auto font-mono text-xs p-4 space-y-0.5",style:{backgroundColor:"#050506"},onScroll:()=>{if(!h.current)return;const{scrollTop:y,scrollHeight:x,clientHeight:v}=h.current;u(x-y-v<50)},children:[f.length===0&&C.jsx("p",{className:"text-center py-12",style:{color:O.text.muted},children:e.length===0?"No log entries yet":"No entries match filter"}),f.map((y,x)=>{const v=Vdt[y.type]||O.text.secondary,S=qdt[y.type]||"",_=y.time?new Date(y.time).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"--:--:--";return C.jsxs("div",{className:"flex items-start gap-2 leading-relaxed py-0.5 hover:bg-white/[0.02] rounded px-1",children:[C.jsxs("span",{style:{color:O.text.muted},className:"flex-shrink-0 select-none",children:["[",_,"]"]}),C.jsx("span",{className:"flex-shrink-0",children:S}),C.jsx("span",{className:"font-semibold flex-shrink-0",style:{color:v},children:y.type}),y.agentId&&C.jsx("span",{className:"flex-shrink-0 px-1 rounded text-[9px]",style:{backgroundColor:v+"15",color:v},children:y.agentId}),C.jsx("span",{style:{color:O.text.primary},children:y.preview||y.message||(y.from?`from: ${y.from}`:"")})]},x)})]}),C.jsxs("div",{className:"px-4 py-2 border-t flex items-center justify-between text-[10px]",style:{borderColor:O.bg.border,color:O.text.muted},children:[C.jsxs("span",{children:[f.length," entries",r||s?` (filtered from ${e.length})`:""]}),C.jsx("span",{children:c?" Auto-scroll ON":" Auto-scroll OFF (scroll to bottom to resume)"})]})]})}),Wdt=[{id:"cockpit",label:"Cockpit",icon:C.jsx(eH,{size:15}),shortcut:"1"},{id:"pipeline",label:"Pipeline",icon:C.jsx(lN,{size:15}),shortcut:"2"},{id:"gantt",label:"Gantt",icon:C.jsx(C9,{size:15}),shortcut:"3"},{id:"emergence",label:"Emergence",icon:C.jsx(sH,{size:15}),shortcut:"4"},{id:"strategy",label:"Strategy",icon:C.jsx(TH,{size:15}),shortcut:"5"},{id:"terminal",label:"Terminal",icon:C.jsx(mN,{size:15}),shortcut:"6"},{id:"diagrams",label:"Diagrams",icon:C.jsx(bH,{size:15}),shortcut:"7"},{id:"logs",label:"Logs",icon:C.jsx(gH,{size:15}),shortcut:"8"},{id:"docs",label:"Docs",icon:C.jsx(aN,{size:15}),shortcut:"9"}];function Ydt(){const{bridge:t}=En();return C.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md text-[11px]",title:t.connected?`Connected to Clawdbot gateway (${t.latency}ms)`:"Disconnected from Clawdbot gateway",style:{color:t.connected?O.status.working:O.status.error,backgroundColor:t.connected?O.status.working+"10":O.status.error+"10"},children:[t.connected?C.jsx(RH,{size:12}):C.jsx(LH,{size:12}),C.jsx("span",{className:"hidden sm:inline",children:t.connected?"Connected":"Offline"})]})}function Gdt(){const{currentView:t,setView:e,selectedAgentId:n}=vi(),{openCommandPalette:r}=vi(),[i,s]=k.useState(!1),[l,c]=k.useState(!1);k.useEffect(()=>{fetch("/api/project/config").then(h=>h.json()).then(h=>{(!h.configured||!h.name)&&s(!0),c(!0)}).catch(()=>c(!0))},[]),IH(),HH(),VH("/api/state",15e3),qH();const u=n&&(t==="agent"||t==="cockpit")?"agent":n&&t==="terminal"?"terminal":t;return C.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",style:{backgroundColor:O.bg.primary},children:[C.jsxs("header",{className:"flex items-center justify-between px-3 py-1.5 border-b flex-shrink-0",style:{backgroundColor:O.bg.surface,borderColor:O.bg.border},children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("h1",{className:"text-sm font-bold tracking-tight flex items-center gap-1.5",style:{color:O.text.primary},children:[C.jsx("span",{className:"text-base",children:""})," AG Dev"]}),C.jsx("nav",{className:"flex items-center gap-0.5",children:Wdt.map(h=>{const f=t===h.id||h.id==="cockpit"&&u==="agent";return C.jsxs("button",{onClick:()=>e(h.id),className:"flex items-center gap-1 px-2.5 py-1.5 rounded-md text-[11px] font-medium transition-all",style:{backgroundColor:f?O.bg.surfaceActive:"transparent",color:f?O.text.primary:O.text.secondary},children:[h.icon,C.jsx("span",{className:"hidden md:inline",children:h.label})]},h.id)})})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Ydt,{}),C.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-2.5 py-1 rounded-lg border text-[11px] transition-colors hover:border-white/20",style:{backgroundColor:O.bg.primary,borderColor:O.bg.border,color:O.text.secondary},children:[C.jsx(pN,{size:13}),C.jsx("span",{className:"hidden sm:inline",children:"Search..."}),C.jsx("kbd",{className:"text-[9px] px-1 py-px rounded border ml-2",style:{borderColor:O.bg.borderLight,color:O.text.muted},children:"K"})]})]})]}),C.jsx(xq,{}),C.jsx("main",{className:"flex-1 flex overflow-hidden",children:C.jsx(_a,{mode:"wait",children:C.jsxs(De.div,{className:"flex-1 flex",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.12},children:[u==="cockpit"&&C.jsx(Aq,{}),u==="agent"&&C.jsx(Mq,{}),u==="pipeline"&&C.jsx(_W,{}),u==="gantt"&&C.jsx(VJ,{}),u==="emergence"&&C.jsx(RJ,{}),u==="terminal"&&C.jsx($J,{}),u==="strategy"&&C.jsx(UJ,{}),u==="diagrams"&&C.jsx(Hdt,{}),u==="logs"&&C.jsx(Udt,{}),u==="docs"&&C.jsx(eet,{})]},u)})}),C.jsx(vq,{}),C.jsx(gq,{}),C.jsx(yq,{}),C.jsx(Sq,{}),i&&C.jsx(Cq,{onComplete:()=>{s(!1),window.location.reload()}})]})}R6.createRoot(document.getElementById("root")).render(C.jsx(re.StrictMode,{children:C.jsx(Gdt,{})}));export{Y5 as $,Xu as A,cet as B,Nnt as C,_2 as D,z5 as E,Un as F,Gst as G,Znt as H,QE as I,nit as J,Wet as K,ac as L,Jdt as M,xm as N,hnt as O,Z1 as P,uA as Q,Int as R,mp as S,Yst as T,Qh as U,bnt as V,Kh as W,Tt as X,$t as Y,Pst as Z,M as _,Tnt as a,bc as a$,$nt as a0,pA as a1,fA as a2,cft as a3,ift as a4,oft as a5,sft as a6,nft as a7,n2 as a8,lft as a9,llt as aA,znt as aB,Qdt as aC,ym as aD,mg as aE,dO as aF,Dh as aG,rd as aH,slt as aI,alt as aJ,ji as aK,Uu as aL,fst as aM,uO as aN,rO as aO,yat as aP,fg as aQ,xat as aR,ed as aS,eo as aT,lst as aU,RA as aV,Ao as aW,bat as aX,y2 as aY,mat as aZ,Sat as a_,rft as aa,vl as ab,hft as ac,uft as ad,aft as ae,Blt as af,v4 as ag,wft as ah,iit as ai,wn as aj,Es as ak,p2 as al,WO as am,No as an,xO as ao,Vt as ap,Vi as aq,_ct as ar,vft as as,Sft as at,xft as au,Dt as av,bft as aw,sct as ax,ect as ay,tct as az,_nt as b,dst as b0,Ost as b1,Eat as b2,Ast as b3,g2 as b4,fM as b5,Mt as b6,QR as b7,_r as b8,CG as b9,B1 as ba,q3 as bb,Uh as bc,Y3 as bd,Kdt as be,oet as bf,Rst as bg,Est as bh,jst as bi,fm as bj,pat as bk,m2 as bl,cO as bm,zst as bn,xc as bo,bst as bp,Yct as bq,td as br,gg as bs,ks as bt,MA as bu,x2 as bv,aO as bw,Ov as bx,me as by,pe as c,qt as d,W5 as e,bn as f,Ent as g,ka as h,ti as i,uit as j,mc as k,mt as l,vO as m,tft as n,_ft as o,Ant as p,Mnt as q,Cft as r,knt as s,rit as t,gi as u,Klt as v,Kst as w,dft as x,Cnt as y,eft as z};
