const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-DQw96V-x.js","assets/graph-CuoO4YlS.js","assets/_baseUniq-Bq5HoJ9E.js","assets/layout-CTsdLZsq.js","assets/min-DCY7f_yn.js","assets/clone-DbDknI_1.js","assets/cose-bilkent-S5V4N54A-DJ1pP_Cq.js","assets/cytoscape.esm-5J0xJHOV.js","assets/c4Diagram-YG6GDRKO-CjiLdSHR.js","assets/chunk-TZMSLE5B-6MqYZOj-.js","assets/flowDiagram-NV44I4VS-C_FSlgEh.js","assets/chunk-FMBD7UC4-CoeVkMGt.js","assets/chunk-55IACEB6-Dsekcz4H.js","assets/chunk-QN33PNHL-BQp3vPR4.js","assets/channel-BLNqi6Xv.js","assets/erDiagram-Q2GNP2WA-ePj0oiTh.js","assets/gitGraphDiagram-NY62KEGX-DVuOeSwz.js","assets/chunk-4BX2VUAB-kp8ghVd7.js","assets/chunk-QZHKN3VN-DnNsWVAy.js","assets/treemap-KMMF4GRG-gOFiun9J.js","assets/ganttDiagram-JELNMOA3-CjoWm5bR.js","assets/linear-X33jlXfO.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-DX6XiGOO.js","assets/infoDiagram-WHAUD3N6-D3RkPuuD.js","assets/pieDiagram-ADFJNKIX-CLNQAtuu.js","assets/arc-Q-01KUC_.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-BkERG9Wt.js","assets/xychartDiagram-PRI3JC2R-CRQupQZh.js","assets/requirementDiagram-UZGBJVZJ-C1BqGu-X.js","assets/sequenceDiagram-WL72ISMW-LJceGkkV.js","assets/classDiagram-2ON5EDUG-o-nUQVS3.js","assets/chunk-B4BG7PRW-wy9wMPtU.js","assets/classDiagram-v2-WZHVMYZB-o-nUQVS3.js","assets/stateDiagram-FKZM4ZOC-BAyIZZbx.js","assets/chunk-DI55MBZ5-CzSolFgD.js","assets/stateDiagram-v2-4FDKWEC3-qhHav4Xr.js","assets/journeyDiagram-XKPGCS4Q-BDySe9M2.js","assets/timeline-definition-IT6M3QCI-C092yvTm.js","assets/mindmap-definition-VGOIOE7T-CitV9eyU.js","assets/kanban-definition-3W4ZIXB7-Bva33A5B.js","assets/sankeyDiagram-TZEHDZUN-DLncSpcB.js","assets/diagram-S2PKOQOG-4oT4a8r7.js","assets/diagram-QEK2KX5R-BjDjkbe_.js","assets/blockDiagram-VD42YOAC-CVc2QwIa.js","assets/architectureDiagram-VXUJARFQ-DCgtzxcl.js","assets/diagram-PSM6KHXK-CCatCbWm.js"])))=>i.map(i=>d[i]);
function C6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Rh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F0={exports:{}},gu={};var k_;function _6(){if(k_)return gu;k_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return gu.Fragment=e,gu.jsx=n,gu.jsxs=n,gu}var T_;function k6(){return T_||(T_=1,F0.exports=_6()),F0.exports}var k=k6(),I0={exports:{}},Gt={};var E_;function T6(){if(E_)return Gt;E_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function _(q,V,K){this.props=q,this.context=V,this.refs=w,this.updater=K||x}_.prototype.isReactComponent={},_.prototype.setState=function(q,V){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,V,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function S(){}S.prototype=_.prototype;function T(q,V,K){this.props=q,this.context=V,this.refs=w,this.updater=K||x}var E=T.prototype=new S;E.constructor=T,b(E,_.prototype),E.isPureReactComponent=!0;var M=Array.isArray;function L(){}var N={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function P(q,V,K){var et=K.ref;return{$$typeof:t,type:q,key:V,ref:et!==void 0?et:null,props:K}}function z(q,V){return P(q.type,V,q.props)}function j(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function W(q){var V={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(K){return V[K]})}var G=/\/+/g;function B(q,V){return typeof q=="object"&&q!==null&&q.key!=null?W(""+q.key):V.toString(36)}function H(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(L,L):(q.status="pending",q.then(function(V){q.status==="pending"&&(q.status="fulfilled",q.value=V)},function(V){q.status==="pending"&&(q.status="rejected",q.reason=V)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function R(q,V,K,et,X){var Q=typeof q;(Q==="undefined"||Q==="boolean")&&(q=null);var tt=!1;if(q===null)tt=!0;else switch(Q){case"bigint":case"string":case"number":tt=!0;break;case"object":switch(q.$$typeof){case t:case e:tt=!0;break;case f:return tt=q._init,R(tt(q._payload),V,K,et,X)}}if(tt)return X=X(q),tt=et===""?"."+B(q,0):et,M(X)?(K="",tt!=null&&(K=tt.replace(G,"$&/")+"/"),R(X,V,K,"",function(pt){return pt})):X!=null&&(j(X)&&(X=z(X,K+(X.key==null||q&&q.key===X.key?"":(""+X.key).replace(G,"$&/")+"/")+tt)),V.push(X)),1;tt=0;var at=et===""?".":et+":";if(M(q))for(var ut=0;ut<q.length;ut++)et=q[ut],Q=at+B(et,ut),tt+=R(et,V,K,Q,X);else if(ut=y(q),typeof ut=="function")for(q=ut.call(q),ut=0;!(et=q.next()).done;)et=et.value,Q=at+B(et,ut++),tt+=R(et,V,K,Q,X);else if(Q==="object"){if(typeof q.then=="function")return R(H(q),V,K,et,X);throw V=String(q),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return tt}function I(q,V,K){if(q==null)return q;var et=[],X=0;return R(q,et,"","",function(Q){return V.call(K,Q,X++)}),et}function U(q){if(q._status===-1){var V=q._result;V=V(),V.then(function(K){(q._status===0||q._status===-1)&&(q._status=1,q._result=K)},function(K){(q._status===0||q._status===-1)&&(q._status=2,q._result=K)}),q._status===-1&&(q._status=0,q._result=V)}if(q._status===1)return q._result.default;throw q._result}var Z=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},nt={map:I,forEach:function(q,V,K){I(q,function(){V.apply(this,arguments)},K)},count:function(q){var V=0;return I(q,function(){V++}),V},toArray:function(q){return I(q,function(V){return V})||[]},only:function(q){if(!j(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Gt.Activity=p,Gt.Children=nt,Gt.Component=_,Gt.Fragment=n,Gt.Profiler=i,Gt.PureComponent=T,Gt.StrictMode=r,Gt.Suspense=u,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},Gt.cache=function(q){return function(){return q.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(q,V,K){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var et=b({},q.props),X=q.key;if(V!=null)for(Q in V.key!==void 0&&(X=""+V.key),V)!$.call(V,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&V.ref===void 0||(et[Q]=V[Q]);var Q=arguments.length-2;if(Q===1)et.children=K;else if(1<Q){for(var tt=Array(Q),at=0;at<Q;at++)tt[at]=arguments[at+2];et.children=tt}return P(q.type,X,et)},Gt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Gt.createElement=function(q,V,K){var et,X={},Q=null;if(V!=null)for(et in V.key!==void 0&&(Q=""+V.key),V)$.call(V,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(X[et]=V[et]);var tt=arguments.length-2;if(tt===1)X.children=K;else if(1<tt){for(var at=Array(tt),ut=0;ut<tt;ut++)at[ut]=arguments[ut+2];X.children=at}if(q&&q.defaultProps)for(et in tt=q.defaultProps,tt)X[et]===void 0&&(X[et]=tt[et]);return P(q,Q,X)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(q){return{$$typeof:c,render:q}},Gt.isValidElement=j,Gt.lazy=function(q){return{$$typeof:f,_payload:{_status:-1,_result:q},_init:U}},Gt.memo=function(q,V){return{$$typeof:h,type:q,compare:V===void 0?null:V}},Gt.startTransition=function(q){var V=N.T,K={};N.T=K;try{var et=q(),X=N.S;X!==null&&X(K,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(L,Z)}catch(Q){Z(Q)}finally{V!==null&&K.types!==null&&(V.types=K.types),N.T=V}},Gt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Gt.use=function(q){return N.H.use(q)},Gt.useActionState=function(q,V,K){return N.H.useActionState(q,V,K)},Gt.useCallback=function(q,V){return N.H.useCallback(q,V)},Gt.useContext=function(q){return N.H.useContext(q)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(q,V){return N.H.useDeferredValue(q,V)},Gt.useEffect=function(q,V){return N.H.useEffect(q,V)},Gt.useEffectEvent=function(q){return N.H.useEffectEvent(q)},Gt.useId=function(){return N.H.useId()},Gt.useImperativeHandle=function(q,V,K){return N.H.useImperativeHandle(q,V,K)},Gt.useInsertionEffect=function(q,V){return N.H.useInsertionEffect(q,V)},Gt.useLayoutEffect=function(q,V){return N.H.useLayoutEffect(q,V)},Gt.useMemo=function(q,V){return N.H.useMemo(q,V)},Gt.useOptimistic=function(q,V){return N.H.useOptimistic(q,V)},Gt.useReducer=function(q,V,K){return N.H.useReducer(q,V,K)},Gt.useRef=function(q){return N.H.useRef(q)},Gt.useState=function(q){return N.H.useState(q)},Gt.useSyncExternalStore=function(q,V,K){return N.H.useSyncExternalStore(q,V,K)},Gt.useTransition=function(){return N.H.useTransition()},Gt.version="19.2.4",Gt}var A_;function Bh(){return A_||(A_=1,I0.exports=T6()),I0.exports}var A=Bh();const re=Rh(A),Pv=C6({__proto__:null,default:re},[A]);var H0={exports:{}},mu={},V0={exports:{}},q0={};var M_;function E6(){return M_||(M_=1,(function(t){function e(R,I){var U=R.length;R.push(I);t:for(;0<U;){var Z=U-1>>>1,nt=R[Z];if(0<i(nt,I))R[Z]=I,R[U]=nt,U=Z;else break t}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],U=R.pop();if(U!==I){R[0]=U;t:for(var Z=0,nt=R.length,q=nt>>>1;Z<q;){var V=2*(Z+1)-1,K=R[V],et=V+1,X=R[et];if(0>i(K,U))et<nt&&0>i(X,K)?(R[Z]=X,R[et]=U,Z=et):(R[Z]=K,R[V]=U,Z=V);else if(et<nt&&0>i(X,U))R[Z]=X,R[et]=U,Z=et;else break t}}return I}function i(R,I){var U=R.sortIndex-I.sortIndex;return U!==0?U:R.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,p=null,m=3,y=!1,x=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function E(R){for(var I=n(h);I!==null;){if(I.callback===null)r(h);else if(I.startTime<=R)r(h),I.sortIndex=I.expirationTime,e(u,I);else break;I=n(h)}}function M(R){if(b=!1,E(R),!x)if(n(u)!==null)x=!0,L||(L=!0,W());else{var I=n(h);I!==null&&H(M,I.startTime-R)}}var L=!1,N=-1,$=5,P=-1;function z(){return w?!0:!(t.unstable_now()-P<$)}function j(){if(w=!1,L){var R=t.unstable_now();P=R;var I=!0;try{t:{x=!1,b&&(b=!1,S(N),N=-1),y=!0;var U=m;try{e:{for(E(R),p=n(u);p!==null&&!(p.expirationTime>R&&z());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,m=p.priorityLevel;var nt=Z(p.expirationTime<=R);if(R=t.unstable_now(),typeof nt=="function"){p.callback=nt,E(R),I=!0;break e}p===n(u)&&r(u),E(R)}else r(u);p=n(u)}if(p!==null)I=!0;else{var q=n(h);q!==null&&H(M,q.startTime-R),I=!1}}break t}finally{p=null,m=U,y=!1}I=void 0}}finally{I?W():L=!1}}}var W;if(typeof T=="function")W=function(){T(j)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,B=G.port2;G.port1.onmessage=j,W=function(){B.postMessage(null)}}else W=function(){_(j,0)};function H(R,I){N=_(function(){R(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var U=m;m=I;try{return R()}finally{m=U}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=m;m=R;try{return I()}finally{m=U}},t.unstable_scheduleCallback=function(R,I,U){var Z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,R){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=U+nt,R={id:f++,callback:I,priorityLevel:R,startTime:U,expirationTime:nt,sortIndex:-1},U>Z?(R.sortIndex=U,e(h,R),n(u)===null&&R===n(h)&&(b?(S(N),N=-1):b=!0,H(M,U-Z))):(R.sortIndex=nt,e(u,R),x||y||(x=!0,L||(L=!0,W()))),R},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(R){var I=m;return function(){var U=m;m=I;try{return R.apply(this,arguments)}finally{m=U}}}})(q0)),q0}var D_;function A6(){return D_||(D_=1,V0.exports=E6()),V0.exports}var U0={exports:{}},Hn={};var N_;function M6(){if(N_)return Hn;N_=1;var t=Bh();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:h,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(u,h,null,f)},Hn.flushSync=function(u){var h=o.T,f=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=h,r.p=f,r.d.f()}},Hn.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},Hn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Hn.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):f==="script"&&r.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Hn.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},Hn.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin);r.d.L(u,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Hn.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=c(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},Hn.requestFormReset=function(u){r.d.r(u)},Hn.unstable_batchedUpdates=function(u,h){return u(h)},Hn.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},Hn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hn.version="19.2.4",Hn}var L_;function gM(){if(L_)return U0.exports;L_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),U0.exports=M6(),U0.exports}var O_;function D6(){if(O_)return mu;O_=1;var t=A6(),e=Bh(),n=gM();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(r(188))}function h(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,g=l;;){var v=d.return;if(v===null)break;var C=v.alternate;if(C===null){if(g=v.return,g!==null){d=g;continue}break}if(v.child===C.child){for(C=v.child;C;){if(C===d)return u(v),a;if(C===g)return u(v),l;C=C.sibling}throw Error(r(188))}if(d.return!==g.return)d=v,g=C;else{for(var O=!1,Y=v.child;Y;){if(Y===d){O=!0,d=v,g=C;break}if(Y===g){O=!0,g=v,d=C;break}Y=Y.sibling}if(!O){for(Y=C.child;Y;){if(Y===d){O=!0,d=C,g=v;break}if(Y===g){O=!0,g=C,d=v;break}Y=Y.sibling}if(!O)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var G=Symbol.for("react.client.reference");function B(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===G?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case b:return"Fragment";case _:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case T:return a.displayName||"Context";case S:return(a._context.displayName||"Context")+".Consumer";case E:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return l=a.displayName||null,l!==null?l:B(a.type)||"Memo";case $:l=a._payload,a=a._init;try{return B(a(l))}catch{}}return null}var H=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},Z=[],nt=-1;function q(a){return{current:a}}function V(a){0>nt||(a.current=Z[nt],Z[nt]=null,nt--)}function K(a,l){nt++,Z[nt]=a.current,a.current=l}var et=q(null),X=q(null),Q=q(null),tt=q(null);function at(a,l){switch(K(Q,l),K(X,a),K(et,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?GC(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=GC(l),a=XC(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(et),K(et,a)}function ut(){V(et),V(X),V(Q)}function pt(a){a.memoizedState!==null&&K(tt,a);var l=et.current,d=XC(l,a.type);l!==d&&(K(X,a),K(et,d))}function vt(a){X.current===a&&(V(et),V(X)),tt.current===a&&(V(tt),hu._currentValue=U)}var bt,kt;function _t(a){if(bt===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);bt=l&&l[1]||"",kt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+a+kt}var Pt=!1;function Yt(a,l){if(!a||Pt)return"";Pt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(dt){var ht=dt}Reflect.construct(a,[],mt)}else{try{mt.call()}catch(dt){ht=dt}a.call(mt.prototype)}}else{try{throw Error()}catch(dt){ht=dt}(mt=a())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(dt){if(dt&&ht&&typeof dt.stack=="string")return[dt.stack,ht.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),O=C[0],Y=C[1];if(O&&Y){var J=O.split(`
`),ct=Y.split(`
`);for(v=g=0;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;for(;v<ct.length&&!ct[v].includes("DetermineComponentFrameRoot");)v++;if(g===J.length||v===ct.length)for(g=J.length-1,v=ct.length-1;1<=g&&0<=v&&J[g]!==ct[v];)v--;for(;1<=g&&0<=v;g--,v--)if(J[g]!==ct[v]){if(g!==1||v!==1)do if(g--,v--,0>v||J[g]!==ct[v]){var ft=`
`+J[g].replace(" at new "," at ");return a.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",a.displayName)),ft}while(1<=g&&0<=v);break}}}finally{Pt=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?_t(d):""}function de(a,l){switch(a.tag){case 26:case 27:case 5:return _t(a.type);case 16:return _t("Lazy");case 13:return a.child!==l&&l!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return Yt(a.type,!1);case 11:return Yt(a.type.render,!1);case 1:return Yt(a.type,!0);case 31:return _t("Activity");default:return""}}function Ye(a){try{var l="",d=null;do l+=de(a,d),d=a,a=a.return;while(a);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Ge=Object.prototype.hasOwnProperty,qe=t.unstable_scheduleCallback,Mn=t.unstable_cancelCallback,lr=t.unstable_shouldYield,cr=t.unstable_requestPaint,Me=t.unstable_now,Zn=t.unstable_getCurrentPriorityLevel,_n=t.unstable_ImmediatePriority,kn=t.unstable_UserBlockingPriority,Dn=t.unstable_NormalPriority,Ir=t.unstable_LowPriority,Ar=t.unstable_IdlePriority,Kn=t.log,ai=t.unstable_setDisableYieldValue,ur=null,Ee=null;function tn(a){if(typeof Kn=="function"&&ai(a),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(ur,a)}catch{}}var Xe=Math.clz32?Math.clz32:Mi,Ki=Math.log,Ra=Math.LN2;function Mi(a){return a>>>=0,a===0?32:31-(Ki(a)/Ra|0)|0}var Mr=256,Di=262144,xe=4194304;function Ne(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ze(a,l,d){var g=a.pendingLanes;if(g===0)return 0;var v=0,C=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var Y=g&134217727;return Y!==0?(g=Y&~C,g!==0?v=Ne(g):(O&=Y,O!==0?v=Ne(O):d||(d=Y&~a,d!==0&&(v=Ne(d))))):(Y=g&~C,Y!==0?v=Ne(Y):O!==0?v=Ne(O):d||(d=g&~a,d!==0&&(v=Ne(d)))),v===0?0:l!==0&&l!==v&&(l&C)===0&&(C=v&-v,d=l&-l,C>=d||C===32&&(d&4194048)!==0)?l:v}function ie(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Ue(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var a=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),a}function pn(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Tn(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Pe(a,l,d,g,v,C){var O=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var Y=a.entanglements,J=a.expirationTimes,ct=a.hiddenUpdates;for(d=O&~d;0<d;){var ft=31-Xe(d),mt=1<<ft;Y[ft]=0,J[ft]=-1;var ht=ct[ft];if(ht!==null)for(ct[ft]=null,ft=0;ft<ht.length;ft++){var dt=ht[ft];dt!==null&&(dt.lane&=-536870913)}d&=~mt}g!==0&&Fn(a,g,0),C!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=C&~(O&~l))}function Fn(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-Xe(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|d&261930}function Nn(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-Xe(d),v=1<<g;v&l|a[g]&l&&(a[g]|=l),d&=~v}}function Le(a,l){var d=l&-l;return d=(d&42)!==0?1:gn(d),(d&(a.suspendedLanes|l))!==0?0:d}function gn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function hr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function In(){var a=I.p;return a!==0?a:(a=window.event,a===void 0?32:x_(a.type))}function dr(a,l){var d=I.p;try{return I.p=a,l()}finally{I.p=d}}var Ln=Math.random().toString(36).slice(2),be="__reactFiber$"+Ln,mn="__reactProps$"+Ln,Hr="__reactContainer$"+Ln,Qi="__reactEvents$"+Ln,Rs="__reactListeners$"+Ln,Tc="__reactHandles$"+Ln,Rt="__reactResources$"+Ln,rt="__reactMarker$"+Ln;function xt(a){delete a[be],delete a[mn],delete a[Qi],delete a[Rs],delete a[Tc]}function Ct(a){var l=a[be];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Hr]||d[be]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=n_(a);a!==null;){if(d=a[be])return d;a=n_(a)}return l}a=d,d=a.parentNode}return null}function le(a){if(a=a[be]||a[Hr]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Oe(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function ve(a){var l=a[Rt];return l||(l=a[Rt]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ae(a){a[rt]=!0}var fr=new Set,si={};function Dr(a,l){De(a,l),De(a+"Capture",l)}function De(a,l){for(si[a]=l,a=0;a<l.length;a++)fr.add(l[a])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ba={},cd={};function Om(a){return Ge.call(cd,a)?!0:Ge.call(Ba,a)?!1:$o.test(a)?cd[a]=!0:(Ba[a]=!0,!1)}function zo(a,l,d){if(Om(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Po(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function oi(a,l,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+g)}}function pr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ud(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Rm(a,l,d){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,C=g.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(O){d=""+O,C.call(this,O)}}),Object.defineProperty(a,l,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(O){d=""+O},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Fo(a){if(!a._valueTracker){var l=ud(a)?"checked":"value";a._valueTracker=Rm(a,l,""+a[l])}}function hd(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=ud(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function Bs(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Bm=/[\n"\\]/g;function gr(a){return a.replace(Bm,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function js(a,l,d,g,v,C,O,Y){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),l!=null?O==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+pr(l)):a.value!==""+pr(l)&&(a.value=""+pr(l)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),l!=null?Ec(a,O,pr(l)):d!=null?Ec(a,O,pr(d)):g!=null&&a.removeAttribute("value"),v==null&&C!=null&&(a.defaultChecked=!!C),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?a.name=""+pr(Y):a.removeAttribute("name")}function dd(a,l,d,g,v,C,O,Y){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),l!=null||d!=null){if(!(C!=="submit"&&C!=="reset"||l!=null)){Fo(a);return}d=d!=null?""+pr(d):"",l=l!=null?""+pr(l):d,Y||l===a.value||(a.value=l),a.defaultValue=l}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=Y?a.checked:!!g,a.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),Fo(a)}function Ec(a,l,d){l==="number"&&Bs(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Ji(a,l,d,g){if(a=a.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<a.length;d++)v=l.hasOwnProperty("$"+a[d].value),a[d].selected!==v&&(a[d].selected=v),v&&g&&(a[d].defaultSelected=!0)}else{for(d=""+pr(d),l=null,v=0;v<a.length;v++){if(a[v].value===d){a[v].selected=!0,g&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function V2(a,l,d){if(l!=null&&(l=""+pr(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+pr(d):""}function q2(a,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(r(92));if(H(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=pr(l),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g),Fo(a)}function Io(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var x4=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function U2(a,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,d):typeof d!="number"||d===0||x4.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function W2(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var v in l)g=l[v],l.hasOwnProperty(v)&&d[v]!==g&&U2(a,v,g)}else for(var C in l)l.hasOwnProperty(C)&&U2(a,C,l[C])}function jm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b4=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),v4=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fd(a){return v4.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ta(){}var $m=null;function zm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ho=null,Vo=null;function Y2(a){var l=le(a);if(l&&(a=l.stateNode)){var d=a[mn]||null;t:switch(a=l.stateNode,l.type){case"input":if(js(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+gr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var v=g[mn]||null;if(!v)throw Error(r(90));js(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===a.form&&hd(g)}break t;case"textarea":V2(a,d.value,d.defaultValue);break t;case"select":l=d.value,l!=null&&Ji(a,!!d.multiple,l,!1)}}}var Pm=!1;function G2(a,l,d){if(Pm)return a(l,d);Pm=!0;try{var g=a(l);return g}finally{if(Pm=!1,(Ho!==null||Vo!==null)&&(tf(),Ho&&(l=Ho,a=Vo,Vo=Ho=null,Y2(l),a)))for(l=0;l<a.length;l++)Y2(a[l])}}function Ac(a,l){var d=a.stateNode;if(d===null)return null;var g=d[mn]||null;if(g===null)return null;d=g[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break t;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fm=!1;if(ea)try{var Mc={};Object.defineProperty(Mc,"passive",{get:function(){Fm=!0}}),window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,Mc)}catch{Fm=!1}var ja=null,Im=null,pd=null;function X2(){if(pd)return pd;var a,l=Im,d=l.length,g,v="value"in ja?ja.value:ja.textContent,C=v.length;for(a=0;a<d&&l[a]===v[a];a++);var O=d-a;for(g=1;g<=O&&l[d-g]===v[C-g];g++);return pd=v.slice(a,1<g?1-g:void 0)}function gd(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function md(){return!0}function Z2(){return!1}function mr(a){function l(d,g,v,C,O){this._reactName=d,this._targetInst=v,this.type=g,this.nativeEvent=C,this.target=O,this.currentTarget=null;for(var Y in a)a.hasOwnProperty(Y)&&(d=a[Y],this[Y]=d?d(C):C[Y]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?md:Z2,this.isPropagationStopped=Z2,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=md)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=md)},persist:function(){},isPersistent:md}),l}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=mr($s),Dc=p({},$s,{view:0,detail:0}),w4=mr(Dc),Hm,Vm,Nc,xd=p({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Um,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Nc&&(Nc&&a.type==="mousemove"?(Hm=a.screenX-Nc.screenX,Vm=a.screenY-Nc.screenY):Vm=Hm=0,Nc=a),Hm)},movementY:function(a){return"movementY"in a?a.movementY:Vm}}),K2=mr(xd),S4=p({},xd,{dataTransfer:0}),C4=mr(S4),_4=p({},Dc,{relatedTarget:0}),qm=mr(_4),k4=p({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),T4=mr(k4),E4=p({},$s,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),A4=mr(E4),M4=p({},$s,{data:0}),Q2=mr(M4),D4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O4(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=L4[a])?!!l[a]:!1}function Um(){return O4}var R4=p({},Dc,{key:function(a){if(a.key){var l=D4[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=gd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?N4[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Um,charCode:function(a){return a.type==="keypress"?gd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?gd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),B4=mr(R4),j4=p({},xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J2=mr(j4),$4=p({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Um}),z4=mr($4),P4=p({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),F4=mr(P4),I4=p({},xd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),H4=mr(I4),V4=p({},$s,{newState:0,oldState:0}),q4=mr(V4),U4=[9,13,27,32],Wm=ea&&"CompositionEvent"in window,Lc=null;ea&&"documentMode"in document&&(Lc=document.documentMode);var W4=ea&&"TextEvent"in window&&!Lc,tw=ea&&(!Wm||Lc&&8<Lc&&11>=Lc),ew=" ",nw=!1;function rw(a,l){switch(a){case"keyup":return U4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var qo=!1;function Y4(a,l){switch(a){case"compositionend":return iw(l);case"keypress":return l.which!==32?null:(nw=!0,ew);case"textInput":return a=l.data,a===ew&&nw?null:a;default:return null}}function G4(a,l){if(qo)return a==="compositionend"||!Wm&&rw(a,l)?(a=X2(),pd=Im=ja=null,qo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return tw&&l.locale!=="ko"?null:l.data;default:return null}}var X4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aw(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!X4[a.type]:l==="textarea"}function sw(a,l,d,g){Ho?Vo?Vo.push(g):Vo=[g]:Ho=g,l=lf(l,"onChange"),0<l.length&&(d=new yd("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var Oc=null,Rc=null;function Z4(a){HC(a,0)}function bd(a){var l=Oe(a);if(hd(l))return a}function ow(a,l){if(a==="change")return l}var lw=!1;if(ea){var Ym;if(ea){var Gm="oninput"in document;if(!Gm){var cw=document.createElement("div");cw.setAttribute("oninput","return;"),Gm=typeof cw.oninput=="function"}Ym=Gm}else Ym=!1;lw=Ym&&(!document.documentMode||9<document.documentMode)}function uw(){Oc&&(Oc.detachEvent("onpropertychange",hw),Rc=Oc=null)}function hw(a){if(a.propertyName==="value"&&bd(Rc)){var l=[];sw(l,Rc,a,zm(a)),G2(Z4,l)}}function K4(a,l,d){a==="focusin"?(uw(),Oc=l,Rc=d,Oc.attachEvent("onpropertychange",hw)):a==="focusout"&&uw()}function Q4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return bd(Rc)}function J4(a,l){if(a==="click")return bd(l)}function tz(a,l){if(a==="input"||a==="change")return bd(l)}function ez(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Nr=typeof Object.is=="function"?Object.is:ez;function Bc(a,l){if(Nr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var v=d[g];if(!Ge.call(l,v)||!Nr(a[v],l[v]))return!1}return!0}function dw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function fw(a,l){var d=dw(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=dw(d)}}function pw(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?pw(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function gw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Bs(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Bs(a.document)}return l}function Xm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var nz=ea&&"documentMode"in document&&11>=document.documentMode,Uo=null,Zm=null,jc=null,Km=!1;function mw(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Km||Uo==null||Uo!==Bs(g)||(g=Uo,"selectionStart"in g&&Xm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),jc&&Bc(jc,g)||(jc=g,g=lf(Zm,"onSelect"),0<g.length&&(l=new yd("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=Uo)))}function zs(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Wo={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Qm={},yw={};ea&&(yw=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Ps(a){if(Qm[a])return Qm[a];if(!Wo[a])return a;var l=Wo[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in yw)return Qm[a]=l[d];return a}var xw=Ps("animationend"),bw=Ps("animationiteration"),vw=Ps("animationstart"),rz=Ps("transitionrun"),iz=Ps("transitionstart"),az=Ps("transitioncancel"),ww=Ps("transitionend"),Sw=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jm.push("scrollEnd");function li(a,l){Sw.set(a,l),Dr(l,[a])}var vd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Vr=[],Yo=0,ty=0;function wd(){for(var a=Yo,l=ty=Yo=0;l<a;){var d=Vr[l];Vr[l++]=null;var g=Vr[l];Vr[l++]=null;var v=Vr[l];Vr[l++]=null;var C=Vr[l];if(Vr[l++]=null,g!==null&&v!==null){var O=g.pending;O===null?v.next=v:(v.next=O.next,O.next=v),g.pending=v}C!==0&&Cw(d,v,C)}}function Sd(a,l,d,g){Vr[Yo++]=a,Vr[Yo++]=l,Vr[Yo++]=d,Vr[Yo++]=g,ty|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function ey(a,l,d,g){return Sd(a,l,d,g),Cd(a)}function Fs(a,l){return Sd(a,null,null,l),Cd(a)}function Cw(a,l,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var v=!1,C=a.return;C!==null;)C.childLanes|=d,g=C.alternate,g!==null&&(g.childLanes|=d),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(v=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,v&&l!==null&&(v=31-Xe(d),a=C.hiddenUpdates,g=a[v],g===null?a[v]=[l]:g.push(l),l.lane=d|536870912),C):null}function Cd(a){if(50<iu)throw iu=0,u0=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Go={};function sz(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(a,l,d,g){return new sz(a,l,d,g)}function ny(a){return a=a.prototype,!(!a||!a.isReactComponent)}function na(a,l){var d=a.alternate;return d===null?(d=Lr(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function _w(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function _d(a,l,d,g,v,C){var O=0;if(g=a,typeof a=="function")ny(a)&&(O=1);else if(typeof a=="string")O=h6(a,d,et.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case P:return a=Lr(31,d,l,v),a.elementType=P,a.lanes=C,a;case b:return Is(d.children,v,C,l);case w:O=8,v|=24;break;case _:return a=Lr(12,d,l,v|2),a.elementType=_,a.lanes=C,a;case M:return a=Lr(13,d,l,v),a.elementType=M,a.lanes=C,a;case L:return a=Lr(19,d,l,v),a.elementType=L,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:O=10;break t;case S:O=9;break t;case E:O=11;break t;case N:O=14;break t;case $:O=16,g=null;break t}O=29,d=Error(r(130,a===null?"null":typeof a,"")),g=null}return l=Lr(O,d,l,v),l.elementType=a,l.type=g,l.lanes=C,l}function Is(a,l,d,g){return a=Lr(7,a,g,l),a.lanes=d,a}function ry(a,l,d){return a=Lr(6,a,null,l),a.lanes=d,a}function kw(a){var l=Lr(18,null,null,0);return l.stateNode=a,l}function iy(a,l,d){return l=Lr(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Tw=new WeakMap;function qr(a,l){if(typeof a=="object"&&a!==null){var d=Tw.get(a);return d!==void 0?d:(l={value:a,source:l,stack:Ye(l)},Tw.set(a,l),l)}return{value:a,source:l,stack:Ye(l)}}var Xo=[],Zo=0,kd=null,$c=0,Ur=[],Wr=0,$a=null,Ni=1,Li="";function ra(a,l){Xo[Zo++]=$c,Xo[Zo++]=kd,kd=a,$c=l}function Ew(a,l,d){Ur[Wr++]=Ni,Ur[Wr++]=Li,Ur[Wr++]=$a,$a=a;var g=Ni;a=Li;var v=32-Xe(g)-1;g&=~(1<<v),d+=1;var C=32-Xe(l)+v;if(30<C){var O=v-v%5;C=(g&(1<<O)-1).toString(32),g>>=O,v-=O,Ni=1<<32-Xe(l)+v|d<<v|g,Li=C+a}else Ni=1<<C|d<<v|g,Li=a}function ay(a){a.return!==null&&(ra(a,1),Ew(a,1,0))}function sy(a){for(;a===kd;)kd=Xo[--Zo],Xo[Zo]=null,$c=Xo[--Zo],Xo[Zo]=null;for(;a===$a;)$a=Ur[--Wr],Ur[Wr]=null,Li=Ur[--Wr],Ur[Wr]=null,Ni=Ur[--Wr],Ur[Wr]=null}function Aw(a,l){Ur[Wr++]=Ni,Ur[Wr++]=Li,Ur[Wr++]=$a,Ni=l.id,Li=l.overflow,$a=a}var On=null,Re=null,se=!1,za=null,Yr=!1,oy=Error(r(519));function Pa(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zc(qr(l,a)),oy}function Mw(a){var l=a.stateNode,d=a.type,g=a.memoizedProps;switch(l[be]=a,l[mn]=g,d){case"dialog":Qt("cancel",l),Qt("close",l);break;case"iframe":case"object":case"embed":Qt("load",l);break;case"video":case"audio":for(d=0;d<su.length;d++)Qt(su[d],l);break;case"source":Qt("error",l);break;case"img":case"image":case"link":Qt("error",l),Qt("load",l);break;case"details":Qt("toggle",l);break;case"input":Qt("invalid",l),dd(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Qt("invalid",l);break;case"textarea":Qt("invalid",l),q2(l,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||WC(l.textContent,d)?(g.popover!=null&&(Qt("beforetoggle",l),Qt("toggle",l)),g.onScroll!=null&&Qt("scroll",l),g.onScrollEnd!=null&&Qt("scrollend",l),g.onClick!=null&&(l.onclick=ta),l=!0):l=!1,l||Pa(a,!0)}function Dw(a){for(On=a.return;On;)switch(On.tag){case 5:case 31:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:On=On.return}}function Ko(a){if(a!==On)return!1;if(!se)return Dw(a),se=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||k0(a.type,a.memoizedProps)),d=!d),d&&Re&&Pa(a),Dw(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Re=e_(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Re=e_(a)}else l===27?(l=Re,Ja(a.type)?(a=D0,D0=null,Re=a):Re=l):Re=On?Xr(a.stateNode.nextSibling):null;return!0}function Hs(){Re=On=null,se=!1}function ly(){var a=za;return a!==null&&(vr===null?vr=a:vr.push.apply(vr,a),za=null),a}function zc(a){za===null?za=[a]:za.push(a)}var cy=q(null),Vs=null,ia=null;function Fa(a,l,d){K(cy,l._currentValue),l._currentValue=d}function aa(a){a._currentValue=cy.current,V(cy)}function uy(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function hy(a,l,d,g){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var C=v.dependencies;if(C!==null){var O=v.child;C=C.firstContext;t:for(;C!==null;){var Y=C;C=v;for(var J=0;J<l.length;J++)if(Y.context===l[J]){C.lanes|=d,Y=C.alternate,Y!==null&&(Y.lanes|=d),uy(C.return,d,a),g||(O=null);break t}C=Y.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=d,C=O.alternate,C!==null&&(C.lanes|=d),uy(O,d,a),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===a){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Qo(a,l,d,g){a=null;for(var v=l,C=!1;v!==null;){if(!C){if((v.flags&524288)!==0)C=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var Y=v.type;Nr(v.pendingProps.value,O.value)||(a!==null?a.push(Y):a=[Y])}}else if(v===tt.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(hu):a=[hu])}v=v.return}a!==null&&hy(l,a,d,g),l.flags|=262144}function Td(a){for(a=a.firstContext;a!==null;){if(!Nr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function qs(a){Vs=a,ia=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Rn(a){return Nw(Vs,a)}function Ed(a,l){return Vs===null&&qs(a),Nw(a,l)}function Nw(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ia===null){if(a===null)throw Error(r(308));ia=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else ia=ia.next=l;return d}var oz=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},lz=t.unstable_scheduleCallback,cz=t.unstable_NormalPriority,sn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dy(){return{controller:new oz,data:new Map,refCount:0}}function Pc(a){a.refCount--,a.refCount===0&&lz(cz,function(){a.controller.abort()})}var Fc=null,fy=0,Jo=0,tl=null;function uz(a,l){if(Fc===null){var d=Fc=[];fy=0,Jo=m0(),tl={status:"pending",value:void 0,then:function(g){d.push(g)}}}return fy++,l.then(Lw,Lw),l}function Lw(){if(--fy===0&&Fc!==null){tl!==null&&(tl.status="fulfilled");var a=Fc;Fc=null,Jo=0,tl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function hz(a,l){var d=[],g={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var v=0;v<d.length;v++)(0,d[v])(l)},function(v){for(g.status="rejected",g.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),g}var Ow=R.S;R.S=function(a,l){mC=Me(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&uz(a,l),Ow!==null&&Ow(a,l)};var Us=q(null);function py(){var a=Us.current;return a!==null?a:Ae.pooledCache}function Ad(a,l){l===null?K(Us,Us.current):K(Us,l.pool)}function Rw(){var a=py();return a===null?null:{parent:sn._currentValue,pool:a}}var el=Error(r(460)),gy=Error(r(474)),Md=Error(r(542)),Dd={then:function(){}};function Bw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function jw(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(ta,ta),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,zw(a),a;default:if(typeof l.status=="string")l.then(ta,ta);else{if(a=Ae,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=g}},function(g){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,zw(a),a}throw Ys=l,el}}function Ws(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ys=d,el):d}}var Ys=null;function $w(){if(Ys===null)throw Error(r(459));var a=Ys;return Ys=null,a}function zw(a){if(a===el||a===Md)throw Error(r(483))}var nl=null,Ic=0;function Nd(a){var l=Ic;return Ic+=1,nl===null&&(nl=[]),jw(nl,a,l)}function Hc(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Ld(a,l){throw l.$$typeof===m?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Pw(a){function l(st,it){if(a){var lt=st.deletions;lt===null?(st.deletions=[it],st.flags|=16):lt.push(it)}}function d(st,it){if(!a)return null;for(;it!==null;)l(st,it),it=it.sibling;return null}function g(st){for(var it=new Map;st!==null;)st.key!==null?it.set(st.key,st):it.set(st.index,st),st=st.sibling;return it}function v(st,it){return st=na(st,it),st.index=0,st.sibling=null,st}function C(st,it,lt){return st.index=lt,a?(lt=st.alternate,lt!==null?(lt=lt.index,lt<it?(st.flags|=67108866,it):lt):(st.flags|=67108866,it)):(st.flags|=1048576,it)}function O(st){return a&&st.alternate===null&&(st.flags|=67108866),st}function Y(st,it,lt,gt){return it===null||it.tag!==6?(it=ry(lt,st.mode,gt),it.return=st,it):(it=v(it,lt),it.return=st,it)}function J(st,it,lt,gt){var $t=lt.type;return $t===b?ft(st,it,lt.props.children,gt,lt.key):it!==null&&(it.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===$&&Ws($t)===it.type)?(it=v(it,lt.props),Hc(it,lt),it.return=st,it):(it=_d(lt.type,lt.key,lt.props,null,st.mode,gt),Hc(it,lt),it.return=st,it)}function ct(st,it,lt,gt){return it===null||it.tag!==4||it.stateNode.containerInfo!==lt.containerInfo||it.stateNode.implementation!==lt.implementation?(it=iy(lt,st.mode,gt),it.return=st,it):(it=v(it,lt.children||[]),it.return=st,it)}function ft(st,it,lt,gt,$t){return it===null||it.tag!==7?(it=Is(lt,st.mode,gt,$t),it.return=st,it):(it=v(it,lt),it.return=st,it)}function mt(st,it,lt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return it=ry(""+it,st.mode,lt),it.return=st,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case y:return lt=_d(it.type,it.key,it.props,null,st.mode,lt),Hc(lt,it),lt.return=st,lt;case x:return it=iy(it,st.mode,lt),it.return=st,it;case $:return it=Ws(it),mt(st,it,lt)}if(H(it)||W(it))return it=Is(it,st.mode,lt,null),it.return=st,it;if(typeof it.then=="function")return mt(st,Nd(it),lt);if(it.$$typeof===T)return mt(st,Ed(st,it),lt);Ld(st,it)}return null}function ht(st,it,lt,gt){var $t=it!==null?it.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return $t!==null?null:Y(st,it,""+lt,gt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case y:return lt.key===$t?J(st,it,lt,gt):null;case x:return lt.key===$t?ct(st,it,lt,gt):null;case $:return lt=Ws(lt),ht(st,it,lt,gt)}if(H(lt)||W(lt))return $t!==null?null:ft(st,it,lt,gt,null);if(typeof lt.then=="function")return ht(st,it,Nd(lt),gt);if(lt.$$typeof===T)return ht(st,it,Ed(st,lt),gt);Ld(st,lt)}return null}function dt(st,it,lt,gt,$t){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return st=st.get(lt)||null,Y(it,st,""+gt,$t);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case y:return st=st.get(gt.key===null?lt:gt.key)||null,J(it,st,gt,$t);case x:return st=st.get(gt.key===null?lt:gt.key)||null,ct(it,st,gt,$t);case $:return gt=Ws(gt),dt(st,it,lt,gt,$t)}if(H(gt)||W(gt))return st=st.get(lt)||null,ft(it,st,gt,$t,null);if(typeof gt.then=="function")return dt(st,it,lt,Nd(gt),$t);if(gt.$$typeof===T)return dt(st,it,lt,Ed(it,gt),$t);Ld(it,gt)}return null}function Tt(st,it,lt,gt){for(var $t=null,ce=null,Ot=it,Zt=it=0,ne=null;Ot!==null&&Zt<lt.length;Zt++){Ot.index>Zt?(ne=Ot,Ot=null):ne=Ot.sibling;var ue=ht(st,Ot,lt[Zt],gt);if(ue===null){Ot===null&&(Ot=ne);break}a&&Ot&&ue.alternate===null&&l(st,Ot),it=C(ue,it,Zt),ce===null?$t=ue:ce.sibling=ue,ce=ue,Ot=ne}if(Zt===lt.length)return d(st,Ot),se&&ra(st,Zt),$t;if(Ot===null){for(;Zt<lt.length;Zt++)Ot=mt(st,lt[Zt],gt),Ot!==null&&(it=C(Ot,it,Zt),ce===null?$t=Ot:ce.sibling=Ot,ce=Ot);return se&&ra(st,Zt),$t}for(Ot=g(Ot);Zt<lt.length;Zt++)ne=dt(Ot,st,Zt,lt[Zt],gt),ne!==null&&(a&&ne.alternate!==null&&Ot.delete(ne.key===null?Zt:ne.key),it=C(ne,it,Zt),ce===null?$t=ne:ce.sibling=ne,ce=ne);return a&&Ot.forEach(function(is){return l(st,is)}),se&&ra(st,Zt),$t}function It(st,it,lt,gt){if(lt==null)throw Error(r(151));for(var $t=null,ce=null,Ot=it,Zt=it=0,ne=null,ue=lt.next();Ot!==null&&!ue.done;Zt++,ue=lt.next()){Ot.index>Zt?(ne=Ot,Ot=null):ne=Ot.sibling;var is=ht(st,Ot,ue.value,gt);if(is===null){Ot===null&&(Ot=ne);break}a&&Ot&&is.alternate===null&&l(st,Ot),it=C(is,it,Zt),ce===null?$t=is:ce.sibling=is,ce=is,Ot=ne}if(ue.done)return d(st,Ot),se&&ra(st,Zt),$t;if(Ot===null){for(;!ue.done;Zt++,ue=lt.next())ue=mt(st,ue.value,gt),ue!==null&&(it=C(ue,it,Zt),ce===null?$t=ue:ce.sibling=ue,ce=ue);return se&&ra(st,Zt),$t}for(Ot=g(Ot);!ue.done;Zt++,ue=lt.next())ue=dt(Ot,st,Zt,ue.value,gt),ue!==null&&(a&&ue.alternate!==null&&Ot.delete(ue.key===null?Zt:ue.key),it=C(ue,it,Zt),ce===null?$t=ue:ce.sibling=ue,ce=ue);return a&&Ot.forEach(function(S6){return l(st,S6)}),se&&ra(st,Zt),$t}function ke(st,it,lt,gt){if(typeof lt=="object"&&lt!==null&&lt.type===b&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case y:t:{for(var $t=lt.key;it!==null;){if(it.key===$t){if($t=lt.type,$t===b){if(it.tag===7){d(st,it.sibling),gt=v(it,lt.props.children),gt.return=st,st=gt;break t}}else if(it.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===$&&Ws($t)===it.type){d(st,it.sibling),gt=v(it,lt.props),Hc(gt,lt),gt.return=st,st=gt;break t}d(st,it);break}else l(st,it);it=it.sibling}lt.type===b?(gt=Is(lt.props.children,st.mode,gt,lt.key),gt.return=st,st=gt):(gt=_d(lt.type,lt.key,lt.props,null,st.mode,gt),Hc(gt,lt),gt.return=st,st=gt)}return O(st);case x:t:{for($t=lt.key;it!==null;){if(it.key===$t)if(it.tag===4&&it.stateNode.containerInfo===lt.containerInfo&&it.stateNode.implementation===lt.implementation){d(st,it.sibling),gt=v(it,lt.children||[]),gt.return=st,st=gt;break t}else{d(st,it);break}else l(st,it);it=it.sibling}gt=iy(lt,st.mode,gt),gt.return=st,st=gt}return O(st);case $:return lt=Ws(lt),ke(st,it,lt,gt)}if(H(lt))return Tt(st,it,lt,gt);if(W(lt)){if($t=W(lt),typeof $t!="function")throw Error(r(150));return lt=$t.call(lt),It(st,it,lt,gt)}if(typeof lt.then=="function")return ke(st,it,Nd(lt),gt);if(lt.$$typeof===T)return ke(st,it,Ed(st,lt),gt);Ld(st,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,it!==null&&it.tag===6?(d(st,it.sibling),gt=v(it,lt),gt.return=st,st=gt):(d(st,it),gt=ry(lt,st.mode,gt),gt.return=st,st=gt),O(st)):d(st,it)}return function(st,it,lt,gt){try{Ic=0;var $t=ke(st,it,lt,gt);return nl=null,$t}catch(Ot){if(Ot===el||Ot===Md)throw Ot;var ce=Lr(29,Ot,null,st.mode);return ce.lanes=gt,ce.return=st,ce}}}var Gs=Pw(!0),Fw=Pw(!1),Ia=!1;function my(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yy(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ha(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Va(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(fe&2)!==0){var v=g.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),g.pending=l,l=Cd(a),Cw(a,null,d),l}return Sd(a,g,l,d),Cd(a)}function Vc(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Nn(a,d)}}function xy(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var v=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var O={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};C===null?v=C=O:C=C.next=O,d=d.next}while(d!==null);C===null?v=C=l:C=C.next=l}else v=C=l;d={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var by=!1;function qc(){if(by){var a=tl;if(a!==null)throw a}}function Uc(a,l,d,g){by=!1;var v=a.updateQueue;Ia=!1;var C=v.firstBaseUpdate,O=v.lastBaseUpdate,Y=v.shared.pending;if(Y!==null){v.shared.pending=null;var J=Y,ct=J.next;J.next=null,O===null?C=ct:O.next=ct,O=J;var ft=a.alternate;ft!==null&&(ft=ft.updateQueue,Y=ft.lastBaseUpdate,Y!==O&&(Y===null?ft.firstBaseUpdate=ct:Y.next=ct,ft.lastBaseUpdate=J))}if(C!==null){var mt=v.baseState;O=0,ft=ct=J=null,Y=C;do{var ht=Y.lane&-536870913,dt=ht!==Y.lane;if(dt?(ee&ht)===ht:(g&ht)===ht){ht!==0&&ht===Jo&&(by=!0),ft!==null&&(ft=ft.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var Tt=a,It=Y;ht=l;var ke=d;switch(It.tag){case 1:if(Tt=It.payload,typeof Tt=="function"){mt=Tt.call(ke,mt,ht);break t}mt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=It.payload,ht=typeof Tt=="function"?Tt.call(ke,mt,ht):Tt,ht==null)break t;mt=p({},mt,ht);break t;case 2:Ia=!0}}ht=Y.callback,ht!==null&&(a.flags|=64,dt&&(a.flags|=8192),dt=v.callbacks,dt===null?v.callbacks=[ht]:dt.push(ht))}else dt={lane:ht,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ft===null?(ct=ft=dt,J=mt):ft=ft.next=dt,O|=ht;if(Y=Y.next,Y===null){if(Y=v.shared.pending,Y===null)break;dt=Y,Y=dt.next,dt.next=null,v.lastBaseUpdate=dt,v.shared.pending=null}}while(!0);ft===null&&(J=mt),v.baseState=J,v.firstBaseUpdate=ct,v.lastBaseUpdate=ft,C===null&&(v.shared.lanes=0),Ga|=O,a.lanes=O,a.memoizedState=mt}}function Iw(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function Hw(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Iw(d[a],l)}var rl=q(null),Od=q(0);function Vw(a,l){a=pa,K(Od,a),K(rl,l),pa=a|l.baseLanes}function vy(){K(Od,pa),K(rl,rl.current)}function wy(){pa=Od.current,V(rl),V(Od)}var Or=q(null),Gr=null;function qa(a){var l=a.alternate;K(en,en.current&1),K(Or,a),Gr===null&&(l===null||rl.current!==null||l.memoizedState!==null)&&(Gr=a)}function Sy(a){K(en,en.current),K(Or,a),Gr===null&&(Gr=a)}function qw(a){a.tag===22?(K(en,en.current),K(Or,a),Gr===null&&(Gr=a)):Ua()}function Ua(){K(en,en.current),K(Or,Or.current)}function Rr(a){V(Or),Gr===a&&(Gr=null),V(en)}var en=q(0);function Rd(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||A0(d)||M0(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var sa=0,Xt=null,Ce=null,on=null,Bd=!1,il=!1,Xs=!1,jd=0,Wc=0,al=null,dz=0;function Ke(){throw Error(r(321))}function Cy(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Nr(a[d],l[d]))return!1;return!0}function _y(a,l,d,g,v,C){return sa=C,Xt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,R.H=a===null||a.memoizedState===null?ES:Py,Xs=!1,C=d(g,v),Xs=!1,il&&(C=Ww(l,d,g,v)),Uw(a),C}function Uw(a){R.H=Xc;var l=Ce!==null&&Ce.next!==null;if(sa=0,on=Ce=Xt=null,Bd=!1,Wc=0,al=null,l)throw Error(r(300));a===null||ln||(a=a.dependencies,a!==null&&Td(a)&&(ln=!0))}function Ww(a,l,d,g){Xt=a;var v=0;do{if(il&&(al=null),Wc=0,il=!1,25<=v)throw Error(r(301));if(v+=1,on=Ce=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}R.H=AS,C=l(d,g)}while(il);return C}function fz(){var a=R.H,l=a.useState()[0];return l=typeof l.then=="function"?Yc(l):l,a=a.useState()[0],(Ce!==null?Ce.memoizedState:null)!==a&&(Xt.flags|=1024),l}function ky(){var a=jd!==0;return jd=0,a}function Ty(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function Ey(a){if(Bd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Bd=!1}sa=0,on=Ce=Xt=null,il=!1,Wc=jd=0,al=null}function Qn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Xt.memoizedState=on=a:on=on.next=a,on}function nn(){if(Ce===null){var a=Xt.alternate;a=a!==null?a.memoizedState:null}else a=Ce.next;var l=on===null?Xt.memoizedState:on.next;if(l!==null)on=l,Ce=a;else{if(a===null)throw Xt.alternate===null?Error(r(467)):Error(r(310));Ce=a,a={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},on===null?Xt.memoizedState=on=a:on=on.next=a}return on}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(a){var l=Wc;return Wc+=1,al===null&&(al=[]),a=jw(al,a,l),l=Xt,(on===null?l.memoizedState:on.next)===null&&(l=l.alternate,R.H=l===null||l.memoizedState===null?ES:Py),a}function zd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Yc(a);if(a.$$typeof===T)return Rn(a)}throw Error(r(438,String(a)))}function Ay(a){var l=null,d=Xt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=Xt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=$d(),Xt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),g=0;g<a;g++)d[g]=z;return l.index++,d}function oa(a,l){return typeof l=="function"?l(a):l}function Pd(a){var l=nn();return My(l,Ce,a)}function My(a,l,d){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var v=a.baseQueue,C=g.pending;if(C!==null){if(v!==null){var O=v.next;v.next=C.next,C.next=O}l.baseQueue=v=C,g.pending=null}if(C=a.baseState,v===null)a.memoizedState=C;else{l=v.next;var Y=O=null,J=null,ct=l,ft=!1;do{var mt=ct.lane&-536870913;if(mt!==ct.lane?(ee&mt)===mt:(sa&mt)===mt){var ht=ct.revertLane;if(ht===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),mt===Jo&&(ft=!0);else if((sa&ht)===ht){ct=ct.next,ht===Jo&&(ft=!0);continue}else mt={lane:0,revertLane:ct.revertLane,gesture:null,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},J===null?(Y=J=mt,O=C):J=J.next=mt,Xt.lanes|=ht,Ga|=ht;mt=ct.action,Xs&&d(C,mt),C=ct.hasEagerState?ct.eagerState:d(C,mt)}else ht={lane:mt,revertLane:ct.revertLane,gesture:ct.gesture,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},J===null?(Y=J=ht,O=C):J=J.next=ht,Xt.lanes|=mt,Ga|=mt;ct=ct.next}while(ct!==null&&ct!==l);if(J===null?O=C:J.next=Y,!Nr(C,a.memoizedState)&&(ln=!0,ft&&(d=tl,d!==null)))throw d;a.memoizedState=C,a.baseState=O,a.baseQueue=J,g.lastRenderedState=C}return v===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function Dy(a){var l=nn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=d.dispatch,v=d.pending,C=l.memoizedState;if(v!==null){d.pending=null;var O=v=v.next;do C=a(C,O.action),O=O.next;while(O!==v);Nr(C,l.memoizedState)||(ln=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),d.lastRenderedState=C}return[C,g]}function Yw(a,l,d){var g=Xt,v=nn(),C=se;if(C){if(d===void 0)throw Error(r(407));d=d()}else d=l();var O=!Nr((Ce||v).memoizedState,d);if(O&&(v.memoizedState=d,ln=!0),v=v.queue,Oy(Zw.bind(null,g,v,a),[a]),v.getSnapshot!==l||O||on!==null&&on.memoizedState.tag&1){if(g.flags|=2048,sl(9,{destroy:void 0},Xw.bind(null,g,v,d,l),null),Ae===null)throw Error(r(349));C||(sa&127)!==0||Gw(g,l,d)}return d}function Gw(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Xt.updateQueue,l===null?(l=$d(),Xt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function Xw(a,l,d,g){l.value=d,l.getSnapshot=g,Kw(l)&&Qw(a)}function Zw(a,l,d){return d(function(){Kw(l)&&Qw(a)})}function Kw(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Nr(a,d)}catch{return!0}}function Qw(a){var l=Fs(a,2);l!==null&&wr(l,a,2)}function Ny(a){var l=Qn();if(typeof a=="function"){var d=a;if(a=d(),Xs){tn(!0);try{d()}finally{tn(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:a},l}function Jw(a,l,d,g){return a.baseState=d,My(a,Ce,typeof g=="function"?g:oa)}function pz(a,l,d,g,v){if(Hd(a))throw Error(r(485));if(a=l.action,a!==null){var C={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){C.listeners.push(O)}};R.T!==null?d(!0):C.isTransition=!1,g(C),d=l.pending,d===null?(C.next=l.pending=C,tS(l,C)):(C.next=d.next,l.pending=d.next=C)}}function tS(a,l){var d=l.action,g=l.payload,v=a.state;if(l.isTransition){var C=R.T,O={};R.T=O;try{var Y=d(v,g),J=R.S;J!==null&&J(O,Y),eS(a,l,Y)}catch(ct){Ly(a,l,ct)}finally{C!==null&&O.types!==null&&(C.types=O.types),R.T=C}}else try{C=d(v,g),eS(a,l,C)}catch(ct){Ly(a,l,ct)}}function eS(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){nS(a,l,g)},function(g){return Ly(a,l,g)}):nS(a,l,d)}function nS(a,l,d){l.status="fulfilled",l.value=d,rS(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,tS(a,d)))}function Ly(a,l,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,rS(l),l=l.next;while(l!==g)}a.action=null}function rS(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function iS(a,l){return l}function aS(a,l){if(se){var d=Ae.formState;if(d!==null){t:{var g=Xt;if(se){if(Re){e:{for(var v=Re,C=Yr;v.nodeType!==8;){if(!C){v=null;break e}if(v=Xr(v.nextSibling),v===null){v=null;break e}}C=v.data,v=C==="F!"||C==="F"?v:null}if(v){Re=Xr(v.nextSibling),g=v.data==="F!";break t}}Pa(g)}g=!1}g&&(l=d[0])}}return d=Qn(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iS,lastRenderedState:l},d.queue=g,d=_S.bind(null,Xt,g),g.dispatch=d,g=Ny(!1),C=zy.bind(null,Xt,!1,g.queue),g=Qn(),v={state:l,dispatch:null,action:a,pending:null},g.queue=v,d=pz.bind(null,Xt,v,C,d),v.dispatch=d,g.memoizedState=a,[l,d,!1]}function sS(a){var l=nn();return oS(l,Ce,a)}function oS(a,l,d){if(l=My(a,l,iS)[0],a=Pd(oa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Yc(l)}catch(O){throw O===el?Md:O}else g=l;l=nn();var v=l.queue,C=v.dispatch;return d!==l.memoizedState&&(Xt.flags|=2048,sl(9,{destroy:void 0},gz.bind(null,v,d),null)),[g,C,a]}function gz(a,l){a.action=l}function lS(a){var l=nn(),d=Ce;if(d!==null)return oS(l,d,a);nn(),l=l.memoizedState,d=nn();var g=d.queue.dispatch;return d.memoizedState=a,[l,g,!1]}function sl(a,l,d,g){return a={tag:a,create:d,deps:g,inst:l,next:null},l=Xt.updateQueue,l===null&&(l=$d(),Xt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a),a}function cS(){return nn().memoizedState}function Fd(a,l,d,g){var v=Qn();Xt.flags|=a,v.memoizedState=sl(1|l,{destroy:void 0},d,g===void 0?null:g)}function Id(a,l,d,g){var v=nn();g=g===void 0?null:g;var C=v.memoizedState.inst;Ce!==null&&g!==null&&Cy(g,Ce.memoizedState.deps)?v.memoizedState=sl(l,C,d,g):(Xt.flags|=a,v.memoizedState=sl(1|l,C,d,g))}function uS(a,l){Fd(8390656,8,a,l)}function Oy(a,l){Id(2048,8,a,l)}function mz(a){Xt.flags|=4;var l=Xt.updateQueue;if(l===null)l=$d(),Xt.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function hS(a){var l=nn().memoizedState;return mz({ref:l,nextImpl:a}),function(){if((fe&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function dS(a,l){return Id(4,2,a,l)}function fS(a,l){return Id(4,4,a,l)}function pS(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function gS(a,l,d){d=d!=null?d.concat([a]):null,Id(4,4,pS.bind(null,l,a),d)}function Ry(){}function mS(a,l){var d=nn();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&Cy(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function yS(a,l){var d=nn();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&Cy(l,g[1]))return g[0];if(g=a(),Xs){tn(!0);try{a()}finally{tn(!1)}}return d.memoizedState=[g,l],g}function By(a,l,d){return d===void 0||(sa&1073741824)!==0&&(ee&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=xC(),Xt.lanes|=a,Ga|=a,d)}function xS(a,l,d,g){return Nr(d,l)?d:rl.current!==null?(a=By(a,d,g),Nr(a,l)||(ln=!0),a):(sa&42)===0||(sa&1073741824)!==0&&(ee&261930)===0?(ln=!0,a.memoizedState=d):(a=xC(),Xt.lanes|=a,Ga|=a,l)}function bS(a,l,d,g,v){var C=I.p;I.p=C!==0&&8>C?C:8;var O=R.T,Y={};R.T=Y,zy(a,!1,l,d);try{var J=v(),ct=R.S;if(ct!==null&&ct(Y,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ft=hz(J,g);Gc(a,l,ft,$r(a))}else Gc(a,l,g,$r(a))}catch(mt){Gc(a,l,{then:function(){},status:"rejected",reason:mt},$r())}finally{I.p=C,O!==null&&Y.types!==null&&(O.types=Y.types),R.T=O}}function yz(){}function jy(a,l,d,g){if(a.tag!==5)throw Error(r(476));var v=vS(a).queue;bS(a,v,l,U,d===null?yz:function(){return wS(a),d(g)})}function vS(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:U},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function wS(a){var l=vS(a);l.next===null&&(l=a.alternate.memoizedState),Gc(a,l.next.queue,{},$r())}function $y(){return Rn(hu)}function SS(){return nn().memoizedState}function CS(){return nn().memoizedState}function xz(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=$r();a=Ha(d);var g=Va(l,a,d);g!==null&&(wr(g,l,d),Vc(g,l,d)),l={cache:dy()},a.payload=l;return}l=l.return}}function bz(a,l,d){var g=$r();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Hd(a)?kS(l,d):(d=ey(a,l,d,g),d!==null&&(wr(d,a,g),TS(d,l,g)))}function _S(a,l,d){var g=$r();Gc(a,l,d,g)}function Gc(a,l,d,g){var v={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Hd(a))kS(l,v);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var O=l.lastRenderedState,Y=C(O,d);if(v.hasEagerState=!0,v.eagerState=Y,Nr(Y,O))return Sd(a,l,v,0),Ae===null&&wd(),!1}catch{}if(d=ey(a,l,v,g),d!==null)return wr(d,a,g),TS(d,l,g),!0}return!1}function zy(a,l,d,g){if(g={lane:2,revertLane:m0(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Hd(a)){if(l)throw Error(r(479))}else l=ey(a,d,g,2),l!==null&&wr(l,a,2)}function Hd(a){var l=a.alternate;return a===Xt||l!==null&&l===Xt}function kS(a,l){il=Bd=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function TS(a,l,d){if((d&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,Nn(a,d)}}var Xc={readContext:Rn,use:zd,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Xc.useEffectEvent=Ke;var ES={readContext:Rn,use:zd,useCallback:function(a,l){return Qn().memoizedState=[a,l===void 0?null:l],a},useContext:Rn,useEffect:uS,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Fd(4194308,4,pS.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Fd(4194308,4,a,l)},useInsertionEffect:function(a,l){Fd(4,2,a,l)},useMemo:function(a,l){var d=Qn();l=l===void 0?null:l;var g=a();if(Xs){tn(!0);try{a()}finally{tn(!1)}}return d.memoizedState=[g,l],g},useReducer:function(a,l,d){var g=Qn();if(d!==void 0){var v=d(l);if(Xs){tn(!0);try{d(l)}finally{tn(!1)}}}else v=l;return g.memoizedState=g.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},g.queue=a,a=a.dispatch=bz.bind(null,Xt,a),[g.memoizedState,a]},useRef:function(a){var l=Qn();return a={current:a},l.memoizedState=a},useState:function(a){a=Ny(a);var l=a.queue,d=_S.bind(null,Xt,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:Ry,useDeferredValue:function(a,l){var d=Qn();return By(d,a,l)},useTransition:function(){var a=Ny(!1);return a=bS.bind(null,Xt,a.queue,!0,!1),Qn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var g=Xt,v=Qn();if(se){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Ae===null)throw Error(r(349));(ee&127)!==0||Gw(g,l,d)}v.memoizedState=d;var C={value:d,getSnapshot:l};return v.queue=C,uS(Zw.bind(null,g,C,a),[a]),g.flags|=2048,sl(9,{destroy:void 0},Xw.bind(null,g,C,d,l),null),d},useId:function(){var a=Qn(),l=Ae.identifierPrefix;if(se){var d=Li,g=Ni;d=(g&~(1<<32-Xe(g)-1)).toString(32)+d,l="_"+l+"R_"+d,d=jd++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=dz++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:$y,useFormState:aS,useActionState:aS,useOptimistic:function(a){var l=Qn();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=zy.bind(null,Xt,!0,d),d.dispatch=l,[a,l]},useMemoCache:Ay,useCacheRefresh:function(){return Qn().memoizedState=xz.bind(null,Xt)},useEffectEvent:function(a){var l=Qn(),d={impl:a};return l.memoizedState=d,function(){if((fe&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Py={readContext:Rn,use:zd,useCallback:mS,useContext:Rn,useEffect:Oy,useImperativeHandle:gS,useInsertionEffect:dS,useLayoutEffect:fS,useMemo:yS,useReducer:Pd,useRef:cS,useState:function(){return Pd(oa)},useDebugValue:Ry,useDeferredValue:function(a,l){var d=nn();return xS(d,Ce.memoizedState,a,l)},useTransition:function(){var a=Pd(oa)[0],l=nn().memoizedState;return[typeof a=="boolean"?a:Yc(a),l]},useSyncExternalStore:Yw,useId:SS,useHostTransitionStatus:$y,useFormState:sS,useActionState:sS,useOptimistic:function(a,l){var d=nn();return Jw(d,Ce,a,l)},useMemoCache:Ay,useCacheRefresh:CS};Py.useEffectEvent=hS;var AS={readContext:Rn,use:zd,useCallback:mS,useContext:Rn,useEffect:Oy,useImperativeHandle:gS,useInsertionEffect:dS,useLayoutEffect:fS,useMemo:yS,useReducer:Dy,useRef:cS,useState:function(){return Dy(oa)},useDebugValue:Ry,useDeferredValue:function(a,l){var d=nn();return Ce===null?By(d,a,l):xS(d,Ce.memoizedState,a,l)},useTransition:function(){var a=Dy(oa)[0],l=nn().memoizedState;return[typeof a=="boolean"?a:Yc(a),l]},useSyncExternalStore:Yw,useId:SS,useHostTransitionStatus:$y,useFormState:lS,useActionState:lS,useOptimistic:function(a,l){var d=nn();return Ce!==null?Jw(d,Ce,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:Ay,useCacheRefresh:CS};AS.useEffectEvent=hS;function Fy(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:p({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Iy={enqueueSetState:function(a,l,d){a=a._reactInternals;var g=$r(),v=Ha(g);v.payload=l,d!=null&&(v.callback=d),l=Va(a,v,g),l!==null&&(wr(l,a,g),Vc(l,a,g))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=$r(),v=Ha(g);v.tag=1,v.payload=l,d!=null&&(v.callback=d),l=Va(a,v,g),l!==null&&(wr(l,a,g),Vc(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=$r(),g=Ha(d);g.tag=2,l!=null&&(g.callback=l),l=Va(a,g,d),l!==null&&(wr(l,a,d),Vc(l,a,d))}};function MS(a,l,d,g,v,C,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,C,O):l.prototype&&l.prototype.isPureReactComponent?!Bc(d,g)||!Bc(v,C):!0}function DS(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&Iy.enqueueReplaceState(l,l.state,null)}function Zs(a,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(a=a.defaultProps){d===l&&(d=p({},d));for(var v in a)d[v]===void 0&&(d[v]=a[v])}return d}function NS(a){vd(a)}function LS(a){console.error(a)}function OS(a){vd(a)}function Vd(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function RS(a,l,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Hy(a,l,d){return d=Ha(d),d.tag=3,d.payload={element:null},d.callback=function(){Vd(a,l)},d}function BS(a){return a=Ha(a),a.tag=3,a}function jS(a,l,d,g){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var C=g.value;a.payload=function(){return v(C)},a.callback=function(){RS(l,d,g)}}var O=d.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){RS(l,d,g),typeof v!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var Y=g.stack;this.componentDidCatch(g.value,{componentStack:Y!==null?Y:""})})}function vz(a,l,d,g,v){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Qo(l,d,v,!0),d=Or.current,d!==null){switch(d.tag){case 31:case 13:return Gr===null?ef():d.alternate===null&&Qe===0&&(Qe=3),d.flags&=-257,d.flags|=65536,d.lanes=v,g===Dd?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),f0(a,g,v)),!1;case 22:return d.flags|=65536,g===Dd?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),f0(a,g,v)),!1}throw Error(r(435,d.tag))}return f0(a,g,v),ef(),!1}if(se)return l=Or.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,g!==oy&&(a=Error(r(422),{cause:g}),zc(qr(a,d)))):(g!==oy&&(l=Error(r(423),{cause:g}),zc(qr(l,d))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,g=qr(g,d),v=Hy(a.stateNode,g,v),xy(a,v),Qe!==4&&(Qe=2)),!1;var C=Error(r(520),{cause:g});if(C=qr(C,d),ru===null?ru=[C]:ru.push(C),Qe!==4&&(Qe=2),l===null)return!0;g=qr(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=v&-v,d.lanes|=a,a=Hy(d.stateNode,g,a),xy(d,a),!1;case 1:if(l=d.type,C=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Xa===null||!Xa.has(C))))return d.flags|=65536,v&=-v,d.lanes|=v,v=BS(v),jS(v,a,d,g),xy(d,v),!1}d=d.return}while(d!==null);return!1}var Vy=Error(r(461)),ln=!1;function Bn(a,l,d,g){l.child=a===null?Fw(l,null,d,g):Gs(l,a.child,d,g)}function $S(a,l,d,g,v){d=d.render;var C=l.ref;if("ref"in g){var O={};for(var Y in g)Y!=="ref"&&(O[Y]=g[Y])}else O=g;return qs(l),g=_y(a,l,d,O,C,v),Y=ky(),a!==null&&!ln?(Ty(a,l,v),la(a,l,v)):(se&&Y&&ay(l),l.flags|=1,Bn(a,l,g,v),l.child)}function zS(a,l,d,g,v){if(a===null){var C=d.type;return typeof C=="function"&&!ny(C)&&C.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=C,PS(a,l,C,g,v)):(a=_d(d.type,null,g,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(C=a.child,!Ky(a,v)){var O=C.memoizedProps;if(d=d.compare,d=d!==null?d:Bc,d(O,g)&&a.ref===l.ref)return la(a,l,v)}return l.flags|=1,a=na(C,g),a.ref=l.ref,a.return=l,l.child=a}function PS(a,l,d,g,v){if(a!==null){var C=a.memoizedProps;if(Bc(C,g)&&a.ref===l.ref)if(ln=!1,l.pendingProps=g=C,Ky(a,v))(a.flags&131072)!==0&&(ln=!0);else return l.lanes=a.lanes,la(a,l,v)}return qy(a,l,d,g,v)}function FS(a,l,d,g){var v=g.children,C=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(C=C!==null?C.baseLanes|d:d,a!==null){for(g=l.child=a.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~C}else g=0,l.child=null;return IS(a,l,C,d,g)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ad(l,C!==null?C.cachePool:null),C!==null?Vw(l,C):vy(),qw(l);else return g=l.lanes=536870912,IS(a,l,C!==null?C.baseLanes|d:d,d,g)}else C!==null?(Ad(l,C.cachePool),Vw(l,C),Ua(),l.memoizedState=null):(a!==null&&Ad(l,null),vy(),Ua());return Bn(a,l,v,d),l.child}function Zc(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function IS(a,l,d,g,v){var C=py();return C=C===null?null:{parent:sn._currentValue,pool:C},l.memoizedState={baseLanes:d,cachePool:C},a!==null&&Ad(l,null),vy(),qw(l),a!==null&&Qo(a,l,g,!0),l.childLanes=v,null}function qd(a,l){return l=Wd({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function HS(a,l,d){return Gs(l,a.child,null,d),a=qd(l,l.pendingProps),a.flags|=2,Rr(l),l.memoizedState=null,a}function wz(a,l,d){var g=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(se){if(g.mode==="hidden")return a=qd(l,g),l.lanes=536870912,Zc(null,a);if(Sy(l),(a=Re)?(a=t_(a,Yr),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:$a!==null?{id:Ni,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},d=kw(a),d.return=l,l.child=d,On=l,Re=null)):a=null,a===null)throw Pa(l);return l.lanes=536870912,null}return qd(l,g)}var C=a.memoizedState;if(C!==null){var O=C.dehydrated;if(Sy(l),v)if(l.flags&256)l.flags&=-257,l=HS(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(ln||Qo(a,l,d,!1),v=(d&a.childLanes)!==0,ln||v){if(g=Ae,g!==null&&(O=Le(g,d),O!==0&&O!==C.retryLane))throw C.retryLane=O,Fs(a,O),wr(g,a,O),Vy;ef(),l=HS(a,l,d)}else a=C.treeContext,Re=Xr(O.nextSibling),On=l,se=!0,za=null,Yr=!1,a!==null&&Aw(l,a),l=qd(l,g),l.flags|=4096;return l}return a=na(a.child,{mode:g.mode,children:g.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Ud(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function qy(a,l,d,g,v){return qs(l),d=_y(a,l,d,g,void 0,v),g=ky(),a!==null&&!ln?(Ty(a,l,v),la(a,l,v)):(se&&g&&ay(l),l.flags|=1,Bn(a,l,d,v),l.child)}function VS(a,l,d,g,v,C){return qs(l),l.updateQueue=null,d=Ww(l,g,d,v),Uw(a),g=ky(),a!==null&&!ln?(Ty(a,l,C),la(a,l,C)):(se&&g&&ay(l),l.flags|=1,Bn(a,l,d,C),l.child)}function qS(a,l,d,g,v){if(qs(l),l.stateNode===null){var C=Go,O=d.contextType;typeof O=="object"&&O!==null&&(C=Rn(O)),C=new d(g,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Iy,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=g,C.state=l.memoizedState,C.refs={},my(l),O=d.contextType,C.context=typeof O=="object"&&O!==null?Rn(O):Go,C.state=l.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Fy(l,d,O,g),C.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(O=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),O!==C.state&&Iy.enqueueReplaceState(C,C.state,null),Uc(l,g,C,v),qc(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){C=l.stateNode;var Y=l.memoizedProps,J=Zs(d,Y);C.props=J;var ct=C.context,ft=d.contextType;O=Go,typeof ft=="object"&&ft!==null&&(O=Rn(ft));var mt=d.getDerivedStateFromProps;ft=typeof mt=="function"||typeof C.getSnapshotBeforeUpdate=="function",Y=l.pendingProps!==Y,ft||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y||ct!==O)&&DS(l,C,g,O),Ia=!1;var ht=l.memoizedState;C.state=ht,Uc(l,g,C,v),qc(),ct=l.memoizedState,Y||ht!==ct||Ia?(typeof mt=="function"&&(Fy(l,d,mt,g),ct=l.memoizedState),(J=Ia||MS(l,d,J,g,ht,ct,O))?(ft||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=ct),C.props=g,C.state=ct,C.context=O,g=J):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{C=l.stateNode,yy(a,l),O=l.memoizedProps,ft=Zs(d,O),C.props=ft,mt=l.pendingProps,ht=C.context,ct=d.contextType,J=Go,typeof ct=="object"&&ct!==null&&(J=Rn(ct)),Y=d.getDerivedStateFromProps,(ct=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==mt||ht!==J)&&DS(l,C,g,J),Ia=!1,ht=l.memoizedState,C.state=ht,Uc(l,g,C,v),qc();var dt=l.memoizedState;O!==mt||ht!==dt||Ia||a!==null&&a.dependencies!==null&&Td(a.dependencies)?(typeof Y=="function"&&(Fy(l,d,Y,g),dt=l.memoizedState),(ft=Ia||MS(l,d,ft,g,ht,dt,J)||a!==null&&a.dependencies!==null&&Td(a.dependencies))?(ct||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,dt,J),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,dt,J)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===a.memoizedProps&&ht===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ht===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=dt),C.props=g,C.state=dt,C.context=J,g=ft):(typeof C.componentDidUpdate!="function"||O===a.memoizedProps&&ht===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ht===a.memoizedState||(l.flags|=1024),g=!1)}return C=g,Ud(a,l),g=(l.flags&128)!==0,C||g?(C=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,a!==null&&g?(l.child=Gs(l,a.child,null,v),l.child=Gs(l,null,d,v)):Bn(a,l,d,v),l.memoizedState=C.state,a=l.child):a=la(a,l,v),a}function US(a,l,d,g){return Hs(),l.flags|=256,Bn(a,l,d,g),l.child}var Uy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wy(a){return{baseLanes:a,cachePool:Rw()}}function Yy(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=jr),a}function WS(a,l,d){var g=l.pendingProps,v=!1,C=(l.flags&128)!==0,O;if((O=C)||(O=a!==null&&a.memoizedState===null?!1:(en.current&2)!==0),O&&(v=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,a===null){if(se){if(v?qa(l):Ua(),(a=Re)?(a=t_(a,Yr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:$a!==null?{id:Ni,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},d=kw(a),d.return=l,l.child=d,On=l,Re=null)):a=null,a===null)throw Pa(l);return M0(a)?l.lanes=32:l.lanes=536870912,null}var Y=g.children;return g=g.fallback,v?(Ua(),v=l.mode,Y=Wd({mode:"hidden",children:Y},v),g=Is(g,v,d,null),Y.return=l,g.return=l,Y.sibling=g,l.child=Y,g=l.child,g.memoizedState=Wy(d),g.childLanes=Yy(a,O,d),l.memoizedState=Uy,Zc(null,g)):(qa(l),Gy(l,Y))}var J=a.memoizedState;if(J!==null&&(Y=J.dehydrated,Y!==null)){if(C)l.flags&256?(qa(l),l.flags&=-257,l=Xy(a,l,d)):l.memoizedState!==null?(Ua(),l.child=a.child,l.flags|=128,l=null):(Ua(),Y=g.fallback,v=l.mode,g=Wd({mode:"visible",children:g.children},v),Y=Is(Y,v,d,null),Y.flags|=2,g.return=l,Y.return=l,g.sibling=Y,l.child=g,Gs(l,a.child,null,d),g=l.child,g.memoizedState=Wy(d),g.childLanes=Yy(a,O,d),l.memoizedState=Uy,l=Zc(null,g));else if(qa(l),M0(Y)){if(O=Y.nextSibling&&Y.nextSibling.dataset,O)var ct=O.dgst;O=ct,g=Error(r(419)),g.stack="",g.digest=O,zc({value:g,source:null,stack:null}),l=Xy(a,l,d)}else if(ln||Qo(a,l,d,!1),O=(d&a.childLanes)!==0,ln||O){if(O=Ae,O!==null&&(g=Le(O,d),g!==0&&g!==J.retryLane))throw J.retryLane=g,Fs(a,g),wr(O,a,g),Vy;A0(Y)||ef(),l=Xy(a,l,d)}else A0(Y)?(l.flags|=192,l.child=a.child,l=null):(a=J.treeContext,Re=Xr(Y.nextSibling),On=l,se=!0,za=null,Yr=!1,a!==null&&Aw(l,a),l=Gy(l,g.children),l.flags|=4096);return l}return v?(Ua(),Y=g.fallback,v=l.mode,J=a.child,ct=J.sibling,g=na(J,{mode:"hidden",children:g.children}),g.subtreeFlags=J.subtreeFlags&65011712,ct!==null?Y=na(ct,Y):(Y=Is(Y,v,d,null),Y.flags|=2),Y.return=l,g.return=l,g.sibling=Y,l.child=g,Zc(null,g),g=l.child,Y=a.child.memoizedState,Y===null?Y=Wy(d):(v=Y.cachePool,v!==null?(J=sn._currentValue,v=v.parent!==J?{parent:J,pool:J}:v):v=Rw(),Y={baseLanes:Y.baseLanes|d,cachePool:v}),g.memoizedState=Y,g.childLanes=Yy(a,O,d),l.memoizedState=Uy,Zc(a.child,g)):(qa(l),d=a.child,a=d.sibling,d=na(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,a!==null&&(O=l.deletions,O===null?(l.deletions=[a],l.flags|=16):O.push(a)),l.child=d,l.memoizedState=null,d)}function Gy(a,l){return l=Wd({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Wd(a,l){return a=Lr(22,a,null,l),a.lanes=0,a}function Xy(a,l,d){return Gs(l,a.child,null,d),a=Gy(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function YS(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),uy(a.return,l,d)}function Zy(a,l,d,g,v,C){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:v,treeForkCount:C}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=d,O.tailMode=v,O.treeForkCount=C)}function GS(a,l,d){var g=l.pendingProps,v=g.revealOrder,C=g.tail;g=g.children;var O=en.current,Y=(O&2)!==0;if(Y?(O=O&1|2,l.flags|=128):O&=1,K(en,O),Bn(a,l,g,d),g=se?$c:0,!Y&&a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&YS(a,d,l);else if(a.tag===19)YS(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(d=l.child,v=null;d!==null;)a=d.alternate,a!==null&&Rd(a)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),Zy(l,!1,v,d,C,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&Rd(a)===null){l.child=v;break}a=v.sibling,v.sibling=d,d=v,v=a}Zy(l,!0,d,null,C,g);break;case"together":Zy(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function la(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Ga|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(Qo(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=na(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=na(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Ky(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Td(a)))}function Sz(a,l,d){switch(l.tag){case 3:at(l,l.stateNode.containerInfo),Fa(l,sn,a.memoizedState.cache),Hs();break;case 27:case 5:pt(l);break;case 4:at(l,l.stateNode.containerInfo);break;case 10:Fa(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Sy(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(qa(l),l.flags|=128,null):(d&l.child.childLanes)!==0?WS(a,l,d):(qa(l),a=la(a,l,d),a!==null?a.sibling:null);qa(l);break;case 19:var v=(a.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Qo(a,l,d,!1),g=(d&l.childLanes)!==0),v){if(g)return GS(a,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),K(en,en.current),g)break;return null;case 22:return l.lanes=0,FS(a,l,d,l.pendingProps);case 24:Fa(l,sn,a.memoizedState.cache)}return la(a,l,d)}function XS(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)ln=!0;else{if(!Ky(a,d)&&(l.flags&128)===0)return ln=!1,Sz(a,l,d);ln=(a.flags&131072)!==0}else ln=!1,se&&(l.flags&1048576)!==0&&Ew(l,$c,l.index);switch(l.lanes=0,l.tag){case 16:t:{var g=l.pendingProps;if(a=Ws(l.elementType),l.type=a,typeof a=="function")ny(a)?(g=Zs(a,g),l.tag=1,l=qS(null,l,a,g,d)):(l.tag=0,l=qy(null,l,a,g,d));else{if(a!=null){var v=a.$$typeof;if(v===E){l.tag=11,l=$S(null,l,a,g,d);break t}else if(v===N){l.tag=14,l=zS(null,l,a,g,d);break t}}throw l=B(a)||a,Error(r(306,l,""))}}return l;case 0:return qy(a,l,l.type,l.pendingProps,d);case 1:return g=l.type,v=Zs(g,l.pendingProps),qS(a,l,g,v,d);case 3:t:{if(at(l,l.stateNode.containerInfo),a===null)throw Error(r(387));g=l.pendingProps;var C=l.memoizedState;v=C.element,yy(a,l),Uc(l,g,null,d);var O=l.memoizedState;if(g=O.cache,Fa(l,sn,g),g!==C.cache&&hy(l,[sn],d,!0),qc(),g=O.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=US(a,l,g,d);break t}else if(g!==v){v=qr(Error(r(424)),l),zc(v),l=US(a,l,g,d);break t}else for(a=l.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Re=Xr(a.firstChild),On=l,se=!0,za=null,Yr=!0,d=Fw(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Hs(),g===v){l=la(a,l,d);break t}Bn(a,l,g,d)}l=l.child}return l;case 26:return Ud(a,l),a===null?(d=s_(l.type,null,l.pendingProps,null))?l.memoizedState=d:se||(d=l.type,a=l.pendingProps,g=cf(Q.current).createElement(d),g[be]=l,g[mn]=a,jn(g,d,a),ae(g),l.stateNode=g):l.memoizedState=s_(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return pt(l),a===null&&se&&(g=l.stateNode=r_(l.type,l.pendingProps,Q.current),On=l,Yr=!0,v=Re,Ja(l.type)?(D0=v,Re=Xr(g.firstChild)):Re=v),Bn(a,l,l.pendingProps.children,d),Ud(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&se&&((v=g=Re)&&(g=Qz(g,l.type,l.pendingProps,Yr),g!==null?(l.stateNode=g,On=l,Re=Xr(g.firstChild),Yr=!1,v=!0):v=!1),v||Pa(l)),pt(l),v=l.type,C=l.pendingProps,O=a!==null?a.memoizedProps:null,g=C.children,k0(v,C)?g=null:O!==null&&k0(v,O)&&(l.flags|=32),l.memoizedState!==null&&(v=_y(a,l,fz,null,null,d),hu._currentValue=v),Ud(a,l),Bn(a,l,g,d),l.child;case 6:return a===null&&se&&((a=d=Re)&&(d=Jz(d,l.pendingProps,Yr),d!==null?(l.stateNode=d,On=l,Re=null,a=!0):a=!1),a||Pa(l)),null;case 13:return WS(a,l,d);case 4:return at(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Gs(l,null,g,d):Bn(a,l,g,d),l.child;case 11:return $S(a,l,l.type,l.pendingProps,d);case 7:return Bn(a,l,l.pendingProps,d),l.child;case 8:return Bn(a,l,l.pendingProps.children,d),l.child;case 12:return Bn(a,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,Fa(l,l.type,g.value),Bn(a,l,g.children,d),l.child;case 9:return v=l.type._context,g=l.pendingProps.children,qs(l),v=Rn(v),g=g(v),l.flags|=1,Bn(a,l,g,d),l.child;case 14:return zS(a,l,l.type,l.pendingProps,d);case 15:return PS(a,l,l.type,l.pendingProps,d);case 19:return GS(a,l,d);case 31:return wz(a,l,d);case 22:return FS(a,l,d,l.pendingProps);case 24:return qs(l),g=Rn(sn),a===null?(v=py(),v===null&&(v=Ae,C=dy(),v.pooledCache=C,C.refCount++,C!==null&&(v.pooledCacheLanes|=d),v=C),l.memoizedState={parent:g,cache:v},my(l),Fa(l,sn,v)):((a.lanes&d)!==0&&(yy(a,l),Uc(l,null,null,d),qc()),v=a.memoizedState,C=l.memoizedState,v.parent!==g?(v={parent:g,cache:g},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Fa(l,sn,g)):(g=C.cache,Fa(l,sn,g),g!==v.cache&&hy(l,[sn],d,!0))),Bn(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ca(a){a.flags|=4}function Qy(a,l,d,g,v){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(SC())a.flags|=8192;else throw Ys=Dd,gy}else a.flags&=-16777217}function ZS(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!h_(l))if(SC())a.flags|=8192;else throw Ys=Dd,gy}function Yd(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?an():536870912,a.lanes|=l,ul|=l)}function Kc(a,l){if(!se)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Be(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var v=a.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function Cz(a,l,d){var g=l.pendingProps;switch(sy(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(l),null;case 1:return Be(l),null;case 3:return d=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),aa(sn),ut(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Ko(l)?ca(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ly())),Be(l),null;case 26:var v=l.type,C=l.memoizedState;return a===null?(ca(l),C!==null?(Be(l),ZS(l,C)):(Be(l),Qy(l,v,null,g,d))):C?C!==a.memoizedState?(ca(l),Be(l),ZS(l,C)):(Be(l),l.flags&=-16777217):(a=a.memoizedProps,a!==g&&ca(l),Be(l),Qy(l,v,a,g,d)),null;case 27:if(vt(l),d=Q.current,v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&ca(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Be(l),null}a=et.current,Ko(l)?Mw(l):(a=r_(v,g,d),l.stateNode=a,ca(l))}return Be(l),null;case 5:if(vt(l),v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&ca(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Be(l),null}if(C=et.current,Ko(l))Mw(l);else{var O=cf(Q.current);switch(C){case 1:C=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:C=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":C=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":C=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":C=O.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?C.multiple=!0:g.size&&(C.size=g.size);break;default:C=typeof g.is=="string"?O.createElement(v,{is:g.is}):O.createElement(v)}}C[be]=l,C[mn]=g;t:for(O=l.child;O!==null;){if(O.tag===5||O.tag===6)C.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===l)break t;for(;O.sibling===null;){if(O.return===null||O.return===l)break t;O=O.return}O.sibling.return=O.return,O=O.sibling}l.stateNode=C;t:switch(jn(C,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break t;case"img":g=!0;break t;default:g=!1}g&&ca(l)}}return Be(l),Qy(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&ca(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(a=Q.current,Ko(l)){if(a=l.stateNode,d=l.memoizedProps,g=null,v=On,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}a[be]=l,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||WC(a.nodeValue,d)),a||Pa(l,!0)}else a=cf(a).createTextNode(g),a[be]=l,l.stateNode=a}return Be(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(g=Ko(l),d!==null){if(a===null){if(!g)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[be]=l}else Hs(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Be(l),a=!1}else d=ly(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(Rr(l),l):(Rr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Be(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Ko(l),g!==null&&g.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[be]=l}else Hs(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Be(l),v=!1}else v=ly(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Rr(l),l):(Rr(l),null)}return Rr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=g!==null,a=a!==null&&a.memoizedState!==null,d&&(g=l.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),C=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==v&&(g.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),Yd(l,l.updateQueue),Be(l),null);case 4:return ut(),a===null&&v0(l.stateNode.containerInfo),Be(l),null;case 10:return aa(l.type),Be(l),null;case 19:if(V(en),g=l.memoizedState,g===null)return Be(l),null;if(v=(l.flags&128)!==0,C=g.rendering,C===null)if(v)Kc(g,!1);else{if(Qe!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(C=Rd(a),C!==null){for(l.flags|=128,Kc(g,!1),a=C.updateQueue,l.updateQueue=a,Yd(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)_w(d,a),d=d.sibling;return K(en,en.current&1|2),se&&ra(l,g.treeForkCount),l.child}a=a.sibling}g.tail!==null&&Me()>Qd&&(l.flags|=128,v=!0,Kc(g,!1),l.lanes=4194304)}else{if(!v)if(a=Rd(C),a!==null){if(l.flags|=128,v=!0,a=a.updateQueue,l.updateQueue=a,Yd(l,a),Kc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!C.alternate&&!se)return Be(l),null}else 2*Me()-g.renderingStartTime>Qd&&d!==536870912&&(l.flags|=128,v=!0,Kc(g,!1),l.lanes=4194304);g.isBackwards?(C.sibling=l.child,l.child=C):(a=g.last,a!==null?a.sibling=C:l.child=C,g.last=C)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Me(),a.sibling=null,d=en.current,K(en,v?d&1|2:d&1),se&&ra(l,g.treeForkCount),a):(Be(l),null);case 22:case 23:return Rr(l),wy(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(Be(l),l.subtreeFlags&6&&(l.flags|=8192)):Be(l),d=l.updateQueue,d!==null&&Yd(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),a!==null&&V(Us),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),aa(sn),Be(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function _z(a,l){switch(sy(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return aa(sn),ut(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return vt(l),null;case 31:if(l.memoizedState!==null){if(Rr(l),l.alternate===null)throw Error(r(340));Hs()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Rr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Hs()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return V(en),null;case 4:return ut(),null;case 10:return aa(l.type),null;case 22:case 23:return Rr(l),wy(),a!==null&&V(Us),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return aa(sn),null;case 25:return null;default:return null}}function KS(a,l){switch(sy(l),l.tag){case 3:aa(sn),ut();break;case 26:case 27:case 5:vt(l);break;case 4:ut();break;case 31:l.memoizedState!==null&&Rr(l);break;case 13:Rr(l);break;case 19:V(en);break;case 10:aa(l.type);break;case 22:case 23:Rr(l),wy(),a!==null&&V(Us);break;case 24:aa(sn)}}function Qc(a,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&a)===a){g=void 0;var C=d.create,O=d.inst;g=C(),O.destroy=g}d=d.next}while(d!==v)}}catch(Y){Se(l,l.return,Y)}}function Wa(a,l,d){try{var g=l.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var C=v.next;g=C;do{if((g.tag&a)===a){var O=g.inst,Y=O.destroy;if(Y!==void 0){O.destroy=void 0,v=l;var J=d,ct=Y;try{ct()}catch(ft){Se(v,J,ft)}}}g=g.next}while(g!==C)}}catch(ft){Se(l,l.return,ft)}}function QS(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{Hw(l,d)}catch(g){Se(a,a.return,g)}}}function JS(a,l,d){d.props=Zs(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){Se(a,l,g)}}function Jc(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(v){Se(a,l,v)}}function Oi(a,l){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(v){Se(a,l,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){Se(a,l,v)}else d.current=null}function tC(a){var l=a.type,d=a.memoizedProps,g=a.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break t;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(v){Se(a,a.return,v)}}function Jy(a,l,d){try{var g=a.stateNode;Wz(g,a.type,d,l),g[mn]=l}catch(v){Se(a,a.return,v)}}function eC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ja(a.type)||a.tag===4}function t0(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||eC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ja(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function e0(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=ta));else if(g!==4&&(g===27&&Ja(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(e0(a,l,d),a=a.sibling;a!==null;)e0(a,l,d),a=a.sibling}function Gd(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&(g===27&&Ja(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Gd(a,l,d),a=a.sibling;a!==null;)Gd(a,l,d),a=a.sibling}function nC(a){var l=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);jn(l,g,d),l[be]=a,l[mn]=d}catch(C){Se(a,a.return,C)}}var ua=!1,cn=!1,n0=!1,rC=typeof WeakSet=="function"?WeakSet:Set,En=null;function kz(a,l){if(a=a.containerInfo,C0=mf,a=gw(a),Xm(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else t:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var v=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break t}var O=0,Y=-1,J=-1,ct=0,ft=0,mt=a,ht=null;e:for(;;){for(var dt;mt!==d||v!==0&&mt.nodeType!==3||(Y=O+v),mt!==C||g!==0&&mt.nodeType!==3||(J=O+g),mt.nodeType===3&&(O+=mt.nodeValue.length),(dt=mt.firstChild)!==null;)ht=mt,mt=dt;for(;;){if(mt===a)break e;if(ht===d&&++ct===v&&(Y=O),ht===C&&++ft===g&&(J=O),(dt=mt.nextSibling)!==null)break;mt=ht,ht=mt.parentNode}mt=dt}d=Y===-1||J===-1?null:{start:Y,end:J}}else d=null}d=d||{start:0,end:0}}else d=null;for(_0={focusedElem:a,selectionRange:d},mf=!1,En=l;En!==null;)if(l=En,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,En=a;else for(;En!==null;){switch(l=En,C=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)v=a[d],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,d=l,v=C.memoizedProps,C=C.memoizedState,g=d.stateNode;try{var Tt=Zs(d.type,v);a=g.getSnapshotBeforeUpdate(Tt,C),g.__reactInternalSnapshotBeforeUpdate=a}catch(It){Se(d,d.return,It)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)E0(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":E0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,En=a;break}En=l.return}}function iC(a,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:da(a,d),g&4&&Qc(5,d);break;case 1:if(da(a,d),g&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(O){Se(d,d.return,O)}else{var v=Zs(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(v,l,a.__reactInternalSnapshotBeforeUpdate)}catch(O){Se(d,d.return,O)}}g&64&&QS(d),g&512&&Jc(d,d.return);break;case 3:if(da(a,d),g&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Hw(a,l)}catch(O){Se(d,d.return,O)}}break;case 27:l===null&&g&4&&nC(d);case 26:case 5:da(a,d),l===null&&g&4&&tC(d),g&512&&Jc(d,d.return);break;case 12:da(a,d);break;case 31:da(a,d),g&4&&oC(a,d);break;case 13:da(a,d),g&4&&lC(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=Rz.bind(null,d),t6(a,d))));break;case 22:if(g=d.memoizedState!==null||ua,!g){l=l!==null&&l.memoizedState!==null||cn,v=ua;var C=cn;ua=g,(cn=l)&&!C?fa(a,d,(d.subtreeFlags&8772)!==0):da(a,d),ua=v,cn=C}break;case 30:break;default:da(a,d)}}function aC(a){var l=a.alternate;l!==null&&(a.alternate=null,aC(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&xt(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Fe=null,yr=!1;function ha(a,l,d){for(d=d.child;d!==null;)sC(a,l,d),d=d.sibling}function sC(a,l,d){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(ur,d)}catch{}switch(d.tag){case 26:cn||Oi(d,l),ha(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:cn||Oi(d,l);var g=Fe,v=yr;Ja(d.type)&&(Fe=d.stateNode,yr=!1),ha(a,l,d),lu(d.stateNode),Fe=g,yr=v;break;case 5:cn||Oi(d,l);case 6:if(g=Fe,v=yr,Fe=null,ha(a,l,d),Fe=g,yr=v,Fe!==null)if(yr)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(d.stateNode)}catch(C){Se(d,l,C)}else try{Fe.removeChild(d.stateNode)}catch(C){Se(d,l,C)}break;case 18:Fe!==null&&(yr?(a=Fe,QC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),xl(a)):QC(Fe,d.stateNode));break;case 4:g=Fe,v=yr,Fe=d.stateNode.containerInfo,yr=!0,ha(a,l,d),Fe=g,yr=v;break;case 0:case 11:case 14:case 15:Wa(2,d,l),cn||Wa(4,d,l),ha(a,l,d);break;case 1:cn||(Oi(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&JS(d,l,g)),ha(a,l,d);break;case 21:ha(a,l,d);break;case 22:cn=(g=cn)||d.memoizedState!==null,ha(a,l,d),cn=g;break;default:ha(a,l,d)}}function oC(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{xl(a)}catch(d){Se(l,l.return,d)}}}function lC(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{xl(a)}catch(d){Se(l,l.return,d)}}function Tz(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new rC),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new rC),l;default:throw Error(r(435,a.tag))}}function Xd(a,l){var d=Tz(a);l.forEach(function(g){if(!d.has(g)){d.add(g);var v=Bz.bind(null,a,g);g.then(v,v)}})}function xr(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var v=d[g],C=a,O=l,Y=O;t:for(;Y!==null;){switch(Y.tag){case 27:if(Ja(Y.type)){Fe=Y.stateNode,yr=!1;break t}break;case 5:Fe=Y.stateNode,yr=!1;break t;case 3:case 4:Fe=Y.stateNode.containerInfo,yr=!0;break t}Y=Y.return}if(Fe===null)throw Error(r(160));sC(C,O,v),Fe=null,yr=!1,C=v.alternate,C!==null&&(C.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)cC(l,a),l=l.sibling}var ci=null;function cC(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:xr(l,a),br(a),g&4&&(Wa(3,a,a.return),Qc(3,a),Wa(5,a,a.return));break;case 1:xr(l,a),br(a),g&512&&(cn||d===null||Oi(d,d.return)),g&64&&ua&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var v=ci;if(xr(l,a),br(a),g&512&&(cn||d===null||Oi(d,d.return)),g&4){var C=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){t:{g=a.type,d=a.memoizedProps,v=v.ownerDocument||v;e:switch(g){case"title":C=v.getElementsByTagName("title")[0],(!C||C[rt]||C[be]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=v.createElement(g),v.head.insertBefore(C,v.querySelector("head > title"))),jn(C,g,d),C[be]=a,ae(C),g=C;break t;case"link":var O=c_("link","href",v).get(g+(d.href||""));if(O){for(var Y=0;Y<O.length;Y++)if(C=O[Y],C.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&C.getAttribute("rel")===(d.rel==null?null:d.rel)&&C.getAttribute("title")===(d.title==null?null:d.title)&&C.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){O.splice(Y,1);break e}}C=v.createElement(g),jn(C,g,d),v.head.appendChild(C);break;case"meta":if(O=c_("meta","content",v).get(g+(d.content||""))){for(Y=0;Y<O.length;Y++)if(C=O[Y],C.getAttribute("content")===(d.content==null?null:""+d.content)&&C.getAttribute("name")===(d.name==null?null:d.name)&&C.getAttribute("property")===(d.property==null?null:d.property)&&C.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&C.getAttribute("charset")===(d.charSet==null?null:d.charSet)){O.splice(Y,1);break e}}C=v.createElement(g),jn(C,g,d),v.head.appendChild(C);break;default:throw Error(r(468,g))}C[be]=a,ae(C),g=C}a.stateNode=g}else u_(v,a.type,a.stateNode);else a.stateNode=l_(v,g,a.memoizedProps);else C!==g?(C===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):C.count--,g===null?u_(v,a.type,a.stateNode):l_(v,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Jy(a,a.memoizedProps,d.memoizedProps)}break;case 27:xr(l,a),br(a),g&512&&(cn||d===null||Oi(d,d.return)),d!==null&&g&4&&Jy(a,a.memoizedProps,d.memoizedProps);break;case 5:if(xr(l,a),br(a),g&512&&(cn||d===null||Oi(d,d.return)),a.flags&32){v=a.stateNode;try{Io(v,"")}catch(Tt){Se(a,a.return,Tt)}}g&4&&a.stateNode!=null&&(v=a.memoizedProps,Jy(a,v,d!==null?d.memoizedProps:v)),g&1024&&(n0=!0);break;case 6:if(xr(l,a),br(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(Tt){Se(a,a.return,Tt)}}break;case 3:if(df=null,v=ci,ci=uf(l.containerInfo),xr(l,a),ci=v,br(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{xl(l.containerInfo)}catch(Tt){Se(a,a.return,Tt)}n0&&(n0=!1,uC(a));break;case 4:g=ci,ci=uf(a.stateNode.containerInfo),xr(l,a),br(a),ci=g;break;case 12:xr(l,a),br(a);break;case 31:xr(l,a),br(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Xd(a,g)));break;case 13:xr(l,a),br(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Kd=Me()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Xd(a,g)));break;case 22:v=a.memoizedState!==null;var J=d!==null&&d.memoizedState!==null,ct=ua,ft=cn;if(ua=ct||v,cn=ft||J,xr(l,a),cn=ft,ua=ct,br(a),g&8192)t:for(l=a.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(d===null||J||ua||cn||Ks(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){J=d=l;try{if(C=J.stateNode,v)O=C.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{Y=J.stateNode;var mt=J.memoizedProps.style,ht=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;Y.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(Tt){Se(J,J.return,Tt)}}}else if(l.tag===6){if(d===null){J=l;try{J.stateNode.nodeValue=v?"":J.memoizedProps}catch(Tt){Se(J,J.return,Tt)}}}else if(l.tag===18){if(d===null){J=l;try{var dt=J.stateNode;v?JC(dt,!0):JC(J.stateNode,!1)}catch(Tt){Se(J,J.return,Tt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Xd(a,d))));break;case 19:xr(l,a),br(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Xd(a,g)));break;case 30:break;case 21:break;default:xr(l,a),br(a)}}function br(a){var l=a.flags;if(l&2){try{for(var d,g=a.return;g!==null;){if(eC(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var v=d.stateNode,C=t0(a);Gd(a,C,v);break;case 5:var O=d.stateNode;d.flags&32&&(Io(O,""),d.flags&=-33);var Y=t0(a);Gd(a,Y,O);break;case 3:case 4:var J=d.stateNode.containerInfo,ct=t0(a);e0(a,ct,J);break;default:throw Error(r(161))}}catch(ft){Se(a,a.return,ft)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function uC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;uC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function da(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)iC(a,l.alternate,l),l=l.sibling}function Ks(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Wa(4,l,l.return),Ks(l);break;case 1:Oi(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&JS(l,l.return,d),Ks(l);break;case 27:lu(l.stateNode);case 26:case 5:Oi(l,l.return),Ks(l);break;case 22:l.memoizedState===null&&Ks(l);break;case 30:Ks(l);break;default:Ks(l)}a=a.sibling}}function fa(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,v=a,C=l,O=C.flags;switch(C.tag){case 0:case 11:case 15:fa(v,C,d),Qc(4,C);break;case 1:if(fa(v,C,d),g=C,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ct){Se(g,g.return,ct)}if(g=C,v=g.updateQueue,v!==null){var Y=g.stateNode;try{var J=v.shared.hiddenCallbacks;if(J!==null)for(v.shared.hiddenCallbacks=null,v=0;v<J.length;v++)Iw(J[v],Y)}catch(ct){Se(g,g.return,ct)}}d&&O&64&&QS(C),Jc(C,C.return);break;case 27:nC(C);case 26:case 5:fa(v,C,d),d&&g===null&&O&4&&tC(C),Jc(C,C.return);break;case 12:fa(v,C,d);break;case 31:fa(v,C,d),d&&O&4&&oC(v,C);break;case 13:fa(v,C,d),d&&O&4&&lC(v,C);break;case 22:C.memoizedState===null&&fa(v,C,d),Jc(C,C.return);break;case 30:break;default:fa(v,C,d)}l=l.sibling}}function r0(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Pc(d))}function i0(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Pc(a))}function ui(a,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)hC(a,l,d,g),l=l.sibling}function hC(a,l,d,g){var v=l.flags;switch(l.tag){case 0:case 11:case 15:ui(a,l,d,g),v&2048&&Qc(9,l);break;case 1:ui(a,l,d,g);break;case 3:ui(a,l,d,g),v&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Pc(a)));break;case 12:if(v&2048){ui(a,l,d,g),a=l.stateNode;try{var C=l.memoizedProps,O=C.id,Y=C.onPostCommit;typeof Y=="function"&&Y(O,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){Se(l,l.return,J)}}else ui(a,l,d,g);break;case 31:ui(a,l,d,g);break;case 13:ui(a,l,d,g);break;case 23:break;case 22:C=l.stateNode,O=l.alternate,l.memoizedState!==null?C._visibility&2?ui(a,l,d,g):tu(a,l):C._visibility&2?ui(a,l,d,g):(C._visibility|=2,ol(a,l,d,g,(l.subtreeFlags&10256)!==0||!1)),v&2048&&r0(O,l);break;case 24:ui(a,l,d,g),v&2048&&i0(l.alternate,l);break;default:ui(a,l,d,g)}}function ol(a,l,d,g,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var C=a,O=l,Y=d,J=g,ct=O.flags;switch(O.tag){case 0:case 11:case 15:ol(C,O,Y,J,v),Qc(8,O);break;case 23:break;case 22:var ft=O.stateNode;O.memoizedState!==null?ft._visibility&2?ol(C,O,Y,J,v):tu(C,O):(ft._visibility|=2,ol(C,O,Y,J,v)),v&&ct&2048&&r0(O.alternate,O);break;case 24:ol(C,O,Y,J,v),v&&ct&2048&&i0(O.alternate,O);break;default:ol(C,O,Y,J,v)}l=l.sibling}}function tu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,g=l,v=g.flags;switch(g.tag){case 22:tu(d,g),v&2048&&r0(g.alternate,g);break;case 24:tu(d,g),v&2048&&i0(g.alternate,g);break;default:tu(d,g)}l=l.sibling}}var eu=8192;function ll(a,l,d){if(a.subtreeFlags&eu)for(a=a.child;a!==null;)dC(a,l,d),a=a.sibling}function dC(a,l,d){switch(a.tag){case 26:ll(a,l,d),a.flags&eu&&a.memoizedState!==null&&d6(d,ci,a.memoizedState,a.memoizedProps);break;case 5:ll(a,l,d);break;case 3:case 4:var g=ci;ci=uf(a.stateNode.containerInfo),ll(a,l,d),ci=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=eu,eu=16777216,ll(a,l,d),eu=g):ll(a,l,d));break;default:ll(a,l,d)}}function fC(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function nu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];En=g,gC(g,a)}fC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pC(a),a=a.sibling}function pC(a){switch(a.tag){case 0:case 11:case 15:nu(a),a.flags&2048&&Wa(9,a,a.return);break;case 3:nu(a);break;case 12:nu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Zd(a)):nu(a);break;default:nu(a)}}function Zd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];En=g,gC(g,a)}fC(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Wa(8,l,l.return),Zd(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Zd(l));break;default:Zd(l)}a=a.sibling}}function gC(a,l){for(;En!==null;){var d=En;switch(d.tag){case 0:case 11:case 15:Wa(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Pc(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,En=g;else t:for(d=a;En!==null;){g=En;var v=g.sibling,C=g.return;if(aC(g),g===d){En=null;break t}if(v!==null){v.return=C,En=v;break t}En=C}}}var Ez={getCacheForType:function(a){var l=Rn(sn),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return Rn(sn).controller.signal}},Az=typeof WeakMap=="function"?WeakMap:Map,fe=0,Ae=null,Kt=null,ee=0,we=0,Br=null,Ya=!1,cl=!1,a0=!1,pa=0,Qe=0,Ga=0,Qs=0,s0=0,jr=0,ul=0,ru=null,vr=null,o0=!1,Kd=0,mC=0,Qd=1/0,Jd=null,Xa=null,yn=0,Za=null,hl=null,ga=0,l0=0,c0=null,yC=null,iu=0,u0=null;function $r(){return(fe&2)!==0&&ee!==0?ee&-ee:R.T!==null?m0():In()}function xC(){if(jr===0)if((ee&536870912)===0||se){var a=Di;Di<<=1,(Di&3932160)===0&&(Di=262144),jr=a}else jr=536870912;return a=Or.current,a!==null&&(a.flags|=32),jr}function wr(a,l,d){(a===Ae&&(we===2||we===9)||a.cancelPendingCommit!==null)&&(dl(a,0),Ka(a,ee,jr,!1)),Tn(a,d),((fe&2)===0||a!==Ae)&&(a===Ae&&((fe&2)===0&&(Qs|=d),Qe===4&&Ka(a,ee,jr,!1)),Ri(a))}function bC(a,l,d){if((fe&6)!==0)throw Error(r(327));var g=!d&&(l&127)===0&&(l&a.expiredLanes)===0||ie(a,l),v=g?Nz(a,l):d0(a,l,!0),C=g;do{if(v===0){cl&&!g&&Ka(a,l,0,!1);break}else{if(d=a.current.alternate,C&&!Mz(d)){v=d0(a,l,!1),C=!1;continue}if(v===2){if(C=l,a.errorRecoveryDisabledLanes&C)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;t:{var Y=a;v=ru;var J=Y.current.memoizedState.isDehydrated;if(J&&(dl(Y,O).flags|=256),O=d0(Y,O,!1),O!==2){if(a0&&!J){Y.errorRecoveryDisabledLanes|=C,Qs|=C,v=4;break t}C=vr,vr=v,C!==null&&(vr===null?vr=C:vr.push.apply(vr,C))}v=O}if(C=!1,v!==2)continue}}if(v===1){dl(a,0),Ka(a,l,0,!0);break}t:{switch(g=a,C=v,C){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ka(g,l,jr,!Ya);break t;case 2:vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=Kd+300-Me(),10<v)){if(Ka(g,l,jr,!Ya),Ze(g,0,!0)!==0)break t;ga=l,g.timeoutHandle=ZC(vC.bind(null,g,d,vr,Jd,o0,l,jr,Qs,ul,Ya,C,"Throttled",-0,0),v);break t}vC(g,d,vr,Jd,o0,l,jr,Qs,ul,Ya,C,null,-0,0)}}break}while(!0);Ri(a)}function vC(a,l,d,g,v,C,O,Y,J,ct,ft,mt,ht,dt){if(a.timeoutHandle=-1,mt=l.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},dC(l,C,mt);var Tt=(C&62914560)===C?Kd-Me():(C&4194048)===C?mC-Me():0;if(Tt=f6(mt,Tt),Tt!==null){ga=C,a.cancelPendingCommit=Tt(AC.bind(null,a,l,C,d,g,v,O,Y,J,ft,mt,null,ht,dt)),Ka(a,C,O,!ct);return}}AC(a,l,C,d,g,v,O,Y,J)}function Mz(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var v=d[g],C=v.getSnapshot;v=v.value;try{if(!Nr(C(),v))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ka(a,l,d,g){l&=~s0,l&=~Qs,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var v=l;0<v;){var C=31-Xe(v),O=1<<C;g[C]=-1,v&=~O}d!==0&&Fn(a,d,l)}function tf(){return(fe&6)===0?(au(0),!1):!0}function h0(){if(Kt!==null){if(we===0)var a=Kt.return;else a=Kt,ia=Vs=null,Ey(a),nl=null,Ic=0,a=Kt;for(;a!==null;)KS(a.alternate,a),a=a.return;Kt=null}}function dl(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,Xz(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),ga=0,h0(),Ae=a,Kt=d=na(a.current,null),ee=l,we=0,Br=null,Ya=!1,cl=ie(a,l),a0=!1,ul=jr=s0=Qs=Ga=Qe=0,vr=ru=null,o0=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var v=31-Xe(g),C=1<<v;l|=a[v],g&=~C}return pa=l,wd(),d}function wC(a,l){Xt=null,R.H=Xc,l===el||l===Md?(l=$w(),we=3):l===gy?(l=$w(),we=4):we=l===Vy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Br=l,Kt===null&&(Qe=1,Vd(a,qr(l,a.current)))}function SC(){var a=Or.current;return a===null?!0:(ee&4194048)===ee?Gr===null:(ee&62914560)===ee||(ee&536870912)!==0?a===Gr:!1}function CC(){var a=R.H;return R.H=Xc,a===null?Xc:a}function _C(){var a=R.A;return R.A=Ez,a}function ef(){Qe=4,Ya||(ee&4194048)!==ee&&Or.current!==null||(cl=!0),(Ga&134217727)===0&&(Qs&134217727)===0||Ae===null||Ka(Ae,ee,jr,!1)}function d0(a,l,d){var g=fe;fe|=2;var v=CC(),C=_C();(Ae!==a||ee!==l)&&(Jd=null,dl(a,l)),l=!1;var O=Qe;t:do try{if(we!==0&&Kt!==null){var Y=Kt,J=Br;switch(we){case 8:h0(),O=6;break t;case 3:case 2:case 9:case 6:Or.current===null&&(l=!0);var ct=we;if(we=0,Br=null,fl(a,Y,J,ct),d&&cl){O=0;break t}break;default:ct=we,we=0,Br=null,fl(a,Y,J,ct)}}Dz(),O=Qe;break}catch(ft){wC(a,ft)}while(!0);return l&&a.shellSuspendCounter++,ia=Vs=null,fe=g,R.H=v,R.A=C,Kt===null&&(Ae=null,ee=0,wd()),O}function Dz(){for(;Kt!==null;)kC(Kt)}function Nz(a,l){var d=fe;fe|=2;var g=CC(),v=_C();Ae!==a||ee!==l?(Jd=null,Qd=Me()+500,dl(a,l)):cl=ie(a,l);t:do try{if(we!==0&&Kt!==null){l=Kt;var C=Br;e:switch(we){case 1:we=0,Br=null,fl(a,l,C,1);break;case 2:case 9:if(Bw(C)){we=0,Br=null,TC(l);break}l=function(){we!==2&&we!==9||Ae!==a||(we=7),Ri(a)},C.then(l,l);break t;case 3:we=7;break t;case 4:we=5;break t;case 7:Bw(C)?(we=0,Br=null,TC(l)):(we=0,Br=null,fl(a,l,C,7));break;case 5:var O=null;switch(Kt.tag){case 26:O=Kt.memoizedState;case 5:case 27:var Y=Kt;if(O?h_(O):Y.stateNode.complete){we=0,Br=null;var J=Y.sibling;if(J!==null)Kt=J;else{var ct=Y.return;ct!==null?(Kt=ct,nf(ct)):Kt=null}break e}}we=0,Br=null,fl(a,l,C,5);break;case 6:we=0,Br=null,fl(a,l,C,6);break;case 8:h0(),Qe=6;break t;default:throw Error(r(462))}}Lz();break}catch(ft){wC(a,ft)}while(!0);return ia=Vs=null,R.H=g,R.A=v,fe=d,Kt!==null?0:(Ae=null,ee=0,wd(),Qe)}function Lz(){for(;Kt!==null&&!lr();)kC(Kt)}function kC(a){var l=XS(a.alternate,a,pa);a.memoizedProps=a.pendingProps,l===null?nf(a):Kt=l}function TC(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=VS(d,l,l.pendingProps,l.type,void 0,ee);break;case 11:l=VS(d,l,l.pendingProps,l.type.render,l.ref,ee);break;case 5:Ey(l);default:KS(d,l),l=Kt=_w(l,pa),l=XS(d,l,pa)}a.memoizedProps=a.pendingProps,l===null?nf(a):Kt=l}function fl(a,l,d,g){ia=Vs=null,Ey(l),nl=null,Ic=0;var v=l.return;try{if(vz(a,v,l,d,ee)){Qe=1,Vd(a,qr(d,a.current)),Kt=null;return}}catch(C){if(v!==null)throw Kt=v,C;Qe=1,Vd(a,qr(d,a.current)),Kt=null;return}l.flags&32768?(se||g===1?a=!0:cl||(ee&536870912)!==0?a=!1:(Ya=a=!0,(g===2||g===9||g===3||g===6)&&(g=Or.current,g!==null&&g.tag===13&&(g.flags|=16384))),EC(l,a)):nf(l)}function nf(a){var l=a;do{if((l.flags&32768)!==0){EC(l,Ya);return}a=l.return;var d=Cz(l.alternate,l,pa);if(d!==null){Kt=d;return}if(l=l.sibling,l!==null){Kt=l;return}Kt=l=a}while(l!==null);Qe===0&&(Qe=5)}function EC(a,l){do{var d=_z(a.alternate,a);if(d!==null){d.flags&=32767,Kt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){Kt=a;return}Kt=a=d}while(a!==null);Qe=6,Kt=null}function AC(a,l,d,g,v,C,O,Y,J){a.cancelPendingCommit=null;do rf();while(yn!==0);if((fe&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(C=l.lanes|l.childLanes,C|=ty,Pe(a,d,C,O,Y,J),a===Ae&&(Kt=Ae=null,ee=0),hl=l,Za=a,ga=d,l0=C,c0=v,yC=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,jz(Dn,function(){return OC(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=R.T,R.T=null,v=I.p,I.p=2,O=fe,fe|=4;try{kz(a,l,d)}finally{fe=O,I.p=v,R.T=g}}yn=1,MC(),DC(),NC()}}function MC(){if(yn===1){yn=0;var a=Za,l=hl,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=R.T,R.T=null;var g=I.p;I.p=2;var v=fe;fe|=4;try{cC(l,a);var C=_0,O=gw(a.containerInfo),Y=C.focusedElem,J=C.selectionRange;if(O!==Y&&Y&&Y.ownerDocument&&pw(Y.ownerDocument.documentElement,Y)){if(J!==null&&Xm(Y)){var ct=J.start,ft=J.end;if(ft===void 0&&(ft=ct),"selectionStart"in Y)Y.selectionStart=ct,Y.selectionEnd=Math.min(ft,Y.value.length);else{var mt=Y.ownerDocument||document,ht=mt&&mt.defaultView||window;if(ht.getSelection){var dt=ht.getSelection(),Tt=Y.textContent.length,It=Math.min(J.start,Tt),ke=J.end===void 0?It:Math.min(J.end,Tt);!dt.extend&&It>ke&&(O=ke,ke=It,It=O);var st=fw(Y,It),it=fw(Y,ke);if(st&&it&&(dt.rangeCount!==1||dt.anchorNode!==st.node||dt.anchorOffset!==st.offset||dt.focusNode!==it.node||dt.focusOffset!==it.offset)){var lt=mt.createRange();lt.setStart(st.node,st.offset),dt.removeAllRanges(),It>ke?(dt.addRange(lt),dt.extend(it.node,it.offset)):(lt.setEnd(it.node,it.offset),dt.addRange(lt))}}}}for(mt=[],dt=Y;dt=dt.parentNode;)dt.nodeType===1&&mt.push({element:dt,left:dt.scrollLeft,top:dt.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<mt.length;Y++){var gt=mt[Y];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}mf=!!C0,_0=C0=null}finally{fe=v,I.p=g,R.T=d}}a.current=l,yn=2}}function DC(){if(yn===2){yn=0;var a=Za,l=hl,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=R.T,R.T=null;var g=I.p;I.p=2;var v=fe;fe|=4;try{iC(a,l.alternate,l)}finally{fe=v,I.p=g,R.T=d}}yn=3}}function NC(){if(yn===4||yn===3){yn=0,cr();var a=Za,l=hl,d=ga,g=yC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?yn=5:(yn=0,hl=Za=null,LC(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Xa=null),hr(d),l=l.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(ur,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=R.T,v=I.p,I.p=2,R.T=null;try{for(var C=a.onRecoverableError,O=0;O<g.length;O++){var Y=g[O];C(Y.value,{componentStack:Y.stack})}}finally{R.T=l,I.p=v}}(ga&3)!==0&&rf(),Ri(a),v=a.pendingLanes,(d&261930)!==0&&(v&42)!==0?a===u0?iu++:(iu=0,u0=a):iu=0,au(0)}}function LC(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Pc(l)))}function rf(){return MC(),DC(),NC(),OC()}function OC(){if(yn!==5)return!1;var a=Za,l=l0;l0=0;var d=hr(ga),g=R.T,v=I.p;try{I.p=32>d?32:d,R.T=null,d=c0,c0=null;var C=Za,O=ga;if(yn=0,hl=Za=null,ga=0,(fe&6)!==0)throw Error(r(331));var Y=fe;if(fe|=4,pC(C.current),hC(C,C.current,O,d),fe=Y,au(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(ur,C)}catch{}return!0}finally{I.p=v,R.T=g,LC(a,l)}}function RC(a,l,d){l=qr(d,l),l=Hy(a.stateNode,l,2),a=Va(a,l,2),a!==null&&(Tn(a,2),Ri(a))}function Se(a,l,d){if(a.tag===3)RC(a,a,d);else for(;l!==null;){if(l.tag===3){RC(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Xa===null||!Xa.has(g))){a=qr(d,a),d=BS(2),g=Va(l,d,2),g!==null&&(jS(d,g,l,a),Tn(g,2),Ri(g));break}}l=l.return}}function f0(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new Az;var v=new Set;g.set(l,v)}else v=g.get(l),v===void 0&&(v=new Set,g.set(l,v));v.has(d)||(a0=!0,v.add(d),a=Oz.bind(null,a,l,d),l.then(a,a))}function Oz(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Ae===a&&(ee&d)===d&&(Qe===4||Qe===3&&(ee&62914560)===ee&&300>Me()-Kd?(fe&2)===0&&dl(a,0):s0|=d,ul===ee&&(ul=0)),Ri(a)}function BC(a,l){l===0&&(l=an()),a=Fs(a,l),a!==null&&(Tn(a,l),Ri(a))}function Rz(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),BC(a,d)}function Bz(a,l){var d=0;switch(a.tag){case 31:case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(d=v.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),BC(a,d)}function jz(a,l){return qe(a,l)}var af=null,pl=null,p0=!1,sf=!1,g0=!1,Qa=0;function Ri(a){a!==pl&&a.next===null&&(pl===null?af=pl=a:pl=pl.next=a),sf=!0,p0||(p0=!0,zz())}function au(a,l){if(!g0&&sf){g0=!0;do for(var d=!1,g=af;g!==null;){if(a!==0){var v=g.pendingLanes;if(v===0)var C=0;else{var O=g.suspendedLanes,Y=g.pingedLanes;C=(1<<31-Xe(42|a)+1)-1,C&=v&~(O&~Y),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(d=!0,PC(g,C))}else C=ee,C=Ze(g,g===Ae?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||ie(g,C)||(d=!0,PC(g,C));g=g.next}while(d);g0=!1}}function $z(){jC()}function jC(){sf=p0=!1;var a=0;Qa!==0&&Gz()&&(a=Qa);for(var l=Me(),d=null,g=af;g!==null;){var v=g.next,C=$C(g,l);C===0?(g.next=null,d===null?af=v:d.next=v,v===null&&(pl=d)):(d=g,(a!==0||(C&3)!==0)&&(sf=!0)),g=v}yn!==0&&yn!==5||au(a),Qa!==0&&(Qa=0)}function $C(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,v=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var O=31-Xe(C),Y=1<<O,J=v[O];J===-1?((Y&d)===0||(Y&g)!==0)&&(v[O]=Ue(Y,l)):J<=l&&(a.expiredLanes|=Y),C&=~Y}if(l=Ae,d=ee,d=Ze(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===l&&(we===2||we===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Mn(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ie(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(g!==null&&Mn(g),hr(d)){case 2:case 8:d=kn;break;case 32:d=Dn;break;case 268435456:d=Ar;break;default:d=Dn}return g=zC.bind(null,a),d=qe(d,g),a.callbackPriority=l,a.callbackNode=d,l}return g!==null&&g!==null&&Mn(g),a.callbackPriority=2,a.callbackNode=null,2}function zC(a,l){if(yn!==0&&yn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(rf()&&a.callbackNode!==d)return null;var g=ee;return g=Ze(a,a===Ae?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(bC(a,g,l),$C(a,Me()),a.callbackNode!=null&&a.callbackNode===d?zC.bind(null,a):null)}function PC(a,l){if(rf())return null;bC(a,l,!0)}function zz(){Zz(function(){(fe&6)!==0?qe(_n,$z):jC()})}function m0(){if(Qa===0){var a=Jo;a===0&&(a=Mr,Mr<<=1,(Mr&261888)===0&&(Mr=256)),Qa=a}return Qa}function FC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:fd(""+a)}function IC(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function Pz(a,l,d,g,v){if(l==="submit"&&d&&d.stateNode===v){var C=FC((v[mn]||null).action),O=g.submitter;O&&(l=(l=O[mn]||null)?FC(l.formAction):O.getAttribute("formAction"),l!==null&&(C=l,O=null));var Y=new yd("action","action",null,g,v);a.push({event:Y,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Qa!==0){var J=O?IC(v,O):new FormData(v);jy(d,{pending:!0,data:J,method:v.method,action:C},null,J)}}else typeof C=="function"&&(Y.preventDefault(),J=O?IC(v,O):new FormData(v),jy(d,{pending:!0,data:J,method:v.method,action:C},C,J))},currentTarget:v}]})}}for(var y0=0;y0<Jm.length;y0++){var x0=Jm[y0],Fz=x0.toLowerCase(),Iz=x0[0].toUpperCase()+x0.slice(1);li(Fz,"on"+Iz)}li(xw,"onAnimationEnd"),li(bw,"onAnimationIteration"),li(vw,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(rz,"onTransitionRun"),li(iz,"onTransitionStart"),li(az,"onTransitionCancel"),li(ww,"onTransitionEnd"),De("onMouseEnter",["mouseout","mouseover"]),De("onMouseLeave",["mouseout","mouseover"]),De("onPointerEnter",["pointerout","pointerover"]),De("onPointerLeave",["pointerout","pointerover"]),Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function HC(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],v=g.event;g=g.listeners;t:{var C=void 0;if(l)for(var O=g.length-1;0<=O;O--){var Y=g[O],J=Y.instance,ct=Y.currentTarget;if(Y=Y.listener,J!==C&&v.isPropagationStopped())break t;C=Y,v.currentTarget=ct;try{C(v)}catch(ft){vd(ft)}v.currentTarget=null,C=J}else for(O=0;O<g.length;O++){if(Y=g[O],J=Y.instance,ct=Y.currentTarget,Y=Y.listener,J!==C&&v.isPropagationStopped())break t;C=Y,v.currentTarget=ct;try{C(v)}catch(ft){vd(ft)}v.currentTarget=null,C=J}}}}function Qt(a,l){var d=l[Qi];d===void 0&&(d=l[Qi]=new Set);var g=a+"__bubble";d.has(g)||(VC(l,a,2,!1),d.add(g))}function b0(a,l,d){var g=0;l&&(g|=4),VC(d,a,g,l)}var of="_reactListening"+Math.random().toString(36).slice(2);function v0(a){if(!a[of]){a[of]=!0,fr.forEach(function(d){d!=="selectionchange"&&(Hz.has(d)||b0(d,!1,a),b0(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[of]||(l[of]=!0,b0("selectionchange",!1,l))}}function VC(a,l,d,g){switch(x_(l)){case 2:var v=m6;break;case 8:v=y6;break;default:v=B0}d=v.bind(null,l,d,a),v=void 0,!Fm||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),g?v!==void 0?a.addEventListener(l,d,{capture:!0,passive:v}):a.addEventListener(l,d,!0):v!==void 0?a.addEventListener(l,d,{passive:v}):a.addEventListener(l,d,!1)}function w0(a,l,d,g,v){var C=g;if((l&1)===0&&(l&2)===0&&g!==null)t:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var Y=g.stateNode.containerInfo;if(Y===v)break;if(O===4)for(O=g.return;O!==null;){var J=O.tag;if((J===3||J===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;Y!==null;){if(O=Ct(Y),O===null)return;if(J=O.tag,J===5||J===6||J===26||J===27){g=C=O;continue t}Y=Y.parentNode}}g=g.return}G2(function(){var ct=C,ft=zm(d),mt=[];t:{var ht=Sw.get(a);if(ht!==void 0){var dt=yd,Tt=a;switch(a){case"keypress":if(gd(d)===0)break t;case"keydown":case"keyup":dt=B4;break;case"focusin":Tt="focus",dt=qm;break;case"focusout":Tt="blur",dt=qm;break;case"beforeblur":case"afterblur":dt=qm;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=K2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=C4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=z4;break;case xw:case bw:case vw:dt=T4;break;case ww:dt=F4;break;case"scroll":case"scrollend":dt=w4;break;case"wheel":dt=H4;break;case"copy":case"cut":case"paste":dt=A4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=J2;break;case"toggle":case"beforetoggle":dt=q4}var It=(l&4)!==0,ke=!It&&(a==="scroll"||a==="scrollend"),st=It?ht!==null?ht+"Capture":null:ht;It=[];for(var it=ct,lt;it!==null;){var gt=it;if(lt=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||lt===null||st===null||(gt=Ac(it,st),gt!=null&&It.push(ou(it,gt,lt))),ke)break;it=it.return}0<It.length&&(ht=new dt(ht,Tt,null,d,ft),mt.push({event:ht,listeners:It}))}}if((l&7)===0){t:{if(ht=a==="mouseover"||a==="pointerover",dt=a==="mouseout"||a==="pointerout",ht&&d!==$m&&(Tt=d.relatedTarget||d.fromElement)&&(Ct(Tt)||Tt[Hr]))break t;if((dt||ht)&&(ht=ft.window===ft?ft:(ht=ft.ownerDocument)?ht.defaultView||ht.parentWindow:window,dt?(Tt=d.relatedTarget||d.toElement,dt=ct,Tt=Tt?Ct(Tt):null,Tt!==null&&(ke=s(Tt),It=Tt.tag,Tt!==ke||It!==5&&It!==27&&It!==6)&&(Tt=null)):(dt=null,Tt=ct),dt!==Tt)){if(It=K2,gt="onMouseLeave",st="onMouseEnter",it="mouse",(a==="pointerout"||a==="pointerover")&&(It=J2,gt="onPointerLeave",st="onPointerEnter",it="pointer"),ke=dt==null?ht:Oe(dt),lt=Tt==null?ht:Oe(Tt),ht=new It(gt,it+"leave",dt,d,ft),ht.target=ke,ht.relatedTarget=lt,gt=null,Ct(ft)===ct&&(It=new It(st,it+"enter",Tt,d,ft),It.target=lt,It.relatedTarget=ke,gt=It),ke=gt,dt&&Tt)e:{for(It=Vz,st=dt,it=Tt,lt=0,gt=st;gt;gt=It(gt))lt++;gt=0;for(var $t=it;$t;$t=It($t))gt++;for(;0<lt-gt;)st=It(st),lt--;for(;0<gt-lt;)it=It(it),gt--;for(;lt--;){if(st===it||it!==null&&st===it.alternate){It=st;break e}st=It(st),it=It(it)}It=null}else It=null;dt!==null&&qC(mt,ht,dt,It,!1),Tt!==null&&ke!==null&&qC(mt,ke,Tt,It,!0)}}t:{if(ht=ct?Oe(ct):window,dt=ht.nodeName&&ht.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ht.type==="file")var ce=ow;else if(aw(ht))if(lw)ce=tz;else{ce=Q4;var Ot=K4}else dt=ht.nodeName,!dt||dt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ct&&jm(ct.elementType)&&(ce=ow):ce=J4;if(ce&&(ce=ce(a,ct))){sw(mt,ce,d,ft);break t}Ot&&Ot(a,ht,ct),a==="focusout"&&ct&&ht.type==="number"&&ct.memoizedProps.value!=null&&Ec(ht,"number",ht.value)}switch(Ot=ct?Oe(ct):window,a){case"focusin":(aw(Ot)||Ot.contentEditable==="true")&&(Uo=Ot,Zm=ct,jc=null);break;case"focusout":jc=Zm=Uo=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,mw(mt,d,ft);break;case"selectionchange":if(nz)break;case"keydown":case"keyup":mw(mt,d,ft)}var Zt;if(Wm)t:{switch(a){case"compositionstart":var ne="onCompositionStart";break t;case"compositionend":ne="onCompositionEnd";break t;case"compositionupdate":ne="onCompositionUpdate";break t}ne=void 0}else qo?rw(a,d)&&(ne="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(ne="onCompositionStart");ne&&(tw&&d.locale!=="ko"&&(qo||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&qo&&(Zt=X2()):(ja=ft,Im="value"in ja?ja.value:ja.textContent,qo=!0)),Ot=lf(ct,ne),0<Ot.length&&(ne=new Q2(ne,a,null,d,ft),mt.push({event:ne,listeners:Ot}),Zt?ne.data=Zt:(Zt=iw(d),Zt!==null&&(ne.data=Zt)))),(Zt=W4?Y4(a,d):G4(a,d))&&(ne=lf(ct,"onBeforeInput"),0<ne.length&&(Ot=new Q2("onBeforeInput","beforeinput",null,d,ft),mt.push({event:Ot,listeners:ne}),Ot.data=Zt)),Pz(mt,a,ct,d,ft)}HC(mt,l)})}function ou(a,l,d){return{instance:a,listener:l,currentTarget:d}}function lf(a,l){for(var d=l+"Capture",g=[];a!==null;){var v=a,C=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||C===null||(v=Ac(a,d),v!=null&&g.unshift(ou(a,v,C)),v=Ac(a,l),v!=null&&g.push(ou(a,v,C))),a.tag===3)return g;a=a.return}return[]}function Vz(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function qC(a,l,d,g,v){for(var C=l._reactName,O=[];d!==null&&d!==g;){var Y=d,J=Y.alternate,ct=Y.stateNode;if(Y=Y.tag,J!==null&&J===g)break;Y!==5&&Y!==26&&Y!==27||ct===null||(J=ct,v?(ct=Ac(d,C),ct!=null&&O.unshift(ou(d,ct,J))):v||(ct=Ac(d,C),ct!=null&&O.push(ou(d,ct,J)))),d=d.return}O.length!==0&&a.push({event:l,listeners:O})}var qz=/\r\n?/g,Uz=/\u0000|\uFFFD/g;function UC(a){return(typeof a=="string"?a:""+a).replace(qz,`
`).replace(Uz,"")}function WC(a,l){return l=UC(l),UC(a)===l}function _e(a,l,d,g,v,C){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Io(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Io(a,""+g);break;case"className":Po(a,"class",g);break;case"tabIndex":Po(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Po(a,d,g);break;case"style":W2(a,g,C);break;case"data":if(l!=="object"){Po(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=fd(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(d==="formAction"?(l!=="input"&&_e(a,l,"name",v.name,v,null),_e(a,l,"formEncType",v.formEncType,v,null),_e(a,l,"formMethod",v.formMethod,v,null),_e(a,l,"formTarget",v.formTarget,v,null)):(_e(a,l,"encType",v.encType,v,null),_e(a,l,"method",v.method,v,null),_e(a,l,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=fd(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=ta);break;case"onScroll":g!=null&&Qt("scroll",a);break;case"onScrollEnd":g!=null&&Qt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=fd(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":Qt("beforetoggle",a),Qt("toggle",a),zo(a,"popover",g);break;case"xlinkActuate":oi(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":oi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":oi(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":oi(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":oi(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":oi(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":oi(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":oi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":oi(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":zo(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=b4.get(d)||d,zo(a,d,g))}}function S0(a,l,d,g,v,C){switch(d){case"style":W2(a,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof g=="string"?Io(a,g):(typeof g=="number"||typeof g=="bigint")&&Io(a,""+g);break;case"onScroll":g!=null&&Qt("scroll",a);break;case"onScrollEnd":g!=null&&Qt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!si.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),l=d.slice(2,v?d.length-7:void 0),C=a[mn]||null,C=C!=null?C[d]:null,typeof C=="function"&&a.removeEventListener(l,C,v),typeof g=="function")){typeof C!="function"&&C!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,g,v);break t}d in a?a[d]=g:g===!0?a.setAttribute(d,""):zo(a,d,g)}}}function jn(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",a),Qt("load",a);var g=!1,v=!1,C;for(C in d)if(d.hasOwnProperty(C)){var O=d[C];if(O!=null)switch(C){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_e(a,l,C,O,d,null)}}v&&_e(a,l,"srcSet",d.srcSet,d,null),g&&_e(a,l,"src",d.src,d,null);return;case"input":Qt("invalid",a);var Y=C=O=v=null,J=null,ct=null;for(g in d)if(d.hasOwnProperty(g)){var ft=d[g];if(ft!=null)switch(g){case"name":v=ft;break;case"type":O=ft;break;case"checked":J=ft;break;case"defaultChecked":ct=ft;break;case"value":C=ft;break;case"defaultValue":Y=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,l));break;default:_e(a,l,g,ft,d,null)}}dd(a,C,Y,J,ct,O,v,!1);return;case"select":Qt("invalid",a),g=O=C=null;for(v in d)if(d.hasOwnProperty(v)&&(Y=d[v],Y!=null))switch(v){case"value":C=Y;break;case"defaultValue":O=Y;break;case"multiple":g=Y;default:_e(a,l,v,Y,d,null)}l=C,d=O,a.multiple=!!g,l!=null?Ji(a,!!g,l,!1):d!=null&&Ji(a,!!g,d,!0);return;case"textarea":Qt("invalid",a),C=v=g=null;for(O in d)if(d.hasOwnProperty(O)&&(Y=d[O],Y!=null))switch(O){case"value":g=Y;break;case"defaultValue":v=Y;break;case"children":C=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:_e(a,l,O,Y,d,null)}q2(a,g,v,C);return;case"option":for(J in d)d.hasOwnProperty(J)&&(g=d[J],g!=null)&&(J==="selected"?a.selected=g&&typeof g!="function"&&typeof g!="symbol":_e(a,l,J,g,d,null));return;case"dialog":Qt("beforetoggle",a),Qt("toggle",a),Qt("cancel",a),Qt("close",a);break;case"iframe":case"object":Qt("load",a);break;case"video":case"audio":for(g=0;g<su.length;g++)Qt(su[g],a);break;case"image":Qt("error",a),Qt("load",a);break;case"details":Qt("toggle",a);break;case"embed":case"source":case"link":Qt("error",a),Qt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in d)if(d.hasOwnProperty(ct)&&(g=d[ct],g!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_e(a,l,ct,g,d,null)}return;default:if(jm(l)){for(ft in d)d.hasOwnProperty(ft)&&(g=d[ft],g!==void 0&&S0(a,l,ft,g,d,void 0));return}}for(Y in d)d.hasOwnProperty(Y)&&(g=d[Y],g!=null&&_e(a,l,Y,g,d,null))}function Wz(a,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,C=null,O=null,Y=null,J=null,ct=null,ft=null;for(dt in d){var mt=d[dt];if(d.hasOwnProperty(dt)&&mt!=null)switch(dt){case"checked":break;case"value":break;case"defaultValue":J=mt;default:g.hasOwnProperty(dt)||_e(a,l,dt,null,g,mt)}}for(var ht in g){var dt=g[ht];if(mt=d[ht],g.hasOwnProperty(ht)&&(dt!=null||mt!=null))switch(ht){case"type":C=dt;break;case"name":v=dt;break;case"checked":ct=dt;break;case"defaultChecked":ft=dt;break;case"value":O=dt;break;case"defaultValue":Y=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,l));break;default:dt!==mt&&_e(a,l,ht,dt,g,mt)}}js(a,O,Y,J,ct,ft,C,v);return;case"select":dt=O=Y=ht=null;for(C in d)if(J=d[C],d.hasOwnProperty(C)&&J!=null)switch(C){case"value":break;case"multiple":dt=J;default:g.hasOwnProperty(C)||_e(a,l,C,null,g,J)}for(v in g)if(C=g[v],J=d[v],g.hasOwnProperty(v)&&(C!=null||J!=null))switch(v){case"value":ht=C;break;case"defaultValue":Y=C;break;case"multiple":O=C;default:C!==J&&_e(a,l,v,C,g,J)}l=Y,d=O,g=dt,ht!=null?Ji(a,!!d,ht,!1):!!g!=!!d&&(l!=null?Ji(a,!!d,l,!0):Ji(a,!!d,d?[]:"",!1));return;case"textarea":dt=ht=null;for(Y in d)if(v=d[Y],d.hasOwnProperty(Y)&&v!=null&&!g.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:_e(a,l,Y,null,g,v)}for(O in g)if(v=g[O],C=d[O],g.hasOwnProperty(O)&&(v!=null||C!=null))switch(O){case"value":ht=v;break;case"defaultValue":dt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==C&&_e(a,l,O,v,g,C)}V2(a,ht,dt);return;case"option":for(var Tt in d)ht=d[Tt],d.hasOwnProperty(Tt)&&ht!=null&&!g.hasOwnProperty(Tt)&&(Tt==="selected"?a.selected=!1:_e(a,l,Tt,null,g,ht));for(J in g)ht=g[J],dt=d[J],g.hasOwnProperty(J)&&ht!==dt&&(ht!=null||dt!=null)&&(J==="selected"?a.selected=ht&&typeof ht!="function"&&typeof ht!="symbol":_e(a,l,J,ht,g,dt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in d)ht=d[It],d.hasOwnProperty(It)&&ht!=null&&!g.hasOwnProperty(It)&&_e(a,l,It,null,g,ht);for(ct in g)if(ht=g[ct],dt=d[ct],g.hasOwnProperty(ct)&&ht!==dt&&(ht!=null||dt!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,l));break;default:_e(a,l,ct,ht,g,dt)}return;default:if(jm(l)){for(var ke in d)ht=d[ke],d.hasOwnProperty(ke)&&ht!==void 0&&!g.hasOwnProperty(ke)&&S0(a,l,ke,void 0,g,ht);for(ft in g)ht=g[ft],dt=d[ft],!g.hasOwnProperty(ft)||ht===dt||ht===void 0&&dt===void 0||S0(a,l,ft,ht,g,dt);return}}for(var st in d)ht=d[st],d.hasOwnProperty(st)&&ht!=null&&!g.hasOwnProperty(st)&&_e(a,l,st,null,g,ht);for(mt in g)ht=g[mt],dt=d[mt],!g.hasOwnProperty(mt)||ht===dt||ht==null&&dt==null||_e(a,l,mt,ht,g,dt)}function YC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yz(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var v=d[g],C=v.transferSize,O=v.initiatorType,Y=v.duration;if(C&&Y&&YC(O)){for(O=0,Y=v.responseEnd,g+=1;g<d.length;g++){var J=d[g],ct=J.startTime;if(ct>Y)break;var ft=J.transferSize,mt=J.initiatorType;ft&&YC(mt)&&(J=J.responseEnd,O+=ft*(J<Y?1:(Y-ct)/(J-ct)))}if(--g,l+=8*(C+O)/(v.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var C0=null,_0=null;function cf(a){return a.nodeType===9?a:a.ownerDocument}function GC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XC(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function k0(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var T0=null;function Gz(){var a=window.event;return a&&a.type==="popstate"?a===T0?!1:(T0=a,!0):(T0=null,!1)}var ZC=typeof setTimeout=="function"?setTimeout:void 0,Xz=typeof clearTimeout=="function"?clearTimeout:void 0,KC=typeof Promise=="function"?Promise:void 0,Zz=typeof queueMicrotask=="function"?queueMicrotask:typeof KC<"u"?function(a){return KC.resolve(null).then(a).catch(Kz)}:ZC;function Kz(a){setTimeout(function(){throw a})}function Ja(a){return a==="head"}function QC(a,l){var d=l,g=0;do{var v=d.nextSibling;if(a.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"||d==="/&"){if(g===0){a.removeChild(v),xl(l);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")lu(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,lu(d);for(var C=d.firstChild;C;){var O=C.nextSibling,Y=C.nodeName;C[rt]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||d.removeChild(C),C=O}}else d==="body"&&lu(a.ownerDocument.body);d=v}while(d);xl(l)}function JC(a,l){var d=a;a=0;do{var g=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=g}while(d)}function E0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":E0(d),xt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function Qz(a,l,d,g){for(;a.nodeType===1;){var v=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[rt])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var C=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=Xr(a.nextSibling),a===null)break}return null}function Jz(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Xr(a.nextSibling),a===null))return null;return a}function t_(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Xr(a.nextSibling),a===null))return null;return a}function A0(a){return a.data==="$?"||a.data==="$~"}function M0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function t6(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Xr(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var D0=null;function e_(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return Xr(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function n_(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function r_(a,l,d){switch(l=cf(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function lu(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);xt(a)}var Zr=new Map,i_=new Set;function uf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ma=I.d;I.d={f:e6,r:n6,D:r6,C:i6,L:a6,m:s6,X:l6,S:o6,M:c6};function e6(){var a=ma.f(),l=tf();return a||l}function n6(a){var l=le(a);l!==null&&l.tag===5&&l.type==="form"?wS(l):ma.r(a)}var gl=typeof document>"u"?null:document;function a_(a,l,d){var g=gl;if(g&&typeof l=="string"&&l){var v=gr(l);v='link[rel="'+a+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),i_.has(v)||(i_.add(v),a={rel:a,crossOrigin:d,href:l},g.querySelector(v)===null&&(l=g.createElement("link"),jn(l,"link",a),ae(l),g.head.appendChild(l)))}}function r6(a){ma.D(a),a_("dns-prefetch",a,null)}function i6(a,l){ma.C(a,l),a_("preconnect",a,l)}function a6(a,l,d){ma.L(a,l,d);var g=gl;if(g&&a&&l){var v='link[rel="preload"][as="'+gr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+gr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+gr(d.imageSizes)+'"]')):v+='[href="'+gr(a)+'"]';var C=v;switch(l){case"style":C=ml(a);break;case"script":C=yl(a)}Zr.has(C)||(a=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),Zr.set(C,a),g.querySelector(v)!==null||l==="style"&&g.querySelector(cu(C))||l==="script"&&g.querySelector(uu(C))||(l=g.createElement("link"),jn(l,"link",a),ae(l),g.head.appendChild(l)))}}function s6(a,l){ma.m(a,l);var d=gl;if(d&&a){var g=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+gr(g)+'"][href="'+gr(a)+'"]',C=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=yl(a)}if(!Zr.has(C)&&(a=p({rel:"modulepreload",href:a},l),Zr.set(C,a),d.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(uu(C)))return}g=d.createElement("link"),jn(g,"link",a),ae(g),d.head.appendChild(g)}}}function o6(a,l,d){ma.S(a,l,d);var g=gl;if(g&&a){var v=ve(g).hoistableStyles,C=ml(a);l=l||"default";var O=v.get(C);if(!O){var Y={loading:0,preload:null};if(O=g.querySelector(cu(C)))Y.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},d),(d=Zr.get(C))&&N0(a,d);var J=O=g.createElement("link");ae(J),jn(J,"link",a),J._p=new Promise(function(ct,ft){J.onload=ct,J.onerror=ft}),J.addEventListener("load",function(){Y.loading|=1}),J.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,hf(O,l,g)}O={type:"stylesheet",instance:O,count:1,state:Y},v.set(C,O)}}}function l6(a,l){ma.X(a,l);var d=gl;if(d&&a){var g=ve(d).hoistableScripts,v=yl(a),C=g.get(v);C||(C=d.querySelector(uu(v)),C||(a=p({src:a,async:!0},l),(l=Zr.get(v))&&L0(a,l),C=d.createElement("script"),ae(C),jn(C,"link",a),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(v,C))}}function c6(a,l){ma.M(a,l);var d=gl;if(d&&a){var g=ve(d).hoistableScripts,v=yl(a),C=g.get(v);C||(C=d.querySelector(uu(v)),C||(a=p({src:a,async:!0,type:"module"},l),(l=Zr.get(v))&&L0(a,l),C=d.createElement("script"),ae(C),jn(C,"link",a),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(v,C))}}function s_(a,l,d,g){var v=(v=Q.current)?uf(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=ml(d.href),d=ve(v).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=ml(d.href);var C=ve(v).hoistableStyles,O=C.get(a);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,O),(C=v.querySelector(cu(a)))&&!C._p&&(O.instance=C,O.state.loading=5),Zr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Zr.set(a,d),C||u6(v,a,d,O.state))),l&&g===null)throw Error(r(528,""));return O}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=yl(d),d=ve(v).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ml(a){return'href="'+gr(a)+'"'}function cu(a){return'link[rel="stylesheet"]['+a+"]"}function o_(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function u6(a,l,d,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),jn(l,"link",d),ae(l),a.head.appendChild(l))}function yl(a){return'[src="'+gr(a)+'"]'}function uu(a){return"script[async]"+a}function l_(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+gr(d.href)+'"]');if(g)return l.instance=g,ae(g),g;var v=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),ae(g),jn(g,"style",v),hf(g,d.precedence,a),l.instance=g;case"stylesheet":v=ml(d.href);var C=a.querySelector(cu(v));if(C)return l.state.loading|=4,l.instance=C,ae(C),C;g=o_(d),(v=Zr.get(v))&&N0(g,v),C=(a.ownerDocument||a).createElement("link"),ae(C);var O=C;return O._p=new Promise(function(Y,J){O.onload=Y,O.onerror=J}),jn(C,"link",g),l.state.loading|=4,hf(C,d.precedence,a),l.instance=C;case"script":return C=yl(d.src),(v=a.querySelector(uu(C)))?(l.instance=v,ae(v),v):(g=d,(v=Zr.get(C))&&(g=p({},d),L0(g,v)),a=a.ownerDocument||a,v=a.createElement("script"),ae(v),jn(v,"link",g),a.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,hf(g,d.precedence,a));return l.instance}function hf(a,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,C=v,O=0;O<g.length;O++){var Y=g[O];if(Y.dataset.precedence===l)C=Y;else if(C!==v)break}C?C.parentNode.insertBefore(a,C.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function N0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function L0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var df=null;function c_(a,l,d){if(df===null){var g=new Map,v=df=new Map;v.set(d,g)}else v=df,g=v.get(d),g||(g=new Map,v.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),v=0;v<d.length;v++){var C=d[v];if(!(C[rt]||C[be]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var O=C.getAttribute(l)||"";O=a+O;var Y=g.get(O);Y?Y.push(C):g.set(O,[C])}}return g}function u_(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function h6(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(a=l.disabled,typeof l.precedence=="string"&&a==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function h_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function d6(a,l,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var v=ml(g.href),C=l.querySelector(cu(v));if(C){l=C._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=ff.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=C,ae(C);return}C=l.ownerDocument||l,g=o_(g),(v=Zr.get(v))&&N0(g,v),C=C.createElement("link"),ae(C);var O=C;O._p=new Promise(function(Y,J){O.onload=Y,O.onerror=J}),jn(C,"link",g),d.instance=C}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=ff.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var O0=0;function f6(a,l){return a.stylesheets&&a.count===0&&gf(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var g=setTimeout(function(){if(a.stylesheets&&gf(a,a.stylesheets),a.unsuspend){var C=a.unsuspend;a.unsuspend=null,C()}},6e4+l);0<a.imgBytes&&O0===0&&(O0=62500*Yz());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&gf(a,a.stylesheets),a.unsuspend)){var C=a.unsuspend;a.unsuspend=null,C()}},(a.imgBytes>O0?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function ff(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var pf=null;function gf(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,pf=new Map,l.forEach(p6,a),pf=null,ff.call(a))}function p6(a,l){if(!(l.state.loading&4)){var d=pf.get(a);if(d)var g=d.get(null);else{d=new Map,pf.set(a,d);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<v.length;C++){var O=v[C];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(d.set(O.dataset.precedence,O),g=O)}g&&d.set(null,g)}v=l.instance,O=v.getAttribute("data-precedence"),C=d.get(O)||g,C===g&&d.set(null,v),d.set(O,v),this.count++,g=ff.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),C?C.parentNode.insertBefore(v,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),l.state.loading|=4}}var hu={$$typeof:T,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function g6(a,l,d,g,v,C,O,Y,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pn(0),this.hiddenUpdates=pn(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=C,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function d_(a,l,d,g,v,C,O,Y,J,ct,ft,mt){return a=new g6(a,l,d,O,J,ct,ft,mt,Y),l=1,C===!0&&(l|=24),C=Lr(3,null,null,l),a.current=C,C.stateNode=a,l=dy(),l.refCount++,a.pooledCache=l,l.refCount++,C.memoizedState={element:g,isDehydrated:d,cache:l},my(C),a}function f_(a){return a?(a=Go,a):Go}function p_(a,l,d,g,v,C){v=f_(v),g.context===null?g.context=v:g.pendingContext=v,g=Ha(l),g.payload={element:d},C=C===void 0?null:C,C!==null&&(g.callback=C),d=Va(a,g,l),d!==null&&(wr(d,a,l),Vc(d,a,l))}function g_(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function R0(a,l){g_(a,l),(a=a.alternate)&&g_(a,l)}function m_(a){if(a.tag===13||a.tag===31){var l=Fs(a,67108864);l!==null&&wr(l,a,67108864),R0(a,67108864)}}function y_(a){if(a.tag===13||a.tag===31){var l=$r();l=gn(l);var d=Fs(a,l);d!==null&&wr(d,a,l),R0(a,l)}}var mf=!0;function m6(a,l,d,g){var v=R.T;R.T=null;var C=I.p;try{I.p=2,B0(a,l,d,g)}finally{I.p=C,R.T=v}}function y6(a,l,d,g){var v=R.T;R.T=null;var C=I.p;try{I.p=8,B0(a,l,d,g)}finally{I.p=C,R.T=v}}function B0(a,l,d,g){if(mf){var v=j0(g);if(v===null)w0(a,l,g,yf,d),b_(a,g);else if(b6(v,a,l,d,g))g.stopPropagation();else if(b_(a,g),l&4&&-1<x6.indexOf(a)){for(;v!==null;){var C=le(v);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var O=Ne(C.pendingLanes);if(O!==0){var Y=C;for(Y.pendingLanes|=2,Y.entangledLanes|=2;O;){var J=1<<31-Xe(O);Y.entanglements[1]|=J,O&=~J}Ri(C),(fe&6)===0&&(Qd=Me()+500,au(0))}}break;case 31:case 13:Y=Fs(C,2),Y!==null&&wr(Y,C,2),tf(),R0(C,2)}if(C=j0(g),C===null&&w0(a,l,g,yf,d),C===v)break;v=C}v!==null&&g.stopPropagation()}else w0(a,l,g,null,d)}}function j0(a){return a=zm(a),$0(a)}var yf=null;function $0(a){if(yf=null,a=Ct(a),a!==null){var l=s(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=o(l),a!==null)return a;a=null}else if(d===31){if(a=c(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return yf=a,null}function x_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zn()){case _n:return 2;case kn:return 8;case Dn:case Ir:return 32;case Ar:return 268435456;default:return 32}default:return 32}}var z0=!1,ts=null,es=null,ns=null,du=new Map,fu=new Map,rs=[],x6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(a,l){switch(a){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":du.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(l.pointerId)}}function pu(a,l,d,g,v,C){return a===null||a.nativeEvent!==C?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:C,targetContainers:[v]},l!==null&&(l=le(l),l!==null&&m_(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function b6(a,l,d,g,v){switch(l){case"focusin":return ts=pu(ts,a,l,d,g,v),!0;case"dragenter":return es=pu(es,a,l,d,g,v),!0;case"mouseover":return ns=pu(ns,a,l,d,g,v),!0;case"pointerover":var C=v.pointerId;return du.set(C,pu(du.get(C)||null,a,l,d,g,v)),!0;case"gotpointercapture":return C=v.pointerId,fu.set(C,pu(fu.get(C)||null,a,l,d,g,v)),!0}return!1}function v_(a){var l=Ct(a.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){a.blockedOn=l,dr(a.priority,function(){y_(d)});return}}else if(l===31){if(l=c(d),l!==null){a.blockedOn=l,dr(a.priority,function(){y_(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function xf(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=j0(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);$m=g,d.target.dispatchEvent(g),$m=null}else return l=le(d),l!==null&&m_(l),a.blockedOn=d,!1;l.shift()}return!0}function w_(a,l,d){xf(a)&&d.delete(l)}function v6(){z0=!1,ts!==null&&xf(ts)&&(ts=null),es!==null&&xf(es)&&(es=null),ns!==null&&xf(ns)&&(ns=null),du.forEach(w_),fu.forEach(w_)}function bf(a,l){a.blockedOn===l&&(a.blockedOn=null,z0||(z0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,v6)))}var vf=null;function S_(a){vf!==a&&(vf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vf===a&&(vf=null);for(var l=0;l<a.length;l+=3){var d=a[l],g=a[l+1],v=a[l+2];if(typeof g!="function"){if($0(g||d)===null)continue;break}var C=le(d);C!==null&&(a.splice(l,3),l-=3,jy(C,{pending:!0,data:v,method:d.method,action:g},g,v))}}))}function xl(a){function l(J){return bf(J,a)}ts!==null&&bf(ts,a),es!==null&&bf(es,a),ns!==null&&bf(ns,a),du.forEach(l),fu.forEach(l);for(var d=0;d<rs.length;d++){var g=rs[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<rs.length&&(d=rs[0],d.blockedOn===null);)v_(d),d.blockedOn===null&&rs.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var v=d[g],C=d[g+1],O=v[mn]||null;if(typeof C=="function")O||S_(d);else if(O){var Y=null;if(C&&C.hasAttribute("formAction")){if(v=C,O=C[mn]||null)Y=O.formAction;else if($0(v)!==null)continue}else Y=O.action;typeof Y=="function"?d[g+1]=Y:(d.splice(g,3),g-=3),S_(d)}}}function C_(){function a(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function P0(a){this._internalRoot=a}wf.prototype.render=P0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,g=$r();p_(d,g,a,l,null,null)},wf.prototype.unmount=P0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;p_(a.current,2,null,a,null,null),tf(),l[Hr]=null}};function wf(a){this._internalRoot=a}wf.prototype.unstable_scheduleHydration=function(a){if(a){var l=In();a={blockedOn:null,target:a,priority:l};for(var d=0;d<rs.length&&l!==0&&l<rs[d].priority;d++);rs.splice(d,0,a),d===0&&v_(a)}};var __=e.version;if(__!=="19.2.4")throw Error(r(527,__,"19.2.4"));I.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var w6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{ur=Sf.inject(w6),Ee=Sf}catch{}}return mu.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,g="",v=NS,C=LS,O=OS;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),l=d_(a,1,!1,null,null,d,g,null,v,C,O,C_),a[Hr]=l.current,v0(a),new P0(l)},mu.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var g=!1,v="",C=NS,O=LS,Y=OS,J=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(O=d.onCaughtError),d.onRecoverableError!==void 0&&(Y=d.onRecoverableError),d.formState!==void 0&&(J=d.formState)),l=d_(a,1,!0,l,d??null,g,v,J,C,O,Y,C_),l.context=f_(null),d=l.current,g=$r(),g=gn(g),v=Ha(g),v.callback=null,Va(d,v,g),d=g,l.current.lanes=d,Tn(l,d),Ri(l),a[Hr]=l.current,v0(a),new wf(l)},mu.version="19.2.4",mu}var R_;function N6(){if(R_)return H0.exports;R_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),H0.exports=D6(),H0.exports}var L6=N6();const O6=Rh(L6),Fv=A.createContext({});function Iv(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const mM=typeof window<"u",yM=mM?A.useLayoutEffect:A.useEffect,Lg=A.createContext(null);function Hv(t,e){t.indexOf(e)===-1&&t.push(e)}function Vv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const qi=(t,e,n)=>n>e?e:n<t?t:n;let qv=()=>{};const Ea={},xM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bM(t){return typeof t=="object"&&t!==null}const vM=t=>/^0[^.\s]+$/u.test(t);function Uv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ei=t=>t,R6=(t,e)=>n=>e(t(n)),jh=(...t)=>t.reduce(R6),ih=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Wv{constructor(){this.subscriptions=[]}add(e){return Hv(this.subscriptions,e),()=>Vv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ca=t=>t*1e3,ti=t=>t/1e3;function wM(t,e){return e?t*(1e3/e):0}const SM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,B6=1e-7,j6=12;function $6(t,e,n,r,i){let s,o,c=0;do o=e+(n-e)/2,s=SM(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>B6&&++c<j6);return o}function $h(t,e,n,r){if(t===e&&n===r)return ei;const i=s=>$6(s,0,1,t,n);return s=>s===0||s===1?s:SM(i(s),e,r)}const CM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_M=t=>e=>1-t(1-e),kM=$h(.33,1.53,.69,.99),Yv=_M(kM),TM=CM(Yv),EM=t=>(t*=2)<1?.5*Yv(t):.5*(2-Math.pow(2,-10*(t-1))),Gv=t=>1-Math.sin(Math.acos(t)),AM=_M(Gv),MM=CM(Gv),z6=$h(.42,0,1,1),P6=$h(0,0,.58,1),DM=$h(.42,0,.58,1),F6=t=>Array.isArray(t)&&typeof t[0]!="number",NM=t=>Array.isArray(t)&&typeof t[0]=="number",I6={linear:ei,easeIn:z6,easeInOut:DM,easeOut:P6,circIn:Gv,circInOut:MM,circOut:AM,backIn:Yv,backInOut:TM,backOut:kM,anticipate:EM},H6=t=>typeof t=="string",B_=t=>{if(NM(t)){qv(t.length===4);const[e,n,r,i]=t;return $h(e,n,r,i)}else if(H6(t))return I6[t];return t},Cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V6(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(h.schedule(f),t()),f(c)}const h={schedule:(f,p=!1,m=!1)=>{const x=m&&i?n:r;return p&&o.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(c=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,h.process(f))}};return h}const q6=40;function LM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Cf.reduce((T,E)=>(T[E]=V6(s),T),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:f,update:p,preRender:m,render:y,postRender:x}=o,b=()=>{const T=Ea.useManualTiming?i.timestamp:performance.now();n=!1,Ea.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,q6),1)),i.timestamp=T,i.isProcessing=!0,c.process(i),u.process(i),h.process(i),f.process(i),p.process(i),m.process(i),y.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},w=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:Cf.reduce((T,E)=>{const M=o[E];return T[E]=(L,N=!1,$=!1)=>(n||w(),M.schedule(L,N,$)),T},{}),cancel:T=>{for(let E=0;E<Cf.length;E++)o[Cf[E]].cancel(T)},state:i,steps:o}}const{schedule:$e,cancel:bs,state:Pn,steps:W0}=LM(typeof requestAnimationFrame<"u"?requestAnimationFrame:ei,!0);let rp;function U6(){rp=void 0}const tr={now:()=>(rp===void 0&&tr.set(Pn.isProcessing||Ea.useManualTiming?Pn.timestamp:performance.now()),rp),set:t=>{rp=t,queueMicrotask(U6)}},OM=t=>e=>typeof e=="string"&&e.startsWith(t),RM=OM("--"),W6=OM("var(--"),Xv=t=>W6(t)?Y6.test(t.split("/*")[0].trim()):!1,Y6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function j_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const pc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ah={...pc,transform:t=>qi(0,1,t)},_f={...pc,default:1},Hu=t=>Math.round(t*1e5)/1e5,Zv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G6(t){return t==null}const X6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kv=(t,e)=>n=>!!(typeof n=="string"&&X6.test(n)&&n.startsWith(t)||e&&!G6(n)&&Object.prototype.hasOwnProperty.call(n,e)),BM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,c]=r.match(Zv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Z6=t=>qi(0,255,t),Y0={...pc,transform:t=>Math.round(Z6(t))},so={test:Kv("rgb","red"),parse:BM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Y0.transform(t)+", "+Y0.transform(e)+", "+Y0.transform(n)+", "+Hu(ah.transform(r))+")"};function K6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ib={test:Kv("#"),parse:K6,transform:so.transform},zh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),os=zh("deg"),Hi=zh("%"),Et=zh("px"),Q6=zh("vh"),J6=zh("vw"),$_={...Hi,parse:t=>Hi.parse(t)/100,transform:t=>Hi.transform(t*100)},Dl={test:Kv("hsl","hue"),parse:BM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Hi.transform(Hu(e))+", "+Hi.transform(Hu(n))+", "+Hu(ah.transform(r))+")"},un={test:t=>so.test(t)||ib.test(t)||Dl.test(t),parse:t=>so.test(t)?so.parse(t):Dl.test(t)?Dl.parse(t):ib.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?so.transform(t):Dl.transform(t),getAnimatableNone:t=>{const e=un.parse(t);return e.alpha=0,un.transform(e)}},tP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eP(t){return isNaN(t)&&typeof t=="string"&&(t.match(Zv)?.length||0)+(t.match(tP)?.length||0)>0}const jM="number",$M="color",nP="var",rP="var(",z_="${}",iP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const c=e.replace(iP,u=>(un.test(u)?(r.color.push(s),i.push($M),n.push(un.parse(u))):u.startsWith(rP)?(r.var.push(s),i.push(nP),n.push(u)):(r.number.push(s),i.push(jM),n.push(parseFloat(u))),++s,z_)).split(z_);return{values:n,split:c,indexes:r,types:i}}function zM(t){return sh(t).values}function PM(t){const{split:e,types:n}=sh(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const c=n[o];c===jM?s+=Hu(i[o]):c===$M?s+=un.transform(i[o]):s+=i[o]}return s}}const aP=t=>typeof t=="number"?0:un.test(t)?un.getAnimatableNone(t):t;function sP(t){const e=zM(t);return PM(t)(e.map(aP))}const vs={test:eP,parse:zM,createTransformer:PM,getAnimatableNone:sP};function G0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;i=G0(u,c,t+1/3),s=G0(u,c,t),o=G0(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ep(t,e){return n=>n>0?e:t}const We=(t,e,n)=>t+(e-t)*n,X0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},lP=[ib,so,Dl],cP=t=>lP.find(e=>e.test(t));function P_(t){const e=cP(t);if(!e)return!1;let n=e.parse(t);return e===Dl&&(n=oP(n)),n}const F_=(t,e)=>{const n=P_(t),r=P_(e);if(!n||!r)return Ep(t,e);const i={...n};return s=>(i.red=X0(n.red,r.red,s),i.green=X0(n.green,r.green,s),i.blue=X0(n.blue,r.blue,s),i.alpha=We(n.alpha,r.alpha,s),so.transform(i))},ab=new Set(["none","hidden"]);function uP(t,e){return ab.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hP(t,e){return n=>We(t,e,n)}function Qv(t){return typeof t=="number"?hP:typeof t=="string"?Xv(t)?Ep:un.test(t)?F_:pP:Array.isArray(t)?FM:typeof t=="object"?un.test(t)?F_:dP:Ep}function FM(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Qv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function dP(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Qv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function fP(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],c=t.values[o]??0;n[i]=c,r[s]++}return n}const pP=(t,e)=>{const n=vs.createTransformer(e),r=sh(t),i=sh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ab.has(t)&&!i.values.length||ab.has(e)&&!r.values.length?uP(t,e):jh(FM(fP(r,i),i.values),n):Ep(t,e)};function IM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?We(t,e,n):Qv(t)(t,e)}const gP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$e.update(e,n),stop:()=>bs(e),now:()=>Pn.isProcessing?Pn.timestamp:tr.now()}},HM=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ap=2e4;function Jv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ap;)e+=n,r=t.next(e);return e>=Ap?1/0:e}function mP(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Jv(r),Ap);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ti(i)}}const yP=5;function VM(t,e,n){const r=Math.max(e-yP,0);return wM(n-t(r),e-r)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Z0=.001;function xP({duration:t=Je.duration,bounce:e=Je.bounce,velocity:n=Je.velocity,mass:r=Je.mass}){let i,s,o=1-e;o=qi(Je.minDamping,Je.maxDamping,o),t=qi(Je.minDuration,Je.maxDuration,ti(t)),o<1?(i=h=>{const f=h*o,p=f*t,m=f-n,y=sb(h,o),x=Math.exp(-p);return Z0-m/y*x},s=h=>{const p=h*o*t,m=p*n+n,y=Math.pow(o,2)*Math.pow(h,2)*t,x=Math.exp(-p),b=sb(Math.pow(h,2),o);return(-i(h)+Z0>0?-1:1)*((m-y)*x)/b}):(i=h=>{const f=Math.exp(-h*t),p=(h-n)*t+1;return-Z0+f*p},s=h=>{const f=Math.exp(-h*t),p=(n-h)*(t*t);return f*p});const c=5/t,u=vP(i,s,c);if(t=Ca(t),isNaN(u))return{stiffness:Je.stiffness,damping:Je.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const bP=12;function vP(t,e,n){let r=n;for(let i=1;i<bP;i++)r=r-t(r)/e(r);return r}function sb(t,e){return t*Math.sqrt(1-e*e)}const wP=["duration","bounce"],SP=["stiffness","damping","mass"];function I_(t,e){return e.some(n=>t[n]!==void 0)}function CP(t){let e={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...t};if(!I_(t,SP)&&I_(t,wP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*qi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Je.mass,stiffness:i,damping:s}}else{const n=xP(t);e={...e,...n,mass:Je.mass},e.isResolvedFromDuration=!0}return e}function Mp(t=Je.visualDuration,e=Je.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:s},{stiffness:u,damping:h,mass:f,duration:p,velocity:m,isResolvedFromDuration:y}=CP({...n,velocity:-ti(n.velocity||0)}),x=m||0,b=h/(2*Math.sqrt(u*f)),w=o-s,_=ti(Math.sqrt(u/f)),S=Math.abs(w)<5;r||(r=S?Je.restSpeed.granular:Je.restSpeed.default),i||(i=S?Je.restDelta.granular:Je.restDelta.default);let T;if(b<1){const M=sb(_,b);T=L=>{const N=Math.exp(-b*_*L);return o-N*((x+b*_*w)/M*Math.sin(M*L)+w*Math.cos(M*L))}}else if(b===1)T=M=>o-Math.exp(-_*M)*(w+(x+_*w)*M);else{const M=_*Math.sqrt(b*b-1);T=L=>{const N=Math.exp(-b*_*L),$=Math.min(M*L,300);return o-N*((x+b*_*w)*Math.sinh($)+M*w*Math.cosh($))/M}}const E={calculatedDuration:y&&p||null,next:M=>{const L=T(M);if(y)c.done=M>=p;else{let N=M===0?x:0;b<1&&(N=M===0?Ca(x):VM(T,M,L));const $=Math.abs(N)<=r,P=Math.abs(o-L)<=i;c.done=$&&P}return c.value=c.done?o:L,c},toString:()=>{const M=Math.min(Jv(E),Ap),L=HM(N=>E.next(M*N).value,M,30);return M+"ms "+L},toTransition:()=>{}};return E}Mp.applyToOptions=t=>{const e=mP(t,100,Mp);return t.ease=e.ease,t.duration=Ca(e.duration),t.type="keyframes",t};function ob({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:c,max:u,restDelta:h=.5,restSpeed:f}){const p=t[0],m={done:!1,value:p},y=$=>c!==void 0&&$<c||u!==void 0&&$>u,x=$=>c===void 0?u:u===void 0||Math.abs(c-$)<Math.abs(u-$)?c:u;let b=n*e;const w=p+b,_=o===void 0?w:o(w);_!==w&&(b=_-p);const S=$=>-b*Math.exp(-$/r),T=$=>_+S($),E=$=>{const P=S($),z=T($);m.done=Math.abs(P)<=h,m.value=m.done?_:z};let M,L;const N=$=>{y(m.value)&&(M=$,L=Mp({keyframes:[m.value,x(m.value)],velocity:VM(T,$,m.value),damping:i,stiffness:s,restDelta:h,restSpeed:f}))};return N(0),{calculatedDuration:null,next:$=>{let P=!1;return!L&&M===void 0&&(P=!0,E($),N($)),M!==void 0&&$>=M?L.next($-M):(!P&&E($),m)}}}function _P(t,e,n){const r=[],i=n||Ea.mix||IM,s=t.length-1;for(let o=0;o<s;o++){let c=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||ei:e;c=jh(u,c)}r.push(c)}return r}function kP(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(qv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=_P(e,r,i),u=c.length,h=f=>{if(o&&f<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const m=ih(t[p],t[p+1],f);return c[p](m)};return n?f=>h(qi(t[0],t[s-1],f)):h}function TP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ih(0,e,r);t.push(We(n,1,i))}}function EP(t){const e=[0];return TP(e,t.length-1),e}function AP(t,e){return t.map(n=>n*e)}function MP(t,e){return t.map(()=>e||DM).splice(0,t.length-1)}function Vu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=F6(r)?r.map(B_):B_(r),s={done:!1,value:e[0]},o=AP(n&&n.length===e.length?n:EP(e),t),c=kP(o,e,{ease:Array.isArray(i)?i:MP(e,i)});return{calculatedDuration:t,next:u=>(s.value=c(u),s.done=u>=t,s)}}const DP=t=>t!==null;function t1(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(DP),c=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!c||r===void 0?s[c]:r}const NP={decay:ob,inertia:ob,tween:Vu,keyframes:Vu,spring:Mp};function qM(t){typeof t.type=="string"&&(t.type=NP[t.type])}class e1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const LP=t=>t/100;class n1 extends e1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==tr.now()&&this.tick(tr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qM(e);const{type:n=Vu,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:c}=e;const u=n||Vu;u!==Vu&&typeof c[0]!="number"&&(this.mixKeyframes=jh(LP,IM(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Jv(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:f,repeat:p,repeatType:m,repeatDelay:y,type:x,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,E=r;if(p){const $=Math.min(this.currentTime,i)/c;let P=Math.floor($),z=$%1;!z&&$>=1&&(z=1),z===1&&P--,P=Math.min(P,p+1),P%2&&(m==="reverse"?(z=1-z,y&&(z-=y/c)):m==="mirror"&&(E=o)),T=qi(0,1,z)*c}const M=S?{done:!1,value:f[0]}:E.next(T);s&&(M.value=s(M.value));let{done:L}=M;!S&&u!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return N&&x!==ob&&(M.value=t1(f,this.options,w,this.speed)),b&&b(M.value),N&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return ti(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(this.currentTime)}set time(e){e=Ca(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=gP,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function OP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const oo=t=>t*180/Math.PI,lb=t=>{const e=oo(Math.atan2(t[1],t[0]));return cb(e)},RP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:lb,rotateZ:lb,skewX:t=>oo(Math.atan(t[1])),skewY:t=>oo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cb=t=>(t=t%360,t<0&&(t+=360),t),H_=lb,V_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),q_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),BP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:V_,scaleY:q_,scale:t=>(V_(t)+q_(t))/2,rotateX:t=>cb(oo(Math.atan2(t[6],t[5]))),rotateY:t=>cb(oo(Math.atan2(-t[2],t[0]))),rotateZ:H_,rotate:H_,skewX:t=>oo(Math.atan(t[4])),skewY:t=>oo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ub(t){return t.includes("scale")?1:0}function hb(t,e){if(!t||t==="none")return ub(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=BP,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RP,i=c}if(!i)return ub(e);const s=r[e],o=i[1].split(",").map($P);return typeof s=="function"?s(o):o[s]}const jP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return hb(n,e)};function $P(t){return parseFloat(t.trim())}const gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mc=new Set(gc),U_=t=>t===pc||t===Et,zP=new Set(["x","y","z"]),PP=gc.filter(t=>!zP.has(t));function FP(t){const e=[];return PP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>hb(e,"x"),y:(t,{transform:e})=>hb(e,"y")};fs.translateX=fs.x;fs.translateY=fs.y;const go=new Set;let db=!1,fb=!1,pb=!1;function UM(){if(fb){const t=Array.from(go).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=FP(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fb=!1,db=!1,go.forEach(t=>t.complete(pb)),go.clear()}function WM(){go.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fb=!0)})}function IP(){pb=!0,WM(),UM(),pb=!1}class r1{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(go.add(this),db||(db=!0,$e.read(WM),$e.resolveKeyframes(UM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const c=r.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}OP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),go.delete(this)}cancel(){this.state==="scheduled"&&(go.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HP=t=>t.startsWith("--");function VP(t,e,n){HP(e)?t.style.setProperty(e,n):t.style[e]=n}const qP=Uv(()=>window.ScrollTimeline!==void 0),UP={};function WP(t,e){const n=Uv(t);return()=>UP[e]??n()}const YM=WP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,W_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function GM(t,e){if(t)return typeof t=="function"?YM()?HM(t,e):"ease-out":NM(t)?Nu(t):Array.isArray(t)?t.map(n=>GM(n,e)||W_.easeOut):W_[t]}function YP(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:c="easeOut",times:u}={},h=void 0){const f={[e]:n};u&&(f.offset=u);const p=GM(c,i);Array.isArray(p)&&(f.easing=p);const m={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return h&&(m.pseudoElement=h),t.animate(f,m)}function XM(t){return typeof t=="function"&&"applyToOptions"in t}function GP({type:t,...e}){return XM(t)&&YM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class XP extends e1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,qv(typeof e.type!="string");const h=GP(e);this.animation=YP(n,r,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=t1(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):VP(n,r,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ti(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ti(e)}get time(){return ti(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ca(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&qP()?(this.animation.timeline=e,ei):n(this)}}const ZM={anticipate:EM,backInOut:TM,circInOut:MM};function ZP(t){return t in ZM}function KP(t){typeof t.ease=="string"&&ZP(t.ease)&&(t.ease=ZM[t.ease])}const K0=10;class QP extends XP{constructor(e){KP(e),qM(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new n1({...o,autoplay:!1}),u=Math.max(K0,tr.now()-this.startTime),h=qi(0,K0,u-K0);n.setWithVelocity(c.sample(Math.max(0,u-h)).value,c.sample(u).value,h),c.stop()}}const Y_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vs.test(t)||t==="0")&&!t.startsWith("url("));function JP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function t8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Y_(i,e),c=Y_(s,e);return!o||!c?!1:JP(t)||(n==="spring"||XM(n))&&r}function gb(t){t.duration=0,t.type="keyframes"}const e8=new Set(["opacity","clipPath","filter","transform"]),n8=Uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function r8(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return n8()&&n&&e8.has(n)&&(n!=="transform"||!h)&&!u&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const i8=40;class a8 extends e1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:c,name:u,motionValue:h,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=tr.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:u,motionValue:h,element:f,...p},y=f?.KeyframeResolver||r1;this.keyframeResolver=new y(c,(x,b,w)=>this.onKeyframesResolved(x,b,m,!w),u,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:c,delay:u,isHandoff:h,onUpdate:f}=r;this.resolvedAt=tr.now(),t8(e,s,o,c)||((Ea.instantAnimations||!u)&&f?.(t1(e,r,n)),e[0]=e[e.length-1],gb(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>i8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!h&&r8(m),x=m.motionValue?.owner?.current,b=y?new QP({...m,element:x}):new n1(m);b.finished.then(()=>{this.notifyFinished()}).catch(ei),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),IP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function KM(t,e,n,r=0,i=1){const s=Array.from(t).sort((h,f)=>h.sortNodePosition(f)).indexOf(e),o=t.size,c=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:c-s*r}const s8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function o8(t){const e=s8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function QM(t,e,n=1){const[r,i]=o8(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return xM(o)?parseFloat(o):o}return Xv(i)?QM(i,e,n+1):i}const l8={type:"spring",stiffness:500,damping:25,restSpeed:10},c8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),u8={type:"keyframes",duration:.8},h8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d8=(t,{keyframes:e})=>e.length>2?u8:mc.has(t)?t.startsWith("scale")?c8(e[1]):l8:h8,f8=t=>t!==null;function p8(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(f8),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function i1(t,e){return t?.[e]??t?.default??t}function g8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const a1=(t,e,n,r={},i,s)=>o=>{const c=i1(r,t)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ca(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:m=>{e.set(m),c.onUpdate&&c.onUpdate(m)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:i};g8(c)||Object.assign(f,d8(t,f)),f.duration&&(f.duration=Ca(f.duration)),f.repeatDelay&&(f.repeatDelay=Ca(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(gb(f),f.delay===0&&(p=!0)),(Ea.instantAnimations||Ea.skipAnimations)&&(p=!0,gb(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,p&&!s&&e.get()!==void 0){const m=p8(f.keyframes,c);if(m!==void 0){$e.update(()=>{f.onUpdate(m),f.onComplete()});return}}return c.isSync?new n1(f):new a8(f)};function G_(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function s1(t,e,n,r){if(typeof e=="function"){const[i,s]=G_(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=G_(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function zl(t,e,n){const r=t.getProps();return s1(r,e,n!==void 0?n:r.custom,t)}const JM=new Set(["width","height","top","left","right","bottom",...gc]),X_=30,m8=t=>!isNaN(parseFloat(t));class y8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=tr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=m8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Wv);const r=this.events[e].add(n);return e==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>X_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,X_);return wM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jl(t,e){return new y8(t,e)}const mb=t=>Array.isArray(t);function x8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jl(n))}function b8(t){return mb(t)?t[t.length-1]||0:t}function v8(t,e){const n=zl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const c=b8(s[o]);x8(t,o,c)}}const Un=t=>!!(t&&t.getVelocity);function w8(t){return!!(Un(t)&&t.add)}function yb(t,e){const n=t.getValue("willChange");if(w8(n))return n.add(e);if(!n&&Ea.WillChange){const r=new Ea.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function o1(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const S8="framerAppearId",tD="data-"+o1(S8);function eD(t){return t.props[tD]}function C8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nD(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...c}=e;const u=s?.reduceMotion;r&&(s=r);const h=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const m=t.getValue(p,t.latestValues[p]??null),y=c[p];if(y===void 0||f&&C8(f,p))continue;const x={delay:n,...i1(s||{},p)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const T=eD(t);if(T){const E=window.MotionHandoffAnimation(T,p,$e);E!==null&&(x.startTime=E,w=!0)}}yb(t,p);const _=u??t.shouldReduceMotion;m.start(a1(p,m,y,_&&JM.has(p)?{type:!1}:x,t,w));const S=m.animation;S&&h.push(S)}return o&&Promise.all(h).then(()=>{$e.update(()=>{o&&v8(t,o)})}),h}function xb(t,e,n={}){const r=zl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(nD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return _8(t,e,u,h,f,p,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,h]=c==="beforeChildren"?[s,o]:[o,s];return u().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function _8(t,e,n=0,r=0,i=0,s=1,o){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(xb(u,e,{...o,delay:n+(typeof r=="function"?0:r)+KM(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function k8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>xb(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=xb(t,e,n);else{const i=typeof e=="function"?zl(t,e,n.custom):e;r=Promise.all(nD(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const T8={test:t=>t==="auto",parse:t=>t},rD=t=>e=>e.test(t),iD=[pc,Et,Hi,os,J6,Q6,T8],Z_=t=>iD.find(rD(t));function E8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vM(t):!0}const A8=new Set(["brightness","contrast","saturate","opacity"]);function M8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Zv)||[];if(!r)return t;const i=n.replace(r,"");let s=A8.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const D8=/\b([a-z-]*)\(.*?\)/gu,bb={...vs,getAnimatableNone:t=>{const e=t.match(D8);return e?e.map(M8).join(" "):t}},K_={...pc,transform:Math.round},N8={rotate:os,rotateX:os,rotateY:os,rotateZ:os,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:os,skewX:os,skewY:os,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:ah,originX:$_,originY:$_,originZ:Et},l1={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,inset:Et,insetBlock:Et,insetBlockStart:Et,insetBlockEnd:Et,insetInline:Et,insetInlineStart:Et,insetInlineEnd:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,paddingBlock:Et,paddingBlockStart:Et,paddingBlockEnd:Et,paddingInline:Et,paddingInlineStart:Et,paddingInlineEnd:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,marginBlock:Et,marginBlockStart:Et,marginBlockEnd:Et,marginInline:Et,marginInlineStart:Et,marginInlineEnd:Et,fontSize:Et,backgroundPositionX:Et,backgroundPositionY:Et,...N8,zIndex:K_,fillOpacity:ah,strokeOpacity:ah,numOctaves:K_},L8={...l1,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:bb,WebkitFilter:bb},aD=t=>L8[t];function sD(t,e){let n=aD(t);return n!==bb&&(n=vs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const O8=new Set(["auto","none","0"]);function R8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!O8.has(s)&&sh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=sD(n,i)}class B8 extends r1{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Xv(p))){const m=QM(p,n.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!JM.has(r)||e.length!==2)return;const[i,s]=e,o=Z_(i),c=Z_(s),u=j_(i),h=j_(s);if(u!==h&&fs[r]){this.needsMeasurement=!0;return}if(o!==c)if(U_(o)&&U_(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else fs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||E8(e[i]))&&r.push(i);r.length&&R8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=fs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function j8(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const oD=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function vb(t){return bM(t)&&"offsetHeight"in t}const{schedule:c1}=LM(queueMicrotask,!1),di={x:!1,y:!1};function lD(){return di.x||di.y}function $8(t){return t==="x"||t==="y"?di[t]?null:(di[t]=!0,()=>{di[t]=!1}):di.x||di.y?null:(di.x=di.y=!0,()=>{di.x=di.y=!1})}function cD(t,e){const n=j8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Q_(t){return!(t.pointerType==="touch"||lD())}function z8(t,e,n={}){const[r,i,s]=cD(t,n),o=c=>{if(!Q_(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const f=p=>{Q_(p)&&(h(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),s}const uD=(t,e)=>e?t===e?!0:uD(t,e.parentElement):!1,u1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,P8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hD(t){return P8.has(t.tagName)||t.isContentEditable===!0}const ip=new WeakSet;function J_(t){return e=>{e.key==="Enter"&&t(e)}}function Q0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const F8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=J_(()=>{if(ip.has(n))return;Q0(n,"down");const i=J_(()=>{Q0(n,"up")}),s=()=>Q0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tk(t){return u1(t)&&!lD()}function I8(t,e,n={}){const[r,i,s]=cD(t,n),o=c=>{const u=c.currentTarget;if(!tk(c))return;ip.add(u);const h=e(u,c),f=(y,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),ip.has(u)&&ip.delete(u),tk(y)&&typeof h=="function"&&h(y,{success:x})},p=y=>{f(y,u===window||u===document||n.useGlobalTarget||uD(u,y.target))},m=y=>{f(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),vb(c)&&(c.addEventListener("focus",h=>F8(h,i)),!hD(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function dD(t){return bM(t)&&"ownerSVGElement"in t}function H8(t){return dD(t)&&t.tagName==="svg"}const V8=[...iD,un,vs],q8=t=>V8.find(rD(t)),ek=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nl=()=>({x:ek(),y:ek()}),nk=()=>({min:0,max:0}),bn=()=>({x:nk(),y:nk()}),wb={current:null},fD={current:!1},U8=typeof window<"u";function W8(){if(fD.current=!0,!!U8)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wb.current=t.matches;t.addEventListener("change",e),e()}else wb.current=!1}const Y8=new WeakMap;function Og(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function oh(t){return typeof t=="string"||Array.isArray(t)}const h1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d1=["initial",...h1];function Rg(t){return Og(t.animate)||d1.some(e=>oh(t[e]))}function pD(t){return!!(Rg(t)||t.variants)}function G8(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Un(i))t.addValue(r,i);else if(Un(s))t.addValue(r,Jl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Jl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const rk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Dp={};function gD(t){Dp=t}function X8(){return Dp}class Z8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=tr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,$e.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=Rg(n),this.isVariantNode=pD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const y=p[m];u[m]!==void 0&&Un(y)&&y.set(u[m])}}mount(e){this.current=e,Y8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(fD.current||W8(),this.shouldReduceMotion=wb.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bs(this.notifyUpdate),bs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=mc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&$e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dp){const n=Dp[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rk.length;r++){const i=rk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=G8(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Jl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xM(r)||vM(r))?r=parseFloat(r):!q8(r)&&vs.test(n)&&(r=sD(e,n)),this.setBaseTarget(e,Un(r)?r.get():r)),Un(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=s1(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Un(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Wv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){c1.render(this.render)}}class mD extends Z8{constructor(){super(...arguments),this.KeyframeResolver=B8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class As{constructor(e){this.isMounted=!1,this.node=e}update(){}}function yD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function K8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function J0(t){return t===void 0||t===1}function Sb({scale:t,scaleX:e,scaleY:n}){return!J0(t)||!J0(e)||!J0(n)}function eo(t){return Sb(t)||xD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xD(t){return ik(t.x)||ik(t.y)}function ik(t){return t&&t!=="0%"}function Np(t,e,n){const r=t-n,i=e*r;return n+i}function ak(t,e,n,r,i){return i!==void 0&&(t=Np(t,i,r)),Np(t,n,r)+e}function Cb(t,e=0,n=1,r,i){t.min=ak(t.min,e,n,r,i),t.max=ak(t.max,e,n,r,i)}function bD(t,{x:e,y:n}){Cb(t.x,e.translate,e.scale,e.originPoint),Cb(t.y,n.translate,n.scale,n.originPoint)}const sk=.999999999999,ok=1.0000000000001;function J8(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let c=0;c<i;c++){s=n[c],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ol(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,bD(t,o)),r&&eo(s.latestValues)&&Ol(t,s.latestValues))}e.x<ok&&e.x>sk&&(e.x=1),e.y<ok&&e.y>sk&&(e.y=1)}function Ll(t,e){t.min=t.min+e,t.max=t.max+e}function lk(t,e,n,r,i=.5){const s=We(t.min,t.max,i);Cb(t,e,n,s,r)}function Ol(t,e){lk(t.x,e.x,e.scaleX,e.scale,e.originX),lk(t.y,e.y,e.scaleY,e.scale,e.originY)}function vD(t,e){return yD(Q8(t.getBoundingClientRect(),e))}function tF(t,e,n){const r=vD(t,n),{scroll:i}=e;return i&&(Ll(r.x,i.offset.x),Ll(r.y,i.offset.y)),r}const eF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nF=gc.length;function rF(t,e,n){let r="",i=!0;for(let s=0;s<nF;s++){const o=gc[s],c=t[o];if(c===void 0)continue;let u=!0;if(typeof c=="number")u=c===(o.startsWith("scale")?1:0);else{const h=parseFloat(c);u=o.startsWith("scale")?h===1:h===0}if(!u||n){const h=oD(c,l1[o]);if(!u){i=!1;const f=eF[o]||o;r+=`${f}(${h}) `}n&&(e[o]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function f1(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,c=!1;for(const u in e){const h=e[u];if(mc.has(u)){o=!0;continue}else if(RM(u)){i[u]=h;continue}else{const f=oD(h,l1[u]);u.startsWith("origin")?(c=!0,s[u]=f):r[u]=f}}if(e.transform||(o||n?r.transform=rF(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:f=0}=s;r.transformOrigin=`${u} ${h} ${f}`}}function wD(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function ck(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const yu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Et.test(t))t=parseFloat(t);else return t;const n=ck(t,e.target.x),r=ck(t,e.target.y);return`${n}% ${r}%`}},iF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=vs.parse(t);if(i.length>5)return r;const s=vs.createTransformer(t),o=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=c,i[1+o]/=u;const h=We(c,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),s(i)}},_b={borderRadius:{...yu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yu,borderTopRightRadius:yu,borderBottomLeftRadius:yu,borderBottomRightRadius:yu,boxShadow:iF};function SD(t,{layout:e,layoutId:n}){return mc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_b[t]||t==="opacity")}function p1(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const o in r)(Un(r[o])||i&&Un(i[o])||SD(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}function aF(t){return window.getComputedStyle(t)}class sF extends mD{constructor(){super(...arguments),this.type="html",this.renderInstance=wD}readValueFromInstance(e,n){if(mc.has(n))return this.projection?.isProjecting?ub(n):jP(e,n);{const r=aF(e),i=(RM(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vD(e,n)}build(e,n,r){f1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return p1(e,n,r)}}const oF={offset:"stroke-dashoffset",array:"stroke-dasharray"},lF={offset:"strokeDashoffset",array:"strokeDasharray"};function cF(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?oF:lF;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const uF=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function CD(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...c},u,h,f){if(f1(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m}=t;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=f?.transformBox??"fill-box",delete p.transformBox);for(const y of uF)p[y]!==void 0&&(m[y]=p[y],delete p[y]);e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&cF(p,i,s,o,!1)}const _D=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),kD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hF(t,e,n,r){wD(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(_D.has(i)?i:o1(i),e.attrs[i])}function TD(t,e,n){const r=p1(t,e,n);for(const i in t)if(Un(t[i])||Un(e[i])){const s=gc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class dF extends mD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mc.has(n)){const r=aD(n);return r&&r.default||0}return n=_D.has(n)?n:o1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return TD(e,n,r)}build(e,n,r){CD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){hF(e,n,r,i)}mount(e){this.isSVGTag=kD(e.tagName),super.mount(e)}}const fF=d1.length;function ED(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ED(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fF;n++){const r=d1[n],i=t.props[r];(oh(i)||i===!1)&&(e[r]=i)}return e}function AD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const pF=[...h1].reverse(),gF=h1.length;function mF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>k8(t,n,r)))}function yF(t){let e=mF(t),n=uk(),r=!0;const i=u=>(h,f)=>{const p=zl(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:m,transitionEnd:y,...x}=p;h={...h,...x,...y}}return h};function s(u){e=u(t)}function o(u){const{props:h}=t,f=ED(t.parent)||{},p=[],m=new Set;let y={},x=1/0;for(let w=0;w<gF;w++){const _=pF[w],S=n[_],T=h[_]!==void 0?h[_]:f[_],E=oh(T),M=_===u?S.isActive:null;M===!1&&(x=w);let L=T===f[_]&&T!==h[_]&&E;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),S.protectedKeys={...y},!S.isActive&&M===null||!T&&!S.prevProp||Og(T)||typeof T=="boolean")continue;const N=xF(S.prevProp,T);let $=N||_===u&&S.isActive&&!L&&E||w>x&&E,P=!1;const z=Array.isArray(T)?T:[T];let j=z.reduce(i(_),{});M===!1&&(j={});const{prevResolvedValues:W={}}=S,G={...W,...j},B=I=>{$=!0,m.has(I)&&(P=!0,m.delete(I)),S.needsAnimating[I]=!0;const U=t.getValue(I);U&&(U.liveStyle=!1)};for(const I in G){const U=j[I],Z=W[I];if(y.hasOwnProperty(I))continue;let nt=!1;mb(U)&&mb(Z)?nt=!AD(U,Z):nt=U!==Z,nt?U!=null?B(I):m.add(I):U!==void 0&&m.has(I)?B(I):S.protectedKeys[I]=!0}S.prevProp=T,S.prevResolvedValues=j,S.isActive&&(y={...y,...j}),r&&t.blockInitialAnimation&&($=!1);const H=L&&N;$&&(!H||P)&&p.push(...z.map(I=>{const U={type:_};if(typeof I=="string"&&r&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,nt=zl(Z,I);if(Z.enteringChildren&&nt){const{delayChildren:q}=nt.transition||{};U.delay=KM(Z.enteringChildren,t,q)}}return{animation:I,options:U}}))}if(m.size){const w={};if(typeof h.initial!="boolean"){const _=zl(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(w.transition=_.transition)}m.forEach(_=>{const S=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),w[_]=S??null}),p.push({animation:w})}let b=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(p):Promise.resolve()}function c(u,h){if(n[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(u,h)),n[u].isActive=h;const f=o(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:s,getState:()=>n,reset:()=>{n=uk()}}}function xF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AD(e,t):!1}function Js(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uk(){return{animate:Js(!0),whileInView:Js(),whileHover:Js(),whileTap:Js(),whileDrag:Js(),whileFocus:Js(),exit:Js()}}function hk(t,e){t.min=e.min,t.max=e.max}function hi(t,e){hk(t.x,e.x),hk(t.y,e.y)}function dk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const MD=1e-4,bF=1-MD,vF=1+MD,DD=.01,wF=0-DD,SF=0+DD;function er(t){return t.max-t.min}function CF(t,e,n){return Math.abs(t-e)<=n}function fk(t,e,n,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=er(n)/er(e),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bF&&t.scale<=vF||isNaN(t.scale))&&(t.scale=1),(t.translate>=wF&&t.translate<=SF||isNaN(t.translate))&&(t.translate=0)}function qu(t,e,n,r){fk(t.x,e.x,n.x,r?r.originX:void 0),fk(t.y,e.y,n.y,r?r.originY:void 0)}function pk(t,e,n){t.min=n.min+e.min,t.max=t.min+er(e)}function _F(t,e,n){pk(t.x,e.x,n.x),pk(t.y,e.y,n.y)}function gk(t,e,n){t.min=e.min-n.min,t.max=t.min+er(e)}function Lp(t,e,n){gk(t.x,e.x,n.x),gk(t.y,e.y,n.y)}function mk(t,e,n,r,i){return t-=e,t=Np(t,1/n,r),i!==void 0&&(t=Np(t,1/i,r)),t}function kF(t,e=0,n=1,r=.5,i,s=t,o=t){if(Hi.test(e)&&(e=parseFloat(e),e=We(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=We(s.min,s.max,r);t===s&&(c-=e),t.min=mk(t.min,e,n,c,i),t.max=mk(t.max,e,n,c,i)}function yk(t,e,[n,r,i],s,o){kF(t,e[n],e[r],e[i],e.scale,s,o)}const TF=["x","scaleX","originX"],EF=["y","scaleY","originY"];function xk(t,e,n,r){yk(t.x,e,TF,n?n.x:void 0,r?r.x:void 0),yk(t.y,e,EF,n?n.y:void 0,r?r.y:void 0)}function bk(t){return t.translate===0&&t.scale===1}function ND(t){return bk(t.x)&&bk(t.y)}function vk(t,e){return t.min===e.min&&t.max===e.max}function AF(t,e){return vk(t.x,e.x)&&vk(t.y,e.y)}function wk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function LD(t,e){return wk(t.x,e.x)&&wk(t.y,e.y)}function Sk(t){return er(t.x)/er(t.y)}function Ck(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Qr(t){return[t("x"),t("y")]}function MF(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:p,rotateY:m,skewX:y,skewY:x}=n;h&&(r=`perspective(${h}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const OD=["TopLeft","TopRight","BottomLeft","BottomRight"],DF=OD.length,_k=t=>typeof t=="string"?parseFloat(t):t,kk=t=>typeof t=="number"||Et.test(t);function NF(t,e,n,r,i,s){i?(t.opacity=We(0,n.opacity??1,LF(r)),t.opacityExit=We(e.opacity??1,0,OF(r))):s&&(t.opacity=We(e.opacity??1,n.opacity??1,r));for(let o=0;o<DF;o++){const c=`border${OD[o]}Radius`;let u=Tk(e,c),h=Tk(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||kk(u)===kk(h)?(t[c]=Math.max(We(_k(u),_k(h),r),0),(Hi.test(h)||Hi.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,r))}function Tk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const LF=RD(0,.5,AM),OF=RD(.5,.95,ei);function RD(t,e,n){return r=>r<t?0:r>e?1:n(ih(t,e,r))}function RF(t,e,n){const r=Un(t)?t:Jl(t);return r.start(a1("",r,e,n)),r.animation}function lh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const BF=(t,e)=>t.depth-e.depth;class jF{constructor(){this.children=[],this.isDirty=!1}add(e){Hv(this.children,e),this.isDirty=!0}remove(e){Vv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BF),this.isDirty=!1,this.children.forEach(e)}}function $F(t,e){const n=tr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(bs(r),t(s-e))};return $e.setup(r,!0),()=>bs(r)}function ap(t){return Un(t)?t.get():t}class zF{constructor(){this.members=[]}add(e){Hv(this.members,e),e.scheduleRender()}remove(e){if(Vv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;i!==void 0&&s!==void 0&&i===s||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:c}=e.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const sp={hasAnimatedSinceResize:!0,hasEverUpdated:!1},tx=["","X","Y","Z"],PF=1e3;let FF=0;function ex(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function BD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=eD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$e,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&BD(r)}function jD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=e?.()){this.id=FF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VF),this.nodes.forEach(YF),this.nodes.forEach(GF),this.nodes.forEach(qF)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new jF)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Wv),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=dD(o)&&!H8(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let f,p=0;const m=()=>this.root.updateBlockedByResize=!1;$e.read(()=>{p=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,f&&f(),f=$F(m,250),sp.hasAnimatedSinceResize&&(sp.hasAnimatedSinceResize=!1,this.nodes.forEach(Mk)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||JF,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=h.getProps(),_=!this.targetLayout||!LD(this.targetLayout,y),S=!p&&m;if(this.options.layoutRoot||this.resumeFrom||S||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...i1(x,"layout"),onPlay:b,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(f,S)}else p||Mk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ek);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ak);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WF),this.nodes.forEach(IF),this.nodes.forEach(HF)):this.nodes.forEach(Ak),this.clearAllSnapshots();const c=tr.now();Pn.delta=qi(0,1e3/60,c-Pn.timestamp),Pn.timestamp=c,Pn.isProcessing=!0,W0.update.process(Pn),W0.preRender.process(Pn),W0.render.process(Pn),Pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,c1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UF),this.sharedNodes.forEach(ZF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!er(this.snapshot.measuredBox.x)&&!er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!ND(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||eo(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),tI(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return bn();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eI))){const{scroll:h}=this.root;h&&(Ll(c.x,h.offset.x),Ll(c.y,h.offset.y))}return c}removeElementScroll(o){const c=bn();if(hi(c,o),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&hi(c,o),Ll(c.x,f.offset.x),Ll(c.y,f.offset.y))}return c}applyTransform(o,c=!1){const u=bn();hi(u,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ol(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),eo(f.latestValues)&&Ol(u,f.latestValues)}return eo(this.latestValues)&&Ol(u,this.latestValues),u}removeTransform(o){const c=bn();hi(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!eo(h.latestValues))continue;Sb(h.latestValues)&&h.updateSnapshot();const f=bn(),p=h.measurePageBox();hi(f,p),xk(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return eo(this.latestValues)&&xk(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=Pn.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_F(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),bD(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Sb(this.parent.latestValues)||xD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),Lp(this.relativeTargetOrigin,c,u),hi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;hi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;J8(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=bn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dk(this.prevProjectionDelta.x,this.projectionDelta.x),dk(this.prevProjectionDelta.y,this.projectionDelta.y)),qu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!Ck(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ck(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nl(),this.projectionDelta=Nl(),this.projectionDeltaWithTransform=Nl()}setAnimationOrigin(o,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},p=Nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=bn(),y=u?u.source:void 0,x=this.layout?this.layout.source:void 0,b=y!==x,w=this.getStack(),_=!w||w.members.length<=1,S=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(QF));this.animationProgress=0;let T;this.mixTargetDelta=E=>{const M=E/1e3;Dk(p.x,o.x,M),Dk(p.y,o.y,M),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lp(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KF(this.relativeTarget,this.relativeTargetOrigin,m,M),T&&AF(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=bn()),hi(T,this.relativeTarget)),b&&(this.animationValues=f,NF(f,h,this.latestValues,M,S,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{sp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Jl(0)),this.currentAnimation=RF(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=o;if(!(!c||!u||!h)){if(this!==o&&this.layout&&h&&$D(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||bn();const p=er(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const m=er(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+m}hi(c,u),Ol(c,f),qu(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zF),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&ex("z",o,h,this.animationValues);for(let f=0;f<tx.length;f++)ex(`rotate${tx[f]}`,o,h,this.animationValues),ex(`skew${tx[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ap(c?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ap(c?.pointerEvents)||""),this.hasProjected&&!eo(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=MF(this.projectionDeltaWithTransform,this.treeScale,f);u&&(p=u(f,p)),o.transform=p;const{x:m,y}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?o.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in _b){if(f[x]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:_}=_b[x],S=p==="none"?f[x]:b(f[x],h);if(w){const T=w.length;for(let E=0;E<T;E++)o[w[E]]=S}else _?this.options.visualElement.renderState.vars[x]=S:o[x]=S}this.options.layoutId&&(o.pointerEvents=h===this?ap(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Ek),this.root.sharedNodes.clear()}}}function IF(t){t.updateLayout()}function HF(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Qr(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],m=er(p);p.min=n[f].min,p.max=p.min+m}):$D(i,e.layoutBox,n)&&Qr(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],m=er(n[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const o=Nl();qu(o,n,e.layoutBox);const c=Nl();s?qu(c,t.applyTransform(r,!0),e.measuredBox):qu(c,n,e.layoutBox);const u=!ND(o);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=bn();Lp(y,e.layoutBox,p.layoutBox);const x=bn();Lp(x,n,m.layoutBox),LD(y,x)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function VF(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UF(t){t.clearSnapshot()}function Ek(t){t.clearMeasurements()}function Ak(t){t.isLayoutDirty=!1}function WF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Mk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function YF(t){t.resolveTargetDelta()}function GF(t){t.calcProjection()}function XF(t){t.resetSkewAndRotation()}function ZF(t){t.removeLeadSnapshot()}function Dk(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Nk(t,e,n,r){t.min=We(e.min,n.min,r),t.max=We(e.max,n.max,r)}function KF(t,e,n,r){Nk(t.x,e.x,n.x,r),Nk(t.y,e.y,n.y,r)}function QF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JF={duration:.45,ease:[.4,0,.1,1]},Lk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ok=Lk("applewebkit/")&&!Lk("chrome/")?Math.round:ei;function Rk(t){t.min=Ok(t.min),t.max=Ok(t.max)}function tI(t){Rk(t.x),Rk(t.y)}function $D(t,e,n){return t==="position"||t==="preserve-aspect"&&!CF(Sk(e),Sk(n),.2)}function eI(t){return t!==t.root&&t.scroll?.wasRoot}const nI=jD({attachResizeListener:(t,e)=>lh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),nx={current:void 0},zD=jD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!nx.current){const t=new nI({});t.mount(window),t.setOptions({layoutScroll:!0}),nx.current=t}return nx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),g1=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Bk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rI(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Bk(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Bk(t[i],null)}}}}function iI(...t){return A.useCallback(rI(...t),t)}class aI extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=vb(r)&&r.offsetWidth||0,s=vb(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left,o.bottom=s-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function sI({children:t,isPresent:e,anchorX:n,anchorY:r,root:i}){const s=A.useId(),o=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=A.useContext(g1),h=t.props?.ref??t?.ref,f=iI(o,h);return A.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:x,right:b,bottom:w}=c.current;if(e||!o.current||!p||!m)return;const _=n==="left"?`left: ${x}`:`right: ${b}`,S=r==="bottom"?`bottom: ${w}`:`top: ${y}`;o.current.dataset.motionPopId=s;const T=document.createElement("style");u&&(T.nonce=u);const E=i??document.head;return E.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${_}px !important;
            ${S}px !important;
          }
        `),()=>{E.contains(T)&&E.removeChild(T)}},[e]),k.jsx(aI,{isPresent:e,childRef:o,sizeRef:c,children:A.cloneElement(t,{ref:f})})}const oI=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:c,anchorY:u,root:h})=>{const f=Iv(lI),p=A.useId();let m=!0,y=A.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:x=>{f.set(x,!0);for(const b of f.values())if(!b)return;r&&r()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,r]);return s&&m&&(y={...y}),A.useMemo(()=>{f.forEach((x,b)=>f.set(b,!1))},[n]),A.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),o==="popLayout"&&(t=k.jsx(sI,{isPresent:n,anchorX:c,anchorY:u,root:h,children:t})),k.jsx(Lg.Provider,{value:y,children:t})};function lI(){return new Map}function PD(t=!0){const e=A.useContext(Lg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=A.useId();A.useEffect(()=>{if(t)return i(s)},[t]);const o=A.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const kf=t=>t.key||"";function jk(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const Aa=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:c="left",anchorY:u="top",root:h})=>{const[f,p]=PD(o),m=A.useMemo(()=>jk(t),[t]),y=o&&!f?[]:m.map(kf),x=A.useRef(!0),b=A.useRef(m),w=Iv(()=>new Map),_=A.useRef(new Set),[S,T]=A.useState(m),[E,M]=A.useState(m);yM(()=>{x.current=!1,b.current=m;for(let $=0;$<E.length;$++){const P=kf(E[$]);y.includes(P)?(w.delete(P),_.current.delete(P)):w.get(P)!==!0&&w.set(P,!1)}},[E,y.length,y.join("-")]);const L=[];if(m!==S){let $=[...m];for(let P=0;P<E.length;P++){const z=E[P],j=kf(z);y.includes(j)||($.splice(P,0,z),L.push(z))}return s==="wait"&&L.length&&($=L),M(jk($)),T(m),null}const{forceRender:N}=A.useContext(Fv);return k.jsx(k.Fragment,{children:E.map($=>{const P=kf($),z=o&&!f?!1:m===E||y.includes(P),j=()=>{if(_.current.has(P))return;if(_.current.add(P),w.has(P))w.set(P,!0);else return;let W=!0;w.forEach(G=>{G||(W=!1)}),W&&(N?.(),M(b.current),o&&p?.(),r&&r())};return k.jsx(oI,{isPresent:z,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:h,onExitComplete:z?void 0:j,anchorX:c,anchorY:u,children:$},P)})})},FD=A.createContext({strict:!1}),$k={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let zk=!1;function cI(){if(zk)return;const t={};for(const e in $k)t[e]={isEnabled:n=>$k[e].some(r=>!!n[r])};gD(t),zk=!0}function ID(){return cI(),X8()}function uI(t){const e=ID();for(const n in t)e[n]={...e[n],...t[n]};gD(e)}const hI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Op(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hI.has(t)}let HD=t=>!Op(t);function dI(t){typeof t=="function"&&(HD=e=>e.startsWith("on")?!Op(e):t(e))}try{dI(require("@emotion/is-prop-valid").default)}catch{}function fI(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(HD(i)||n===!0&&Op(i)||!e&&!Op(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Bg=A.createContext({});function pI(t,e){if(Rg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||oh(n)?n:void 0,animate:oh(r)?r:void 0}}return t.inherit!==!1?e:{}}function gI(t){const{initial:e,animate:n}=pI(t,A.useContext(Bg));return A.useMemo(()=>({initial:e,animate:n}),[Pk(e),Pk(n)])}function Pk(t){return Array.isArray(t)?t.join(" "):t}const m1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VD(t,e,n){for(const r in e)!Un(e[r])&&!SD(r,n)&&(t[r]=e[r])}function mI({transformTemplate:t},e){return A.useMemo(()=>{const n=m1();return f1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yI(t,e){const n=t.style||{},r={};return VD(r,n,t),Object.assign(r,mI(t,e)),r}function xI(t,e){const n={},r=yI(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const qD=()=>({...m1(),attrs:{}});function bI(t,e,n,r){const i=A.useMemo(()=>{const s=qD();return CD(s,e,kD(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};VD(s,t.style,t),i.style={...s,...i.style}}return i}const vI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function y1(t){return typeof t!="string"||t.includes("-")?!1:!!(vI.indexOf(t)>-1||/[A-Z]/u.test(t))}function wI(t,e,n,{latestValues:r},i,s=!1,o){const u=(o??y1(t)?bI:xI)(e,r,i,t),h=fI(e,typeof t=="string",s),f=t!==A.Fragment?{...h,...u,ref:n}:{},{children:p}=e,m=A.useMemo(()=>Un(p)?p.get():p,[p]);return A.createElement(t,{...f,children:m})}function SI({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:CI(n,r,i,t),renderState:e()}}function CI(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=ap(s[m]);let{initial:o,animate:c}=t;const u=Rg(t),h=pD(t);e&&h&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?c:o;if(p&&typeof p!="boolean"&&!Og(p)){const m=Array.isArray(p)?p:[p];for(let y=0;y<m.length;y++){const x=s1(t,m[y]);if(x){const{transitionEnd:b,transition:w,..._}=x;for(const S in _){let T=_[S];if(Array.isArray(T)){const E=f?T.length-1:0;T=T[E]}T!==null&&(i[S]=T)}for(const S in b)i[S]=b[S]}}}return i}const UD=t=>(e,n)=>{const r=A.useContext(Bg),i=A.useContext(Lg),s=()=>SI(t,e,r,i);return n?s():Iv(s)},_I=UD({scrapeMotionValuesFromProps:p1,createRenderState:m1}),kI=UD({scrapeMotionValuesFromProps:TD,createRenderState:qD}),TI=Symbol.for("motionComponentSymbol");function EI(t,e,n){const r=A.useRef(n);A.useInsertionEffect(()=>{r.current=n});const i=A.useRef(null);return A.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const o=r.current;if(typeof o=="function")if(s){const c=o(s);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(s);else o&&(o.current=s)},[e])}const WD=A.createContext({});function Lu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AI(t,e,n,r,i,s){const{visualElement:o}=A.useContext(Bg),c=A.useContext(FD),u=A.useContext(Lg),h=A.useContext(g1).reducedMotion,f=A.useRef(null),p=A.useRef(!1);r=r||c.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h,isSVG:s}),p.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const m=f.current,y=A.useContext(WD);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&MI(f.current,n,i,y);const x=A.useRef(!1);A.useInsertionEffect(()=>{m&&x.current&&m.update(n,u)});const b=n[tD],w=A.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return yM(()=>{p.current=!0,m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),w.current&&m.animationState&&m.animationState.animateChanges())}),A.useEffect(()=>{m&&(!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),w.current=!1),m.enteringChildren=void 0)}),m}function MI(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YD(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||c&&Lu(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:h})}function YD(t){if(t)return t.options.allowProjection!==!1?t.projection:YD(t.parent)}function rx(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&uI(r);const s=n?n==="svg":y1(t),o=s?kI:_I;function c(h,f){let p;const m={...A.useContext(g1),...h,layoutId:DI(h)},{isStatic:y}=m,x=gI(h),b=o(h,y);if(!y&&mM){NI();const w=LI(m);p=w.MeasureLayout,x.visualElement=AI(t,b,m,i,w.ProjectionNode,s)}return k.jsxs(Bg.Provider,{value:x,children:[p&&x.visualElement?k.jsx(p,{visualElement:x.visualElement,...m}):null,wI(t,h,EI(b,x.visualElement,f),b,y,e,s)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=A.forwardRef(c);return u[TI]=t,u}function DI({layoutId:t}){const e=A.useContext(Fv).id;return e&&t!==void 0?e+"-"+t:t}function NI(t,e){A.useContext(FD).strict}function LI(t){const e=ID(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function OI(t,e){if(typeof Proxy>"u")return rx;const n=new Map,r=(s,o)=>rx(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,rx(o,void 0,t,e)),n.get(o))})}const RI=(t,e)=>e.isSVG??y1(t)?new dF(e):new sF(e,{allowProjection:t!==A.Fragment});class BI extends As{constructor(e){super(e),e.animationState||(e.animationState=yF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Og(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let jI=0;class $I extends As{constructor(){super(...arguments),this.id=jI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zI={animation:{Feature:BI},exit:{Feature:$I}};function Ph(t){return{point:{x:t.pageX,y:t.pageY}}}const PI=t=>e=>u1(e)&&t(e,Ph(e));function Uu(t,e,n,r){return lh(t,e,PI(n),r)}const GD=({current:t})=>t?t.ownerDocument.defaultView:null,Fk=(t,e)=>Math.abs(t-e);function FI(t,e){const n=Fk(t.x,e.x),r=Fk(t.y,e.y);return Math.sqrt(n**2+r**2)}const Ik=new Set(["auto","scroll"]);class XD{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ax(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=FI(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!b)return;const{point:w}=y,{timestamp:_}=Pn;this.history.push({...w,timestamp:_});const{onStart:S,onMove:T}=this.handlers;x||(S&&S(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=ix(x,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:b,onSessionEnd:w,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=ax(y.type==="pointercancel"?this.lastMoveEventInfo:ix(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,S),w&&w(y,S)},!u1(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const u=Ph(e),h=ix(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=Pn;this.history=[{...f,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,ax(h,this.history)),this.removeListeners=jh(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(Ik.has(r.overflowX)||Ik.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),$e.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),bs(this.updatePoint)}}function ix(t,e){return e?{point:e(t.point)}:t}function Hk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ax({point:t},e){return{point:t,delta:Hk(t,ZD(e)),offset:Hk(t,II(e)),velocity:HI(e,.1)}}function II(t){return t[0]}function ZD(t){return t[t.length-1]}function HI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ZD(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ca(e)));)n--;if(!r)return{x:0,y:0};const s=ti(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function VI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?We(n,t,r.max):Math.min(t,n)),t}function Vk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qI(t,{top:e,left:n,bottom:r,right:i}){return{x:Vk(t.x,n,i),y:Vk(t.y,e,r)}}function qk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function UI(t,e){return{x:qk(t.x,e.x),y:qk(t.y,e.y)}}function WI(t,e){let n=.5;const r=er(t),i=er(e);return i>r?n=ih(e.min,e.max-r,t.min):r>i&&(n=ih(t.min,t.max-i,e.min)),qi(0,1,n)}function YI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kb=.35;function GI(t=kb){return t===!1?t=0:t===!0&&(t=kb),{x:Uk(t,"left","right"),y:Uk(t,"top","bottom")}}function Uk(t,e,n){return{min:Wk(t,e),max:Wk(t,n)}}function Wk(t,e){return typeof t=="number"?t:t[e]||0}const XI=new WeakMap;class ZI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{n?(this.stopAnimation(),this.snapToCursor(Ph(p).point)):this.pauseAnimation()},o=(p,m)=>{this.stopAnimation();const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$8(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qr(_=>{let S=this.getAxisMotionValue(_).get()||0;if(Hi.test(S)){const{projection:T}=this.visualElement;if(T&&T.layout){const E=T.layout.layoutBox[_];E&&(S=er(E)*(parseFloat(S)/100))}}this.originPoint[_]=S}),b&&$e.postRender(()=>b(p,m)),yb(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:_}=m;if(x&&this.currentDirection===null){this.currentDirection=KI(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),w&&w(p,m)},u=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m,this.stop(p,m),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Qr(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new XD(e,{onSessionStart:s,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:GD(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&$e.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Tf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=VI(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Lu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=qI(r.layoutBox,e):this.constraints=!1,this.elastic=GI(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=YI(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=tF(r,i.root,this.visualElement.getTransformPagePoint());let o=UI(i.layout.layoutBox,s);if(n){const c=n(K8(o));this.hasMutatedConstraints=!!c,c&&(o=yD(c))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Qr(f=>{if(!Tf(f,n,this.currentDirection))return;let p=u&&u[f]||{};o&&(p={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,x)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return yb(this.visualElement,e),r.start(a1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qr(n=>{const{drag:r}=this.getProps();if(!Tf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n],u=s.get()||0;s.set(e[n]-We(o,c,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Lu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qr(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();i[o]=WI({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qr(o=>{if(!Tf(o,e,null))return;const c=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];c.set(We(u,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;XI.set(this.visualElement,this);const e=this.visualElement.current,n=Uu(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps(),p=u.target,m=p!==e&&hD(p);h&&f&&!m&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Lu(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),$e.read(r);const o=lh(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Qr(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=kb,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:c}}}function Tf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QI extends As{constructor(e){super(e),this.removeGroupControls=ei,this.removeListeners=ei,this.controls=new ZI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ei}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Yk=t=>(e,n)=>{t&&$e.postRender(()=>t(e,n))};class JI extends As{constructor(){super(...arguments),this.removePointerDownListener=ei}onPointerDown(e){this.session=new XD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Yk(e),onStart:Yk(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&$e.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let sx=!1;class t9 extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),sx&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),sp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),sx=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||$e.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),c1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;sx=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KD(t){const[e,n]=PD(),r=A.useContext(Fv);return k.jsx(t9,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(WD),isPresent:e,safeToRemove:n})}const e9={pan:{Feature:JI},drag:{Feature:QI,ProjectionNode:zD,MeasureLayout:KD}};function Gk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&$e.postRender(()=>s(e,Ph(e)))}class n9 extends As{mount(){const{current:e}=this.node;e&&(this.unmount=z8(e,(n,r)=>(Gk(this.node,r,"Start"),i=>Gk(this.node,i,"End"))))}unmount(){}}class r9 extends As{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jh(lh(this.node.current,"focus",()=>this.onFocus()),lh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xk(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&$e.postRender(()=>s(e,Ph(e)))}class i9 extends As{mount(){const{current:e}=this.node;e&&(this.unmount=I8(e,(n,r)=>(Xk(this.node,r,"Start"),(i,{success:s})=>Xk(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tb=new WeakMap,ox=new WeakMap,a9=t=>{const e=Tb.get(t.target);e&&e(t)},s9=t=>{t.forEach(a9)};function o9({root:t,...e}){const n=t||document;ox.has(n)||ox.set(n,{});const r=ox.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(s9,{root:t,...e})),r[i]}function l9(t,e,n){const r=o9(e);return Tb.set(t,n),r.observe(t),()=>{Tb.delete(t),r.unobserve(t)}}const c9={some:0,all:1};class u9 extends As{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:c9[i]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=h?f:p;m&&m(u)};return l9(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(h9(e,n))&&this.startObserver()}unmount(){}}function h9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const d9={inView:{Feature:u9},tap:{Feature:i9},focus:{Feature:r9},hover:{Feature:n9}},f9={layout:{ProjectionNode:zD,MeasureLayout:KD}},p9={...zI,...d9,...e9,...f9},ze=OI(p9,RI);const QD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const g9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const m9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const Zk=t=>{const e=m9(t);return e.charAt(0).toUpperCase()+e.slice(1)};var y9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const x9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const b9=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...c},u)=>A.createElement("svg",{ref:u,...y9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QD("lucide",i),...!s&&!x9(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,f])=>A.createElement(h,f)),...Array.isArray(s)?s:[s]]));const qt=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(b9,{ref:s,iconNode:e,className:QD(`lucide-${g9(Zk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Zk(t),n};const v9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],JD=qt("arrow-left",v9);const w9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],S9=qt("chart-column",w9);const C9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tN=qt("check",C9);const _9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jg=qt("chevron-down",_9);const k9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],T9=qt("chevron-left",k9);const E9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],x1=qt("chevron-right",E9);const A9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],M9=qt("chevron-up",A9);const D9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],N9=qt("circle-alert",D9);const L9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],O9=qt("circle-check-big",L9);const R9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],B9=qt("circle-check",R9);const j9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$9=qt("circle",j9);const z9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],P9=qt("clock",z9);const F9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eN=qt("download",F9);const I9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nN=qt("eye",I9);const H9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rN=qt("file-text",H9);const V9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],iN=qt("file",V9);const q9=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],U9=qt("folder-open",q9);const W9=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],aN=qt("folder",W9);const Y9=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],G9=qt("git-branch",Y9);const X9=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Z9=qt("grip-vertical",X9);const K9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Q9=qt("history",K9);const J9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],tH=qt("info",J9);const eH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],nH=qt("layout-dashboard",eH);const rH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],iH=qt("loader-circle",rH);const aH=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sH=qt("message-square",aH);const oH=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],lH=qt("network",oH);const cH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],uH=qt("panels-top-left",cH);const hH=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],sN=qt("pause",hH);const dH=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ch=qt("pen-line",dH);const fH=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],oN=qt("play",fH);const pH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lN=qt("refresh-cw",pH);const gH=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],uh=qt("rocket",gH);const mH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],cN=qt("rotate-ccw",mH);const yH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uN=qt("save",yH);const xH=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],bH=qt("scroll-text",xH);const vH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hN=qt("search",vH);const wH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dN=qt("send",wH);const SH=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],CH=qt("share-2",SH);const _H=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kH=qt("shield",_H);const TH=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],EH=qt("skip-forward",TH);const AH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],MH=qt("target",AH);const DH=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],fN=qt("terminal",DH);const NH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pN=qt("trash-2",NH);const LH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],b1=qt("triangle-alert",LH);const OH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RH=qt("users",OH);const BH=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jH=qt("wifi-off",BH);const $H=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],zH=qt("wifi",$H);const PH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$g=qt("x",PH),Kk=t=>{let e;const n=new Set,r=(h,f)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const m=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,m))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h))},u=e=t(r,i,c);return c},FH=(t=>t?Kk(t):Kk),IH=t=>t;function HH(t,e=IH){const n=re.useSyncExternalStore(t.subscribe,re.useCallback(()=>e(t.getState()),[t,e]),re.useCallback(()=>e(t.getInitialState()),[t,e]));return re.useDebugValue(n),n}const Qk=t=>{const e=FH(t),n=r=>HH(e,r);return Object.assign(n,e),n},zg=(t=>t?Qk(t):Qk),Ci=zg(t=>({currentView:"cockpit",selectedAgentId:null,commandPaletteOpen:!1,chatOpen:!1,chatAgentId:null,sidebarCollapsed:!1,setView:e=>t({currentView:e}),selectAgent:e=>t({selectedAgentId:e,currentView:e?"agent":"cockpit"}),openCommandPalette:()=>t({commandPaletteOpen:!0}),closeCommandPalette:()=>t({commandPaletteOpen:!1}),toggleChat:()=>t(e=>({chatOpen:!e.chatOpen})),openChat:e=>t({chatOpen:!0,chatAgentId:e||null}),closeChat:()=>t({chatOpen:!1}),setChatAgent:e=>t({chatAgentId:e}),toggleSidebar:()=>t(e=>({sidebarCollapsed:!e.sidebarCollapsed}))})),VH={status:"idle",currentTask:null,checklist:[],progress:0,activityHistory:Array(20).fill(0),sessionKey:null,model:null,tokens:null},Er=zg(t=>({agents:{},pendingActions:0,pendingActionDetails:[],projectName:"AG Dev",totalTasks:0,completedTasks:0,bridge:{connected:!1,gatewayUrl:"",latency:0},setAgents:e=>t({agents:e}),updateAgent:(e,n)=>t(r=>({agents:{...r.agents,[e]:{...r.agents[e]||VH,...n}}})),setPendingActions:e=>t({pendingActions:e}),addPendingActionDetail:e=>t(n=>({pendingActionDetails:[...n.pendingActionDetails,e],pendingActions:n.pendingActionDetails.length+1})),clearPendingActions:()=>t({pendingActions:0,pendingActionDetails:[]}),setProjectInfo:(e,n,r)=>t({projectName:e,totalTasks:n,completedTasks:r}),setBridgeStatus:e=>t(n=>({bridge:{...n.bridge,...e}}))})),Pg=zg(t=>({toasts:[],addToast:(e,n)=>{const r=`toast-${Date.now()}-${Math.random().toString(36).slice(2,6)}`;t(i=>({toasts:[...i.toasts,{id:r,type:e,message:n,timestamp:Date.now()}]})),setTimeout(()=>{t(i=>({toasts:i.toasts.filter(s=>s.id!==r)}))},5e3)},removeToast:e=>t(n=>({toasts:n.toasts.filter(r=>r.id!==e)}))}));function qH(){const{updateAgent:t,setPendingActions:e,setProjectInfo:n,setBridgeStatus:r,addPendingActionDetail:i}=Er(),{addToast:s}=Pg(),o=A.useRef(null);A.useEffect(()=>{const u=new EventSource("/api/sse");return o.current=u,u.onmessage=h=>{try{const f=JSON.parse(h.data);f.type==="agent_update"&&f.agentId?t(f.agentId,f.state):f.type==="state"?(f.agents&&Object.entries(f.agents).forEach(([p,m])=>{t(p,m)}),f.project&&n(f.project.name||"AG Dev",f.project.totalTasks||0,f.project.completedTasks||0)):f.type==="clawdbot_event"?c(f):f.type==="agent_stream"?f.agentId&&f.delta&&t(f.agentId,{output:f.delta,thinking:f.thinking||void 0}):f.type==="bridge_status"?r({connected:f.connected??!1,gatewayUrl:f.gatewayUrl||"",latency:f.latency??0}):f.type==="consent_pending"?(typeof f.count=="number"&&e(f.count),f.action&&i({id:f.action.id||`pa-${Date.now()}`,agentId:f.action.agentId||"",type:f.action.type||"unknown",description:f.action.description||"",timestamp:Date.now()})):f.type==="toast"&&s(f.level||"info",f.message||"Notification")}catch{}},u.onerror=()=>{r({connected:!1})},()=>{u.close(),o.current=null}},[]);function c(u){const{event:h,agentId:f,payload:p}=u;switch(h){case"session_started":f&&t(f,{status:"working",sessionKey:p?.sessionKey||null}),s("success",`Agent ${f||"unknown"} session started`);break;case"session_stopped":f&&t(f,{status:"idle",sessionKey:null}),s("info",`Agent ${f||"unknown"} session stopped`);break;case"session_error":f&&t(f,{status:"error"}),s("error",`Agent ${f||"unknown"} error: ${p?.message||"unknown"}`);break;case"model_change":f&&p?.model&&t(f,{model:p.model});break;case"token_update":f&&p?.tokens&&t(f,{tokens:p.tokens});break}}}function UH(t,e=1e4){const{setAgents:n,setProjectInfo:r}=Er();A.useEffect(()=>{const i=async()=>{try{const o=await fetch(t);if(!o.ok)return;const c=await o.json();c.agents&&n(c.agents),c.project&&r(c.project?.name||"",c.project?.totalTasks||0,c.project?.completedTasks||0)}catch{}};i();const s=setInterval(i,e);return()=>clearInterval(s)},[t,e])}function WH(){const{openCommandPalette:t,toggleChat:e,setView:n,currentView:r,selectedAgentId:i,selectAgent:s}=Ci();A.useEffect(()=>{const o=c=>{const u=c.metaKey||c.ctrlKey,h=c.target,f=h.tagName==="INPUT"||h.tagName==="TEXTAREA"||h.isContentEditable;if(u&&c.key==="k"){c.preventDefault(),t();return}if(u&&c.key==="j"){c.preventDefault(),e();return}if(!f){if(c.key==="1"){n("cockpit");return}if(c.key==="2"){n("pipeline");return}if(c.key==="3"){n("gantt");return}if(c.key==="4"){n("emergence");return}if(c.key==="5"){n("strategy");return}if(c.key==="6"){n("terminal");return}if(c.key==="7"){n("diagrams");return}if(c.key==="8"){n("logs");return}if(c.key==="9"){n("docs");return}if(c.key==="Escape"){r!=="cockpit"&&s(null);return}}};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r,i])}var Jk=1,YH=.9,GH=.8,XH=.17,lx=.1,cx=.999,ZH=.9999,KH=.99,QH=/[\\\/_+.#"@\[\(\{&]/,JH=/[\\\/_+.#"@\[\(\{&]/g,t7=/[\s-]/,gN=/[\s-]/g;function Eb(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?Jk:KH;var c=`${i},${s}`;if(o[c]!==void 0)return o[c];for(var u=r.charAt(s),h=n.indexOf(u,i),f=0,p,m,y,x;h>=0;)p=Eb(t,e,n,r,h+1,s+1,o),p>f&&(h===i?p*=Jk:QH.test(t.charAt(h-1))?(p*=GH,y=t.slice(i,h-1).match(JH),y&&i>0&&(p*=Math.pow(cx,y.length))):t7.test(t.charAt(h-1))?(p*=YH,x=t.slice(i,h-1).match(gN),x&&i>0&&(p*=Math.pow(cx,x.length))):(p*=XH,i>0&&(p*=Math.pow(cx,h-i))),t.charAt(h)!==e.charAt(s)&&(p*=ZH)),(p<lx&&n.charAt(h-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(h-1)!==r.charAt(s))&&(m=Eb(t,e,n,r,h+1,s+2,o),m*lx>p&&(p=m*lx)),p>f&&(f=p),h=n.indexOf(u,h+1);return o[c]=f,f}function tT(t){return t.toLowerCase().replace(gN," ")}function e7(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Eb(t,e,tT(t),tT(e),0,0,{})}function gs(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function eT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ws(...t){return e=>{let n=!1;const r=t.map(i=>{const s=eT(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():eT(t[i],null)}}}}function No(...t){return A.useCallback(ws(...t),t)}function n7(t,e){const n=A.createContext(e),r=s=>{const{children:o,...c}=s,u=A.useMemo(()=>c,Object.values(c));return k.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(s){const o=A.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function r7(t,e=[]){let n=[];function r(s,o){const c=A.createContext(o),u=n.length;n=[...n,o];const h=p=>{const{scope:m,children:y,...x}=p,b=m?.[t]?.[u]||c,w=A.useMemo(()=>x,Object.values(x));return k.jsx(b.Provider,{value:w,children:y})};h.displayName=s+"Provider";function f(p,m){const y=m?.[t]?.[u]||c,x=A.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[h,f]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(c){const u=c?.[t]||s;return A.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[r,i7(i,...e)]}function i7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(s)[`__scope${h}`];return{...c,...p}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var hh=globalThis?.document?A.useLayoutEffect:()=>{},a7=Pv[" useId ".trim().toString()]||(()=>{}),s7=0;function _a(t){const[e,n]=A.useState(a7());return hh(()=>{n(r=>r??String(s7++))},[t]),e?`radix-${e}`:""}var o7=Pv[" useInsertionEffect ".trim().toString()]||hh;function l7({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=c7({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:i;{const f=A.useRef(t!==void 0);A.useEffect(()=>{const p=f.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,r])}const h=A.useCallback(f=>{if(c){const p=u7(f)?f(t):f;p!==t&&o.current?.(p)}else s(f)},[c,t,s,o]);return[u,h]}function c7({defaultProp:t,onChange:e}){const[n,r]=A.useState(t),i=A.useRef(n),s=A.useRef(e);return o7(()=>{s.current=e},[e]),A.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function u7(t){return typeof t=="function"}var lo=gM();const h7=Rh(lo);function Fh(t){const e=d7(t),n=A.forwardRef((r,i)=>{const{children:s,...o}=r,c=A.Children.toArray(s),u=c.find(p7);if(u){const h=u.props.children,f=c.map(p=>p===u?A.Children.count(h)>1?A.Children.only(null):A.isValidElement(h)?h.props.children:null:p);return k.jsx(e,{...o,ref:i,children:A.isValidElement(h)?A.cloneElement(h,void 0,f):null})}return k.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function d7(t){const e=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const o=m7(i),c=g7(s,i.props);return i.type!==A.Fragment&&(c.ref=r?ws(r,o):o),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var f7=Symbol("radix.slottable");function p7(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===f7}function g7(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const u=s(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function m7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var y7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mN=y7.reduce((t,e)=>{const n=Fh(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function x7(t,e){t&&lo.flushSync(()=>t.dispatchEvent(e))}function dh(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>e.current?.(...n),[])}function b7(t,e=globalThis?.document){const n=dh(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var v7="DismissableLayer",Ab="dismissableLayer.update",w7="dismissableLayer.pointerDownOutside",S7="dismissableLayer.focusOutside",nT,yN=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xN=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:c,...u}=t,h=A.useContext(yN),[f,p]=A.useState(null),m=f?.ownerDocument??globalThis?.document,[,y]=A.useState({}),x=No(e,N=>p(N)),b=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=b.indexOf(w),S=f?b.indexOf(f):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,E=S>=_,M=k7(N=>{const $=N.target,P=[...h.branches].some(z=>z.contains($));!E||P||(i?.(N),o?.(N),N.defaultPrevented||c?.())},m),L=T7(N=>{const $=N.target;[...h.branches].some(z=>z.contains($))||(s?.(N),o?.(N),N.defaultPrevented||c?.())},m);return b7(N=>{S===h.layers.size-1&&(r?.(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},m),A.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(nT=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),rT(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=nT)}},[f,m,n,h]),A.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),rT())},[f,h]),A.useEffect(()=>{const N=()=>y({});return document.addEventListener(Ab,N),()=>document.removeEventListener(Ab,N)},[]),k.jsx(mN.div,{...u,ref:x,style:{pointerEvents:T?E?"auto":"none":void 0,...t.style},onFocusCapture:gs(t.onFocusCapture,L.onFocusCapture),onBlurCapture:gs(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:gs(t.onPointerDownCapture,M.onPointerDownCapture)})});xN.displayName=v7;var C7="DismissableLayerBranch",_7=A.forwardRef((t,e)=>{const n=A.useContext(yN),r=A.useRef(null),i=No(e,r);return A.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),k.jsx(mN.div,{...t,ref:i})});_7.displayName=C7;function k7(t,e=globalThis?.document){const n=dh(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=c=>{if(c.target&&!r.current){let u=function(){bN(w7,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function T7(t,e=globalThis?.document){const n=dh(t),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&bN(S7,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rT(){const t=new CustomEvent(Ab);document.dispatchEvent(t)}function bN(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?x7(i,s):i.dispatchEvent(s)}var E7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A7=E7.reduce((t,e)=>{const n=Fh(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),ux="focusScope.autoFocusOnMount",hx="focusScope.autoFocusOnUnmount",iT={bubbles:!1,cancelable:!0},M7="FocusScope",vN=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[c,u]=A.useState(null),h=dh(i),f=dh(s),p=A.useRef(null),m=No(e,b=>u(b)),y=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let b=function(T){if(y.paused||!c)return;const E=T.target;c.contains(E)?p.current=E:ls(p.current,{select:!0})},w=function(T){if(y.paused||!c)return;const E=T.relatedTarget;E!==null&&(c.contains(E)||ls(p.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&ls(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const S=new MutationObserver(_);return c&&S.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),S.disconnect()}}},[r,c,y.paused]),A.useEffect(()=>{if(c){sT.add(y);const b=document.activeElement;if(!c.contains(b)){const _=new CustomEvent(ux,iT);c.addEventListener(ux,h),c.dispatchEvent(_),_.defaultPrevented||(D7(B7(wN(c)),{select:!0}),document.activeElement===b&&ls(c))}return()=>{c.removeEventListener(ux,h),setTimeout(()=>{const _=new CustomEvent(hx,iT);c.addEventListener(hx,f),c.dispatchEvent(_),_.defaultPrevented||ls(b??document.body,{select:!0}),c.removeEventListener(hx,f),sT.remove(y)},0)}}},[c,h,f,y]);const x=A.useCallback(b=>{if(!n&&!r||y.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,_=document.activeElement;if(w&&_){const S=b.currentTarget,[T,E]=N7(S);T&&E?!b.shiftKey&&_===E?(b.preventDefault(),n&&ls(T,{select:!0})):b.shiftKey&&_===T&&(b.preventDefault(),n&&ls(E,{select:!0})):_===S&&b.preventDefault()}},[n,r,y.paused]);return k.jsx(A7.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});vN.displayName=M7;function D7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ls(r,{select:e}),document.activeElement!==n)return}function N7(t){const e=wN(t),n=aT(e,t),r=aT(e.reverse(),t);return[n,r]}function wN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aT(t,e){for(const n of t)if(!L7(n,{upTo:e}))return n}function L7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function O7(t){return t instanceof HTMLInputElement&&"select"in t}function ls(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&O7(t)&&e&&t.select()}}var sT=R7();function R7(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=oT(t,e),t.unshift(e)},remove(e){t=oT(t,e),t[0]?.resume()}}}function oT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function B7(t){return t.filter(e=>e.tagName!=="A")}var j7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$7=j7.reduce((t,e)=>{const n=Fh(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),z7="Portal",SN=A.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=A.useState(!1);hh(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?h7.createPortal(k.jsx($7.div,{...r,ref:e}),o):null});SN.displayName=z7;function P7(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var Fg=t=>{const{present:e,children:n}=t,r=F7(e),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=No(r.ref,I7(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};Fg.displayName="Presence";function F7(t){const[e,n]=A.useState(),r=A.useRef(null),i=A.useRef(t),s=A.useRef("none"),o=t?"mounted":"unmounted",[c,u]=P7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const h=Ef(r.current);s.current=c==="mounted"?h:"none"},[c]),hh(()=>{const h=r.current,f=i.current;if(f!==t){const m=s.current,y=Ef(h);t?u("MOUNT"):y==="none"||h?.display==="none"?u("UNMOUNT"):u(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),hh(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,p=y=>{const b=Ef(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&b&&(u("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=y=>{y.target===e&&(s.current=Ef(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:A.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Ef(t){return t?.animationName||"none"}function I7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var H7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ih=H7.reduce((t,e)=>{const n=Fh(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),dx=0;function V7(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??lT()),document.body.insertAdjacentElement("beforeend",t[1]??lT()),dx++,()=>{dx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dx--}},[])}function lT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ii=function(){return Ii=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ii.apply(this,arguments)};function CN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function q7(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var op="right-scroll-bar-position",lp="width-before-scroll-bar",U7="with-scroll-bars-hidden",W7="--removed-body-scroll-bar-size";function fx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Y7(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var G7=typeof window<"u"?A.useLayoutEffect:A.useEffect,cT=new WeakMap;function X7(t,e){var n=Y7(null,function(r){return t.forEach(function(i){return fx(i,r)})});return G7(function(){var r=cT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(c){s.has(c)||fx(c,null)}),s.forEach(function(c){i.has(c)||fx(c,o)})}cT.set(n,t)},[t]),n}function Z7(t){return t}function K7(t,e){e===void 0&&(e=Z7);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(s),o=n}var u=function(){var f=o;o=[],f.forEach(s)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(f){o.push(f),h()},filter:function(f){return o=o.filter(f),n}}}};return i}function Q7(t){t===void 0&&(t={});var e=K7(null);return e.options=Ii({async:!0,ssr:!1},t),e}var _N=function(t){var e=t.sideCar,n=CN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,Ii({},n))};_N.isSideCarExport=!0;function J7(t,e){return t.useMedium(e),_N}var kN=Q7(),px=function(){},Ig=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:px,onWheelCapture:px,onTouchMoveCapture:px}),i=r[0],s=r[1],o=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,y=t.noRelative,x=t.noIsolation,b=t.inert,w=t.allowPinchZoom,_=t.as,S=_===void 0?"div":_,T=t.gapMode,E=CN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=m,L=X7([n,e]),N=Ii(Ii({},E),i);return A.createElement(A.Fragment,null,f&&A.createElement(M,{sideCar:kN,removeScrollBar:h,shards:p,noRelative:y,noIsolation:x,inert:b,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:T}),o?A.cloneElement(A.Children.only(c),Ii(Ii({},N),{ref:L})):A.createElement(S,Ii({},N,{className:u,ref:L}),c))});Ig.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ig.classNames={fullWidth:lp,zeroRight:op};var tV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=tV();return e&&t.setAttribute("nonce",e),t}function nV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var iV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=eV())&&(nV(e,n),rV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aV=function(){var t=iV();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},TN=function(){var t=aV(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},sV={left:0,top:0,right:0,gap:0},gx=function(t){return parseInt(t||"",10)||0},oV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[gx(n),gx(r),gx(i)]},lV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sV;var e=oV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},cV=TN(),Pl="data-scroll-locked",uV=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(U7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Pl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(op,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(lp,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(op," .").concat(op,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lp," .").concat(lp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Pl,`] {
    `).concat(W7,": ").concat(c,`px;
  }
`)},uT=function(){var t=parseInt(document.body.getAttribute(Pl)||"0",10);return isFinite(t)?t:0},hV=function(){A.useEffect(function(){return document.body.setAttribute(Pl,(uT()+1).toString()),function(){var t=uT()-1;t<=0?document.body.removeAttribute(Pl):document.body.setAttribute(Pl,t.toString())}},[])},dV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;hV();var s=A.useMemo(function(){return lV(i)},[i]);return A.createElement(cV,{styles:uV(s,!e,i,n?"":"!important")})},Mb=!1;if(typeof window<"u")try{var Af=Object.defineProperty({},"passive",{get:function(){return Mb=!0,!0}});window.addEventListener("test",Af,Af),window.removeEventListener("test",Af,Af)}catch{Mb=!1}var bl=Mb?{passive:!1}:!1,fV=function(t){return t.tagName==="TEXTAREA"},EN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!fV(t)&&n[e]==="visible")},pV=function(t){return EN(t,"overflowY")},gV=function(t){return EN(t,"overflowX")},hT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=AN(t,r);if(i){var s=MN(t,r),o=s[1],c=s[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},yV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},AN=function(t,e){return t==="v"?pV(e):gV(e)},MN=function(t,e){return t==="v"?mV(e):yV(e)},xV=function(t,e){return t==="h"&&e==="rtl"?-1:1},bV=function(t,e,n,r,i){var s=xV(t,window.getComputedStyle(e).direction),o=s*r,c=n.target,u=e.contains(c),h=!1,f=o>0,p=0,m=0;do{if(!c)break;var y=MN(t,c),x=y[0],b=y[1],w=y[2],_=b-w-s*x;(x||_)&&AN(t,c)&&(p+=_,m+=x);var S=c.parentNode;c=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(f&&Math.abs(p)<1||!f&&Math.abs(m)<1)&&(h=!0),h},Mf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dT=function(t){return[t.deltaX,t.deltaY]},fT=function(t){return t&&"current"in t?t.current:t},vV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},wV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SV=0,vl=[];function CV(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(SV++)[0],s=A.useState(TN)[0],o=A.useRef(t);A.useEffect(function(){o.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=q7([t.lockRef.current],(t.shards||[]).map(fT),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=A.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var _=Mf(b),S=n.current,T="deltaX"in b?b.deltaX:S[0]-_[0],E="deltaY"in b?b.deltaY:S[1]-_[1],M,L=b.target,N=Math.abs(T)>Math.abs(E)?"h":"v";if("touches"in b&&N==="h"&&L.type==="range")return!1;var $=window.getSelection(),P=$&&$.anchorNode,z=P?P===L||P.contains(L):!1;if(z)return!1;var j=hT(N,L);if(!j)return!0;if(j?M=N:(M=N==="v"?"h":"v",j=hT(N,L)),!j)return!1;if(!r.current&&"changedTouches"in b&&(T||E)&&(r.current=M),!M)return!0;var W=r.current||M;return bV(W,w,b,W==="h"?T:E)},[]),u=A.useCallback(function(b){var w=b;if(!(!vl.length||vl[vl.length-1]!==s)){var _="deltaY"in w?dT(w):Mf(w),S=e.current.filter(function(M){return M.name===w.type&&(M.target===w.target||w.target===M.shadowParent)&&vV(M.delta,_)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var T=(o.current.shards||[]).map(fT).filter(Boolean).filter(function(M){return M.contains(w.target)}),E=T.length>0?c(w,T[0]):!o.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),h=A.useCallback(function(b,w,_,S){var T={name:b,delta:w,target:_,should:S,shadowParent:_V(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(E){return E!==T})},1)},[]),f=A.useCallback(function(b){n.current=Mf(b),r.current=void 0},[]),p=A.useCallback(function(b){h(b.type,dT(b),b.target,c(b,t.lockRef.current))},[]),m=A.useCallback(function(b){h(b.type,Mf(b),b.target,c(b,t.lockRef.current))},[]);A.useEffect(function(){return vl.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",u,bl),document.addEventListener("touchmove",u,bl),document.addEventListener("touchstart",f,bl),function(){vl=vl.filter(function(b){return b!==s}),document.removeEventListener("wheel",u,bl),document.removeEventListener("touchmove",u,bl),document.removeEventListener("touchstart",f,bl)}},[]);var y=t.removeScrollBar,x=t.inert;return A.createElement(A.Fragment,null,x?A.createElement(s,{styles:wV(i)}):null,y?A.createElement(dV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _V(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kV=J7(kN,CV);var DN=A.forwardRef(function(t,e){return A.createElement(Ig,Ii({},t,{ref:e,sideCar:kV}))});DN.classNames=Ig.classNames;var TV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wl=new WeakMap,Df=new WeakMap,Nf={},mx=0,NN=function(t){return t&&(t.host||NN(t.parentNode))},EV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=NN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},AV=function(t,e,n,r){var i=EV(e,Array.isArray(t)?t:[t]);Nf[n]||(Nf[n]=new WeakMap);var s=Nf[n],o=[],c=new Set,u=new Set(i),h=function(p){!p||c.has(p)||(c.add(p),h(p.parentNode))};i.forEach(h);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(m){if(c.has(m))f(m);else try{var y=m.getAttribute(r),x=y!==null&&y!=="false",b=(wl.get(m)||0)+1,w=(s.get(m)||0)+1;wl.set(m,b),s.set(m,w),o.push(m),b===1&&x&&Df.set(m,!0),w===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return f(e),c.clear(),mx++,function(){o.forEach(function(p){var m=wl.get(p)-1,y=s.get(p)-1;wl.set(p,m),s.set(p,y),m||(Df.has(p)||p.removeAttribute(r),Df.delete(p)),y||p.removeAttribute(n)}),mx--,mx||(wl=new WeakMap,wl=new WeakMap,Df=new WeakMap,Nf={})}},MV=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=TV(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),AV(r,i,n,"aria-hidden")):function(){return null}},Hg="Dialog",[LN]=r7(Hg),[DV,Ei]=LN(Hg),ON=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,c=A.useRef(null),u=A.useRef(null),[h,f]=l7({prop:r,defaultProp:i??!1,onChange:s,caller:Hg});return k.jsx(DV,{scope:e,triggerRef:c,contentRef:u,contentId:_a(),titleId:_a(),descriptionId:_a(),open:h,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(p=>!p),[f]),modal:o,children:n})};ON.displayName=Hg;var RN="DialogTrigger",NV=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ei(RN,n),s=No(e,i.triggerRef);return k.jsx(Ih.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":S1(i.open),...r,ref:s,onClick:gs(t.onClick,i.onOpenToggle)})});NV.displayName=RN;var v1="DialogPortal",[LV,BN]=LN(v1,{forceMount:void 0}),jN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ei(v1,e);return k.jsx(LV,{scope:e,forceMount:n,children:A.Children.map(r,o=>k.jsx(Fg,{present:n||s.open,children:k.jsx(SN,{asChild:!0,container:i,children:o})}))})};jN.displayName=v1;var Rp="DialogOverlay",$N=A.forwardRef((t,e)=>{const n=BN(Rp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ei(Rp,t.__scopeDialog);return s.modal?k.jsx(Fg,{present:r||s.open,children:k.jsx(RV,{...i,ref:e})}):null});$N.displayName=Rp;var OV=Fh("DialogOverlay.RemoveScroll"),RV=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ei(Rp,n);return k.jsx(DN,{as:OV,allowPinchZoom:!0,shards:[i.contentRef],children:k.jsx(Ih.div,{"data-state":S1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),bo="DialogContent",zN=A.forwardRef((t,e)=>{const n=BN(bo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ei(bo,t.__scopeDialog);return k.jsx(Fg,{present:r||s.open,children:s.modal?k.jsx(BV,{...i,ref:e}):k.jsx(jV,{...i,ref:e})})});zN.displayName=bo;var BV=A.forwardRef((t,e)=>{const n=Ei(bo,t.__scopeDialog),r=A.useRef(null),i=No(e,n.contentRef,r);return A.useEffect(()=>{const s=r.current;if(s)return MV(s)},[]),k.jsx(PN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gs(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:gs(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&s.preventDefault()}),onFocusOutside:gs(t.onFocusOutside,s=>s.preventDefault())})}),jV=A.forwardRef((t,e)=>{const n=Ei(bo,t.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return k.jsx(PN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),PN=A.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,c=Ei(bo,n),u=A.useRef(null),h=No(e,u);return V7(),k.jsxs(k.Fragment,{children:[k.jsx(vN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:k.jsx(xN,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":S1(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),k.jsxs(k.Fragment,{children:[k.jsx(FV,{titleId:c.titleId}),k.jsx(HV,{contentRef:u,descriptionId:c.descriptionId})]})]})}),w1="DialogTitle",$V=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ei(w1,n);return k.jsx(Ih.h2,{id:i.titleId,...r,ref:e})});$V.displayName=w1;var FN="DialogDescription",zV=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ei(FN,n);return k.jsx(Ih.p,{id:i.descriptionId,...r,ref:e})});zV.displayName=FN;var IN="DialogClose",PV=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ei(IN,n);return k.jsx(Ih.button,{type:"button",...r,ref:e,onClick:gs(t.onClick,()=>i.onOpenChange(!1))})});PV.displayName=IN;function S1(t){return t?"open":"closed"}var HN="DialogTitleWarning",[_ft,VN]=n7(HN,{contentName:bo,titleName:w1,docsSlug:"dialog"}),FV=({titleId:t})=>{const e=VN(HN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},IV="DialogDescriptionWarning",HV=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VN(IV).contentName}}.`;return A.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},VV=ON,qV=jN,UV=$N,WV=zN,YV=Symbol.for("react.lazy"),Bp=Pv[" use ".trim().toString()];function GV(t){return typeof t=="object"&&t!==null&&"then"in t}function qN(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===YV&&"_payload"in t&&GV(t._payload)}function XV(t){const e=ZV(t),n=A.forwardRef((r,i)=>{let{children:s,...o}=r;qN(s)&&typeof Bp=="function"&&(s=Bp(s._payload));const c=A.Children.toArray(s),u=c.find(QV);if(u){const h=u.props.children,f=c.map(p=>p===u?A.Children.count(h)>1?A.Children.only(null):A.isValidElement(h)?h.props.children:null:p);return k.jsx(e,{...o,ref:i,children:A.isValidElement(h)?A.cloneElement(h,void 0,f):null})}return k.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function ZV(t){const e=A.forwardRef((n,r)=>{let{children:i,...s}=n;if(qN(i)&&typeof Bp=="function"&&(i=Bp(i._payload)),A.isValidElement(i)){const o=tq(i),c=JV(s,i.props);return i.type!==A.Fragment&&(c.ref=r?ws(r,o):o),A.cloneElement(i,c)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var KV=Symbol("radix.slottable");function QV(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===KV}function JV(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...c)=>{const u=s(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function tq(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ms=eq.reduce((t,e)=>{const n=XV(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...c}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(u,{...c,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),xu='[cmdk-group=""]',yx='[cmdk-group-items=""]',nq='[cmdk-group-heading=""]',UN='[cmdk-item=""]',pT=`${UN}:not([aria-disabled="true"])`,Db="cmdk-item-select",Tl="data-value",rq=(t,e,n)=>e7(t,e,n),WN=A.createContext(void 0),Hh=()=>A.useContext(WN),YN=A.createContext(void 0),C1=()=>A.useContext(YN),GN=A.createContext(void 0),XN=A.forwardRef((t,e)=>{let n=El(()=>{var V,K;return{search:"",value:(K=(V=t.value)!=null?V:t.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=El(()=>new Set),i=El(()=>new Map),s=El(()=>new Map),o=El(()=>new Set),c=ZN(t),{label:u,children:h,value:f,onValueChange:p,filter:m,shouldFilter:y,loop:x,disablePointerSelection:b=!1,vimBindings:w=!0,..._}=t,S=_a(),T=_a(),E=_a(),M=A.useRef(null),L=pq();vo(()=>{if(f!==void 0){let V=f.trim();n.current.value=V,N.emit()}},[f]),vo(()=>{L(6,G)},[]);let N=A.useMemo(()=>({subscribe:V=>(o.current.add(V),()=>o.current.delete(V)),snapshot:()=>n.current,setState:(V,K,et)=>{var X,Q,tt,at;if(!Object.is(n.current[V],K)){if(n.current[V]=K,V==="search")W(),z(),L(1,j);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ut=document.getElementById(E);ut?ut.focus():(X=document.getElementById(S))==null||X.focus()}if(L(7,()=>{var ut;n.current.selectedItemId=(ut=B())==null?void 0:ut.id,N.emit()}),et||L(5,G),((Q=c.current)==null?void 0:Q.value)!==void 0){let ut=K??"";(at=(tt=c.current).onValueChange)==null||at.call(tt,ut);return}}N.emit()}},emit:()=>{o.current.forEach(V=>V())}}),[]),$=A.useMemo(()=>({value:(V,K,et)=>{var X;K!==((X=s.current.get(V))==null?void 0:X.value)&&(s.current.set(V,{value:K,keywords:et}),n.current.filtered.items.set(V,P(K,et)),L(2,()=>{z(),N.emit()}))},item:(V,K)=>(r.current.add(V),K&&(i.current.has(K)?i.current.get(K).add(V):i.current.set(K,new Set([V]))),L(3,()=>{W(),z(),n.current.value||j(),N.emit()}),()=>{s.current.delete(V),r.current.delete(V),n.current.filtered.items.delete(V);let et=B();L(4,()=>{W(),et?.getAttribute("id")===V&&j(),N.emit()})}),group:V=>(i.current.has(V)||i.current.set(V,new Set),()=>{s.current.delete(V),i.current.delete(V)}),filter:()=>c.current.shouldFilter,label:u||t["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:S,inputId:E,labelId:T,listInnerRef:M}),[]);function P(V,K){var et,X;let Q=(X=(et=c.current)==null?void 0:et.filter)!=null?X:rq;return V?Q(V,n.current.search,K):0}function z(){if(!n.current.search||c.current.shouldFilter===!1)return;let V=n.current.filtered.items,K=[];n.current.filtered.groups.forEach(X=>{let Q=i.current.get(X),tt=0;Q.forEach(at=>{let ut=V.get(at);tt=Math.max(ut,tt)}),K.push([X,tt])});let et=M.current;H().sort((X,Q)=>{var tt,at;let ut=X.getAttribute("id"),pt=Q.getAttribute("id");return((tt=V.get(pt))!=null?tt:0)-((at=V.get(ut))!=null?at:0)}).forEach(X=>{let Q=X.closest(yx);Q?Q.appendChild(X.parentElement===Q?X:X.closest(`${yx} > *`)):et.appendChild(X.parentElement===et?X:X.closest(`${yx} > *`))}),K.sort((X,Q)=>Q[1]-X[1]).forEach(X=>{var Q;let tt=(Q=M.current)==null?void 0:Q.querySelector(`${xu}[${Tl}="${encodeURIComponent(X[0])}"]`);tt?.parentElement.appendChild(tt)})}function j(){let V=H().find(et=>et.getAttribute("aria-disabled")!=="true"),K=V?.getAttribute(Tl);N.setState("value",K||void 0)}function W(){var V,K,et,X;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Q=0;for(let tt of r.current){let at=(K=(V=s.current.get(tt))==null?void 0:V.value)!=null?K:"",ut=(X=(et=s.current.get(tt))==null?void 0:et.keywords)!=null?X:[],pt=P(at,ut);n.current.filtered.items.set(tt,pt),pt>0&&Q++}for(let[tt,at]of i.current)for(let ut of at)if(n.current.filtered.items.get(ut)>0){n.current.filtered.groups.add(tt);break}n.current.filtered.count=Q}function G(){var V,K,et;let X=B();X&&(((V=X.parentElement)==null?void 0:V.firstChild)===X&&((et=(K=X.closest(xu))==null?void 0:K.querySelector(nq))==null||et.scrollIntoView({block:"nearest"})),X.scrollIntoView({block:"nearest"}))}function B(){var V;return(V=M.current)==null?void 0:V.querySelector(`${UN}[aria-selected="true"]`)}function H(){var V;return Array.from(((V=M.current)==null?void 0:V.querySelectorAll(pT))||[])}function R(V){let K=H()[V];K&&N.setState("value",K.getAttribute(Tl))}function I(V){var K;let et=B(),X=H(),Q=X.findIndex(at=>at===et),tt=X[Q+V];(K=c.current)!=null&&K.loop&&(tt=Q+V<0?X[X.length-1]:Q+V===X.length?X[0]:X[Q+V]),tt&&N.setState("value",tt.getAttribute(Tl))}function U(V){let K=B(),et=K?.closest(xu),X;for(;et&&!X;)et=V>0?dq(et,xu):fq(et,xu),X=et?.querySelector(pT);X?N.setState("value",X.getAttribute(Tl)):I(V)}let Z=()=>R(H().length-1),nt=V=>{V.preventDefault(),V.metaKey?Z():V.altKey?U(1):I(1)},q=V=>{V.preventDefault(),V.metaKey?R(0):V.altKey?U(-1):I(-1)};return A.createElement(Ms.div,{ref:e,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:V=>{var K;(K=_.onKeyDown)==null||K.call(_,V);let et=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||et))switch(V.key){case"n":case"j":{w&&V.ctrlKey&&nt(V);break}case"ArrowDown":{nt(V);break}case"p":case"k":{w&&V.ctrlKey&&q(V);break}case"ArrowUp":{q(V);break}case"Home":{V.preventDefault(),R(0);break}case"End":{V.preventDefault(),Z();break}case"Enter":{V.preventDefault();let X=B();if(X){let Q=new Event(Db);X.dispatchEvent(Q)}}}}},A.createElement("label",{"cmdk-label":"",htmlFor:$.inputId,id:$.labelId,style:mq},u),Vg(t,V=>A.createElement(YN.Provider,{value:N},A.createElement(WN.Provider,{value:$},V))))}),iq=A.forwardRef((t,e)=>{var n,r;let i=_a(),s=A.useRef(null),o=A.useContext(GN),c=Hh(),u=ZN(t),h=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:o?.forceMount;vo(()=>{if(!h)return c.item(i,o?.id)},[h]);let f=KN(i,s,[t.value,t.children,s],t.keywords),p=C1(),m=Ss(L=>L.value&&L.value===f.current),y=Ss(L=>h||c.filter()===!1?!0:L.search?L.filtered.items.get(i)>0:!0);A.useEffect(()=>{let L=s.current;if(!(!L||t.disabled))return L.addEventListener(Db,x),()=>L.removeEventListener(Db,x)},[y,t.onSelect,t.disabled]);function x(){var L,N;b(),(N=(L=u.current).onSelect)==null||N.call(L,f.current)}function b(){p.setState("value",f.current,!0)}if(!y)return null;let{disabled:w,value:_,onSelect:S,forceMount:T,keywords:E,...M}=t;return A.createElement(Ms.div,{ref:ws(s,e),...M,id:i,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!m,"data-disabled":!!w,"data-selected":!!m,onPointerMove:w||c.getDisablePointerSelection()?void 0:b,onClick:w?void 0:x},t.children)}),aq=A.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=_a(),c=A.useRef(null),u=A.useRef(null),h=_a(),f=Hh(),p=Ss(y=>i||f.filter()===!1?!0:y.search?y.filtered.groups.has(o):!0);vo(()=>f.group(o),[]),KN(o,c,[t.value,t.heading,u]);let m=A.useMemo(()=>({id:o,forceMount:i}),[i]);return A.createElement(Ms.div,{ref:ws(c,e),...s,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&A.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),Vg(t,y=>A.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},A.createElement(GN.Provider,{value:m},y))))}),sq=A.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=A.useRef(null),s=Ss(o=>!o.search);return!n&&!s?null:A.createElement(Ms.div,{ref:ws(i,e),...r,"cmdk-separator":"",role:"separator"})}),oq=A.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=C1(),o=Ss(h=>h.search),c=Ss(h=>h.selectedItemId),u=Hh();return A.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),A.createElement(Ms.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":c,id:u.inputId,type:"text",value:i?t.value:o,onChange:h=>{i||s.setState("search",h.target.value),n?.(h.target.value)}})}),lq=A.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=A.useRef(null),o=A.useRef(null),c=Ss(h=>h.selectedItemId),u=Hh();return A.useEffect(()=>{if(o.current&&s.current){let h=o.current,f=s.current,p,m=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let y=h.offsetHeight;f.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return m.observe(h),()=>{cancelAnimationFrame(p),m.unobserve(h)}}},[]),A.createElement(Ms.div,{ref:ws(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":r,id:u.listId},Vg(t,h=>A.createElement("div",{ref:ws(o,u.listInnerRef),"cmdk-list-sizer":""},h)))}),cq=A.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...c}=t;return A.createElement(VV,{open:n,onOpenChange:r},A.createElement(qV,{container:o},A.createElement(UV,{"cmdk-overlay":"",className:i}),A.createElement(WV,{"aria-label":t.label,"cmdk-dialog":"",className:s},A.createElement(XN,{ref:e,...c}))))}),uq=A.forwardRef((t,e)=>Ss(n=>n.filtered.count===0)?A.createElement(Ms.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),hq=A.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return A.createElement(Ms.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Vg(t,o=>A.createElement("div",{"aria-hidden":!0},o)))}),cs=Object.assign(XN,{List:lq,Item:iq,Input:oq,Group:aq,Separator:sq,Dialog:cq,Empty:uq,Loading:hq});function dq(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function fq(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function ZN(t){let e=A.useRef(t);return vo(()=>{e.current=t}),e}var vo=typeof window>"u"?A.useEffect:A.useLayoutEffect;function El(t){let e=A.useRef();return e.current===void 0&&(e.current=t()),e}function Ss(t){let e=C1(),n=()=>t(e.snapshot());return A.useSyncExternalStore(e.subscribe,n,n)}function KN(t,e,n,r=[]){let i=A.useRef(),s=Hh();return vo(()=>{var o;let c=(()=>{var h;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(h=f.current.textContent)==null?void 0:h.trim():i.current}})(),u=r.map(h=>h.trim());s.value(t,c,u),(o=e.current)==null||o.setAttribute(Tl,c),i.current=c}),i}var pq=()=>{let[t,e]=A.useState(),n=El(()=>new Map);return vo(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function gq(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Vg({asChild:t,children:e},n){return t&&A.isValidElement(e)?A.cloneElement(gq(e),{ref:e.ref},n(e.props.children)):n(e)}var mq={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const F={bg:{primary:"#0A0A0B",surface:"#141416",surfaceHover:"#1C1C1F",surfaceActive:"#222226",border:"#2A2A2E",borderLight:"#35353A"},text:{primary:"#EDEDEF",secondary:"#8B8B8E",muted:"#5A5A5D"},squads:{builders:{main:"#3B82F6",light:"#60A5FA",bg:"rgba(59,130,246,0.1)",glow:"rgba(59,130,246,0.3)"},thinkers:{main:"#A855F7",light:"#C084FC",bg:"rgba(168,85,247,0.1)",glow:"rgba(168,85,247,0.3)"},guardians:{main:"#EF4444",light:"#F87171",bg:"rgba(239,68,68,0.1)",glow:"rgba(239,68,68,0.3)"},creators:{main:"#10B981",light:"#34D399",bg:"rgba(16,185,129,0.1)",glow:"rgba(16,185,129,0.3)"}},status:{idle:"#6B7280",working:"#10B981",blocked:"#EAB308",error:"#EF4444",complete:"#10B981",paused:"#F59E0B"},accent:"#3B82F6"},QN={builders:{label:"Builders",icon:"",agents:["dev","devops","data-engineer","architect"]},thinkers:{label:"Thinkers",icon:"",agents:["analyst","pm","po"]},guardians:{label:"Guardians",icon:"",agents:["qa","sm","aios-master"]},creators:{label:"Creators",icon:"",agents:["ux-design-expert","squad-creator"]}},Tr=[{id:"dev",name:"Developer",shortName:"DEV",icon:"",squad:"builders",role:"Fullstack development"},{id:"devops",name:"DevOps",shortName:"OPS",icon:"",squad:"builders",role:"Infrastructure & CI/CD"},{id:"data-engineer",name:"Data Engineer",shortName:"DAT",icon:"",squad:"builders",role:"Data pipelines & storage"},{id:"architect",name:"Architect",shortName:"ARC",icon:"",squad:"builders",role:"System design & architecture"},{id:"analyst",name:"Analyst",shortName:"ANL",icon:"",squad:"thinkers",role:"Research & analysis"},{id:"pm",name:"Product Manager",shortName:"PM",icon:"",squad:"thinkers",role:"Product definition & PRD"},{id:"po",name:"Product Owner",shortName:"PO",icon:"",squad:"thinkers",role:"Validation & acceptance"},{id:"qa",name:"QA Engineer",shortName:"QA",icon:"",squad:"guardians",role:"Testing & quality"},{id:"sm",name:"Scrum Master",shortName:"SM",icon:"",squad:"guardians",role:"Sprint management"},{id:"aios-master",name:"AIOS Master",shortName:"AIO",icon:"",squad:"guardians",role:"System orchestration"},{id:"ux-design-expert",name:"UX Designer",shortName:"UX",icon:"",squad:"creators",role:"User experience & design"},{id:"squad-creator",name:"Squad Creator",shortName:"SQD",icon:"",squad:"creators",role:"Team formation & squads"}];function Vh(t){return Tr.find(e=>e.id===t)}function Ui(t){return F.squads[t]}function yq(){const{commandPaletteOpen:t,closeCommandPalette:e,setView:n,selectAgent:r,openChat:i}=Ci(),{agents:s}=Er(),[o,c]=A.useState(""),u=A.useRef(null);A.useEffect(()=>{t&&(c(""),setTimeout(()=>u.current?.focus(),50))},[t]);const h=f=>{f(),e()};return k.jsx(Aa,{children:t&&k.jsxs(k.Fragment,{children:[k.jsx(ze.div,{className:"fixed inset-0 z-50",style:{backgroundColor:"rgba(0,0,0,0.6)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),k.jsx(ze.div,{className:"fixed top-[20%] left-1/2 z-50 w-full max-w-lg -translate-x-1/2",initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.15},children:k.jsxs(cs,{className:"rounded-xl border overflow-hidden shadow-2xl",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},loop:!0,children:[k.jsx(cs.Input,{ref:u,value:o,onValueChange:c,placeholder:"Search agents, views, actions...",className:"w-full border-b px-4 py-3 text-sm outline-none",style:{backgroundColor:"transparent",borderColor:F.bg.border,color:F.text.primary},onKeyDown:f=>{f.key==="Escape"&&e()}}),k.jsxs(cs.List,{className:"max-h-72 overflow-y-auto p-2",style:{color:F.text.primary},children:[k.jsx(cs.Empty,{className:"py-6 text-center text-sm",style:{color:F.text.secondary},children:"No results found."}),k.jsxs(cs.Group,{heading:"Views",className:"mb-2",children:[k.jsx(Bi,{label:" Cockpit",shortcut:"1",onSelect:()=>h(()=>n("cockpit"))}),k.jsx(Bi,{label:" Pipeline",shortcut:"2",onSelect:()=>h(()=>n("pipeline"))}),k.jsx(Bi,{label:" Gantt Timeline",shortcut:"3",onSelect:()=>h(()=>n("gantt"))}),k.jsx(Bi,{label:" Emergence Map",shortcut:"4",onSelect:()=>h(()=>n("emergence"))}),k.jsx(Bi,{label:" Strategy Canvas",shortcut:"5",onSelect:()=>h(()=>n("strategy"))}),k.jsx(Bi,{label:" Terminal",shortcut:"6",onSelect:()=>h(()=>n("terminal"))})]}),k.jsx(cs.Group,{heading:"Agents",className:"mb-2",children:Tr.map(f=>{const p=s[f.id];return k.jsx(Bi,{label:`${f.icon} ${f.name}`,hint:p?.status||"idle",onSelect:()=>h(()=>r(f.id))},f.id)})}),k.jsxs(cs.Group,{heading:"Actions",className:"mb-2",children:[k.jsx(Bi,{label:" Open Chat",shortcut:"J",onSelect:()=>h(()=>i())}),k.jsx(Bi,{label:" Pause All Agents",onSelect:()=>h(()=>fetch("/api/agents/pause-all",{method:"POST"}))}),k.jsx(Bi,{label:" Resume All Agents",onSelect:()=>h(()=>fetch("/api/agents/resume-all",{method:"POST"}))})]})]})]})})]})})}function Bi({label:t,hint:e,shortcut:n,onSelect:r}){return k.jsxs(cs.Item,{onSelect:r,className:"flex items-center justify-between px-3 py-2 rounded-md text-sm cursor-pointer transition-colors",style:{color:F.text.primary},children:[k.jsx("span",{children:t}),k.jsxs("span",{className:"flex items-center gap-2",children:[e&&k.jsx("span",{className:"text-xs",style:{color:F.text.muted},children:e}),n&&k.jsx("kbd",{className:"text-[10px] px-1.5 py-0.5 rounded border",style:{backgroundColor:F.bg.surfaceHover,borderColor:F.bg.border,color:F.text.secondary},children:n})]})]})}const xq=zg(t=>({messages:[],isLoading:!1,addMessage:e=>t(n=>({messages:[...n.messages,{...e,id:`msg-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,timestamp:Date.now()}]})),setLoading:e=>t({isLoading:e}),clearMessages:()=>t({messages:[]})}));function bq(){const{chatOpen:t,closeChat:e,chatAgentId:n,setChatAgent:r}=Ci(),{messages:i,addMessage:s,isLoading:o,setLoading:c}=xq(),[u,h]=A.useState(""),[f,p]=A.useState(!1),m=A.useRef(null),y=A.useRef(null);A.useEffect(()=>{t&&setTimeout(()=>y.current?.focus(),100)},[t]),A.useEffect(()=>{m.current?.scrollTo({top:m.current.scrollHeight,behavior:"smooth"})},[i]);const x=async()=>{if(!u.trim())return;const w=u.trim();h(""),s({from:"human",text:w}),c(!0);try{const S=await(await fetch("/api/bridge/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:w,agentId:n||void 0})})).json();S.reply?s({from:"agent",agentId:n||void 0,text:S.reply}):S.queued}catch{s({from:"system",text:" Failed to send message"})}finally{c(!1)}},b=Tr.find(w=>w.id===n);return k.jsx(Aa,{children:t&&k.jsxs(ze.div,{className:"fixed bottom-4 right-4 z-40 flex flex-col rounded-xl border shadow-2xl overflow-hidden",style:{width:380,height:480,backgroundColor:F.bg.surface,borderColor:F.bg.border},initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},children:[k.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("button",{onClick:()=>p(!f),className:"flex items-center gap-2 text-sm font-medium hover:opacity-80 transition-opacity",style:{color:F.text.primary},children:[k.jsx("span",{children:b?.icon||""}),k.jsx("span",{children:b?.name||"Main Chat"}),k.jsx(jg,{size:14,style:{color:F.text.secondary}})]}),k.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-white/5 transition-colors",children:k.jsx($g,{size:16,style:{color:F.text.secondary}})})]}),k.jsx(Aa,{children:f&&k.jsxs(ze.div,{className:"absolute top-12 left-2 right-2 z-50 rounded-lg border overflow-hidden shadow-xl",style:{backgroundColor:F.bg.surfaceHover,borderColor:F.bg.border},initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},children:[k.jsx("button",{onClick:()=>{r(""),p(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors",style:{color:F.text.primary},children:" Main Chat"}),Tr.map(w=>k.jsxs("button",{onClick:()=>{r(w.id),p(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-white/5 transition-colors",style:{color:F.text.primary},children:[w.icon," ",w.name]},w.id))]})}),k.jsxs("div",{ref:m,className:"flex-1 overflow-y-auto p-4 space-y-3",children:[i.length===0&&k.jsx("p",{className:"text-xs text-center py-8",style:{color:F.text.muted},children:b?`Chat with ${b.name}. Ask questions or give commands.`:"Send a message to the command center."}),i.map(w=>k.jsx("div",{className:`flex ${w.from==="human"?"justify-end":"justify-start"}`,children:k.jsx("div",{className:"max-w-[80%] rounded-lg px-3 py-2 text-sm",style:{backgroundColor:w.from==="human"?F.accent+"20":w.from==="system"?F.status.error+"15":F.bg.surfaceHover,color:F.text.primary},children:w.text})},w.id)),o&&k.jsx("div",{className:"flex justify-start",children:k.jsx("div",{className:"rounded-lg px-3 py-2 text-sm",style:{backgroundColor:F.bg.surfaceHover},children:k.jsx(ze.span,{className:"inline-block",style:{color:F.text.secondary},animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0},children:"thinking..."})})})]}),k.jsx("div",{className:"border-t p-3",style:{borderColor:F.bg.border},children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("input",{ref:y,value:u,onChange:w=>h(w.target.value),onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),x())},placeholder:"Type a message...",className:"flex-1 rounded-lg px-3 py-2 text-sm outline-none border",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary}}),k.jsx("button",{onClick:x,disabled:!u.trim(),className:"rounded-lg p-2 transition-colors disabled:opacity-30",style:{backgroundColor:F.accent,color:"#fff"},children:k.jsx(dN,{size:16})})]})})]})})}const vq=A.memo(function(){const{pendingActions:e,pendingActionDetails:n,clearPendingActions:r}=Er(),{addToast:i}=Pg(),[s,o]=A.useState(!1);if(e<=0)return null;const c=async()=>{try{(await fetch("/api/agents/approve-all",{method:"POST"})).ok?(r(),i("success","All pending actions approved")):i("error","Failed to approve actions")}catch{i("error","Failed to approve actions")}},u=async()=>{try{(await fetch("/api/agents/dismiss-all",{method:"POST"})).ok?(r(),i("info","All pending actions dismissed")):i("error","Failed to dismiss actions")}catch{i("error","Failed to dismiss actions")}};return k.jsxs(ze.div,{className:"border-b",style:{backgroundColor:F.status.blocked+"10",borderColor:F.status.blocked+"30"},initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:[k.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[k.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[k.jsx(b1,{size:14,style:{color:F.status.blocked}}),k.jsxs("span",{style:{color:F.status.blocked},children:[e," pending action",e>1?"s":""," need approval"]}),n.length>0&&k.jsx("button",{onClick:()=>o(!s),className:"p-0.5 rounded hover:bg-white/5 transition-colors",style:{color:F.text.secondary},children:s?k.jsx(M9,{size:14}):k.jsx(jg,{size:14})})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsxs("button",{onClick:c,className:"flex items-center gap-1 rounded px-2 py-1 text-xs transition-colors hover:bg-white/5",style:{color:F.status.complete},children:[k.jsx(tN,{size:12})," Approve all"]}),k.jsxs("button",{onClick:u,className:"flex items-center gap-1 rounded px-2 py-1 text-xs transition-colors hover:bg-white/5",style:{color:F.status.error},children:[k.jsx($g,{size:12})," Dismiss"]})]})]}),k.jsx(Aa,{children:s&&n.length>0&&k.jsx(ze.div,{className:"px-4 pb-2 space-y-1",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:n.map(h=>k.jsxs("div",{className:"flex items-center gap-2 text-[11px] py-1 px-2 rounded",style:{backgroundColor:F.bg.surfaceHover,color:F.text.secondary},children:[k.jsx("span",{style:{color:F.status.blocked},children:""}),k.jsx("span",{className:"font-medium",style:{color:F.text.primary},children:h.agentId}),k.jsx("span",{children:""}),k.jsx("span",{children:h.type}),k.jsx("span",{style:{color:F.text.muted},children:""}),k.jsx("span",{className:"truncate flex-1",children:h.description})]},h.id))})})]})}),wq={cockpit:" Cockpit",agent:" Agent Focus",pipeline:" Pipeline",emergence:" Emergence",terminal:" Terminal",gantt:" Gantt",strategy:" Strategy",docs:" Docs",diagrams:" Diagrams",logs:" Logs"},Sq=A.memo(function(){const{agents:e,totalTasks:n,completedTasks:r,projectName:i,bridge:s}=Er(),{currentView:o}=Ci(),c=Object.values(e),u=c.filter(y=>y.status==="working").length,h=c.filter(y=>y.status==="done").length,f=c.filter(y=>y.status==="error").length,p=c.reduce((y,x)=>(x.tokens&&(y.input+=x.tokens.input,y.output+=x.tokens.output,y.cost+=x.tokens.cost),y),{input:0,output:0,cost:0}),m=p.input>0||p.output>0;return k.jsxs("div",{className:"flex items-center justify-between px-4 py-1.5 text-[11px] border-t",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.secondary},children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("span",{style:{color:F.text.muted},children:wq[o]}),k.jsx("span",{children:i}),k.jsxs("span",{className:"flex items-center gap-1",title:s.connected?`Connected to ${s.gatewayUrl} (${s.latency}ms)`:"Disconnected from Clawdbot",children:[k.jsx("span",{children:s.connected?"":""}),k.jsx("span",{style:{color:s.connected?F.status.working:F.status.error},children:s.connected?"Bridge":"Offline"}),s.connected&&s.latency>0&&k.jsxs("span",{style:{color:F.text.muted},children:[s.latency,"ms"]})]})]}),k.jsxs("div",{className:"flex items-center gap-4",children:[u>0&&k.jsxs("span",{children:[k.jsx("span",{style:{color:F.status.working},children:""})," ",u," active"]}),f>0&&k.jsxs("span",{children:[k.jsx("span",{style:{color:F.status.error},children:""})," ",f," error"]}),k.jsxs("span",{children:["Tasks: ",r,"/",n]}),k.jsxs("span",{children:["Agents: ",h," ",u," ",c.length>0?c.length-h-u:0,""]}),m&&k.jsxs("span",{title:`In: ${p.input.toLocaleString()} | Out: ${p.output.toLocaleString()} | $${p.cost.toFixed(4)}`,children:[" ",((p.input+p.output)/1e3).toFixed(1),"k tokens"]}),k.jsxs("span",{className:"flex items-center gap-1",children:[k.jsx("kbd",{className:"px-1 rounded border text-[9px]",style:{borderColor:F.bg.borderLight,color:F.text.muted},children:"K"}),k.jsx("span",{style:{color:F.text.muted},children:"search"})]})]})]})}),Cq={success:{icon:k.jsx(O9,{size:16}),color:F.status.complete,bg:F.status.complete+"15"},error:{icon:k.jsx(N9,{size:16}),color:F.status.error,bg:F.status.error+"15"},warning:{icon:k.jsx(b1,{size:16}),color:F.status.blocked,bg:F.status.blocked+"15"},info:{icon:k.jsx(tH,{size:16}),color:F.accent,bg:F.accent+"15"}},_q=A.memo(function(){const{toasts:e,removeToast:n}=Pg();return k.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:k.jsx(Aa,{children:e.map(r=>{const i=Cq[r.type];return k.jsxs(ze.div,{className:"flex items-center gap-2 px-4 py-3 rounded-lg border shadow-lg pointer-events-auto",style:{backgroundColor:F.bg.surface,borderColor:i.color+"40"},initial:{opacity:0,x:50,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.95},transition:{duration:.2},children:[k.jsx("span",{style:{color:i.color},children:i.icon}),k.jsx("span",{className:"text-sm flex-1",style:{color:F.text.primary},children:r.message}),k.jsx("button",{onClick:()=>n(r.id),className:"p-0.5 rounded hover:bg-white/10 transition-colors",style:{color:F.text.muted},children:k.jsx($g,{size:14})})]},r.id)})})})}),gT=["Project","Template","Agents","Confirm"];function kq({onComplete:t}){const[e,n]=A.useState(0),[r,i]=A.useState([]),[s,o]=A.useState(!1),[c,u]=A.useState(""),[h,f]=A.useState(""),[p,m]=A.useState(""),[y,x]=A.useState(null),[b,w]=A.useState([]),[_,S]=A.useState({}),[T,E]=A.useState([]);A.useEffect(()=>{fetch("/api/templates").then(P=>P.json()).then(P=>i(P.templates||[])).catch(()=>{}),fetch("/api/agents/meta").then(P=>P.json()).then(P=>{E(P.agents||[]),w((P.agents||[]).map(j=>j.id));const z={};(P.squads||[]).forEach(j=>{z[j.id]=j.agents}),S(z)}).catch(()=>{})},[]),A.useEffect(()=>{if(y){const P=r.find(z=>z.id===y);P&&(w(P.agents),S(P.squads))}},[y,r]);const M=()=>e===0?h.trim().length>0&&p.trim().length>0:e===1?!0:e===2?b.length>0:!0,L=async()=>{o(!0),u("");try{const z=await(await fetch("/api/project/init",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h,projectRoot:p,templateId:y,agents:b,squads:_})})).json();z.ok?t():u(z.error||"Failed to initialize project")}catch(P){u(P.message||"Network error")}finally{o(!1)}},N=P=>{w(z=>z.includes(P)?z.filter(j=>j!==P):[...z,P])},$=r.find(P=>P.id===y);return k.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0,0,0,0.85)"},children:k.jsxs(ze.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl rounded-2xl border overflow-hidden",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},children:[k.jsxs("div",{className:"px-6 pt-6 pb-4 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[k.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:F.squads.builders.bg},children:k.jsx(uh,{size:20,style:{color:F.squads.builders.main}})}),k.jsxs("div",{children:[k.jsx("h2",{className:"text-lg font-bold",style:{color:F.text.primary},children:"Initialize AG Dev"}),k.jsx("p",{className:"text-xs",style:{color:F.text.secondary},children:"Set up your multi-agent command center"})]})]}),k.jsx("div",{className:"flex gap-2",children:gT.map((P,z)=>k.jsxs("button",{onClick:()=>z<=e&&n(z),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all",style:{backgroundColor:z===e?F.squads.builders.bg:z<e?F.status.complete+"15":"transparent",color:z===e?F.squads.builders.main:z<e?F.status.complete:F.text.muted,cursor:z<=e?"pointer":"default"},children:[z<e?k.jsx(tN,{size:12}):k.jsx("span",{className:"w-3 text-center",children:z+1}),P]},P))})]}),k.jsx("div",{className:"px-6 py-5 min-h-[320px]",children:k.jsx(Aa,{mode:"wait",children:k.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15},children:[e===0&&k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsxs("label",{className:"block text-xs font-medium mb-1.5",style:{color:F.text.secondary},children:[k.jsx(uH,{size:12,className:"inline mr-1"})," Project Name"]}),k.jsx("input",{type:"text",value:h,onChange:P=>f(P.target.value),placeholder:"My Awesome Project",className:"w-full px-3 py-2 rounded-lg border text-sm outline-none transition-colors focus:border-blue-500",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},autoFocus:!0})]}),k.jsxs("div",{children:[k.jsxs("label",{className:"block text-xs font-medium mb-1.5",style:{color:F.text.secondary},children:[k.jsx(U9,{size:12,className:"inline mr-1"})," Project Root Path"]}),k.jsx("input",{type:"text",value:p,onChange:P=>m(P.target.value),placeholder:"/home/user/my-project",className:"w-full px-3 py-2 rounded-lg border text-sm outline-none transition-colors focus:border-blue-500",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary}}),k.jsx("p",{className:"text-[10px] mt-1",style:{color:F.text.muted},children:"Absolute path to your project directory. Must already exist."})]})]}),e===1&&k.jsxs("div",{className:"space-y-3",children:[k.jsx("p",{className:"text-xs mb-3",style:{color:F.text.secondary},children:"Choose a template to pre-configure agents for your project type, or skip for a custom setup."}),k.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[k.jsxs("button",{onClick:()=>x(null),className:"flex items-center gap-3 p-3 rounded-lg border text-left transition-all hover:border-white/20",style:{backgroundColor:y?F.bg.primary:F.squads.builders.bg,borderColor:y?F.bg.border:F.squads.builders.main},children:[k.jsx("span",{className:"text-xl",children:""}),k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-medium",style:{color:F.text.primary},children:"Custom"}),k.jsx("div",{className:"text-[11px]",style:{color:F.text.secondary},children:"Pick your own agents  full control"})]})]}),r.map(P=>k.jsxs("button",{onClick:()=>x(P.id),className:"flex items-center gap-3 p-3 rounded-lg border text-left transition-all hover:border-white/20",style:{backgroundColor:y===P.id?F.squads.builders.bg:F.bg.primary,borderColor:y===P.id?F.squads.builders.main:F.bg.border},children:[k.jsx("span",{className:"text-xl",children:P.icon}),k.jsxs("div",{className:"flex-1",children:[k.jsx("div",{className:"text-sm font-medium",style:{color:F.text.primary},children:P.name}),k.jsx("div",{className:"text-[11px]",style:{color:F.text.secondary},children:P.description}),k.jsxs("div",{className:"text-[10px] mt-1",style:{color:F.text.muted},children:[P.agents.length," agents  ",Object.keys(P.squads).length," squads"]})]})]},P.id))]})]}),e===2&&k.jsxs("div",{className:"space-y-3",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("p",{className:"text-xs",style:{color:F.text.secondary},children:[k.jsx(RH,{size:12,className:"inline mr-1"}),"Select which agents to activate (",b.length," selected)"]}),k.jsxs("div",{className:"flex gap-1",children:[k.jsx("button",{onClick:()=>w(T.map(P=>P.id)),className:"text-[10px] px-2 py-0.5 rounded",style:{color:F.squads.builders.main,backgroundColor:F.squads.builders.bg},children:"All"}),k.jsx("button",{onClick:()=>w([]),className:"text-[10px] px-2 py-0.5 rounded",style:{color:F.text.muted,backgroundColor:F.bg.primary},children:"None"})]})]}),k.jsx("div",{className:"grid grid-cols-2 gap-1.5 max-h-[250px] overflow-y-auto pr-1",children:T.map(P=>{const z=b.includes(P.id),j=P.squad==="builders"?F.squads.builders:P.squad==="thinkers"?F.squads.thinkers:P.squad==="guardians"?F.squads.guardians:F.squads.creators;return k.jsxs("button",{onClick:()=>N(P.id),className:"flex items-center gap-2 p-2 rounded-lg border text-left transition-all",style:{backgroundColor:z?j.bg:F.bg.primary,borderColor:z?j.main+"50":F.bg.border,opacity:z?1:.5},children:[k.jsx("div",{className:"w-5 h-5 rounded flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:z?j.main:F.bg.surfaceHover,color:z?"#fff":F.text.muted},children:z?"":""}),k.jsxs("div",{children:[k.jsx("div",{className:"text-xs font-medium",style:{color:F.text.primary},children:P.name}),k.jsx("div",{className:"text-[10px]",style:{color:F.text.muted},children:P.squad})]})]},P.id)})}),Object.keys(_).length>0&&k.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:Object.entries(_).map(([P,z])=>{const j=P==="builders"?F.squads.builders:P==="thinkers"?F.squads.thinkers:P==="guardians"?F.squads.guardians:F.squads.creators,W=z.filter(G=>b.includes(G)).length;return k.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full",style:{backgroundColor:j.bg,color:j.main},children:[P,": ",W,"/",z.length]},P)})})]}),e===3&&k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"rounded-lg border p-4",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border},children:[k.jsx("h3",{className:"text-sm font-bold mb-3",style:{color:F.text.primary},children:"Configuration Summary"}),k.jsxs("div",{className:"space-y-2 text-xs",children:[k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{style:{color:F.text.secondary},children:"Project"}),k.jsx("span",{style:{color:F.text.primary},children:h})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{style:{color:F.text.secondary},children:"Path"}),k.jsx("span",{className:"text-right max-w-[300px] truncate",style:{color:F.text.primary},children:p})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{style:{color:F.text.secondary},children:"Template"}),k.jsx("span",{style:{color:F.text.primary},children:$?.name||"Custom"})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsx("span",{style:{color:F.text.secondary},children:"Agents"}),k.jsxs("span",{style:{color:F.text.primary},children:[b.length," active"]})]}),k.jsxs("div",{className:"border-t pt-2 mt-2",style:{borderColor:F.bg.border},children:[k.jsx("span",{style:{color:F.text.muted},children:"Active agents:"}),k.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:b.map(P=>{const z=T.find(j=>j.id===P);return k.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded",style:{backgroundColor:F.bg.surfaceHover,color:F.text.primary},children:z?.name||P},P)})})]}),$&&Object.keys($.defaultDirectives||{}).length>0&&k.jsx("div",{className:"border-t pt-2 mt-2",style:{borderColor:F.bg.border},children:k.jsxs("span",{style:{color:F.text.muted},children:["Strategy directives will be set for ",Object.keys($.defaultDirectives).length," agents"]})})]})]}),c&&k.jsxs("div",{className:"text-xs px-3 py-2 rounded-lg",style:{backgroundColor:F.status.error+"15",color:F.status.error},children:[" ",c]})]})]},e)})}),k.jsxs("div",{className:"px-6 py-4 border-t flex items-center justify-between",style:{borderColor:F.bg.border},children:[k.jsxs("button",{onClick:()=>e>0&&n(e-1),className:"flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors",style:{color:e>0?F.text.secondary:F.text.muted,backgroundColor:e>0?F.bg.surfaceHover:"transparent",cursor:e>0?"pointer":"default",opacity:e>0?1:.3},disabled:e===0,children:[k.jsx(T9,{size:14})," Back"]}),e<gT.length-1?k.jsxs("button",{onClick:()=>M()&&n(e+1),className:"flex items-center gap-1 px-4 py-1.5 rounded-lg text-xs font-bold transition-all",style:{backgroundColor:M()?F.squads.builders.main:F.bg.surfaceHover,color:M()?"#fff":F.text.muted,cursor:M()?"pointer":"not-allowed"},disabled:!M(),children:["Next ",k.jsx(x1,{size:14})]}):k.jsx("button",{onClick:L,disabled:s,className:"flex items-center gap-1.5 px-5 py-2 rounded-lg text-xs font-bold transition-all",style:{backgroundColor:s?F.bg.surfaceHover:F.status.complete,color:"#fff",cursor:s?"wait":"pointer"},children:s?k.jsxs(k.Fragment,{children:[k.jsx(iH,{size:14,className:"animate-spin"})," Initializing..."]}):k.jsxs(k.Fragment,{children:[k.jsx(uh,{size:14})," Initialize Project"]})})]})]})})}const JN=A.memo(function({data:e,width:n=80,height:r=24,color:i="#3B82F6",filled:s=!0}){if(!e||e.length<2)return null;const o=Math.max(...e,1),c=Math.min(...e,0),u=o-c||1,h=e.map((p,m)=>{const y=m/(e.length-1)*n,x=r-(p-c)/u*r;return`${y},${x}`}).join(" "),f=`0,${r} ${h} ${n},${r}`;return k.jsxs("svg",{width:n,height:r,viewBox:`0 0 ${n} ${r}`,className:"block",children:[s&&k.jsx("polygon",{points:f,fill:i,opacity:.15}),k.jsx("polyline",{points:h,fill:"none",stroke:i,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]})});function Tq({status:t,color:e}){if(t==="working")return k.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[k.jsx(ze.span,{className:"absolute inline-flex h-full w-full rounded-full opacity-60",style:{backgroundColor:e},animate:{scale:[1,1.8,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),k.jsx("span",{className:"relative inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:e}})]});const n=t==="idle"?F.status.idle:t==="done"?F.status.complete:t==="error"?F.status.error:t==="paused"?F.status.paused:F.status.idle;return k.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:n,opacity:t==="idle"?.4:1}})}const Eq=A.memo(function({meta:e,state:n,onClick:r}){const i=Ui(e.squad),s=n.status==="working",o=n.status==="done",c=n.activityHistory?.length?n.activityHistory:Array(20).fill(0).map(()=>s?Math.random()*80+20:o?Math.random()*10:0);return k.jsxs(ze.button,{onClick:r,className:"relative flex flex-col gap-2 rounded-lg border p-3 text-left transition-colors cursor-pointer w-full",style:{backgroundColor:F.bg.surface,borderColor:s?i.main+"40":F.bg.border},whileHover:{backgroundColor:F.bg.surfaceHover,borderColor:i.main+"60",transition:{duration:.15}},whileTap:{scale:.98},children:[k.jsxs("div",{className:"flex items-center justify-between w-full",children:[k.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[k.jsx("span",{className:"text-sm flex-shrink-0",children:e.icon}),k.jsx("span",{className:"text-xs font-semibold truncate",style:{color:F.text.primary},children:e.shortName})]}),k.jsx(Tq,{status:n.status,color:i.main})]}),(s||o)&&k.jsx("div",{className:"w-full h-1 rounded-full overflow-hidden",style:{backgroundColor:F.bg.border},children:k.jsx(ze.div,{className:"h-full rounded-full",style:{backgroundColor:i.main},initial:{width:0},animate:{width:`${n.progress||0}%`},transition:{duration:.5,ease:"easeOut"}})}),k.jsx("p",{className:"text-[10px] leading-tight truncate w-full",style:{color:F.text.secondary},children:n.currentTask||(o?" done":n.status==="idle"?"idle":n.status)}),k.jsx(JN,{data:c,width:120,height:20,color:i.main})]})}),Aq=[{id:"",label:"Default (server decides)"},{id:"anthropic/claude-sonnet-4-20250514",label:"Claude Sonnet 4"},{id:"anthropic/claude-opus-4-5",label:"Claude Opus 4.5"},{id:"openai/gpt-4o",label:"GPT-4o"}];function Mq({open:t,onClose:e,preselectedAgentId:n}){const{addToast:r}=Pg(),[i,s]=A.useState(n||""),[o,c]=A.useState(""),[u,h]=A.useState(""),[f,p]=A.useState(!1),m=async()=>{if(!(!i||!o.trim())){p(!0);try{const y=await fetch(`/api/agents/${i}/spawn`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:o.trim(),model:u||void 0})});if(y.ok)r("success",`Agent ${i} spawned successfully`),c(""),h(""),e();else{const x=await y.json().catch(()=>({}));r("error",x.error||`Failed to spawn agent ${i}`)}}catch{r("error","Network error spawning agent")}finally{p(!1)}}};return k.jsx(Aa,{children:t&&k.jsxs(k.Fragment,{children:[k.jsx(ze.div,{className:"fixed inset-0 z-50 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),k.jsx(ze.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},children:k.jsxs("div",{className:"w-full max-w-md rounded-xl border shadow-2xl overflow-hidden",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},onClick:y=>y.stopPropagation(),children:[k.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(uh,{size:18,style:{color:F.accent}}),k.jsx("h2",{className:"text-sm font-semibold",style:{color:F.text.primary},children:"Spawn Agent"})]}),k.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-white/5 transition-colors",children:k.jsx($g,{size:16,style:{color:F.text.secondary}})})]}),k.jsxs("div",{className:"p-5 space-y-4",children:[k.jsxs("div",{className:"space-y-1.5",children:[k.jsx("label",{className:"text-xs font-medium",style:{color:F.text.secondary},children:"Agent"}),k.jsxs("select",{value:i,onChange:y=>s(y.target.value),className:"w-full rounded-lg px-3 py-2 text-sm outline-none border",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},children:[k.jsx("option",{value:"",children:"Select an agent..."}),Tr.map(y=>k.jsxs("option",{value:y.id,children:[y.icon," ",y.name,"  ",y.role]},y.id))]})]}),k.jsxs("div",{className:"space-y-1.5",children:[k.jsx("label",{className:"text-xs font-medium",style:{color:F.text.secondary},children:"Task Description"}),k.jsx("textarea",{value:o,onChange:y=>c(y.target.value),placeholder:"Describe the task for this agent...",rows:4,className:"w-full rounded-lg px-3 py-2 text-sm outline-none border resize-none",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary}})]}),k.jsxs("div",{className:"space-y-1.5",children:[k.jsxs("label",{className:"text-xs font-medium",style:{color:F.text.secondary},children:["Model ",k.jsx("span",{style:{color:F.text.muted},children:"(optional)"})]}),k.jsx("select",{value:u,onChange:y=>h(y.target.value),className:"w-full rounded-lg px-3 py-2 text-sm outline-none border",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},children:Aq.map(y=>k.jsx("option",{value:y.id,children:y.label},y.id))})]})]}),k.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-4 border-t",style:{borderColor:F.bg.border},children:[k.jsx("button",{onClick:e,className:"px-3 py-1.5 rounded-lg text-sm transition-colors hover:bg-white/5",style:{color:F.text.secondary},children:"Cancel"}),k.jsxs("button",{onClick:m,disabled:!i||!o.trim()||f,className:"flex items-center gap-1.5 px-4 py-1.5 rounded-lg text-sm font-medium transition-colors disabled:opacity-40",style:{backgroundColor:F.accent,color:"#fff"},children:[k.jsx(uh,{size:14}),f?"Spawning...":"Spawn"]})]})]})})]})})}const mT={status:"idle",currentTask:null,checklist:[],progress:0,activityHistory:Array(20).fill(0),sessionKey:null,model:null,tokens:null},Dq=["builders","thinkers","guardians","creators"],Nq=A.memo(function(){const{agents:e}=Er(),{selectAgent:n}=Ci(),[r,i]=A.useState(!1);return k.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[k.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("div",{}),k.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors hover:opacity-90",style:{backgroundColor:F.accent,color:"#fff"},children:[k.jsx(uh,{size:14}),"Spawn Agent"]})]}),Dq.map(s=>{const o=QN[s],c=Ui(s),u=Tr.filter(h=>h.squad===s);return k.jsxs(ze.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[k.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[k.jsx("span",{className:"text-sm",children:o.icon}),k.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider",style:{color:c.main},children:o.label}),k.jsx("div",{className:"flex-1 h-px",style:{backgroundColor:c.main+"20"}}),k.jsxs("span",{className:"text-[10px]",style:{color:F.text.muted},children:[u.filter(h=>(e[h.id]||mT).status==="working").length," active"]})]}),k.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:u.map(h=>k.jsx(Eq,{meta:h,state:e[h.id]||mT,onClick:()=>n(h.id)},h.id))})]},s)})]}),k.jsx(Mq,{open:r,onClose:()=>i(!1)})]})}),yT={status:"idle",currentTask:null,checklist:[],progress:0,activityHistory:Array(20).fill(0)},Lq=A.memo(function(){const{selectedAgentId:e,selectAgent:n,openChat:r}=Ci(),{agents:i}=Er(),[s,o]=A.useState([]),c=A.useRef(null),u=e?Vh(e):null,h=e&&i[e]||yT,f=u?Ui(u.squad):{main:"#666",bg:"transparent"};if(A.useEffect(()=>{h.thinking&&(o(m=>[...m,h.thinking].slice(-20)),c.current?.scrollTo({top:c.current.scrollHeight,behavior:"smooth"}))},[h.thinking]),!u||!e)return k.jsx("div",{className:"flex-1 flex items-center justify-center",style:{color:F.text.muted},children:"Select an agent to view details"});const p=async m=>{try{await fetch(`/api/agents/${e}/${m}`,{method:"POST"})}catch{}};return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("button",{onClick:()=>n(null),className:"p-1.5 rounded-lg hover:bg-white/5 transition-colors",style:{color:F.text.secondary},children:k.jsx(JD,{size:18})}),k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("span",{className:"text-xl",children:u.icon}),k.jsxs("div",{children:[k.jsx("h2",{className:"text-base font-semibold",style:{color:F.text.primary},children:u.name}),k.jsx("p",{className:"text-xs",style:{color:F.text.secondary},children:u.role})]})]}),k.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:h.status==="working"?f.bg:h.status==="done"?F.status.complete+"15":h.status==="error"?F.status.error+"15":F.bg.surfaceHover,color:h.status==="working"?f.main:h.status==="done"?F.status.complete:h.status==="error"?F.status.error:F.text.secondary},children:h.status})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[h.status==="working"?k.jsx(Lf,{icon:k.jsx(sN,{size:14}),label:"Pause",color:F.status.paused,onClick:()=>p("pause")}):h.status==="paused"?k.jsx(Lf,{icon:k.jsx(oN,{size:14}),label:"Resume",color:F.status.working,onClick:()=>p("resume")}):null,k.jsx(Lf,{icon:k.jsx(cN,{size:14}),label:"Restart",color:F.text.secondary,onClick:()=>p("restart")}),k.jsx(Lf,{icon:k.jsx(sH,{size:14}),label:"Chat",color:f.main,onClick:()=>r(e)})]})]}),k.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[k.jsxs("div",{className:"w-80 flex-shrink-0 border-r overflow-y-auto p-4 space-y-4",style:{borderColor:F.bg.border},children:[k.jsx(Sl,{title:"Current Task",children:k.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:F.bg.surfaceHover},children:[k.jsx("p",{className:"text-sm font-medium",style:{color:F.text.primary},children:h.currentTask||"No active task"}),h.progress>0&&k.jsxs("div",{className:"mt-2",children:[k.jsxs("div",{className:"flex justify-between text-[10px] mb-1",style:{color:F.text.secondary},children:[k.jsx("span",{children:"Progress"}),k.jsxs("span",{children:[h.progress,"%"]})]}),k.jsx("div",{className:"h-1.5 rounded-full overflow-hidden",style:{backgroundColor:F.bg.border},children:k.jsx(ze.div,{className:"h-full rounded-full",style:{backgroundColor:f.main},animate:{width:`${h.progress}%`},transition:{duration:.5}})})]})]})}),k.jsx(Sl,{title:" Thinking",children:k.jsx("div",{ref:c,className:"rounded-lg p-3 max-h-40 overflow-y-auto space-y-1",style:{backgroundColor:F.bg.surfaceHover},children:s.length>0?s.map((m,y)=>k.jsx("p",{className:"text-xs leading-relaxed",style:{color:F.text.secondary},children:m},y)):k.jsx("p",{className:"text-xs italic",style:{color:F.text.muted},children:h.status==="working"?"Waiting for thoughts...":"Agent is not active"})})}),k.jsx(Sl,{title:"Checklist",children:k.jsx("div",{className:"space-y-1.5",children:h.checklist.length>0?h.checklist.map((m,y)=>k.jsxs("div",{className:"flex items-start gap-2",children:[m.done?k.jsx(B9,{size:14,className:"mt-0.5 flex-shrink-0",style:{color:F.status.complete}}):k.jsx($9,{size:14,className:"mt-0.5 flex-shrink-0",style:{color:F.text.muted}}),k.jsx("span",{className:"text-xs",style:{color:m.done?F.text.secondary:F.text.primary},children:m.text})]},y)):k.jsx("p",{className:"text-xs",style:{color:F.text.muted},children:"No checklist items"})})}),k.jsx(Sl,{title:"Activity",children:k.jsx(JN,{data:h.activityHistory||Array(20).fill(0),width:240,height:40,color:f.main})})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[k.jsx(Sl,{title:"Output",children:k.jsx("div",{className:"rounded-lg p-4 font-mono text-xs leading-relaxed whitespace-pre-wrap min-h-[200px]",style:{backgroundColor:F.bg.primary,color:F.text.primary,border:`1px solid ${F.bg.border}`},children:h.output||"No output yet..."})}),h.filesChanged&&h.filesChanged.length>0&&k.jsx(Sl,{title:"Files Changed",className:"mt-4",children:k.jsx("div",{className:"space-y-1",children:h.filesChanged.map((m,y)=>k.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[k.jsx(rN,{size:12,style:{color:F.text.muted}}),k.jsx("span",{style:{color:F.text.primary},children:m.path}),m.additions>0&&k.jsxs("span",{style:{color:F.status.complete},children:["+",m.additions]}),m.deletions>0&&k.jsxs("span",{style:{color:F.status.error},children:["-",m.deletions]})]},y))})})]})]})]})});function Sl({title:t,children:e,className:n=""}){return k.jsxs("div",{className:n,children:[k.jsx("h4",{className:"text-[10px] font-semibold uppercase tracking-wider mb-2",style:{color:F.text.muted},children:t}),e]})}function Lf({icon:t,label:e,color:n,onClick:r}){return k.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-colors hover:bg-white/5 border",style:{borderColor:n+"30",color:n},children:[t,e]})}function Oq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const qg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function _1(t){return"nodeType"in t}function or(t){var e,n;return t?yc(t)?t:_1(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function k1(t){const{Document:e}=or(t);return t instanceof e}function qh(t){return yc(t)?!1:t instanceof or(t).HTMLElement}function tL(t){return t instanceof or(t).SVGElement}function xc(t){return t?yc(t)?t.document:_1(t)?k1(t)?t:qh(t)||tL(t)?t.ownerDocument:document:document:document}const _i=qg?A.useLayoutEffect:A.useEffect;function Ug(t){const e=A.useRef(t);return _i(()=>{e.current=t}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Rq(){const t=A.useRef(null),e=A.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=A.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function fh(t,e){e===void 0&&(e=[t]);const n=A.useRef(t);return _i(()=>{n.current!==t&&(n.current=t)},e),n}function Uh(t,e){const n=A.useRef();return A.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function jp(t){const e=Ug(t),n=A.useRef(null),r=A.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function $p(t){const e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}let xx={};function Wh(t,e){return A.useMemo(()=>{if(e)return e;const n=xx[t]==null?0:xx[t]+1;return xx[t]=n,t+"-"+n},[t,e])}function eL(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const c=Object.entries(o);for(const[u,h]of c){const f=s[u];f!=null&&(s[u]=f+t*h)}return s},{...e})}}const Fl=eL(1),zp=eL(-1);function Bq(t){return"clientX"in t&&"clientY"in t}function Wg(t){if(!t)return!1;const{KeyboardEvent:e}=or(t.target);return e&&t instanceof e}function jq(t){if(!t)return!1;const{TouchEvent:e}=or(t.target);return e&&t instanceof e}function Pp(t){if(jq(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Bq(t)?{x:t.clientX,y:t.clientY}:null}const Cs=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Cs.Translate.toString(t),Cs.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),xT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function $q(t){return t.matches(xT)?t:t.querySelector(xT)}const zq={display:"none"};function Pq(t){let{id:e,value:n}=t;return re.createElement("div",{id:e,style:zq},n)}function Fq(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return re.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function Iq(){const[t,e]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const nL=A.createContext(null);function Hq(t){const e=A.useContext(nL);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Vq(){const[t]=A.useState(()=>new Set),e=A.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[A.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var c;return(c=o[i])==null?void 0:c.call(o,s)})},[t]),e]}const qq={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Uq={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Wq(t){let{announcements:e=Uq,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=qq}=t;const{announce:s,announcement:o}=Iq(),c=Wh("DndLiveRegion"),[u,h]=A.useState(!1);if(A.useEffect(()=>{h(!0)},[]),Hq(A.useMemo(()=>({onDragStart(p){let{active:m}=p;s(e.onDragStart({active:m}))},onDragMove(p){let{active:m,over:y}=p;e.onDragMove&&s(e.onDragMove({active:m,over:y}))},onDragOver(p){let{active:m,over:y}=p;s(e.onDragOver({active:m,over:y}))},onDragEnd(p){let{active:m,over:y}=p;s(e.onDragEnd({active:m,over:y}))},onDragCancel(p){let{active:m,over:y}=p;s(e.onDragCancel({active:m,over:y}))}}),[s,e])),!u)return null;const f=re.createElement(re.Fragment,null,re.createElement(Pq,{id:r,value:i.draggable}),re.createElement(Fq,{id:c,announcement:o}));return n?lo.createPortal(f,n):f}var vn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(vn||(vn={}));function Fp(){}function Yq(t,e){return A.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function Gq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ki=Object.freeze({x:0,y:0});function Xq(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Zq(t,e){const n=Pp(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function Kq(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function Qq(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function bT(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function Jq(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}const tU=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=bT(e),s=[];for(const o of r){const{id:c}=o,u=n.get(c);if(u){const h=bT(u),f=i.reduce((m,y,x)=>m+Xq(h[x],y),0),p=Number((f/4).toFixed(4));s.push({id:c,data:{droppableContainer:o,value:p}})}}return s.sort(Kq)};function eU(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,c=s-n;if(r<i&&n<s){const u=e.width*e.height,h=t.width*t.height,f=o*c,p=f/(u+h-f);return Number(p.toFixed(4))}return 0}const nU=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,c=n.get(o);if(c){const u=eU(c,e);u>0&&i.push({id:o,data:{droppableContainer:s,value:u}})}}return i.sort(Qq)};function rU(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function rL(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ki}function iU(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,c)=>({...o,top:o.top+t*c.y,bottom:o.bottom+t*c.y,left:o.left+t*c.x,right:o.right+t*c.x}),{...n})}}const aU=iU(1);function iL(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function sU(t,e,n){const r=iL(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:c}=r,u=t.left-o-(1-i)*parseFloat(n),h=t.top-c-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?t.width/i:t.width,p=s?t.height/s:t.height;return{width:f,height:p,top:h,right:u+f,bottom:h+p,left:u}}const oU={ignoreTransform:!1};function bc(t,e){e===void 0&&(e=oU);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:f}=or(t).getComputedStyle(t);h&&(n=sU(n,h,f))}const{top:r,left:i,width:s,height:o,bottom:c,right:u}=n;return{top:r,left:i,width:s,height:o,bottom:c,right:u}}function vT(t){return bc(t,{ignoreTransform:!0})}function lU(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function cU(t,e){return e===void 0&&(e=or(t).getComputedStyle(t)),e.position==="fixed"}function uU(t,e){e===void 0&&(e=or(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function T1(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(k1(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!qh(i)||tL(i)||n.includes(i))return n;const s=or(t).getComputedStyle(i);return i!==t&&uU(i,s)&&n.push(i),cU(i,s)?n:r(i.parentNode)}return t?r(t):n}function aL(t){const[e]=T1(t,1);return e??null}function bx(t){return!qg||!t?null:yc(t)?t:_1(t)?k1(t)||t===xc(t).scrollingElement?window:qh(t)?t:null:null}function sL(t){return yc(t)?t.scrollX:t.scrollLeft}function oL(t){return yc(t)?t.scrollY:t.scrollTop}function Nb(t){return{x:sL(t),y:oL(t)}}var An;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(An||(An={}));function lL(t){return!qg||!t?!1:t===document.scrollingElement}function cL(t){const e={x:0,y:0},n=lL(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,c=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:c,maxScroll:r,minScroll:e}}const hU={x:.2,y:.2};function dU(t,e,n,r,i){let{top:s,left:o,right:c,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=hU);const{isTop:h,isBottom:f,isLeft:p,isRight:m}=cL(t),y={x:0,y:0},x={x:0,y:0},b={height:e.height*i.y,width:e.width*i.x};return!h&&s<=e.top+b.height?(y.y=An.Backward,x.y=r*Math.abs((e.top+b.height-s)/b.height)):!f&&u>=e.bottom-b.height&&(y.y=An.Forward,x.y=r*Math.abs((e.bottom-b.height-u)/b.height)),!m&&c>=e.right-b.width?(y.x=An.Forward,x.x=r*Math.abs((e.right-b.width-c)/b.width)):!p&&o<=e.left+b.width&&(y.x=An.Backward,x.x=r*Math.abs((e.left+b.width-o)/b.width)),{direction:y,speed:x}}function fU(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function uL(t){return t.reduce((e,n)=>Fl(e,Nb(n)),ki)}function pU(t){return t.reduce((e,n)=>e+sL(n),0)}function gU(t){return t.reduce((e,n)=>e+oL(n),0)}function hL(t,e){if(e===void 0&&(e=bc),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);aL(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const mU=[["x",["left","right"],pU],["y",["top","bottom"],gU]];class E1{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=T1(n),i=uL(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,c]of mU)for(const u of o)Object.defineProperty(this,u,{get:()=>{const h=c(r),f=i[s]-h;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Wu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function yU(t){const{EventTarget:e}=or(t);return t instanceof e?t:xc(t)}function vx(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Jr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Jr||(Jr={}));function wT(t){t.preventDefault()}function xU(t){t.stopPropagation()}var pe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(pe||(pe={}));const dL={start:[pe.Space,pe.Enter],cancel:[pe.Esc],end:[pe.Space,pe.Enter,pe.Tab]},bU=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case pe.Right:return{...n,x:n.x+25};case pe.Left:return{...n,x:n.x-25};case pe.Down:return{...n,y:n.y+25};case pe.Up:return{...n,y:n.y-25}}};class fL{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Wu(xc(n)),this.windowListeners=new Wu(or(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Jr.Resize,this.handleCancel),this.windowListeners.add(Jr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Jr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&hL(r),n(ki)}handleKeyDown(e){if(Wg(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=dL,coordinateGetter:o=bU,scrollBehavior:c="smooth"}=i,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:h}=r.current,f=h?{x:h.left,y:h.top}:ki;this.referenceCoordinates||(this.referenceCoordinates=f);const p=o(e,{active:n,context:r.current,currentCoordinates:f});if(p){const m=zp(p,f),y={x:0,y:0},{scrollableAncestors:x}=r.current;for(const b of x){const w=e.code,{isTop:_,isRight:S,isLeft:T,isBottom:E,maxScroll:M,minScroll:L}=cL(b),N=fU(b),$={x:Math.min(w===pe.Right?N.right-N.width/2:N.right,Math.max(w===pe.Right?N.left:N.left+N.width/2,p.x)),y:Math.min(w===pe.Down?N.bottom-N.height/2:N.bottom,Math.max(w===pe.Down?N.top:N.top+N.height/2,p.y))},P=w===pe.Right&&!S||w===pe.Left&&!T,z=w===pe.Down&&!E||w===pe.Up&&!_;if(P&&$.x!==p.x){const j=b.scrollLeft+m.x,W=w===pe.Right&&j<=M.x||w===pe.Left&&j>=L.x;if(W&&!m.y){b.scrollTo({left:j,behavior:c});return}W?y.x=b.scrollLeft-j:y.x=w===pe.Right?b.scrollLeft-M.x:b.scrollLeft-L.x,y.x&&b.scrollBy({left:-y.x,behavior:c});break}else if(z&&$.y!==p.y){const j=b.scrollTop+m.y,W=w===pe.Down&&j<=M.y||w===pe.Up&&j>=L.y;if(W&&!m.x){b.scrollTo({top:j,behavior:c});return}W?y.y=b.scrollTop-j:y.y=w===pe.Down?b.scrollTop-M.y:b.scrollTop-L.y,y.y&&b.scrollBy({top:-y.y,behavior:c});break}}this.handleMove(e,Fl(zp(p,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}fL.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=dL,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const c=s.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function ST(t){return!!(t&&"distance"in t)}function CT(t){return!!(t&&"delay"in t)}class A1{constructor(e,n,r){var i;r===void 0&&(r=yU(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=xc(o),this.documentListeners=new Wu(this.document),this.listeners=new Wu(r),this.windowListeners=new Wu(or(o)),this.initialCoordinates=(i=Pp(s))!=null?i:ki,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Jr.Resize,this.handleCancel),this.windowListeners.add(Jr.DragStart,wT),this.windowListeners.add(Jr.VisibilityChange,this.handleCancel),this.windowListeners.add(Jr.ContextMenu,wT),this.documentListeners.add(Jr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(CT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ST(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Jr.Click,xU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Jr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:c}}=s;if(!i)return;const u=(n=Pp(e))!=null?n:ki,h=zp(i,u);if(!r&&c){if(ST(c)){if(c.tolerance!=null&&vx(h,c.tolerance))return this.handleCancel();if(vx(h,c.distance))return this.handleStart()}if(CT(c)&&vx(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),o(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===pe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const vU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class M1 extends A1{constructor(e){const{event:n}=e,r=xc(n.target);super(e,vU,r)}}M1.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const wU={move:{name:"mousemove"},end:{name:"mouseup"}};var Lb;(function(t){t[t.RightClick=2]="RightClick"})(Lb||(Lb={}));class SU extends A1{constructor(e){super(e,wU,xc(e.event.target))}}SU.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Lb.RightClick?!1:(r?.({event:n}),!0)}}];const wx={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class CU extends A1{constructor(e){super(e,wx)}static setup(){return window.addEventListener(wx.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(wx.move.name,e)};function e(){}}}CU.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Yu;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Yu||(Yu={}));var Ip;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ip||(Ip={}));function _U(t){let{acceleration:e,activator:n=Yu.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:c=Ip.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:f,delta:p,threshold:m}=t;const y=TU({delta:p,disabled:!s}),[x,b]=Rq(),w=A.useRef({x:0,y:0}),_=A.useRef({x:0,y:0}),S=A.useMemo(()=>{switch(n){case Yu.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Yu.DraggableRect:return i}},[n,i,u]),T=A.useRef(null),E=A.useCallback(()=>{const L=T.current;if(!L)return;const N=w.current.x*_.current.x,$=w.current.y*_.current.y;L.scrollBy(N,$)},[]),M=A.useMemo(()=>c===Ip.TreeOrder?[...h].reverse():h,[c,h]);A.useEffect(()=>{if(!s||!h.length||!S){b();return}for(const L of M){if(r?.(L)===!1)continue;const N=h.indexOf(L),$=f[N];if(!$)continue;const{direction:P,speed:z}=dU(L,$,S,e,m);for(const j of["x","y"])y[j][P[j]]||(z[j]=0,P[j]=0);if(z.x>0||z.y>0){b(),T.current=L,x(E,o),w.current=z,_.current=P;return}}w.current={x:0,y:0},_.current={x:0,y:0},b()},[e,E,r,b,s,o,JSON.stringify(S),JSON.stringify(y),x,h,M,f,JSON.stringify(m)])}const kU={x:{[An.Backward]:!1,[An.Forward]:!1},y:{[An.Backward]:!1,[An.Forward]:!1}};function TU(t){let{delta:e,disabled:n}=t;const r=$p(e);return Uh(i=>{if(n||!r||!i)return kU;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[An.Backward]:i.x[An.Backward]||s.x===-1,[An.Forward]:i.x[An.Forward]||s.x===1},y:{[An.Backward]:i.y[An.Backward]||s.y===-1,[An.Forward]:i.y[An.Forward]||s.y===1}}},[n,e,r])}function EU(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Uh(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function AU(t,e){return A.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var ph;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(ph||(ph={}));var Ob;(function(t){t.Optimized="optimized"})(Ob||(Ob={}));const _T=new Map;function MU(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=A.useState(null),{frequency:c,measure:u,strategy:h}=i,f=A.useRef(t),p=w(),m=fh(p),y=A.useCallback(function(_){_===void 0&&(_=[]),!m.current&&o(S=>S===null?_:S.concat(_.filter(T=>!S.includes(T))))},[m]),x=A.useRef(null),b=Uh(_=>{if(p&&!n)return _T;if(!_||_===_T||f.current!==t||s!=null){const S=new Map;for(let T of t){if(!T)continue;if(s&&s.length>0&&!s.includes(T.id)&&T.rect.current){S.set(T.id,T.rect.current);continue}const E=T.node.current,M=E?new E1(u(E),E):null;T.rect.current=M,M&&S.set(T.id,M)}return S}return _},[t,s,n,p,u]);return A.useEffect(()=>{f.current=t},[t]),A.useEffect(()=>{p||y()},[n,p]),A.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),A.useEffect(()=>{p||typeof c!="number"||x.current!==null||(x.current=setTimeout(()=>{y(),x.current=null},c))},[c,p,y,...r]),{droppableRects:b,measureDroppableContainers:y,measuringScheduled:s!=null};function w(){switch(h){case ph.Always:return!1;case ph.BeforeDragging:return n;default:return!n}}}function D1(t,e){return Uh(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function DU(t,e){return D1(t,e)}function NU(t){let{callback:e,disabled:n}=t;const r=Ug(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return A.useEffect(()=>()=>i?.disconnect(),[i]),i}function Yg(t){let{callback:e,disabled:n}=t;const r=Ug(e),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return A.useEffect(()=>()=>i?.disconnect(),[i]),i}function LU(t){return new E1(bc(t),t)}function kT(t,e,n){e===void 0&&(e=LU);const[r,i]=A.useState(null);function s(){i(u=>{if(!t)return null;if(t.isConnected===!1){var h;return(h=u??n)!=null?h:null}const f=e(t);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const o=NU({callback(u){if(t)for(const h of u){const{type:f,target:p}=h;if(f==="childList"&&p instanceof HTMLElement&&p.contains(t)){s();break}}}}),c=Yg({callback:s});return _i(()=>{s(),t?(c?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),o?.disconnect())},[t]),r}function OU(t){const e=D1(t);return rL(t,e)}const TT=[];function RU(t){const e=A.useRef(t),n=Uh(r=>t?r&&r!==TT&&t&&e.current&&t.parentNode===e.current.parentNode?r:T1(t):TT,[t]);return A.useEffect(()=>{e.current=t},[t]),n}function BU(t){const[e,n]=A.useState(null),r=A.useRef(t),i=A.useCallback(s=>{const o=bx(s.target);o&&n(c=>c?(c.set(o,Nb(o)),new Map(c)):null)},[]);return A.useEffect(()=>{const s=r.current;if(t!==s){o(s);const c=t.map(u=>{const h=bx(u);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,Nb(h)]):null}).filter(u=>u!=null);n(c.length?new Map(c):null),r.current=t}return()=>{o(t),o(s)};function o(c){c.forEach(u=>{const h=bx(u);h?.removeEventListener("scroll",i)})}},[i,t]),A.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Fl(s,o),ki):uL(t):ki,[t,e])}function ET(t,e){e===void 0&&(e=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},e),A.useEffect(()=>{const r=t!==ki;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?zp(t,n.current):ki}function jU(t){A.useEffect(()=>{if(!qg)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function $U(t,e){return A.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function pL(t){return A.useMemo(()=>t?lU(t):null,[t])}const AT=[];function zU(t,e){e===void 0&&(e=bc);const[n]=t,r=pL(n?or(n):null),[i,s]=A.useState(AT);function o(){s(()=>t.length?t.map(u=>lL(u)?r:new E1(e(u),u)):AT)}const c=Yg({callback:o});return _i(()=>{c?.disconnect(),o(),t.forEach(u=>c?.observe(u))},[t]),i}function gL(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return qh(e)?e:t}function PU(t){let{measure:e}=t;const[n,r]=A.useState(null),i=A.useCallback(h=>{for(const{target:f}of h)if(qh(f)){r(p=>{const m=e(f);return p?{...p,width:m.width,height:m.height}:m});break}},[e]),s=Yg({callback:i}),o=A.useCallback(h=>{const f=gL(h);s?.disconnect(),f&&s?.observe(f),r(f?e(f):null)},[e,s]),[c,u]=jp(o);return A.useMemo(()=>({nodeRef:c,rect:n,setRef:u}),[n,c,u])}const FU=[{sensor:M1,options:{}},{sensor:fL,options:{}}],IU={current:{}},cp={draggable:{measure:vT},droppable:{measure:vT,strategy:ph.WhileDragging,frequency:Ob.Optimized},dragOverlay:{measure:bc}};class Gu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const HU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Gu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Fp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:cp,measureDroppableContainers:Fp,windowRect:null,measuringScheduled:!1},mL={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Fp,draggableNodes:new Map,over:null,measureDroppableContainers:Fp},Yh=A.createContext(mL),yL=A.createContext(HU);function VU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Gu}}}function qU(t,e){switch(e.type){case vn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case vn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case vn.DragEnd:case vn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case vn.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Gu(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case vn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new Gu(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case vn.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Gu(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function UU(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=A.useContext(Yh),s=$p(r),o=$p(n?.id);return A.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!Wg(s)||document.activeElement===s.target)return;const c=i.get(o);if(!c)return;const{activatorNode:u,node:h}=c;if(!u.current&&!h.current)return;requestAnimationFrame(()=>{for(const f of[u.current,h.current]){if(!f)continue;const p=$q(f);if(p){p.focus();break}}})}},[r,e,i,o,s]),null}function xL(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function WU(t){return A.useMemo(()=>({draggable:{...cp.draggable,...t?.draggable},droppable:{...cp.droppable,...t?.droppable},dragOverlay:{...cp.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function YU(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=A.useRef(!1),{x:o,y:c}=typeof i=="boolean"?{x:i,y:i}:i;_i(()=>{if(!o&&!c||!e){s.current=!1;return}if(s.current||!r)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const f=n(h),p=rL(f,r);if(o||(p.x=0),c||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const m=aL(h);m&&m.scrollBy({top:p.y,left:p.x})}},[e,o,c,r,n])}const Gg=A.createContext({...ki,scaleX:1,scaleY:1});var hs;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(hs||(hs={}));const GU=A.memo(function(e){var n,r,i,s;let{id:o,accessibility:c,autoScroll:u=!0,children:h,sensors:f=FU,collisionDetection:p=nU,measuring:m,modifiers:y,...x}=e;const b=A.useReducer(qU,void 0,VU),[w,_]=b,[S,T]=Vq(),[E,M]=A.useState(hs.Uninitialized),L=E===hs.Initialized,{draggable:{active:N,nodes:$,translate:P},droppable:{containers:z}}=w,j=N!=null?$.get(N):null,W=A.useRef({initial:null,translated:null}),G=A.useMemo(()=>{var xe;return N!=null?{id:N,data:(xe=j?.data)!=null?xe:IU,rect:W}:null},[N,j]),B=A.useRef(null),[H,R]=A.useState(null),[I,U]=A.useState(null),Z=fh(x,Object.values(x)),nt=Wh("DndDescribedBy",o),q=A.useMemo(()=>z.getEnabled(),[z]),V=WU(m),{droppableRects:K,measureDroppableContainers:et,measuringScheduled:X}=MU(q,{dragging:L,dependencies:[P.x,P.y],config:V.droppable}),Q=EU($,N),tt=A.useMemo(()=>I?Pp(I):null,[I]),at=Di(),ut=DU(Q,V.draggable.measure);YU({activeNode:N!=null?$.get(N):null,config:at.layoutShiftCompensation,initialRect:ut,measure:V.draggable.measure});const pt=kT(Q,V.draggable.measure,ut),vt=kT(Q?Q.parentElement:null),bt=A.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),kt=z.getNodeFor((n=bt.current.over)==null?void 0:n.id),_t=PU({measure:V.dragOverlay.measure}),Pt=(r=_t.nodeRef.current)!=null?r:Q,Yt=L?(i=_t.rect)!=null?i:pt:null,de=!!(_t.nodeRef.current&&_t.rect),Ye=OU(de?null:pt),Ge=pL(Pt?or(Pt):null),qe=RU(L?kt??Q:null),Mn=zU(qe),lr=xL(y,{transform:{x:P.x-Ye.x,y:P.y-Ye.y,scaleX:1,scaleY:1},activatorEvent:I,active:G,activeNodeRect:pt,containerNodeRect:vt,draggingNodeRect:Yt,over:bt.current.over,overlayNodeRect:_t.rect,scrollableAncestors:qe,scrollableAncestorRects:Mn,windowRect:Ge}),cr=tt?Fl(tt,P):null,Me=BU(qe),Zn=ET(Me),_n=ET(Me,[pt]),kn=Fl(lr,Zn),Dn=Yt?aU(Yt,lr):null,Ir=G&&Dn?p({active:G,collisionRect:Dn,droppableRects:K,droppableContainers:q,pointerCoordinates:cr}):null,Ar=Jq(Ir,"id"),[Kn,ai]=A.useState(null),ur=de?lr:Fl(lr,_n),Ee=rU(ur,(s=Kn?.rect)!=null?s:null,pt),tn=A.useRef(null),Xe=A.useCallback((xe,Ne)=>{let{sensor:Ze,options:ie}=Ne;if(B.current==null)return;const Ue=$.get(B.current);if(!Ue)return;const an=xe.nativeEvent,pn=new Ze({active:B.current,activeNode:Ue,event:an,options:ie,context:bt,onAbort(Pe){if(!$.get(Pe))return;const{onDragAbort:Nn}=Z.current,Le={id:Pe};Nn?.(Le),S({type:"onDragAbort",event:Le})},onPending(Pe,Fn,Nn,Le){if(!$.get(Pe))return;const{onDragPending:hr}=Z.current,In={id:Pe,constraint:Fn,initialCoordinates:Nn,offset:Le};hr?.(In),S({type:"onDragPending",event:In})},onStart(Pe){const Fn=B.current;if(Fn==null)return;const Nn=$.get(Fn);if(!Nn)return;const{onDragStart:Le}=Z.current,gn={activatorEvent:an,active:{id:Fn,data:Nn.data,rect:W}};lo.unstable_batchedUpdates(()=>{Le?.(gn),M(hs.Initializing),_({type:vn.DragStart,initialCoordinates:Pe,active:Fn}),S({type:"onDragStart",event:gn}),R(tn.current),U(an)})},onMove(Pe){_({type:vn.DragMove,coordinates:Pe})},onEnd:Tn(vn.DragEnd),onCancel:Tn(vn.DragCancel)});tn.current=pn;function Tn(Pe){return async function(){const{active:Nn,collisions:Le,over:gn,scrollAdjustedTranslate:hr}=bt.current;let In=null;if(Nn&&hr){const{cancelDrop:dr}=Z.current;In={activatorEvent:an,active:Nn,collisions:Le,delta:hr,over:gn},Pe===vn.DragEnd&&typeof dr=="function"&&await Promise.resolve(dr(In))&&(Pe=vn.DragCancel)}B.current=null,lo.unstable_batchedUpdates(()=>{_({type:Pe}),M(hs.Uninitialized),ai(null),R(null),U(null),tn.current=null;const dr=Pe===vn.DragEnd?"onDragEnd":"onDragCancel";if(In){const Ln=Z.current[dr];Ln?.(In),S({type:dr,event:In})}})}}},[$]),Ki=A.useCallback((xe,Ne)=>(Ze,ie)=>{const Ue=Ze.nativeEvent,an=$.get(ie);if(B.current!==null||!an||Ue.dndKit||Ue.defaultPrevented)return;const pn={active:an};xe(Ze,Ne.options,pn)===!0&&(Ue.dndKit={capturedBy:Ne.sensor},B.current=ie,Xe(Ze,Ne))},[$,Xe]),Ra=AU(f,Ki);jU(f),_i(()=>{pt&&E===hs.Initializing&&M(hs.Initialized)},[pt,E]),A.useEffect(()=>{const{onDragMove:xe}=Z.current,{active:Ne,activatorEvent:Ze,collisions:ie,over:Ue}=bt.current;if(!Ne||!Ze)return;const an={active:Ne,activatorEvent:Ze,collisions:ie,delta:{x:kn.x,y:kn.y},over:Ue};lo.unstable_batchedUpdates(()=>{xe?.(an),S({type:"onDragMove",event:an})})},[kn.x,kn.y]),A.useEffect(()=>{const{active:xe,activatorEvent:Ne,collisions:Ze,droppableContainers:ie,scrollAdjustedTranslate:Ue}=bt.current;if(!xe||B.current==null||!Ne||!Ue)return;const{onDragOver:an}=Z.current,pn=ie.get(Ar),Tn=pn&&pn.rect.current?{id:pn.id,rect:pn.rect.current,data:pn.data,disabled:pn.disabled}:null,Pe={active:xe,activatorEvent:Ne,collisions:Ze,delta:{x:Ue.x,y:Ue.y},over:Tn};lo.unstable_batchedUpdates(()=>{ai(Tn),an?.(Pe),S({type:"onDragOver",event:Pe})})},[Ar]),_i(()=>{bt.current={activatorEvent:I,active:G,activeNode:Q,collisionRect:Dn,collisions:Ir,droppableRects:K,draggableNodes:$,draggingNode:Pt,draggingNodeRect:Yt,droppableContainers:z,over:Kn,scrollableAncestors:qe,scrollAdjustedTranslate:kn},W.current={initial:Yt,translated:Dn}},[G,Q,Ir,Dn,$,Pt,Yt,K,z,Kn,qe,kn]),_U({...at,delta:P,draggingRect:Dn,pointerCoordinates:cr,scrollableAncestors:qe,scrollableAncestorRects:Mn});const Mi=A.useMemo(()=>({active:G,activeNode:Q,activeNodeRect:pt,activatorEvent:I,collisions:Ir,containerNodeRect:vt,dragOverlay:_t,draggableNodes:$,droppableContainers:z,droppableRects:K,over:Kn,measureDroppableContainers:et,scrollableAncestors:qe,scrollableAncestorRects:Mn,measuringConfiguration:V,measuringScheduled:X,windowRect:Ge}),[G,Q,pt,I,Ir,vt,_t,$,z,K,Kn,et,qe,Mn,V,X,Ge]),Mr=A.useMemo(()=>({activatorEvent:I,activators:Ra,active:G,activeNodeRect:pt,ariaDescribedById:{draggable:nt},dispatch:_,draggableNodes:$,over:Kn,measureDroppableContainers:et}),[I,Ra,G,pt,_,nt,$,Kn,et]);return re.createElement(nL.Provider,{value:T},re.createElement(Yh.Provider,{value:Mr},re.createElement(yL.Provider,{value:Mi},re.createElement(Gg.Provider,{value:Ee},h)),re.createElement(UU,{disabled:c?.restoreFocus===!1})),re.createElement(Wq,{...c,hiddenTextDescribedById:nt}));function Di(){const xe=H?.autoScrollEnabled===!1,Ne=typeof u=="object"?u.enabled===!1:u===!1,Ze=L&&!xe&&!Ne;return typeof u=="object"?{...u,enabled:Ze}:{enabled:Ze}}}),XU=A.createContext(null),MT="button",ZU="Draggable";function KU(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Wh(ZU),{activators:o,activatorEvent:c,active:u,activeNodeRect:h,ariaDescribedById:f,draggableNodes:p,over:m}=A.useContext(Yh),{role:y=MT,roleDescription:x="draggable",tabIndex:b=0}=i??{},w=u?.id===e,_=A.useContext(w?Gg:XU),[S,T]=jp(),[E,M]=jp(),L=$U(o,e),N=fh(n);_i(()=>(p.set(e,{id:e,key:s,node:S,activatorNode:E,data:N}),()=>{const P=p.get(e);P&&P.key===s&&p.delete(e)}),[p,e]);const $=A.useMemo(()=>({role:y,tabIndex:b,"aria-disabled":r,"aria-pressed":w&&y===MT?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[r,y,b,w,x,f.draggable]);return{active:u,activatorEvent:c,activeNodeRect:h,attributes:$,isDragging:w,listeners:r?void 0:L,node:S,over:m,setNodeRef:T,setActivatorNodeRef:M,transform:_}}function bL(){return A.useContext(yL)}const QU="Droppable",JU={timeout:25};function vL(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Wh(QU),{active:o,dispatch:c,over:u,measureDroppableContainers:h}=A.useContext(Yh),f=A.useRef({disabled:n}),p=A.useRef(!1),m=A.useRef(null),y=A.useRef(null),{disabled:x,updateMeasurementsFor:b,timeout:w}={...JU,...i},_=fh(b??r),S=A.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{h(Array.isArray(_.current)?_.current:[_.current]),y.current=null},w)},[w]),T=Yg({callback:S,disabled:x||!o}),E=A.useCallback(($,P)=>{T&&(P&&(T.unobserve(P),p.current=!1),$&&T.observe($))},[T]),[M,L]=jp(E),N=fh(e);return A.useEffect(()=>{!T||!M.current||(T.disconnect(),p.current=!1,T.observe(M.current))},[M,T]),A.useEffect(()=>(c({type:vn.RegisterDroppable,element:{id:r,key:s,disabled:n,node:M,rect:m,data:N}}),()=>c({type:vn.UnregisterDroppable,key:s,id:r})),[r]),A.useEffect(()=>{n!==f.current.disabled&&(c({type:vn.SetDroppableDisabled,id:r,key:s,disabled:n}),f.current.disabled=n)},[r,s,n,c]),{active:o,rect:m,isOver:u?.id===r,node:M,over:u,setNodeRef:L}}function tW(t){let{animation:e,children:n}=t;const[r,i]=A.useState(null),[s,o]=A.useState(null),c=$p(n);return!n&&!r&&c&&i(c),_i(()=>{if(!s)return;const u=r?.key,h=r?.props.id;if(u==null||h==null){i(null);return}Promise.resolve(e(h,s)).then(()=>{i(null)})},[e,r,s]),re.createElement(re.Fragment,null,n,r?A.cloneElement(r,{ref:o}):null)}const eW={x:0,y:0,scaleX:1,scaleY:1};function nW(t){let{children:e}=t;return re.createElement(Yh.Provider,{value:mL},re.createElement(Gg.Provider,{value:eW},e))}const rW={position:"fixed",touchAction:"none"},iW=t=>Wg(t)?"transform 250ms ease":void 0,aW=A.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:o,rect:c,style:u,transform:h,transition:f=iW}=t;if(!c)return null;const p=i?h:{...h,scaleX:1,scaleY:1},m={...rW,width:c.width,height:c.height,top:c.top,left:c.left,transform:Cs.Transform.toString(p),transformOrigin:i&&r?Zq(r,c):void 0,transition:typeof f=="function"?f(r):f,...u};return re.createElement(n,{className:o,style:m,ref:e},s)}),sW=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:s,className:o}=t;if(s!=null&&s.active)for(const[c,u]of Object.entries(s.active))u!==void 0&&(i[c]=n.node.style.getPropertyValue(c),n.node.style.setProperty(c,u));if(s!=null&&s.dragOverlay)for(const[c,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(c,u);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[u,h]of Object.entries(i))n.node.style.setProperty(u,h);o!=null&&o.active&&n.node.classList.remove(o.active)}},oW=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Cs.Transform.toString(e)},{transform:Cs.Transform.toString(n)}]},lW={duration:250,easing:"ease",keyframes:oW,sideEffects:sW({styles:{active:{opacity:"0"}}})};function cW(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return Ug((s,o)=>{if(e===null)return;const c=n.get(s);if(!c)return;const u=c.node.current;if(!u)return;const h=gL(o);if(!h)return;const{transform:f}=or(o).getComputedStyle(o),p=iL(f);if(!p)return;const m=typeof e=="function"?e:uW(e);return hL(u,i.draggable.measure),m({active:{id:s,data:c.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(h)},droppableContainers:r,measuringConfiguration:i,transform:p})})}function uW(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...lW,...t};return s=>{let{active:o,dragOverlay:c,transform:u,...h}=s;if(!e)return;const f={x:c.rect.left-o.rect.left,y:c.rect.top-o.rect.top},p={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/c.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/c.rect.height:1},m={x:u.x-f.x,y:u.y-f.y,...p},y=i({...h,active:o,dragOverlay:c,transform:{initial:u,final:m}}),[x]=y,b=y[y.length-1];if(JSON.stringify(x)===JSON.stringify(b))return;const w=r?.({active:o,dragOverlay:c,...h}),_=c.node.animate(y,{duration:e,easing:n,fill:"forwards"});return new Promise(S=>{_.onfinish=()=>{w?.(),S()}})}}let DT=0;function hW(t){return A.useMemo(()=>{if(t!=null)return DT++,DT},[t])}const dW=re.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:o,wrapperElement:c="div",className:u,zIndex:h=999}=t;const{activatorEvent:f,active:p,activeNodeRect:m,containerNodeRect:y,draggableNodes:x,droppableContainers:b,dragOverlay:w,over:_,measuringConfiguration:S,scrollableAncestors:T,scrollableAncestorRects:E,windowRect:M}=bL(),L=A.useContext(Gg),N=hW(p?.id),$=xL(o,{activatorEvent:f,active:p,activeNodeRect:m,containerNodeRect:y,draggingNodeRect:w.rect,over:_,overlayNodeRect:w.rect,scrollableAncestors:T,scrollableAncestorRects:E,transform:L,windowRect:M}),P=D1(m),z=cW({config:r,draggableNodes:x,droppableContainers:b,measuringConfiguration:S}),j=P?w.setRef:void 0;return re.createElement(nW,null,re.createElement(tW,{animation:z},p&&N?re.createElement(aW,{key:N,id:p.id,ref:j,as:c,activatorEvent:f,adjustScale:e,className:u,transition:s,rect:P,style:{zIndex:h,...i},transform:$},n):null))});function wL(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function fW(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Of(t){return t!==null&&t>=0}function pW(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function gW(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const SL=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=wL(e,r,n),o=e[i],c=s[i];return!c||!o?null:{x:c.left-o.left,y:c.top-o.top,scaleX:c.width/o.width,scaleY:c.height/o.height}},Rf={scaleX:1,scaleY:1},mW=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const c=(e=s[n])!=null?e:r;if(!c)return null;if(i===n){const h=s[o];return h?{x:0,y:n<o?h.top+h.height-(c.top+c.height):h.top-c.top,...Rf}:null}const u=yW(s,i,n);return i>n&&i<=o?{x:0,y:-c.height-u,...Rf}:i<n&&i>=o?{x:0,y:c.height+u,...Rf}:{x:0,y:0,...Rf}};function yW(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const CL="Sortable",_L=re.createContext({activeIndex:-1,containerId:CL,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:SL,disabled:{draggable:!1,droppable:!1}});function xW(t){let{children:e,id:n,items:r,strategy:i=SL,disabled:s=!1}=t;const{active:o,dragOverlay:c,droppableRects:u,over:h,measureDroppableContainers:f}=bL(),p=Wh(CL,n),m=c.rect!==null,y=A.useMemo(()=>r.map(L=>typeof L=="object"&&"id"in L?L.id:L),[r]),x=o!=null,b=o?y.indexOf(o.id):-1,w=h?y.indexOf(h.id):-1,_=A.useRef(y),S=!pW(y,_.current),T=w!==-1&&b===-1||S,E=gW(s);_i(()=>{S&&x&&f(y)},[S,y,x,f]),A.useEffect(()=>{_.current=y},[y]);const M=A.useMemo(()=>({activeIndex:b,containerId:p,disabled:E,disableTransforms:T,items:y,overIndex:w,useDragOverlay:m,sortedRects:fW(y,u),strategy:i}),[b,p,E.draggable,E.droppable,T,y,w,u,m,i]);return re.createElement(_L.Provider,{value:M},e)}const bW=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return wL(n,r,i).indexOf(e)},vW=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:c,previousContainerId:u,transition:h}=t;return!h||!r||c!==s&&i===o?!1:n?!0:o!==i&&e===u},wW={duration:200,easing:"ease"},kL="transform",SW=Cs.Transition.toString({property:kL,duration:0,easing:"linear"}),CW={roleDescription:"sortable"};function _W(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=A.useState(null),c=A.useRef(n);return _i(()=>{if(!e&&n!==c.current&&r.current){const u=i.current;if(u){const h=bc(r.current,{ignoreTransform:!0}),f={x:u.left-h.left,y:u.top-h.top,scaleX:u.width/h.width,scaleY:u.height/h.height};(f.x||f.y)&&o(f)}}n!==c.current&&(c.current=n)},[e,n,r,i]),A.useEffect(()=>{s&&o(null)},[s]),s}function kW(t){let{animateLayoutChanges:e=vW,attributes:n,disabled:r,data:i,getNewIndex:s=bW,id:o,strategy:c,resizeObserverConfig:u,transition:h=wW}=t;const{items:f,containerId:p,activeIndex:m,disabled:y,disableTransforms:x,sortedRects:b,overIndex:w,useDragOverlay:_,strategy:S}=A.useContext(_L),T=TW(r,y),E=f.indexOf(o),M=A.useMemo(()=>({sortable:{containerId:p,index:E,items:f},...i}),[p,i,E,f]),L=A.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:N,node:$,isOver:P,setNodeRef:z}=vL({id:o,data:M,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:L,...u}}),{active:j,activatorEvent:W,activeNodeRect:G,attributes:B,setNodeRef:H,listeners:R,isDragging:I,over:U,setActivatorNodeRef:Z,transform:nt}=KU({id:o,data:M,attributes:{...CW,...n},disabled:T.draggable}),q=Oq(z,H),V=!!j,K=V&&!x&&Of(m)&&Of(w),et=!_&&I,X=et&&K?nt:null,tt=K?X??(c??S)({rects:b,activeNodeRect:G,activeIndex:m,overIndex:w,index:E}):null,at=Of(m)&&Of(w)?s({id:o,items:f,activeIndex:m,overIndex:w}):E,ut=j?.id,pt=A.useRef({activeId:ut,items:f,newIndex:at,containerId:p}),vt=f!==pt.current.items,bt=e({active:j,containerId:p,isDragging:I,isSorting:V,id:o,index:E,items:f,newIndex:pt.current.newIndex,previousItems:pt.current.items,previousContainerId:pt.current.containerId,transition:h,wasDragging:pt.current.activeId!=null}),kt=_W({disabled:!bt,index:E,node:$,rect:N});return A.useEffect(()=>{V&&pt.current.newIndex!==at&&(pt.current.newIndex=at),p!==pt.current.containerId&&(pt.current.containerId=p),f!==pt.current.items&&(pt.current.items=f)},[V,at,p,f]),A.useEffect(()=>{if(ut===pt.current.activeId)return;if(ut!=null&&pt.current.activeId==null){pt.current.activeId=ut;return}const Pt=setTimeout(()=>{pt.current.activeId=ut},50);return()=>clearTimeout(Pt)},[ut]),{active:j,activeIndex:m,attributes:B,data:M,rect:N,index:E,newIndex:at,items:f,isOver:P,isSorting:V,isDragging:I,listeners:R,node:$,overIndex:w,over:U,setNodeRef:q,setActivatorNodeRef:Z,setDroppableNodeRef:z,setDraggableNodeRef:H,transform:kt??tt,transition:_t()};function _t(){if(kt||vt&&pt.current.newIndex===E)return SW;if(!(et&&!Wg(W)||!h)&&(V||bt))return Cs.Transition.toString({...h,property:kL})}}function TW(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}pe.Down,pe.Right,pe.Up,pe.Left;const NT=[{id:"backlog",label:"Backlog",icon:""},{id:"in_progress",label:"In Progress",icon:""},{id:"review",label:"Review",icon:""},{id:"done",label:"Done",icon:""}],EW=A.memo(function(){const{agents:e}=Er(),[n,r]=A.useState(null),[i,s]=A.useState({}),o=Gq(Yq(M1,{activationConstraint:{distance:5}})),c=Tr.map(w=>{const _=e[w.id];if(!_)return null;const S=_.status==="done"?"done":_.status==="working"?"in_progress":_.status==="paused"?"review":"backlog";return{id:w.id,title:_.currentTask||w.role,agentId:w.id,status:S,progress:_.progress||0}}).filter(Boolean),u=[];Tr.forEach(w=>{const _=e[w.id];_?.checklist?.length&&_.checklist.forEach((S,T)=>{u.push({id:`${w.id}-check-${T}`,title:S.text,agentId:w.id,status:S.done?"done":_.status==="working"?"in_progress":"backlog",progress:S.done?100:0})})});const h=[...c,...u],f=h.filter(w=>w.status==="done").length,p=A.useCallback(w=>i[w.id]||w.status,[i]),m=A.useCallback(w=>h.filter(_=>p(_)===w),[h,p]),y=n?h.find(w=>w.id===n):null,x=w=>{r(String(w.active.id))},b=w=>{const{active:_,over:S}=w;if(r(null),!S)return;const T=String(_.id);let E=null;if(NT.map($=>$.id).includes(String(S.id)))E=String(S.id);else{const $=h.find(P=>P.id===String(S.id));$&&(E=p($))}if(!E)return;const L=h.find($=>$.id===T);if(!(!L||p(L)===E)&&(s($=>({...$,[T]:E})),L.agentId)){const $={backlog:"idle",in_progress:"working",review:"paused",done:"done"};fetch(`/api/agents/${L.agentId}/state`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:$[E]})}).catch(()=>{s(P=>{const z={...P};return delete z[T],z})})}};return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden p-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-6",children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Pipeline"}),k.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:F.text.secondary},children:[k.jsxs("span",{children:["Total: ",h.length]}),k.jsxs("span",{children:["Done: ",f]}),k.jsxs("span",{children:["Velocity: ",(f/Math.max(1,h.length)*100).toFixed(0),"%"]})]})]}),k.jsxs(GU,{sensors:o,collisionDetection:tU,onDragStart:x,onDragEnd:b,children:[k.jsx("div",{className:"flex-1 flex gap-4 overflow-x-auto",children:NT.map(w=>{const _=m(w.id);return k.jsxs(AW,{id:w.id,label:w.label,icon:w.icon,count:_.length,children:[k.jsx(xW,{items:_.map(S=>S.id),strategy:mW,children:_.map(S=>k.jsx(MW,{task:S},S.id))}),_.length===0&&k.jsx("p",{className:"text-[10px] text-center py-4",style:{color:F.text.muted},children:"No tasks"})]},w.id)})}),k.jsx(dW,{children:y?k.jsx(TL,{task:y,isDragging:!0}):null})]})]})});function AW({id:t,label:e,icon:n,count:r,children:i}){const{setNodeRef:s,isOver:o}=vL({id:t});return k.jsxs("div",{className:"flex-1 min-w-[220px] flex flex-col",ref:s,children:[k.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-t-lg border-b",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},children:[k.jsxs("span",{className:"text-xs font-semibold",style:{color:F.text.primary},children:[n," ",e]}),k.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full",style:{backgroundColor:F.bg.surfaceHover,color:F.text.secondary},children:r})]}),k.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 p-2 rounded-b-lg border border-t-0 transition-colors",style:{backgroundColor:o?F.accent+"08":F.bg.primary+"80",borderColor:o?F.accent+"40":F.bg.border},children:i})]})}function MW({task:t}){const{attributes:e,listeners:n,setNodeRef:r,transform:i,transition:s,isDragging:o}=kW({id:t.id}),c={transform:Cs.Transform.toString(i),transition:s,opacity:o?.3:1};return k.jsx("div",{ref:r,style:c,children:k.jsx(TL,{task:t,dragHandleProps:{...e,...n}})})}function TL({task:t,isDragging:e,dragHandleProps:n}){const r=t.agentId?Vh(t.agentId):null,i=r?Ui(r.squad):null;return k.jsxs(ze.div,{className:"rounded-lg border p-2.5 flex items-start gap-2",style:{backgroundColor:e?F.bg.surfaceActive:F.bg.surface,borderColor:e?F.accent+"60":F.bg.border,boxShadow:e?`0 8px 24px ${F.accent}20`:"none"},whileHover:e?void 0:{borderColor:i?.main+"40"||F.bg.borderLight},layout:!e,children:[n&&k.jsx("div",{className:"flex-shrink-0 cursor-grab active:cursor-grabbing pt-0.5 opacity-40 hover:opacity-80 transition-opacity",...n,children:k.jsx(Z9,{size:14,style:{color:F.text.muted}})}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsx("p",{className:"text-xs font-medium mb-1.5 line-clamp-2",style:{color:F.text.primary},children:t.title}),k.jsxs("div",{className:"flex items-center justify-between",children:[r&&k.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 rounded font-medium",style:{backgroundColor:i?.bg,color:i?.main},children:[r.icon," ",r.shortName]}),t.progress>0&&t.progress<100&&k.jsx("div",{className:"w-12 h-1 rounded-full overflow-hidden",style:{backgroundColor:F.bg.border},children:k.jsx("div",{className:"h-full rounded-full",style:{backgroundColor:i?.main||F.accent,width:`${t.progress}%`}})})]})]})]})}function fn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=fn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var DW={value:()=>{}};function Xg(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new up(n)}function up(t){this._=t}function NW(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}up.prototype=Xg.prototype={constructor:up,on:function(t,e){var n=this._,r=NW(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=LW(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=LT(n[i],t.name,e);else if(e==null)for(i in n)n[i]=LT(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new up(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function LW(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function LT(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=DW,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Rb="http://www.w3.org/1999/xhtml";const OT={svg:"http://www.w3.org/2000/svg",xhtml:Rb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zg(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),OT.hasOwnProperty(e)?{space:OT[e],local:t}:t}function OW(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Rb&&e.documentElement.namespaceURI===Rb?e.createElement(t):e.createElementNS(n,t)}}function RW(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function EL(t){var e=Zg(t);return(e.local?RW:OW)(e)}function BW(){}function N1(t){return t==null?BW:function(){return this.querySelector(t)}}function jW(t){typeof t!="function"&&(t=N1(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,c=r[i]=new Array(o),u,h,f=0;f<o;++f)(u=s[f])&&(h=t.call(u,u.__data__,f,s))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h);return new Fr(r,this._parents)}function $W(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function zW(){return[]}function AL(t){return t==null?zW:function(){return this.querySelectorAll(t)}}function PW(t){return function(){return $W(t.apply(this,arguments))}}function FW(t){typeof t=="function"?t=PW(t):t=AL(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],c=o.length,u,h=0;h<c;++h)(u=o[h])&&(r.push(t.call(u,u.__data__,h,o)),i.push(u));return new Fr(r,i)}function ML(t){return function(){return this.matches(t)}}function DL(t){return function(e){return e.matches(t)}}var IW=Array.prototype.find;function HW(t){return function(){return IW.call(this.children,t)}}function VW(){return this.firstElementChild}function qW(t){return this.select(t==null?VW:HW(typeof t=="function"?t:DL(t)))}var UW=Array.prototype.filter;function WW(){return Array.from(this.children)}function YW(t){return function(){return UW.call(this.children,t)}}function GW(t){return this.selectAll(t==null?WW:YW(typeof t=="function"?t:DL(t)))}function XW(t){typeof t!="function"&&(t=ML(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,c=r[i]=[],u,h=0;h<o;++h)(u=s[h])&&t.call(u,u.__data__,h,s)&&c.push(u);return new Fr(r,this._parents)}function NL(t){return new Array(t.length)}function ZW(){return new Fr(this._enter||this._groups.map(NL),this._parents)}function Hp(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Hp.prototype={constructor:Hp,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function KW(t){return function(){return t}}function QW(t,e,n,r,i,s){for(var o=0,c,u=e.length,h=s.length;o<h;++o)(c=e[o])?(c.__data__=s[o],r[o]=c):n[o]=new Hp(t,s[o]);for(;o<u;++o)(c=e[o])&&(i[o]=c)}function JW(t,e,n,r,i,s,o){var c,u,h=new Map,f=e.length,p=s.length,m=new Array(f),y;for(c=0;c<f;++c)(u=e[c])&&(m[c]=y=o.call(u,u.__data__,c,e)+"",h.has(y)?i[c]=u:h.set(y,u));for(c=0;c<p;++c)y=o.call(t,s[c],c,s)+"",(u=h.get(y))?(r[c]=u,u.__data__=s[c],h.delete(y)):n[c]=new Hp(t,s[c]);for(c=0;c<f;++c)(u=e[c])&&h.get(m[c])===u&&(i[c]=u)}function tY(t){return t.__data__}function eY(t,e){if(!arguments.length)return Array.from(this,tY);var n=e?JW:QW,r=this._parents,i=this._groups;typeof t!="function"&&(t=KW(t));for(var s=i.length,o=new Array(s),c=new Array(s),u=new Array(s),h=0;h<s;++h){var f=r[h],p=i[h],m=p.length,y=nY(t.call(f,f&&f.__data__,h,r)),x=y.length,b=c[h]=new Array(x),w=o[h]=new Array(x),_=u[h]=new Array(m);n(f,p,b,w,_,y,e);for(var S=0,T=0,E,M;S<x;++S)if(E=b[S]){for(S>=T&&(T=S+1);!(M=w[T])&&++T<x;);E._next=M||null}}return o=new Fr(o,r),o._enter=c,o._exit=u,o}function nY(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rY(){return new Fr(this._exit||this._groups.map(NL),this._parents)}function iY(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function aY(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),c=new Array(i),u=0;u<o;++u)for(var h=n[u],f=r[u],p=h.length,m=c[u]=new Array(p),y,x=0;x<p;++x)(y=h[x]||f[x])&&(m[x]=y);for(;u<i;++u)c[u]=n[u];return new Fr(c,this._parents)}function sY(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function oY(t){t||(t=lY);function e(p,m){return p&&m?t(p.__data__,m.__data__):!p-!m}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],c=o.length,u=i[s]=new Array(c),h,f=0;f<c;++f)(h=o[f])&&(u[f]=h);u.sort(e)}return new Fr(i,this._parents).order()}function lY(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function cY(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function uY(){return Array.from(this)}function hY(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function dY(){let t=0;for(const e of this)++t;return t}function fY(){return!this.node()}function pY(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,c;s<o;++s)(c=i[s])&&t.call(c,c.__data__,s,i);return this}function gY(t){return function(){this.removeAttribute(t)}}function mY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yY(t,e){return function(){this.setAttribute(t,e)}}function xY(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function bY(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function vY(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wY(t,e){var n=Zg(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?mY:gY:typeof e=="function"?n.local?vY:bY:n.local?xY:yY)(n,e))}function LL(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function SY(t){return function(){this.style.removeProperty(t)}}function CY(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _Y(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function kY(t,e,n){return arguments.length>1?this.each((e==null?SY:typeof e=="function"?_Y:CY)(t,e,n??"")):tc(this.node(),t)}function tc(t,e){return t.style.getPropertyValue(e)||LL(t).getComputedStyle(t,null).getPropertyValue(e)}function TY(t){return function(){delete this[t]}}function EY(t,e){return function(){this[t]=e}}function AY(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function MY(t,e){return arguments.length>1?this.each((e==null?TY:typeof e=="function"?AY:EY)(t,e)):this.node()[t]}function OL(t){return t.trim().split(/^|\s+/)}function L1(t){return t.classList||new RL(t)}function RL(t){this._node=t,this._names=OL(t.getAttribute("class")||"")}RL.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function BL(t,e){for(var n=L1(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function jL(t,e){for(var n=L1(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function DY(t){return function(){BL(this,t)}}function NY(t){return function(){jL(this,t)}}function LY(t,e){return function(){(e.apply(this,arguments)?BL:jL)(this,t)}}function OY(t,e){var n=OL(t+"");if(arguments.length<2){for(var r=L1(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?LY:e?DY:NY)(n,e))}function RY(){this.textContent=""}function BY(t){return function(){this.textContent=t}}function jY(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function $Y(t){return arguments.length?this.each(t==null?RY:(typeof t=="function"?jY:BY)(t)):this.node().textContent}function zY(){this.innerHTML=""}function PY(t){return function(){this.innerHTML=t}}function FY(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function IY(t){return arguments.length?this.each(t==null?zY:(typeof t=="function"?FY:PY)(t)):this.node().innerHTML}function HY(){this.nextSibling&&this.parentNode.appendChild(this)}function VY(){return this.each(HY)}function qY(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function UY(){return this.each(qY)}function WY(t){var e=typeof t=="function"?t:EL(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function YY(){return null}function GY(t,e){var n=typeof t=="function"?t:EL(t),r=e==null?YY:typeof e=="function"?e:N1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function XY(){var t=this.parentNode;t&&t.removeChild(this)}function ZY(){return this.each(XY)}function KY(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function QY(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function JY(t){return this.select(t?QY:KY)}function tG(t){return arguments.length?this.property("__data__",t):this.node().__data__}function eG(t){return function(e){t.call(this,e,this.__data__)}}function nG(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function rG(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function iG(t,e,n){return function(){var r=this.__on,i,s=eG(e);if(r){for(var o=0,c=r.length;o<c;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function aG(t,e,n){var r=nG(t+""),i,s=r.length,o;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,h=c.length,f;u<h;++u)for(i=0,f=c[u];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(c=e?iG:rG,i=0;i<s;++i)this.each(c(r[i],e,n));return this}function $L(t,e,n){var r=LL(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function sG(t,e){return function(){return $L(this,t,e)}}function oG(t,e){return function(){return $L(this,t,e.apply(this,arguments))}}function lG(t,e){return this.each((typeof e=="function"?oG:sG)(t,e))}function*cG(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var zL=[null];function Fr(t,e){this._groups=t,this._parents=e}function Gh(){return new Fr([[document.documentElement]],zL)}function uG(){return this}Fr.prototype=Gh.prototype={constructor:Fr,select:jW,selectAll:FW,selectChild:qW,selectChildren:GW,filter:XW,data:eY,enter:ZW,exit:rY,join:iY,merge:aY,selection:uG,order:sY,sort:oY,call:cY,nodes:uY,node:hY,size:dY,empty:fY,each:pY,attr:wY,style:kY,property:MY,classed:OY,text:$Y,html:IY,raise:VY,lower:UY,append:WY,insert:GY,remove:ZY,clone:JY,datum:tG,on:aG,dispatch:lG,[Symbol.iterator]:cG};function Wt(t){return typeof t=="string"?new Fr([[document.querySelector(t)]],[document.documentElement]):new Fr([[t]],zL)}function hG(t){let e;for(;e=t.sourceEvent;)t=e;return t}function pi(t,e){if(t=hG(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const dG={passive:!1},gh={capture:!0,passive:!1};function Sx(t){t.stopImmediatePropagation()}function Il(t){t.preventDefault(),t.stopImmediatePropagation()}function PL(t){var e=t.document.documentElement,n=Wt(t).on("dragstart.drag",Il,gh);"onselectstart"in e?n.on("selectstart.drag",Il,gh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function FL(t,e){var n=t.document.documentElement,r=Wt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Il,gh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Bf=t=>()=>t;function Bb(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:c,dx:u,dy:h,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:f}})}Bb.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function fG(t){return!t.ctrlKey&&!t.button}function pG(){return this.parentNode}function gG(t,e){return e??{x:t.x,y:t.y}}function mG(){return navigator.maxTouchPoints||"ontouchstart"in this}function IL(){var t=fG,e=pG,n=gG,r=mG,i={},s=Xg("start","drag","end"),o=0,c,u,h,f,p=0;function m(E){E.on("mousedown.drag",y).filter(r).on("touchstart.drag",w).on("touchmove.drag",_,dG).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(E,M){if(!(f||!t.call(this,E,M))){var L=T(this,e.call(this,E,M),E,M,"mouse");L&&(Wt(E.view).on("mousemove.drag",x,gh).on("mouseup.drag",b,gh),PL(E.view),Sx(E),h=!1,c=E.clientX,u=E.clientY,L("start",E))}}function x(E){if(Il(E),!h){var M=E.clientX-c,L=E.clientY-u;h=M*M+L*L>p}i.mouse("drag",E)}function b(E){Wt(E.view).on("mousemove.drag mouseup.drag",null),FL(E.view,h),Il(E),i.mouse("end",E)}function w(E,M){if(t.call(this,E,M)){var L=E.changedTouches,N=e.call(this,E,M),$=L.length,P,z;for(P=0;P<$;++P)(z=T(this,N,E,M,L[P].identifier,L[P]))&&(Sx(E),z("start",E,L[P]))}}function _(E){var M=E.changedTouches,L=M.length,N,$;for(N=0;N<L;++N)($=i[M[N].identifier])&&(Il(E),$("drag",E,M[N]))}function S(E){var M=E.changedTouches,L=M.length,N,$;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<L;++N)($=i[M[N].identifier])&&(Sx(E),$("end",E,M[N]))}function T(E,M,L,N,$,P){var z=s.copy(),j=pi(P||L,M),W,G,B;if((B=n.call(E,new Bb("beforestart",{sourceEvent:L,target:m,identifier:$,active:o,x:j[0],y:j[1],dx:0,dy:0,dispatch:z}),N))!=null)return W=B.x-j[0]||0,G=B.y-j[1]||0,function H(R,I,U){var Z=j,nt;switch(R){case"start":i[$]=H,nt=o++;break;case"end":delete i[$],--o;case"drag":j=pi(U||I,M),nt=o;break}z.call(R,E,new Bb(R,{sourceEvent:I,subject:B,target:m,identifier:$,active:nt,x:j[0]+W,y:j[1]+G,dx:j[0]-Z[0],dy:j[1]-Z[1],dispatch:z}),N)}}return m.filter=function(E){return arguments.length?(t=typeof E=="function"?E:Bf(!!E),m):t},m.container=function(E){return arguments.length?(e=typeof E=="function"?E:Bf(E),m):e},m.subject=function(E){return arguments.length?(n=typeof E=="function"?E:Bf(E),m):n},m.touchable=function(E){return arguments.length?(r=typeof E=="function"?E:Bf(!!E),m):r},m.on=function(){var E=s.on.apply(s,arguments);return E===s?m:E},m.clickDistance=function(E){return arguments.length?(p=(E=+E)*E,m):Math.sqrt(p)},m}function O1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function HL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xh(){}var mh=.7,Vp=1/mh,Hl="\\s*([+-]?\\d+)\\s*",yh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yG=/^#([0-9a-f]{3,8})$/,xG=new RegExp(`^rgb\\(${Hl},${Hl},${Hl}\\)$`),bG=new RegExp(`^rgb\\(${Vi},${Vi},${Vi}\\)$`),vG=new RegExp(`^rgba\\(${Hl},${Hl},${Hl},${yh}\\)$`),wG=new RegExp(`^rgba\\(${Vi},${Vi},${Vi},${yh}\\)$`),SG=new RegExp(`^hsl\\(${yh},${Vi},${Vi}\\)$`),CG=new RegExp(`^hsla\\(${yh},${Vi},${Vi},${yh}\\)$`),RT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O1(Xh,wo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:BT,formatHex:BT,formatHex8:_G,formatHsl:kG,formatRgb:jT,toString:jT});function BT(){return this.rgb().formatHex()}function _G(){return this.rgb().formatHex8()}function kG(){return VL(this).formatHsl()}function jT(){return this.rgb().formatRgb()}function wo(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yG.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$T(e):n===3?new kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xG.exec(t))?new kr(e[1],e[2],e[3],1):(e=bG.exec(t))?new kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vG.exec(t))?jf(e[1],e[2],e[3],e[4]):(e=wG.exec(t))?jf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=SG.exec(t))?FT(e[1],e[2]/100,e[3]/100,1):(e=CG.exec(t))?FT(e[1],e[2]/100,e[3]/100,e[4]):RT.hasOwnProperty(t)?$T(RT[t]):t==="transparent"?new kr(NaN,NaN,NaN,0):null}function $T(t){return new kr(t>>16&255,t>>8&255,t&255,1)}function jf(t,e,n,r){return r<=0&&(t=e=n=NaN),new kr(t,e,n,r)}function TG(t){return t instanceof Xh||(t=wo(t)),t?(t=t.rgb(),new kr(t.r,t.g,t.b,t.opacity)):new kr}function jb(t,e,n,r){return arguments.length===1?TG(t):new kr(t,e,n,r??1)}function kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}O1(kr,jb,HL(Xh,{brighter(t){return t=t==null?Vp:Math.pow(Vp,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mh:Math.pow(mh,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kr(mo(this.r),mo(this.g),mo(this.b),qp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zT,formatHex:zT,formatHex8:EG,formatRgb:PT,toString:PT}));function zT(){return`#${co(this.r)}${co(this.g)}${co(this.b)}`}function EG(){return`#${co(this.r)}${co(this.g)}${co(this.b)}${co((isNaN(this.opacity)?1:this.opacity)*255)}`}function PT(){const t=qp(this.opacity);return`${t===1?"rgb(":"rgba("}${mo(this.r)}, ${mo(this.g)}, ${mo(this.b)}${t===1?")":`, ${t})`}`}function qp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function co(t){return t=mo(t),(t<16?"0":"")+t.toString(16)}function FT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yi(t,e,n,r)}function VL(t){if(t instanceof yi)return new yi(t.h,t.s,t.l,t.opacity);if(t instanceof Xh||(t=wo(t)),!t)return new yi;if(t instanceof yi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,c=s-i,u=(s+i)/2;return c?(e===s?o=(n-r)/c+(n<r)*6:n===s?o=(r-e)/c+2:o=(e-n)/c+4,c/=u<.5?s+i:2-s-i,o*=60):c=u>0&&u<1?0:o,new yi(o,c,u,t.opacity)}function AG(t,e,n,r){return arguments.length===1?VL(t):new yi(t,e,n,r??1)}function yi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}O1(yi,AG,HL(Xh,{brighter(t){return t=t==null?Vp:Math.pow(Vp,t),new yi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mh:Math.pow(mh,t),new yi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new kr(Cx(t>=240?t-240:t+120,i,r),Cx(t,i,r),Cx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new yi(IT(this.h),$f(this.s),$f(this.l),qp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qp(this.opacity);return`${t===1?"hsl(":"hsla("}${IT(this.h)}, ${$f(this.s)*100}%, ${$f(this.l)*100}%${t===1?")":`, ${t})`}`}}));function IT(t){return t=(t||0)%360,t<0?t+360:t}function $f(t){return Math.max(0,Math.min(1,t||0))}function Cx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Kg=t=>()=>t;function qL(t,e){return function(n){return t+n*e}}function MG(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function kft(t,e){var n=e-t;return n?qL(t,n>180||n<-180?n-360*Math.round(n/360):n):Kg(isNaN(t)?e:t)}function DG(t){return(t=+t)==1?UL:function(e,n){return n-e?MG(e,n,t):Kg(isNaN(e)?n:e)}}function UL(t,e){var n=e-t;return n?qL(t,n):Kg(isNaN(t)?e:t)}const Up=(function t(e){var n=DG(e);function r(i,s){var o=n((i=jb(i)).r,(s=jb(s)).r),c=n(i.g,s.g),u=n(i.b,s.b),h=UL(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=c(f),i.b=u(f),i.opacity=h(f),i+""}}return r.gamma=t,r})(1);function NG(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function LG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function OG(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Xu(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(c){for(o=0;o<r;++o)s[o]=i[o](c);return s}}function RG(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function BG(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Xu(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var $b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_x=new RegExp($b.source,"g");function jG(t){return function(){return t}}function $G(t){return function(e){return t(e)+""}}function WL(t,e){var n=$b.lastIndex=_x.lastIndex=0,r,i,s,o=-1,c=[],u=[];for(t=t+"",e=e+"";(r=$b.exec(t))&&(i=_x.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[o]?c[o]+=s:c[++o]=s),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:Fi(r,i)})),n=_x.lastIndex;return n<e.length&&(s=e.slice(n),c[o]?c[o]+=s:c[++o]=s),c.length<2?u[0]?$G(u[0].x):jG(e):(e=u.length,function(h){for(var f=0,p;f<e;++f)c[(p=u[f]).i]=p.x(h);return c.join("")})}function Xu(t,e){var n=typeof e,r;return e==null||n==="boolean"?Kg(e):(n==="number"?Fi:n==="string"?(r=wo(e))?(e=r,Up):WL:e instanceof wo?Up:e instanceof Date?RG:LG(e)?NG:Array.isArray(e)?OG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?BG:Fi)(t,e)}var HT=180/Math.PI,zb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function YL(t,e,n,r,i,s){var o,c,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*HT,skewX:Math.atan(u)*HT,scaleX:o,scaleY:c}}var zf;function zG(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zb:YL(e.a,e.b,e.c,e.d,e.e,e.f)}function PG(t){return t==null||(zf||(zf=document.createElementNS("http://www.w3.org/2000/svg","g")),zf.setAttribute("transform",t),!(t=zf.transform.baseVal.consolidate()))?zb:(t=t.matrix,YL(t.a,t.b,t.c,t.d,t.e,t.f))}function GL(t,e,n,r){function i(h){return h.length?h.pop()+" ":""}function s(h,f,p,m,y,x){if(h!==p||f!==m){var b=y.push("translate(",null,e,null,n);x.push({i:b-4,x:Fi(h,p)},{i:b-2,x:Fi(f,m)})}else(p||m)&&y.push("translate("+p+e+m+n)}function o(h,f,p,m){h!==f?(h-f>180?f+=360:f-h>180&&(h+=360),m.push({i:p.push(i(p)+"rotate(",null,r)-2,x:Fi(h,f)})):f&&p.push(i(p)+"rotate("+f+r)}function c(h,f,p,m){h!==f?m.push({i:p.push(i(p)+"skewX(",null,r)-2,x:Fi(h,f)}):f&&p.push(i(p)+"skewX("+f+r)}function u(h,f,p,m,y,x){if(h!==p||f!==m){var b=y.push(i(y)+"scale(",null,",",null,")");x.push({i:b-4,x:Fi(h,p)},{i:b-2,x:Fi(f,m)})}else(p!==1||m!==1)&&y.push(i(y)+"scale("+p+","+m+")")}return function(h,f){var p=[],m=[];return h=t(h),f=t(f),s(h.translateX,h.translateY,f.translateX,f.translateY,p,m),o(h.rotate,f.rotate,p,m),c(h.skewX,f.skewX,p,m),u(h.scaleX,h.scaleY,f.scaleX,f.scaleY,p,m),h=f=null,function(y){for(var x=-1,b=m.length,w;++x<b;)p[(w=m[x]).i]=w.x(y);return p.join("")}}}var FG=GL(zG,"px, ","px)","deg)"),IG=GL(PG,", ",")",")"),HG=1e-12;function VT(t){return((t=Math.exp(t))+1/t)/2}function VG(t){return((t=Math.exp(t))-1/t)/2}function qG(t){return((t=Math.exp(2*t))-1)/(t+1)}const hp=(function t(e,n,r){function i(s,o){var c=s[0],u=s[1],h=s[2],f=o[0],p=o[1],m=o[2],y=f-c,x=p-u,b=y*y+x*x,w,_;if(b<HG)_=Math.log(m/h)/e,w=function(N){return[c+N*y,u+N*x,h*Math.exp(e*N*_)]};else{var S=Math.sqrt(b),T=(m*m-h*h+r*b)/(2*h*n*S),E=(m*m-h*h-r*b)/(2*m*n*S),M=Math.log(Math.sqrt(T*T+1)-T),L=Math.log(Math.sqrt(E*E+1)-E);_=(L-M)/e,w=function(N){var $=N*_,P=VT(M),z=h/(n*S)*(P*qG(e*$+M)-VG(M));return[c+z*y,u+z*x,h*P/VT(e*$+M)]}}return w.duration=_*1e3*e/Math.SQRT2,w}return i.rho=function(s){var o=Math.max(.001,+s),c=o*o,u=c*c;return t(o,c,u)},i})(Math.SQRT2,2,4);var ec=0,Ou=0,bu=0,XL=1e3,Wp,Ru,Yp=0,So=0,Qg=0,xh=typeof performance=="object"&&performance.now?performance:Date,ZL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function R1(){return So||(ZL(UG),So=xh.now()+Qg)}function UG(){So=0}function Gp(){this._call=this._time=this._next=null}Gp.prototype=KL.prototype={constructor:Gp,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?R1():+n)+(e==null?0:+e),!this._next&&Ru!==this&&(Ru?Ru._next=this:Wp=this,Ru=this),this._call=t,this._time=n,Pb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pb())}};function KL(t,e,n){var r=new Gp;return r.restart(t,e,n),r}function WG(){R1(),++ec;for(var t=Wp,e;t;)(e=So-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ec}function qT(){So=(Yp=xh.now())+Qg,ec=Ou=0;try{WG()}finally{ec=0,GG(),So=0}}function YG(){var t=xh.now(),e=t-Yp;e>XL&&(Qg-=e,Yp=t)}function GG(){for(var t,e=Wp,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Wp=n);Ru=t,Pb(r)}function Pb(t){if(!ec){Ou&&(Ou=clearTimeout(Ou));var e=t-So;e>24?(t<1/0&&(Ou=setTimeout(qT,t-xh.now()-Qg)),bu&&(bu=clearInterval(bu))):(bu||(Yp=xh.now(),bu=setInterval(YG,XL)),ec=1,ZL(qT))}}function UT(t,e,n){var r=new Gp;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var XG=Xg("start","end","cancel","interrupt"),ZG=[],QL=0,WT=1,Fb=2,dp=3,YT=4,Ib=5,fp=6;function Jg(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;KG(t,n,{name:e,index:r,group:i,on:XG,tween:ZG,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:QL})}function B1(t,e){var n=Ai(t,e);if(n.state>QL)throw new Error("too late; already scheduled");return n}function Xi(t,e){var n=Ai(t,e);if(n.state>dp)throw new Error("too late; already running");return n}function Ai(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function KG(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=KL(s,0,n.time);function s(h){n.state=WT,n.timer.restart(o,n.delay,n.time),n.delay<=h&&o(h-n.delay)}function o(h){var f,p,m,y;if(n.state!==WT)return u();for(f in r)if(y=r[f],y.name===n.name){if(y.state===dp)return UT(o);y.state===YT?(y.state=fp,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[f]):+f<e&&(y.state=fp,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[f])}if(UT(function(){n.state===dp&&(n.state=YT,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=Fb,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Fb){for(n.state=dp,i=new Array(m=n.tween.length),f=0,p=-1;f<m;++f)(y=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++p]=y);i.length=p+1}}function c(h){for(var f=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(u),n.state=Ib,1),p=-1,m=i.length;++p<m;)i[p].call(t,f);n.state===Ib&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=fp,n.timer.stop(),delete r[e];for(var h in r)return;delete t.__transition}}function pp(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Fb&&r.state<Ib,r.state=fp,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function QG(t){return this.each(function(){pp(this,t)})}function JG(t,e){var n,r;return function(){var i=Xi(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,c=r.length;o<c;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function tX(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Xi(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var c={name:e,value:n},u=0,h=i.length;u<h;++u)if(i[u].name===e){i[u]=c;break}u===h&&i.push(c)}s.tween=i}}function eX(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ai(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?JG:tX)(n,t,e))}function j1(t,e,n){var r=t._id;return t.each(function(){var i=Xi(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ai(i,r).value[e]}}function JL(t,e){var n;return(typeof e=="number"?Fi:e instanceof wo?Up:(n=wo(e))?(e=n,Up):WL)(t,e)}function nX(t){return function(){this.removeAttribute(t)}}function rX(t){return function(){this.removeAttributeNS(t.space,t.local)}}function iX(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function aX(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function sX(t,e,n){var r,i,s;return function(){var o,c=n(this),u;return c==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=c+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,c)))}}function oX(t,e,n){var r,i,s;return function(){var o,c=n(this),u;return c==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=c+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,c)))}}function lX(t,e){var n=Zg(t),r=n==="transform"?IG:JL;return this.attrTween(t,typeof e=="function"?(n.local?oX:sX)(n,r,j1(this,"attr."+t,e)):e==null?(n.local?rX:nX)(n):(n.local?aX:iX)(n,r,e))}function cX(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function uX(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function hX(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&uX(t,s)),n}return i._value=e,i}function dX(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&cX(t,s)),n}return i._value=e,i}function fX(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Zg(t);return this.tween(n,(r.local?hX:dX)(r,e))}function pX(t,e){return function(){B1(this,t).delay=+e.apply(this,arguments)}}function gX(t,e){return e=+e,function(){B1(this,t).delay=e}}function mX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?pX:gX)(e,t)):Ai(this.node(),e).delay}function yX(t,e){return function(){Xi(this,t).duration=+e.apply(this,arguments)}}function xX(t,e){return e=+e,function(){Xi(this,t).duration=e}}function bX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?yX:xX)(e,t)):Ai(this.node(),e).duration}function vX(t,e){if(typeof e!="function")throw new Error;return function(){Xi(this,t).ease=e}}function wX(t){var e=this._id;return arguments.length?this.each(vX(e,t)):Ai(this.node(),e).ease}function SX(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Xi(this,t).ease=n}}function CX(t){if(typeof t!="function")throw new Error;return this.each(SX(this._id,t))}function _X(t){typeof t!="function"&&(t=ML(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,c=r[i]=[],u,h=0;h<o;++h)(u=s[h])&&t.call(u,u.__data__,h,s)&&c.push(u);return new Ma(r,this._parents,this._name,this._id)}function kX(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),c=0;c<s;++c)for(var u=e[c],h=n[c],f=u.length,p=o[c]=new Array(f),m,y=0;y<f;++y)(m=u[y]||h[y])&&(p[y]=m);for(;c<r;++c)o[c]=e[c];return new Ma(o,this._parents,this._name,this._id)}function TX(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function EX(t,e,n){var r,i,s=TX(e)?B1:Xi;return function(){var o=s(this,t),c=o.on;c!==r&&(i=(r=c).copy()).on(e,n),o.on=i}}function AX(t,e){var n=this._id;return arguments.length<2?Ai(this.node(),n).on.on(t):this.each(EX(n,t,e))}function MX(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function DX(){return this.on("end.remove",MX(this._id))}function NX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=N1(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var c=r[o],u=c.length,h=s[o]=new Array(u),f,p,m=0;m<u;++m)(f=c[m])&&(p=t.call(f,f.__data__,m,c))&&("__data__"in f&&(p.__data__=f.__data__),h[m]=p,Jg(h[m],e,n,m,h,Ai(f,n)));return new Ma(s,this._parents,e,n)}function LX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=AL(t));for(var r=this._groups,i=r.length,s=[],o=[],c=0;c<i;++c)for(var u=r[c],h=u.length,f,p=0;p<h;++p)if(f=u[p]){for(var m=t.call(f,f.__data__,p,u),y,x=Ai(f,n),b=0,w=m.length;b<w;++b)(y=m[b])&&Jg(y,e,n,b,m,x);s.push(m),o.push(f)}return new Ma(s,o,e,n)}var OX=Gh.prototype.constructor;function RX(){return new OX(this._groups,this._parents)}function BX(t,e){var n,r,i;return function(){var s=tc(this,t),o=(this.style.removeProperty(t),tc(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function t3(t){return function(){this.style.removeProperty(t)}}function jX(t,e,n){var r,i=n+"",s;return function(){var o=tc(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function $X(t,e,n){var r,i,s;return function(){var o=tc(this,t),c=n(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(t),tc(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,c))}}function zX(t,e){var n,r,i,s="style."+e,o="end."+s,c;return function(){var u=Xi(this,t),h=u.on,f=u.value[s]==null?c||(c=t3(e)):void 0;(h!==n||i!==f)&&(r=(n=h).copy()).on(o,i=f),u.on=r}}function PX(t,e,n){var r=(t+="")=="transform"?FG:JL;return e==null?this.styleTween(t,BX(t,r)).on("end.style."+t,t3(t)):typeof e=="function"?this.styleTween(t,$X(t,r,j1(this,"style."+t,e))).each(zX(this._id,t)):this.styleTween(t,jX(t,r,e),n).on("end.style."+t,null)}function FX(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function IX(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&FX(t,o,n)),r}return s._value=e,s}function HX(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,IX(t,e,n??""))}function VX(t){return function(){this.textContent=t}}function qX(t){return function(){var e=t(this);this.textContent=e??""}}function UX(t){return this.tween("text",typeof t=="function"?qX(j1(this,"text",t)):VX(t==null?"":t+""))}function WX(t){return function(e){this.textContent=t.call(this,e)}}function YX(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&WX(i)),e}return r._value=t,r}function GX(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,YX(t))}function XX(){for(var t=this._name,e=this._id,n=e3(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],c=o.length,u,h=0;h<c;++h)if(u=o[h]){var f=Ai(u,e);Jg(u,t,n,h,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ma(r,this._parents,t,n)}function ZX(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var c={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var h=Xi(this,r),f=h.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(u)),h.on=e}),i===0&&s()})}var KX=0;function Ma(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function e3(){return++KX}var ya=Gh.prototype;Ma.prototype={constructor:Ma,select:NX,selectAll:LX,selectChild:ya.selectChild,selectChildren:ya.selectChildren,filter:_X,merge:kX,selection:RX,transition:XX,call:ya.call,nodes:ya.nodes,node:ya.node,size:ya.size,empty:ya.empty,each:ya.each,on:AX,attr:lX,attrTween:fX,style:PX,styleTween:HX,text:UX,textTween:GX,remove:DX,tween:eX,delay:mX,duration:bX,ease:wX,easeVarying:CX,end:ZX,[Symbol.iterator]:ya[Symbol.iterator]};function QX(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var JX={time:null,delay:0,duration:250,ease:QX};function tZ(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function eZ(t){var e,n;t instanceof Ma?(e=t._id,t=t._name):(e=e3(),(n=JX).time=R1(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],c=o.length,u,h=0;h<c;++h)(u=o[h])&&Jg(u,t,e,h,o,n||tZ(u,e));return new Ma(r,this._parents,t,e)}Gh.prototype.interrupt=QG;Gh.prototype.transition=eZ;const Pf=t=>()=>t;function nZ(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Sa(t,e,n){this.k=t,this.x=e,this.y=n}Sa.prototype={constructor:Sa,scale:function(t){return t===1?this:new Sa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Sa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tm=new Sa(1,0,0);n3.prototype=Sa.prototype;function n3(t){for(;!t.__zoom;)if(!(t=t.parentNode))return tm;return t.__zoom}function kx(t){t.stopImmediatePropagation()}function vu(t){t.preventDefault(),t.stopImmediatePropagation()}function rZ(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function iZ(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function GT(){return this.__zoom||tm}function aZ(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function sZ(){return navigator.maxTouchPoints||"ontouchstart"in this}function oZ(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function r3(){var t=rZ,e=iZ,n=oZ,r=aZ,i=sZ,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],c=250,u=hp,h=Xg("start","zoom","end"),f,p,m,y=500,x=150,b=0,w=10;function _(B){B.property("__zoom",GT).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",j).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(B,H,R,I){var U=B.selection?B.selection():B;U.property("__zoom",GT),B!==U?M(B,H,R,I):U.interrupt().each(function(){L(this,arguments).event(I).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},_.scaleBy=function(B,H,R,I){_.scaleTo(B,function(){var U=this.__zoom.k,Z=typeof H=="function"?H.apply(this,arguments):H;return U*Z},R,I)},_.scaleTo=function(B,H,R,I){_.transform(B,function(){var U=e.apply(this,arguments),Z=this.__zoom,nt=R==null?E(U):typeof R=="function"?R.apply(this,arguments):R,q=Z.invert(nt),V=typeof H=="function"?H.apply(this,arguments):H;return n(T(S(Z,V),nt,q),U,o)},R,I)},_.translateBy=function(B,H,R,I){_.transform(B,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof R=="function"?R.apply(this,arguments):R),e.apply(this,arguments),o)},null,I)},_.translateTo=function(B,H,R,I,U){_.transform(B,function(){var Z=e.apply(this,arguments),nt=this.__zoom,q=I==null?E(Z):typeof I=="function"?I.apply(this,arguments):I;return n(tm.translate(q[0],q[1]).scale(nt.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof R=="function"?-R.apply(this,arguments):-R),Z,o)},I,U)};function S(B,H){return H=Math.max(s[0],Math.min(s[1],H)),H===B.k?B:new Sa(H,B.x,B.y)}function T(B,H,R){var I=H[0]-R[0]*B.k,U=H[1]-R[1]*B.k;return I===B.x&&U===B.y?B:new Sa(B.k,I,U)}function E(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function M(B,H,R,I){B.on("start.zoom",function(){L(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(I).end()}).tween("zoom",function(){var U=this,Z=arguments,nt=L(U,Z).event(I),q=e.apply(U,Z),V=R==null?E(q):typeof R=="function"?R.apply(U,Z):R,K=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),et=U.__zoom,X=typeof H=="function"?H.apply(U,Z):H,Q=u(et.invert(V).concat(K/et.k),X.invert(V).concat(K/X.k));return function(tt){if(tt===1)tt=X;else{var at=Q(tt),ut=K/at[2];tt=new Sa(ut,V[0]-at[0]*ut,V[1]-at[1]*ut)}nt.zoom(null,tt)}})}function L(B,H,R){return!R&&B.__zooming||new N(B,H)}function N(B,H){this.that=B,this.args=H,this.active=0,this.sourceEvent=null,this.extent=e.apply(B,H),this.taps=0}N.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,H){return this.mouse&&B!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var H=Wt(this.that).datum();h.call(B,this.that,new nZ(B,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:h}),H)}};function $(B,...H){if(!t.apply(this,arguments))return;var R=L(this,H).event(B),I=this.__zoom,U=Math.max(s[0],Math.min(s[1],I.k*Math.pow(2,r.apply(this,arguments)))),Z=pi(B);if(R.wheel)(R.mouse[0][0]!==Z[0]||R.mouse[0][1]!==Z[1])&&(R.mouse[1]=I.invert(R.mouse[0]=Z)),clearTimeout(R.wheel);else{if(I.k===U)return;R.mouse=[Z,I.invert(Z)],pp(this),R.start()}vu(B),R.wheel=setTimeout(nt,x),R.zoom("mouse",n(T(S(I,U),R.mouse[0],R.mouse[1]),R.extent,o));function nt(){R.wheel=null,R.end()}}function P(B,...H){if(m||!t.apply(this,arguments))return;var R=B.currentTarget,I=L(this,H,!0).event(B),U=Wt(B.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",K,!0),Z=pi(B,R),nt=B.clientX,q=B.clientY;PL(B.view),kx(B),I.mouse=[Z,this.__zoom.invert(Z)],pp(this),I.start();function V(et){if(vu(et),!I.moved){var X=et.clientX-nt,Q=et.clientY-q;I.moved=X*X+Q*Q>b}I.event(et).zoom("mouse",n(T(I.that.__zoom,I.mouse[0]=pi(et,R),I.mouse[1]),I.extent,o))}function K(et){U.on("mousemove.zoom mouseup.zoom",null),FL(et.view,I.moved),vu(et),I.event(et).end()}}function z(B,...H){if(t.apply(this,arguments)){var R=this.__zoom,I=pi(B.changedTouches?B.changedTouches[0]:B,this),U=R.invert(I),Z=R.k*(B.shiftKey?.5:2),nt=n(T(S(R,Z),I,U),e.apply(this,H),o);vu(B),c>0?Wt(this).transition().duration(c).call(M,nt,I,B):Wt(this).call(_.transform,nt,I,B)}}function j(B,...H){if(t.apply(this,arguments)){var R=B.touches,I=R.length,U=L(this,H,B.changedTouches.length===I).event(B),Z,nt,q,V;for(kx(B),nt=0;nt<I;++nt)q=R[nt],V=pi(q,this),V=[V,this.__zoom.invert(V),q.identifier],U.touch0?!U.touch1&&U.touch0[2]!==V[2]&&(U.touch1=V,U.taps=0):(U.touch0=V,Z=!0,U.taps=1+!!f);f&&(f=clearTimeout(f)),Z&&(U.taps<2&&(p=V[0],f=setTimeout(function(){f=null},y)),pp(this),U.start())}}function W(B,...H){if(this.__zooming){var R=L(this,H).event(B),I=B.changedTouches,U=I.length,Z,nt,q,V;for(vu(B),Z=0;Z<U;++Z)nt=I[Z],q=pi(nt,this),R.touch0&&R.touch0[2]===nt.identifier?R.touch0[0]=q:R.touch1&&R.touch1[2]===nt.identifier&&(R.touch1[0]=q);if(nt=R.that.__zoom,R.touch1){var K=R.touch0[0],et=R.touch0[1],X=R.touch1[0],Q=R.touch1[1],tt=(tt=X[0]-K[0])*tt+(tt=X[1]-K[1])*tt,at=(at=Q[0]-et[0])*at+(at=Q[1]-et[1])*at;nt=S(nt,Math.sqrt(tt/at)),q=[(K[0]+X[0])/2,(K[1]+X[1])/2],V=[(et[0]+Q[0])/2,(et[1]+Q[1])/2]}else if(R.touch0)q=R.touch0[0],V=R.touch0[1];else return;R.zoom("touch",n(T(nt,q,V),R.extent,o))}}function G(B,...H){if(this.__zooming){var R=L(this,H).event(B),I=B.changedTouches,U=I.length,Z,nt;for(kx(B),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),Z=0;Z<U;++Z)nt=I[Z],R.touch0&&R.touch0[2]===nt.identifier?delete R.touch0:R.touch1&&R.touch1[2]===nt.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(nt=pi(nt,this),Math.hypot(p[0]-nt[0],p[1]-nt[1])<w)){var q=Wt(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return _.wheelDelta=function(B){return arguments.length?(r=typeof B=="function"?B:Pf(+B),_):r},_.filter=function(B){return arguments.length?(t=typeof B=="function"?B:Pf(!!B),_):t},_.touchable=function(B){return arguments.length?(i=typeof B=="function"?B:Pf(!!B),_):i},_.extent=function(B){return arguments.length?(e=typeof B=="function"?B:Pf([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),_):e},_.scaleExtent=function(B){return arguments.length?(s[0]=+B[0],s[1]=+B[1],_):[s[0],s[1]]},_.translateExtent=function(B){return arguments.length?(o[0][0]=+B[0][0],o[1][0]=+B[1][0],o[0][1]=+B[0][1],o[1][1]=+B[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(B){return arguments.length?(n=B,_):n},_.duration=function(B){return arguments.length?(c=+B,_):c},_.interpolate=function(B){return arguments.length?(u=B,_):u},_.on=function(){var B=h.on.apply(h,arguments);return B===h?_:B},_.clickDistance=function(B){return arguments.length?(b=(B=+B)*B,_):Math.sqrt(b)},_.tapDistance=function(B){return arguments.length?(w=+B,_):w},_}const Wi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},bh=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],i3=["Enter"," ","Escape"],a3={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var nc;(function(t){t.Strict="strict",t.Loose="loose"})(nc||(nc={}));var yo;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(yo||(yo={}));var vh;(function(t){t.Partial="partial",t.Full="full"})(vh||(vh={}));const s3={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ds;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ds||(ds={}));var Xp;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Xp||(Xp={}));var Bt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Bt||(Bt={}));const XT={[Bt.Left]:Bt.Right,[Bt.Right]:Bt.Left,[Bt.Top]:Bt.Bottom,[Bt.Bottom]:Bt.Top};function o3(t){return t===null?null:t?"valid":"invalid"}const l3=t=>"id"in t&&"source"in t&&"target"in t,lZ=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),$1=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Zh=(t,e=[0,0])=>{const{width:n,height:r}=La(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},cZ=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):$1(i)?i:e.nodeLookup.get(i.id));const c=o?Zp(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return em(r,c)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return nm(n)},Kh=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=em(n,Zp(i)),r=!0)}),r?nm(n):{x:0,y:0,width:0,height:0}},z1=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const c={...Jh(e,[n,r,i]),width:e.width/i,height:e.height/i},u=[];for(const h of t.values()){const{measured:f,selectable:p=!0,hidden:m=!1}=h;if(o&&!p||m)continue;const y=f.width??h.width??h.initialWidth??null,x=f.height??h.height??h.initialHeight??null,b=wh(c,ic(h)),w=(y??0)*(x??0),_=s&&b>0;(!h.internals.handleBounds||_||b>=w||h.dragging)&&u.push(h)}return u},uZ=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function hZ(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function dZ({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!0);const c=hZ(t,o),u=Kh(c),h=P1(u,e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(h,{duration:o?.duration,ease:o?.ease,interpolate:o?.interpolate}),Promise.resolve(!0)}function c3({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),c=o.parentId?n.get(o.parentId):void 0,{x:u,y:h}=c?c.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let p=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!c)s?.("005",Wi.error005());else{const y=c.measured.width,x=c.measured.height;y&&x&&(p=[[u,h],[u+y,h+x]])}else c&&ac(o.extent)&&(p=[[o.extent[0][0]+u,o.extent[0][1]+h],[o.extent[1][0]+u,o.extent[1][1]+h]]);const m=ac(p)?Co(e,p,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&s?.("015",Wi.error015()),{position:{x:m.x-u+(o.measured.width??0)*f[0],y:m.y-h+(o.measured.height??0)*f[1]},positionAbsolute:m}}async function fZ({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(m=>m.id)),o=[];for(const m of n){if(m.deletable===!1)continue;const y=s.has(m.id),x=!y&&m.parentId&&o.find(b=>b.id===m.parentId);(y||x)&&o.push(m)}const c=new Set(e.map(m=>m.id)),u=r.filter(m=>m.deletable!==!1),f=uZ(o,u);for(const m of u)c.has(m.id)&&!f.find(x=>x.id===m.id)&&f.push(m);if(!i)return{edges:f,nodes:o};const p=await i({nodes:o,edges:f});return typeof p=="boolean"?p?{edges:f,nodes:o}:{edges:[],nodes:[]}:p}const rc=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Co=(t={x:0,y:0},e,n)=>({x:rc(t.x,e[0][0],e[1][0]-(n?.width??0)),y:rc(t.y,e[0][1],e[1][1]-(n?.height??0))});function u3(t,e,n){const{width:r,height:i}=La(n),{x:s,y:o}=n.internals.positionAbsolute;return Co(t,[[s,o],[s+r,o+i]],e)}const ZT=(t,e,n)=>t<e?rc(Math.abs(t-e),1,e)/e:t>n?-rc(Math.abs(t-n),1,e)/e:0,h3=(t,e,n=15,r=40)=>{const i=ZT(t.x,r,e.width-r)*n,s=ZT(t.y,r,e.height-r)*n;return[i,s]},em=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Hb=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),nm=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),ic=(t,e=[0,0])=>{const{x:n,y:r}=$1(t)?t.internals.positionAbsolute:Zh(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Zp=(t,e=[0,0])=>{const{x:n,y:r}=$1(t)?t.internals.positionAbsolute:Zh(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},d3=(t,e)=>nm(em(Hb(t),Hb(e))),wh=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},KT=t=>bi(t.width)&&bi(t.height)&&bi(t.x)&&bi(t.y),bi=t=>!isNaN(t)&&isFinite(t),pZ=(t,e)=>{},Qh=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Jh=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const c={x:(t-n)/i,y:(e-r)/i};return s?Qh(c,o):c},Kp=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Cl(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function gZ(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Cl(t,n),i=Cl(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Cl(t.top??t.y??0,n),i=Cl(t.bottom??t.y??0,n),s=Cl(t.left??t.x??0,e),o=Cl(t.right??t.x??0,e);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function mZ(t,e,n,r,i,s){const{x:o,y:c}=Kp(t,[e,n,r]),{x:u,y:h}=Kp({x:t.x+t.width,y:t.y+t.height},[e,n,r]),f=i-u,p=s-h;return{left:Math.floor(o),top:Math.floor(c),right:Math.floor(f),bottom:Math.floor(p)}}const P1=(t,e,n,r,i,s)=>{const o=gZ(s,e,n),c=(e-o.x)/t.width,u=(n-o.y)/t.height,h=Math.min(c,u),f=rc(h,r,i),p=t.x+t.width/2,m=t.y+t.height/2,y=e/2-p*f,x=n/2-m*f,b=mZ(t,y,x,f,e,n),w={left:Math.min(b.left-o.left,0),top:Math.min(b.top-o.top,0),right:Math.min(b.right-o.right,0),bottom:Math.min(b.bottom-o.bottom,0)};return{x:y-w.left+w.right,y:x-w.top+w.bottom,zoom:f}},Sh=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function ac(t){return t!=null&&t!=="parent"}function La(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function f3(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function p3(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const c=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*c[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*c[1]}return s}function QT(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function yZ(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function xZ(t){return{...a3,...t||{}}}function Zu(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=vi(t),c=Jh({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:u,y:h}=n?Qh(c,e):c;return{xSnapped:u,ySnapped:h,...c}}const F1=t=>({width:t.offsetWidth,height:t.offsetHeight}),g3=t=>t?.getRootNode?.()||window?.document,bZ=["INPUT","SELECT","TEXTAREA"];function m3(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:bZ.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const y3=t=>"clientX"in t,vi=(t,e)=>{const n=y3(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},JT=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const c=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(c.left-n.left)/r,y:(c.top-n.top)/r,...F1(o)}})};function x3({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:c}){const u=t*.125+i*.375+o*.375+n*.125,h=e*.125+s*.375+c*.375+r*.125,f=Math.abs(u-t),p=Math.abs(h-e);return[u,h,f,p]}function Ff(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function tE({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Bt.Left:return[e-Ff(e-r,s),n];case Bt.Right:return[e+Ff(r-e,s),n];case Bt.Top:return[e,n-Ff(n-i,s)];case Bt.Bottom:return[e,n+Ff(i-n,s)]}}function b3({sourceX:t,sourceY:e,sourcePosition:n=Bt.Bottom,targetX:r,targetY:i,targetPosition:s=Bt.Top,curvature:o=.25}){const[c,u]=tE({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[h,f]=tE({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[p,m,y,x]=x3({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:c,sourceControlY:u,targetControlX:h,targetControlY:f});return[`M${t},${e} C${c},${u} ${h},${f} ${r},${i}`,p,m,y,x]}function v3({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,c=r<e?r+o:r-o;return[s,c,i,o]}function vZ({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:s="basic"}){if(s==="manual")return r;const o=i&&n?r+1e3:r,c=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return o+c}function wZ({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=em(Zp(t),Zp(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return wh(o,nm(s))>0}const SZ=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,CZ=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),_Z=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||SZ;let i;return l3(t)?i={...t}:i={...t,id:r(t)},CZ(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function w3({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,c]=v3({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,c]}const eE={[Bt.Left]:{x:-1,y:0},[Bt.Right]:{x:1,y:0},[Bt.Top]:{x:0,y:-1},[Bt.Bottom]:{x:0,y:1}},kZ=({source:t,sourcePosition:e=Bt.Bottom,target:n})=>e===Bt.Left||e===Bt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},nE=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function TZ({source:t,sourcePosition:e=Bt.Bottom,target:n,targetPosition:r=Bt.Top,center:i,offset:s,stepPosition:o}){const c=eE[e],u=eE[r],h={x:t.x+c.x*s,y:t.y+c.y*s},f={x:n.x+u.x*s,y:n.y+u.y*s},p=kZ({source:h,sourcePosition:e,target:f}),m=p.x!==0?"x":"y",y=p[m];let x=[],b,w;const _={x:0,y:0},S={x:0,y:0},[,,T,E]=v3({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(c[m]*u[m]===-1){m==="x"?(b=i.x??h.x+(f.x-h.x)*o,w=i.y??(h.y+f.y)/2):(b=i.x??(h.x+f.x)/2,w=i.y??h.y+(f.y-h.y)*o);const L=[{x:b,y:h.y},{x:b,y:f.y}],N=[{x:h.x,y:w},{x:f.x,y:w}];c[m]===y?x=m==="x"?L:N:x=m==="x"?N:L}else{const L=[{x:h.x,y:f.y}],N=[{x:f.x,y:h.y}];if(m==="x"?x=c.x===y?N:L:x=c.y===y?L:N,e===r){const W=Math.abs(t[m]-n[m]);if(W<=s){const G=Math.min(s-1,s-W);c[m]===y?_[m]=(h[m]>t[m]?-1:1)*G:S[m]=(f[m]>n[m]?-1:1)*G}}if(e!==r){const W=m==="x"?"y":"x",G=c[m]===u[W],B=h[W]>f[W],H=h[W]<f[W];(c[m]===1&&(!G&&B||G&&H)||c[m]!==1&&(!G&&H||G&&B))&&(x=m==="x"?L:N)}const $={x:h.x+_.x,y:h.y+_.y},P={x:f.x+S.x,y:f.y+S.y},z=Math.max(Math.abs($.x-x[0].x),Math.abs(P.x-x[0].x)),j=Math.max(Math.abs($.y-x[0].y),Math.abs(P.y-x[0].y));z>=j?(b=($.x+P.x)/2,w=x[0].y):(b=x[0].x,w=($.y+P.y)/2)}return[[t,{x:h.x+_.x,y:h.y+_.y},...x,{x:f.x+S.x,y:f.y+S.y},n],b,w,T,E]}function EZ(t,e,n,r){const i=Math.min(nE(t,e)/2,nE(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const h=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+i*h},${o}Q ${s},${o} ${s},${o+i*f}`}const c=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${s},${o+i*u}Q ${s},${o} ${s+i*c},${o}`}function Vb({sourceX:t,sourceY:e,sourcePosition:n=Bt.Bottom,targetX:r,targetY:i,targetPosition:s=Bt.Top,borderRadius:o=5,centerX:c,centerY:u,offset:h=20,stepPosition:f=.5}){const[p,m,y,x,b]=TZ({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:c,y:u},offset:h,stepPosition:f});return[p.reduce((_,S,T)=>{let E="";return T>0&&T<p.length-1?E=EZ(p[T-1],S,p[T+1],o):E=`${T===0?"M":"L"}${S.x} ${S.y}`,_+=E,_},""),m,y,x,b]}function rE(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function AZ(t){const{sourceNode:e,targetNode:n}=t;if(!rE(e)||!rE(n))return null;const r=e.internals.handleBounds||iE(e.handles),i=n.internals.handleBounds||iE(n.handles),s=aE(r?.source??[],t.sourceHandle),o=aE(t.connectionMode===nc.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!o)return t.onError?.("008",Wi.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const c=s?.position||Bt.Bottom,u=o?.position||Bt.Top,h=_o(e,s,c),f=_o(n,o,u);return{sourceX:h.x,sourceY:h.y,targetX:f.x,targetY:f.y,sourcePosition:c,targetPosition:u}}function iE(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function _o(t,e,n=Bt.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:c}=e??La(t);if(r)return{x:i+o/2,y:s+c/2};switch(e?.position??n){case Bt.Top:return{x:i+o/2,y:s};case Bt.Right:return{x:i+o,y:s+c/2};case Bt.Bottom:return{x:i+o/2,y:s+c};case Bt.Left:return{x:i,y:s+c/2}}}function aE(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function qb(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function MZ(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,c)=>([c.markerStart||r,c.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const h=qb(u,e);s.has(h)||(o.push({id:h,color:u.color||n,...u}),s.add(h))}}),o),[]).sort((o,c)=>o.id.localeCompare(c.id))}const S3=1e3,DZ=10,I1={nodeOrigin:[0,0],nodeExtent:bh,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},NZ={...I1,checkEquality:!0};function H1(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function LZ(t,e,n){const r=H1(I1,n);for(const i of t.values())if(i.parentId)q1(i,t,e,r);else{const s=Zh(i,r.nodeOrigin),o=ac(i.extent)?i.extent:r.nodeExtent,c=Co(s,o,La(i));i.internals.positionAbsolute=c}}function OZ(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function V1(t){return t==="manual"}function Ub(t,e,n,r={}){const i=H1(NZ,r),s={i:0},o=new Map(e),c=i?.elevateNodesOnSelect&&!V1(i.zIndexMode)?S3:0;let u=t.length>0;e.clear(),n.clear();for(const h of t){let f=o.get(h.id);if(i.checkEquality&&h===f?.internals.userNode)e.set(h.id,f);else{const p=Zh(h,i.nodeOrigin),m=ac(h.extent)?h.extent:i.nodeExtent,y=Co(p,m,La(h));f={...i.defaults,...h,measured:{width:h.measured?.width,height:h.measured?.height},internals:{positionAbsolute:y,handleBounds:OZ(h,f),z:C3(h,c,i.zIndexMode),userNode:h}},e.set(h.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(u=!1),h.parentId&&q1(f,e,n,r,s)}return u}function RZ(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function q1(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:c,zIndexMode:u}=H1(I1,r),h=t.parentId,f=e.get(h);if(!f){console.warn(`Parent node ${h} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}RZ(t,n),i&&!f.parentId&&f.internals.rootParentIndex===void 0&&u==="auto"&&(f.internals.rootParentIndex=++i.i,f.internals.z=f.internals.z+i.i*DZ),i&&f.internals.rootParentIndex!==void 0&&(i.i=f.internals.rootParentIndex);const p=s&&!V1(u)?S3:0,{x:m,y,z:x}=BZ(t,f,o,c,p,u),{positionAbsolute:b}=t.internals,w=m!==b.x||y!==b.y;(w||x!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:w?{x:m,y}:b,z:x}})}function C3(t,e,n){const r=bi(t.zIndex)?t.zIndex:0;return V1(n)?r:r+(t.selected?e:0)}function BZ(t,e,n,r,i,s){const{x:o,y:c}=e.internals.positionAbsolute,u=La(t),h=Zh(t,n),f=ac(t.extent)?Co(h,t.extent,u):h;let p=Co({x:o+f.x,y:c+f.y},r,u);t.extent==="parent"&&(p=u3(p,u,e));const m=C3(t,i,s),y=e.internals.z??0;return{x:p.x,y:p.y,z:y>=m?y+1:m}}function U1(t,e,n,r=[0,0]){const i=[],s=new Map;for(const o of t){const c=e.get(o.parentId);if(!c)continue;const u=s.get(o.parentId)?.expandedRect??ic(c),h=d3(u,o.rect);s.set(o.parentId,{expandedRect:h,parent:c})}return s.size>0&&s.forEach(({expandedRect:o,parent:c},u)=>{const h=c.internals.positionAbsolute,f=La(c),p=c.origin??r,m=o.x<h.x?Math.round(Math.abs(h.x-o.x)):0,y=o.y<h.y?Math.round(Math.abs(h.y-o.y)):0,x=Math.max(f.width,Math.round(o.width)),b=Math.max(f.height,Math.round(o.height)),w=(x-f.width)*p[0],_=(b-f.height)*p[1];(m>0||y>0||w||_)&&(i.push({id:u,type:"position",position:{x:c.position.x-m+w,y:c.position.y-y+_}}),n.get(u)?.forEach(S=>{t.some(T=>T.id===S.id)||i.push({id:S.id,type:"position",position:{x:S.position.x+m,y:S.position.y+y}})})),(f.width<o.width||f.height<o.height||m||y)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(m?p[0]*m-w:0),height:b+(y?p[1]*y-_:0)}})}),i}function jZ(t,e,n,r,i,s,o){const c=r?.querySelector(".xyflow__viewport");let u=!1;if(!c)return{changes:[],updatedInternals:u};const h=[],f=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(f.transform),m=[];for(const y of t.values()){const x=e.get(y.id);if(!x)continue;if(x.hidden){e.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),u=!0;continue}const b=F1(y.nodeElement),w=x.measured.width!==b.width||x.measured.height!==b.height;if(!!(b.width&&b.height&&(w||!x.internals.handleBounds||y.force))){const S=y.nodeElement.getBoundingClientRect(),T=ac(x.extent)?x.extent:s;let{positionAbsolute:E}=x.internals;x.parentId&&x.extent==="parent"?E=u3(E,b,e.get(x.parentId)):T&&(E=Co(E,T,b));const M={...x,measured:b,internals:{...x.internals,positionAbsolute:E,handleBounds:{source:JT("source",y.nodeElement,S,p,x.id),target:JT("target",y.nodeElement,S,p,x.id)}}};e.set(x.id,M),x.parentId&&q1(M,e,n,{nodeOrigin:i,zIndexMode:o}),u=!0,w&&(h.push({id:x.id,type:"dimensions",dimensions:b}),x.expandParent&&x.parentId&&m.push({id:x.id,parentId:x.parentId,rect:ic(M,i)}))}}if(m.length>0){const y=U1(m,e,n,i);h.push(...y)}return{changes:h,updatedInternals:u}}async function $Z({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),c=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(c)}function sE(t,e,n,r,i,s){let o=i;const c=r.get(o)||new Map;r.set(o,c.set(n,e)),o=`${i}-${t}`;const u=r.get(o)||new Map;if(r.set(o,u.set(n,e)),s){o=`${i}-${t}-${s}`;const h=r.get(o)||new Map;r.set(o,h.set(n,e))}}function _3(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:c=null}=r,u={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:c},h=`${i}-${o}--${s}-${c}`,f=`${s}-${c}--${i}-${o}`;sE("source",u,f,t,i,o),sE("target",u,h,t,s,c),e.set(r.id,r)}}function k3(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:k3(n,e):!1}function oE(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function zZ(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!k3(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const c=t.get(s);c&&i.set(s,{id:s,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:c.measured.width??0,height:c.measured.height??0}})}return i}function Tx({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,c]of e){const u=n.get(o)?.internals.userNode;u&&i.push({...u,position:c.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function PZ({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},o=Qh(s,e);return{x:o.x-s.x,y:o.y-s.y}}function FZ({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,c=new Map,u=!1,h={x:0,y:0},f=null,p=!1,m=null,y=!1,x=!1,b=null;function w({noDragClassName:S,handleSelector:T,domNode:E,isSelectable:M,nodeId:L,nodeClickDistance:N=0}){m=Wt(E);function $({x:W,y:G}){const{nodeLookup:B,nodeExtent:H,snapGrid:R,snapToGrid:I,nodeOrigin:U,onNodeDrag:Z,onSelectionDrag:nt,onError:q,updateNodePositions:V}=e();s={x:W,y:G};let K=!1;const et=c.size>1,X=et&&H?Hb(Kh(c)):null,Q=et&&I?PZ({dragItems:c,snapGrid:R,x:W,y:G}):null;for(const[tt,at]of c){if(!B.has(tt))continue;let ut={x:W-at.distance.x,y:G-at.distance.y};I&&(ut=Q?{x:Math.round(ut.x+Q.x),y:Math.round(ut.y+Q.y)}:Qh(ut,R));let pt=null;if(et&&H&&!at.extent&&X){const{positionAbsolute:kt}=at.internals,_t=kt.x-X.x+H[0][0],Pt=kt.x+at.measured.width-X.x2+H[1][0],Yt=kt.y-X.y+H[0][1],de=kt.y+at.measured.height-X.y2+H[1][1];pt=[[_t,Yt],[Pt,de]]}const{position:vt,positionAbsolute:bt}=c3({nodeId:tt,nextPosition:ut,nodeLookup:B,nodeExtent:pt||H,nodeOrigin:U,onError:q});K=K||at.position.x!==vt.x||at.position.y!==vt.y,at.position=vt,at.internals.positionAbsolute=bt}if(x=x||K,!!K&&(V(c,!0),b&&(r||Z||!L&&nt))){const[tt,at]=Tx({nodeId:L,dragItems:c,nodeLookup:B});r?.(b,c,tt,at),Z?.(b,tt,at),L||nt?.(b,at)}}async function P(){if(!f)return;const{transform:W,panBy:G,autoPanSpeed:B,autoPanOnNodeDrag:H}=e();if(!H){u=!1,cancelAnimationFrame(o);return}const[R,I]=h3(h,f,B);(R!==0||I!==0)&&(s.x=(s.x??0)-R/W[2],s.y=(s.y??0)-I/W[2],await G({x:R,y:I})&&$(s)),o=requestAnimationFrame(P)}function z(W){const{nodeLookup:G,multiSelectionActive:B,nodesDraggable:H,transform:R,snapGrid:I,snapToGrid:U,selectNodesOnDrag:Z,onNodeDragStart:nt,onSelectionDragStart:q,unselectNodesAndEdges:V}=e();p=!0,(!Z||!M)&&!B&&L&&(G.get(L)?.selected||V()),M&&Z&&L&&t?.(L);const K=Zu(W.sourceEvent,{transform:R,snapGrid:I,snapToGrid:U,containerBounds:f});if(s=K,c=zZ(G,H,K,L),c.size>0&&(n||nt||!L&&q)){const[et,X]=Tx({nodeId:L,dragItems:c,nodeLookup:G});n?.(W.sourceEvent,c,et,X),nt?.(W.sourceEvent,et,X),L||q?.(W.sourceEvent,X)}}const j=IL().clickDistance(N).on("start",W=>{const{domNode:G,nodeDragThreshold:B,transform:H,snapGrid:R,snapToGrid:I}=e();f=G?.getBoundingClientRect()||null,y=!1,x=!1,b=W.sourceEvent,B===0&&z(W),s=Zu(W.sourceEvent,{transform:H,snapGrid:R,snapToGrid:I,containerBounds:f}),h=vi(W.sourceEvent,f)}).on("drag",W=>{const{autoPanOnNodeDrag:G,transform:B,snapGrid:H,snapToGrid:R,nodeDragThreshold:I,nodeLookup:U}=e(),Z=Zu(W.sourceEvent,{transform:B,snapGrid:H,snapToGrid:R,containerBounds:f});if(b=W.sourceEvent,(W.sourceEvent.type==="touchmove"&&W.sourceEvent.touches.length>1||L&&!U.has(L))&&(y=!0),!y){if(!u&&G&&p&&(u=!0,P()),!p){const nt=vi(W.sourceEvent,f),q=nt.x-h.x,V=nt.y-h.y;Math.sqrt(q*q+V*V)>I&&z(W)}(s.x!==Z.xSnapped||s.y!==Z.ySnapped)&&c&&p&&(h=vi(W.sourceEvent,f),$(Z))}}).on("end",W=>{if(!(!p||y)&&(u=!1,p=!1,cancelAnimationFrame(o),c.size>0)){const{nodeLookup:G,updateNodePositions:B,onNodeDragStop:H,onSelectionDragStop:R}=e();if(x&&(B(c,!1),x=!1),i||H||!L&&R){const[I,U]=Tx({nodeId:L,dragItems:c,nodeLookup:G,dragging:!1});i?.(W.sourceEvent,c,I,U),H?.(W.sourceEvent,I,U),L||R?.(W.sourceEvent,U)}}}).filter(W=>{const G=W.target;return!W.button&&(!S||!oE(G,`.${S}`,E))&&(!T||oE(G,T,E))});m.call(j)}function _(){m?.on(".drag",null)}return{update:w,destroy:_}}function IZ(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())wh(i,ic(s))>0&&r.push(s);return r}const HZ=250;function VZ(t,e,n,r){let i=[],s=1/0;const o=IZ(t,n,e+HZ);for(const c of o){const u=[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]];for(const h of u){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:p}=_o(c,h,h.position,!0),m=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(p-t.y,2));m>e||(m<s?(i=[{...h,x:f,y:p}],s=m):m===s&&i.push({...h,x:f,y:p}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(u=>u.type===c)??i[0]}return i[0]}function T3(t,e,n,r,i,s=!1){const o=r.get(t);if(!o)return null;const c=i==="strict"?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],u=(n?c?.find(h=>h.id===n):c?.[0])??null;return u&&s?{...u,..._o(o,u,u.position,!0)}:u}function E3(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function qZ(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const A3=()=>!0;function UZ(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:c,nodeLookup:u,lib:h,autoPanOnConnect:f,flowId:p,panBy:m,cancelConnection:y,onConnectStart:x,onConnect:b,onConnectEnd:w,isValidConnection:_=A3,onReconnectEnd:S,updateConnection:T,getTransform:E,getFromHandle:M,autoPanSpeed:L,dragThreshold:N=1,handleDomNode:$}){const P=g3(t.target);let z=0,j;const{x:W,y:G}=vi(t),B=E3(s,$),H=c?.getBoundingClientRect();let R=!1;if(!H||!B)return;const I=T3(i,B,r,u,e);if(!I)return;let U=vi(t,H),Z=!1,nt=null,q=!1,V=null;function K(){if(!f||!H)return;const[vt,bt]=h3(U,H,L);m({x:vt,y:bt}),z=requestAnimationFrame(K)}const et={...I,nodeId:i,type:B,position:I.position},X=u.get(i);let tt={inProgress:!0,isValid:null,from:_o(X,et,Bt.Left,!0),fromHandle:et,fromPosition:et.position,fromNode:X,to:U,toHandle:null,toPosition:XT[et.position],toNode:null,pointer:U};function at(){R=!0,T(tt),x?.(t,{nodeId:i,handleId:r,handleType:B})}N===0&&at();function ut(vt){if(!R){const{x:de,y:Ye}=vi(vt),Ge=de-W,qe=Ye-G;if(!(Ge*Ge+qe*qe>N*N))return;at()}if(!M()||!et){pt(vt);return}const bt=E();U=vi(vt,H),j=VZ(Jh(U,bt,!1,[1,1]),n,u,et),Z||(K(),Z=!0);const kt=M3(vt,{handle:j,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:_,doc:P,lib:h,flowId:p,nodeLookup:u});V=kt.handleDomNode,nt=kt.connection,q=qZ(!!j,kt.isValid);const _t=u.get(i),Pt=_t?_o(_t,et,Bt.Left,!0):tt.from,Yt={...tt,from:Pt,isValid:q,to:kt.toHandle&&q?Kp({x:kt.toHandle.x,y:kt.toHandle.y},bt):U,toHandle:kt.toHandle,toPosition:q&&kt.toHandle?kt.toHandle.position:XT[et.position],toNode:kt.toHandle?u.get(kt.toHandle.nodeId):null,pointer:U};T(Yt),tt=Yt}function pt(vt){if(!("touches"in vt&&vt.touches.length>0)){if(R){(j||V)&&nt&&q&&b?.(nt);const{inProgress:bt,...kt}=tt,_t={...kt,toPosition:tt.toHandle?tt.toPosition:null};w?.(vt,_t),s&&S?.(vt,_t)}y(),cancelAnimationFrame(z),Z=!1,q=!1,nt=null,V=null,P.removeEventListener("mousemove",ut),P.removeEventListener("mouseup",pt),P.removeEventListener("touchmove",ut),P.removeEventListener("touchend",pt)}}P.addEventListener("mousemove",ut),P.addEventListener("mouseup",pt),P.addEventListener("touchmove",ut),P.addEventListener("touchend",pt)}function M3(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:c,flowId:u,isValidConnection:h=A3,nodeLookup:f}){const p=s==="target",m=e?o.querySelector(`.${c}-flow__handle[data-id="${u}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:y,y:x}=vi(t),b=o.elementFromPoint(y,x),w=b?.classList.contains(`${c}-flow__handle`)?b:m,_={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const S=E3(void 0,w),T=w.getAttribute("data-nodeid"),E=w.getAttribute("data-handleid"),M=w.classList.contains("connectable"),L=w.classList.contains("connectableend");if(!T||!S)return _;const N={source:p?T:r,sourceHandle:p?E:i,target:p?r:T,targetHandle:p?i:E};_.connection=N;const P=M&&L&&(n===nc.Strict?p&&S==="source"||!p&&S==="target":T!==r||E!==i);_.isValid=P&&h(N),_.toHandle=T3(T,S,E,f,n,!0)}return _}const Wb={onPointerDown:UZ,isValid:M3};function WZ({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Wt(t);function s({translateExtent:c,width:u,height:h,zoomStep:f=1,pannable:p=!0,zoomable:m=!0,inversePan:y=!1}){const x=T=>{if(T.sourceEvent.type!=="wheel"||!e)return;const E=n(),M=T.sourceEvent.ctrlKey&&Sh()?10:1,L=-T.sourceEvent.deltaY*(T.sourceEvent.deltaMode===1?.05:T.sourceEvent.deltaMode?1:.002)*f,N=E[2]*Math.pow(2,L*M);e.scaleTo(N)};let b=[0,0];const w=T=>{(T.sourceEvent.type==="mousedown"||T.sourceEvent.type==="touchstart")&&(b=[T.sourceEvent.clientX??T.sourceEvent.touches[0].clientX,T.sourceEvent.clientY??T.sourceEvent.touches[0].clientY])},_=T=>{const E=n();if(T.sourceEvent.type!=="mousemove"&&T.sourceEvent.type!=="touchmove"||!e)return;const M=[T.sourceEvent.clientX??T.sourceEvent.touches[0].clientX,T.sourceEvent.clientY??T.sourceEvent.touches[0].clientY],L=[M[0]-b[0],M[1]-b[1]];b=M;const N=r()*Math.max(E[2],Math.log(E[2]))*(y?-1:1),$={x:E[0]-L[0]*N,y:E[1]-L[1]*N},P=[[0,0],[u,h]];e.setViewportConstrained({x:$.x,y:$.y,zoom:E[2]},P,c)},S=r3().on("start",w).on("zoom",p?_:null).on("zoom.wheel",m?x:null);i.call(S,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:pi}}const rm=t=>({x:t.x,y:t.y,zoom:t.k}),Ex=({x:t,y:e,zoom:n})=>tm.translate(t,e).scale(n),Rl=(t,e)=>t.target.closest(`.${e}`),D3=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),YZ=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Ax=(t,e=0,n=YZ,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},N3=t=>{const e=t.ctrlKey&&Sh()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function GZ({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:h}){return f=>{if(Rl(f,e))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const p=n.property("__zoom").k||1;if(f.ctrlKey&&o){const w=pi(f),_=N3(f),S=p*Math.pow(2,_);r.scaleTo(n,S,w,f);return}const m=f.deltaMode===1?20:1;let y=i===yo.Vertical?0:f.deltaX*m,x=i===yo.Horizontal?0:f.deltaY*m;!Sh()&&f.shiftKey&&i!==yo.Vertical&&(y=f.deltaY*m,x=0),r.translateBy(n,-(y/p)*s,-(x/p)*s,{internal:!0});const b=rm(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(u?.(f,b),t.panScrollTimeout=setTimeout(()=>{h?.(f,b),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,c?.(f,b))}}function XZ({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!e&&s&&!r.ctrlKey,c=Rl(r,t);if(r.ctrlKey&&s&&c&&r.preventDefault(),o||c)return null;r.preventDefault(),n.call(this,r,i)}}function ZZ({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=rm(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function KZ({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&D3(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,rm(s.transform))}}function QZ({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&D3(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const c=rm(o.transform);t.prevViewport=c,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,c)},n?150:0)}}}function JZ({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:c,noPanClassName:u,lib:h,connectionInProgress:f}){return p=>{const m=t||e,y=n&&p.ctrlKey,x=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Rl(p,`${h}-flow__node`)||Rl(p,`${h}-flow__edge`)))return!0;if(!r&&!m&&!i&&!s&&!n||o||f&&!x||Rl(p,c)&&x||Rl(p,u)&&(!x||i&&x&&!t)||!n&&p.ctrlKey&&x)return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!m&&!i&&!y&&x||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||x)&&b}}function tK({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:c,onDraggingChange:u}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=t.getBoundingClientRect(),p=r3().scaleExtent([e,n]).translateExtent(r),m=Wt(t).call(p);S({x:i.x,y:i.y,zoom:rc(i.zoom,e,n)},[[0,0],[f.width,f.height]],r);const y=m.on("wheel.zoom"),x=m.on("dblclick.zoom");p.wheelDelta(N3);function b(j,W){return m?new Promise(G=>{p?.interpolate(W?.interpolate==="linear"?Xu:hp).transform(Ax(m,W?.duration,W?.ease,()=>G(!0)),j)}):Promise.resolve(!1)}function w({noWheelClassName:j,noPanClassName:W,onPaneContextMenu:G,userSelectionActive:B,panOnScroll:H,panOnDrag:R,panOnScrollMode:I,panOnScrollSpeed:U,preventScrolling:Z,zoomOnPinch:nt,zoomOnScroll:q,zoomOnDoubleClick:V,zoomActivationKeyPressed:K,lib:et,onTransformChange:X,connectionInProgress:Q,paneClickDistance:tt,selectionOnDrag:at}){B&&!h.isZoomingOrPanning&&_();const ut=H&&!K&&!B;p.clickDistance(at?1/0:!bi(tt)||tt<0?0:tt);const pt=ut?GZ({zoomPanValues:h,noWheelClassName:j,d3Selection:m,d3Zoom:p,panOnScrollMode:I,panOnScrollSpeed:U,zoomOnPinch:nt,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:c}):XZ({noWheelClassName:j,preventScrolling:Z,d3ZoomHandler:y});if(m.on("wheel.zoom",pt,{passive:!1}),!B){const bt=ZZ({zoomPanValues:h,onDraggingChange:u,onPanZoomStart:o});p.on("start",bt);const kt=KZ({zoomPanValues:h,panOnDrag:R,onPaneContextMenu:!!G,onPanZoom:s,onTransformChange:X});p.on("zoom",kt);const _t=QZ({zoomPanValues:h,panOnDrag:R,panOnScroll:H,onPaneContextMenu:G,onPanZoomEnd:c,onDraggingChange:u});p.on("end",_t)}const vt=JZ({zoomActivationKeyPressed:K,panOnDrag:R,zoomOnScroll:q,panOnScroll:H,zoomOnDoubleClick:V,zoomOnPinch:nt,userSelectionActive:B,noPanClassName:W,noWheelClassName:j,lib:et,connectionInProgress:Q});p.filter(vt),V?m.on("dblclick.zoom",x):m.on("dblclick.zoom",null)}function _(){p.on("zoom",null)}async function S(j,W,G){const B=Ex(j),H=p?.constrain()(B,W,G);return H&&await b(H),new Promise(R=>R(H))}async function T(j,W){const G=Ex(j);return await b(G,W),new Promise(B=>B(G))}function E(j){if(m){const W=Ex(j),G=m.property("__zoom");(G.k!==j.zoom||G.x!==j.x||G.y!==j.y)&&p?.transform(m,W,null,{sync:!0})}}function M(){const j=m?n3(m.node()):{x:0,y:0,k:1};return{x:j.x,y:j.y,zoom:j.k}}function L(j,W){return m?new Promise(G=>{p?.interpolate(W?.interpolate==="linear"?Xu:hp).scaleTo(Ax(m,W?.duration,W?.ease,()=>G(!0)),j)}):Promise.resolve(!1)}function N(j,W){return m?new Promise(G=>{p?.interpolate(W?.interpolate==="linear"?Xu:hp).scaleBy(Ax(m,W?.duration,W?.ease,()=>G(!0)),j)}):Promise.resolve(!1)}function $(j){p?.scaleExtent(j)}function P(j){p?.translateExtent(j)}function z(j){const W=!bi(j)||j<0?0:j;p?.clickDistance(W)}return{update:w,destroy:_,setViewport:T,setViewportConstrained:S,getViewport:M,scaleTo:L,scaleBy:N,setScaleExtent:$,setTranslateExtent:P,syncViewport:E,setClickDistance:z}}var sc;(function(t){t.Line="line",t.Handle="handle"})(sc||(sc={}));function eK({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,c=n-r,u=[o>0?1:o<0?-1:0,c>0?1:c<0?-1:0];return o&&i&&(u[0]=u[0]*-1),c&&s&&(u[1]=u[1]*-1),u}function lE(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function as(t,e){return Math.max(0,e-t)}function ss(t,e){return Math.max(0,t-e)}function If(t,e,n){return Math.max(0,e-t,t-n)}function cE(t,e){return t?!e:e}function nK(t,e,n,r,i,s,o,c){let{affectsX:u,affectsY:h}=e;const{isHorizontal:f,isVertical:p}=e,m=f&&p,{xSnapped:y,ySnapped:x}=n,{minWidth:b,maxWidth:w,minHeight:_,maxHeight:S}=r,{x:T,y:E,width:M,height:L,aspectRatio:N}=t;let $=Math.floor(f?y-t.pointerX:0),P=Math.floor(p?x-t.pointerY:0);const z=M+(u?-$:$),j=L+(h?-P:P),W=-s[0]*M,G=-s[1]*L;let B=If(z,b,w),H=If(j,_,S);if(o){let U=0,Z=0;u&&$<0?U=as(T+$+W,o[0][0]):!u&&$>0&&(U=ss(T+z+W,o[1][0])),h&&P<0?Z=as(E+P+G,o[0][1]):!h&&P>0&&(Z=ss(E+j+G,o[1][1])),B=Math.max(B,U),H=Math.max(H,Z)}if(c){let U=0,Z=0;u&&$>0?U=ss(T+$,c[0][0]):!u&&$<0&&(U=as(T+z,c[1][0])),h&&P>0?Z=ss(E+P,c[0][1]):!h&&P<0&&(Z=as(E+j,c[1][1])),B=Math.max(B,U),H=Math.max(H,Z)}if(i){if(f){const U=If(z/N,_,S)*N;if(B=Math.max(B,U),o){let Z=0;!u&&!h||u&&!h&&m?Z=ss(E+G+z/N,o[1][1])*N:Z=as(E+G+(u?$:-$)/N,o[0][1])*N,B=Math.max(B,Z)}if(c){let Z=0;!u&&!h||u&&!h&&m?Z=as(E+z/N,c[1][1])*N:Z=ss(E+(u?$:-$)/N,c[0][1])*N,B=Math.max(B,Z)}}if(p){const U=If(j*N,b,w)/N;if(H=Math.max(H,U),o){let Z=0;!u&&!h||h&&!u&&m?Z=ss(T+j*N+W,o[1][0])/N:Z=as(T+(h?P:-P)*N+W,o[0][0])/N,H=Math.max(H,Z)}if(c){let Z=0;!u&&!h||h&&!u&&m?Z=as(T+j*N,c[1][0])/N:Z=ss(T+(h?P:-P)*N,c[0][0])/N,H=Math.max(H,Z)}}}P=P+(P<0?H:-H),$=$+($<0?B:-B),i&&(m?z>j*N?P=(cE(u,h)?-$:$)/N:$=(cE(u,h)?-P:P)*N:f?(P=$/N,h=u):($=P*N,u=h));const R=u?T+$:T,I=h?E+P:E;return{width:M+(u?-$:$),height:L+(h?-P:P),x:s[0]*$*(u?-1:1)+R,y:s[1]*P*(h?-1:1)+I}}const L3={width:0,height:0,x:0,y:0},rK={...L3,pointerX:0,pointerY:0,aspectRatio:1};function iK(t){return[[0,0],[t.measured.width,t.measured.height]]}function aK(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,c=n[0]*s,u=n[1]*o;return[[r-c,i-u],[r+s-c,i+o-u]]}function sK({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Wt(t);let o={controlDirection:lE("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function c({controlPosition:h,boundaries:f,keepAspectRatio:p,resizeDirection:m,onResizeStart:y,onResize:x,onResizeEnd:b,shouldResize:w}){let _={...L3},S={...rK};o={boundaries:f,resizeDirection:m,keepAspectRatio:p,controlDirection:lE(h)};let T,E=null,M=[],L,N,$,P=!1;const z=IL().on("start",j=>{const{nodeLookup:W,transform:G,snapGrid:B,snapToGrid:H,nodeOrigin:R,paneDomNode:I}=n();if(T=W.get(e),!T)return;E=I?.getBoundingClientRect()??null;const{xSnapped:U,ySnapped:Z}=Zu(j.sourceEvent,{transform:G,snapGrid:B,snapToGrid:H,containerBounds:E});_={width:T.measured.width??0,height:T.measured.height??0,x:T.position.x??0,y:T.position.y??0},S={..._,pointerX:U,pointerY:Z,aspectRatio:_.width/_.height},L=void 0,T.parentId&&(T.extent==="parent"||T.expandParent)&&(L=W.get(T.parentId),N=L&&T.extent==="parent"?iK(L):void 0),M=[],$=void 0;for(const[nt,q]of W)if(q.parentId===e&&(M.push({id:nt,position:{...q.position},extent:q.extent}),q.extent==="parent"||q.expandParent)){const V=aK(q,T,q.origin??R);$?$=[[Math.min(V[0][0],$[0][0]),Math.min(V[0][1],$[0][1])],[Math.max(V[1][0],$[1][0]),Math.max(V[1][1],$[1][1])]]:$=V}y?.(j,{..._})}).on("drag",j=>{const{transform:W,snapGrid:G,snapToGrid:B,nodeOrigin:H}=n(),R=Zu(j.sourceEvent,{transform:W,snapGrid:G,snapToGrid:B,containerBounds:E}),I=[];if(!T)return;const{x:U,y:Z,width:nt,height:q}=_,V={},K=T.origin??H,{width:et,height:X,x:Q,y:tt}=nK(S,o.controlDirection,R,o.boundaries,o.keepAspectRatio,K,N,$),at=et!==nt,ut=X!==q,pt=Q!==U&&at,vt=tt!==Z&&ut;if(!pt&&!vt&&!at&&!ut)return;if((pt||vt||K[0]===1||K[1]===1)&&(V.x=pt?Q:_.x,V.y=vt?tt:_.y,_.x=V.x,_.y=V.y,M.length>0)){const Pt=Q-U,Yt=tt-Z;for(const de of M)de.position={x:de.position.x-Pt+K[0]*(et-nt),y:de.position.y-Yt+K[1]*(X-q)},I.push(de)}if((at||ut)&&(V.width=at&&(!o.resizeDirection||o.resizeDirection==="horizontal")?et:_.width,V.height=ut&&(!o.resizeDirection||o.resizeDirection==="vertical")?X:_.height,_.width=V.width,_.height=V.height),L&&T.expandParent){const Pt=K[0]*(V.width??0);V.x&&V.x<Pt&&(_.x=Pt,S.x=S.x-(V.x-Pt));const Yt=K[1]*(V.height??0);V.y&&V.y<Yt&&(_.y=Yt,S.y=S.y-(V.y-Yt))}const bt=eK({width:_.width,prevWidth:nt,height:_.height,prevHeight:q,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),kt={..._,direction:bt};w?.(j,kt)!==!1&&(P=!0,x?.(j,kt),r(V,I))}).on("end",j=>{P&&(b?.(j,{..._}),i?.({..._}),P=!1)});s.call(z)}function u(){s.on(".drag",null)}return{update:c,destroy:u}}var Mx={exports:{}},Dx={},Nx={exports:{}},Lx={};var uE;function oK(){if(uE)return Lx;uE=1;var t=Bh();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function c(p,m){var y=m(),x=r({inst:{value:y,getSnapshot:m}}),b=x[0].inst,w=x[1];return s(function(){b.value=y,b.getSnapshot=m,u(b)&&w({inst:b})},[p,y,m]),i(function(){return u(b)&&w({inst:b}),p(function(){u(b)&&w({inst:b})})},[p]),o(y),y}function u(p){var m=p.getSnapshot;p=p.value;try{var y=m();return!n(p,y)}catch{return!0}}function h(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Lx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Lx}var hE;function lK(){return hE||(hE=1,Nx.exports=oK()),Nx.exports}var dE;function cK(){if(dE)return Dx;dE=1;var t=Bh(),e=lK();function n(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,c=t.useMemo,u=t.useDebugValue;return Dx.useSyncExternalStoreWithSelector=function(h,f,p,m,y){var x=s(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=c(function(){function _(L){if(!S){if(S=!0,T=L,L=m(L),y!==void 0&&b.hasValue){var N=b.value;if(y(N,L))return E=N}return E=L}if(N=E,r(T,L))return N;var $=m(L);return y!==void 0&&y(N,$)?(T=L,N):(T=L,E=$)}var S=!1,T,E,M=p===void 0?null:p;return[function(){return _(f())},M===null?void 0:function(){return _(M())}]},[f,p,m,y]);var w=i(h,x[0],x[1]);return o(function(){b.hasValue=!0,b.value=w},[w]),u(w),w},Dx}var fE;function uK(){return fE||(fE=1,Mx.exports=cK()),Mx.exports}var hK=uK();const dK=Rh(hK),fK={},pE=t=>{let e;const n=new Set,r=(f,p)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const y=e;e=p??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(x=>x(e,y))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(fK?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=e=t(r,i,u);return u},pK=t=>t?pE(t):pE,{useDebugValue:gK}=re,{useSyncExternalStoreWithSelector:mK}=dK,yK=t=>t;function O3(t,e=yK,n){const r=mK(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return gK(r),r}const gE=(t,e)=>{const n=pK(t),r=(i,s=e)=>O3(n,i,s);return Object.assign(r,n),r},xK=(t,e)=>t?gE(t,e):gE;function He(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const im=A.createContext(null),bK=im.Provider,R3=Wi.error001();function oe(t,e){const n=A.useContext(im);if(n===null)throw new Error(R3);return O3(n,t,e)}function Ve(){const t=A.useContext(im);if(t===null)throw new Error(R3);return A.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const mE={display:"none"},vK={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},B3="react-flow__node-desc",j3="react-flow__edge-desc",wK="react-flow__aria-live",SK=t=>t.ariaLiveMessage,CK=t=>t.ariaLabelConfig;function _K({rfId:t}){const e=oe(SK);return k.jsx("div",{id:`${wK}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:vK,children:e})}function kK({rfId:t,disableKeyboardA11y:e}){const n=oe(CK);return k.jsxs(k.Fragment,{children:[k.jsx("div",{id:`${B3}-${t}`,style:mE,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),k.jsx("div",{id:`${j3}-${t}`,style:mE,children:n["edge.a11yDescription.default"]}),!e&&k.jsx(_K,{rfId:t})]})}const am=A.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=`${t}`.split("-");return k.jsx("div",{className:fn(["react-flow__panel",n,...o]),style:r,ref:s,...i,children:e})});am.displayName="Panel";function TK({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:k.jsx(am,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:k.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const EK=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Hf=t=>t.id;function AK(t,e){return He(t.selectedNodes.map(Hf),e.selectedNodes.map(Hf))&&He(t.selectedEdges.map(Hf),e.selectedEdges.map(Hf))}function MK({onSelectionChange:t}){const e=Ve(),{selectedNodes:n,selectedEdges:r}=oe(EK,AK);return A.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const DK=t=>!!t.onSelectionChangeHandlers;function NK({onSelectionChange:t}){const e=oe(DK);return t||e?k.jsx(MK,{onSelectionChange:t}):null}const $3=[0,0],LK={x:0,y:0,zoom:1},OK=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],yE=[...OK,"rfId"],RK=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),xE={translateExtent:bh,nodeOrigin:$3,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function BK(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:c,setDefaultNodesAndEdges:u}=oe(RK,He),h=Ve();A.useEffect(()=>(u(t.defaultNodes,t.defaultEdges),()=>{f.current=xE,c()}),[]);const f=A.useRef(xE);return A.useEffect(()=>{for(const p of yE){const m=t[p],y=f.current[p];m!==y&&(typeof t[p]>"u"||(p==="nodes"?e(m):p==="edges"?n(m):p==="minZoom"?r(m):p==="maxZoom"?i(m):p==="translateExtent"?s(m):p==="nodeExtent"?o(m):p==="ariaLabelConfig"?h.setState({ariaLabelConfig:xZ(m)}):p==="fitView"?h.setState({fitViewQueued:m}):p==="fitViewOptions"?h.setState({fitViewOptions:m}):h.setState({[p]:m})))}f.current=t},yE.map(p=>t[p])),null}function bE(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function jK(t){const[e,n]=A.useState(t==="system"?null:t);return A.useEffect(()=>{if(t!=="system"){n(t);return}const r=bE(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:bE()?.matches?"dark":"light"}const vE=typeof document<"u"?document:null;function Ch(t=null,e={target:vE,actInsideInputWithModifier:!0}){const[n,r]=A.useState(!1),i=A.useRef(!1),s=A.useRef(new Set([])),[o,c]=A.useMemo(()=>{if(t!==null){const h=(Array.isArray(t)?t:[t]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=h.reduce((p,m)=>p.concat(...m),[]);return[h,f]}return[[],[]]},[t]);return A.useEffect(()=>{const u=e?.target??vE,h=e?.actInsideInputWithModifier??!0;if(t!==null){const f=y=>{if(i.current=y.ctrlKey||y.metaKey||y.shiftKey||y.altKey,(!i.current||i.current&&!h)&&m3(y))return!1;const b=SE(y.code,c);if(s.current.add(y[b]),wE(o,s.current,!1)){const w=y.composedPath?.()?.[0]||y.target,_=w?.nodeName==="BUTTON"||w?.nodeName==="A";e.preventDefault!==!1&&(i.current||!_)&&y.preventDefault(),r(!0)}},p=y=>{const x=SE(y.code,c);wE(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(y[x]),y.key==="Meta"&&s.current.clear(),i.current=!1},m=()=>{s.current.clear(),r(!1)};return u?.addEventListener("keydown",f),u?.addEventListener("keyup",p),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{u?.removeEventListener("keydown",f),u?.removeEventListener("keyup",p),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[t,r]),n}function wE(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function SE(t,e){return e.includes(t)?"code":"key"}const $K=()=>{const t=Ve();return A.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:c}=t.getState(),u=P1(e,r,i,s,o,n?.padding??.1);return c?(await c.setViewport(u,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:c,y:u}=o.getBoundingClientRect(),h={x:e.x-c,y:e.y-u},f=n.snapGrid??i,p=n.snapToGrid??s;return Jh(h,r,p,f)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=Kp(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function z3(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const c={...s};for(const u of o)zK(u,c);n.push(c)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function zK(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function P3(t,e){return z3(t,e)}function F3(t,e){return z3(t,e)}function no(t,e){return{id:t,type:"select",selected:e}}function Bl(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(no(s.id,o)))}return r}function CE({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const o=e.get(s.id),c=o?.internals?.userNode??o;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function _E(t){return{id:t.id,type:"remove"}}const kE=t=>lZ(t),PK=t=>l3(t);function I3(t){return A.forwardRef(t)}const FK=typeof window<"u"?A.useLayoutEffect:A.useEffect;function TE(t){const[e,n]=A.useState(BigInt(0)),[r]=A.useState(()=>IK(()=>n(i=>i+BigInt(1))));return FK(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function IK(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const H3=A.createContext(null);function HK({children:t}){const e=Ve(),n=A.useCallback(c=>{const{nodes:u=[],setNodes:h,hasDefaultNodes:f,onNodesChange:p,nodeLookup:m,fitViewQueued:y,onNodesChangeMiddlewareMap:x}=e.getState();let b=u;for(const _ of c)b=typeof _=="function"?_(b):_;let w=CE({items:b,lookup:m});for(const _ of x.values())w=_(w);f&&h(b),w.length>0?p?.(w):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:_,nodes:S,setNodes:T}=e.getState();_&&T(S)})},[]),r=TE(n),i=A.useCallback(c=>{const{edges:u=[],setEdges:h,hasDefaultEdges:f,onEdgesChange:p,edgeLookup:m}=e.getState();let y=u;for(const x of c)y=typeof x=="function"?x(y):x;f?h(y):p&&p(CE({items:y,lookup:m}))},[]),s=TE(i),o=A.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return k.jsx(H3.Provider,{value:o,children:t})}function VK(){const t=A.useContext(H3);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const qK=t=>!!t.panZoom;function W1(){const t=$K(),e=Ve(),n=VK(),r=oe(qK),i=A.useMemo(()=>{const s=p=>e.getState().nodeLookup.get(p),o=p=>{n.nodeQueue.push(p)},c=p=>{n.edgeQueue.push(p)},u=p=>{const{nodeLookup:m,nodeOrigin:y}=e.getState(),x=kE(p)?p:m.get(p.id),b=x.parentId?p3(x.position,x.measured,x.parentId,m,y):x.position,w={...x,position:b,width:x.measured?.width??x.width,height:x.measured?.height??x.height};return ic(w)},h=(p,m,y={replace:!1})=>{o(x=>x.map(b=>{if(b.id===p){const w=typeof m=="function"?m(b):m;return y.replace&&kE(w)?w:{...b,...w}}return b}))},f=(p,m,y={replace:!1})=>{c(x=>x.map(b=>{if(b.id===p){const w=typeof m=="function"?m(b):m;return y.replace&&PK(w)?w:{...b,...w}}return b}))};return{getNodes:()=>e.getState().nodes.map(p=>({...p})),getNode:p=>s(p)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:p=[]}=e.getState();return p.map(m=>({...m}))},getEdge:p=>e.getState().edgeLookup.get(p),setNodes:o,setEdges:c,addNodes:p=>{const m=Array.isArray(p)?p:[p];n.nodeQueue.push(y=>[...y,...m])},addEdges:p=>{const m=Array.isArray(p)?p:[p];n.edgeQueue.push(y=>[...y,...m])},toObject:()=>{const{nodes:p=[],edges:m=[],transform:y}=e.getState(),[x,b,w]=y;return{nodes:p.map(_=>({..._})),edges:m.map(_=>({..._})),viewport:{x,y:b,zoom:w}}},deleteElements:async({nodes:p=[],edges:m=[]})=>{const{nodes:y,edges:x,onNodesDelete:b,onEdgesDelete:w,triggerNodeChanges:_,triggerEdgeChanges:S,onDelete:T,onBeforeDelete:E}=e.getState(),{nodes:M,edges:L}=await fZ({nodesToRemove:p,edgesToRemove:m,nodes:y,edges:x,onBeforeDelete:E}),N=L.length>0,$=M.length>0;if(N){const P=L.map(_E);w?.(L),S(P)}if($){const P=M.map(_E);b?.(M),_(P)}return($||N)&&T?.({nodes:M,edges:L}),{deletedNodes:M,deletedEdges:L}},getIntersectingNodes:(p,m=!0,y)=>{const x=KT(p),b=x?p:u(p),w=y!==void 0;return b?(y||e.getState().nodes).filter(_=>{const S=e.getState().nodeLookup.get(_.id);if(S&&!x&&(_.id===p.id||!S.internals.positionAbsolute))return!1;const T=ic(w?_:S),E=wh(T,b);return m&&E>0||E>=T.width*T.height||E>=b.width*b.height}):[]},isNodeIntersecting:(p,m,y=!0)=>{const b=KT(p)?p:u(p);if(!b)return!1;const w=wh(b,m);return y&&w>0||w>=m.width*m.height||w>=b.width*b.height},updateNode:h,updateNodeData:(p,m,y={replace:!1})=>{h(p,x=>{const b=typeof m=="function"?m(x):m;return y.replace?{...x,data:b}:{...x,data:{...x.data,...b}}},y)},updateEdge:f,updateEdgeData:(p,m,y={replace:!1})=>{f(p,x=>{const b=typeof m=="function"?m(x):m;return y.replace?{...x,data:b}:{...x,data:{...x.data,...b}}},y)},getNodesBounds:p=>{const{nodeLookup:m,nodeOrigin:y}=e.getState();return cZ(p,{nodeLookup:m,nodeOrigin:y})},getHandleConnections:({type:p,id:m,nodeId:y})=>Array.from(e.getState().connectionLookup.get(`${y}-${p}${m?`-${m}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:m,nodeId:y})=>Array.from(e.getState().connectionLookup.get(`${y}${p?m?`-${p}-${m}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const m=e.getState().fitViewResolver??yZ();return e.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:m}),n.nodeQueue.push(y=>[...y]),m.promise}}},[]);return A.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const EE=t=>t.selected,UK=typeof window<"u"?window:void 0;function WK({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Ve(),{deleteElements:r}=W1(),i=Ch(t,{actInsideInputWithModifier:!1}),s=Ch(e,{target:UK});A.useEffect(()=>{if(i){const{edges:o,nodes:c}=n.getState();r({nodes:c.filter(EE),edges:o.filter(EE)}),n.setState({nodesSelectionActive:!1})}},[i]),A.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function YK(t){const e=Ve();A.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=F1(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",Wi.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const sm={position:"absolute",width:"100%",height:"100%",top:0,left:0},GK=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function XK({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=yo.Free,zoomOnDoubleClick:o=!0,panOnDrag:c=!0,defaultViewport:u,translateExtent:h,minZoom:f,maxZoom:p,zoomActivationKeyCode:m,preventScrolling:y=!0,children:x,noWheelClassName:b,noPanClassName:w,onViewportChange:_,isControlledViewport:S,paneClickDistance:T,selectionOnDrag:E}){const M=Ve(),L=A.useRef(null),{userSelectionActive:N,lib:$,connectionInProgress:P}=oe(GK,He),z=Ch(m),j=A.useRef();YK(L);const W=A.useCallback(G=>{_?.({x:G[0],y:G[1],zoom:G[2]}),S||M.setState({transform:G})},[_,S]);return A.useEffect(()=>{if(L.current){j.current=tK({domNode:L.current,minZoom:f,maxZoom:p,translateExtent:h,viewport:u,onDraggingChange:R=>M.setState({paneDragging:R}),onPanZoomStart:(R,I)=>{const{onViewportChangeStart:U,onMoveStart:Z}=M.getState();Z?.(R,I),U?.(I)},onPanZoom:(R,I)=>{const{onViewportChange:U,onMove:Z}=M.getState();Z?.(R,I),U?.(I)},onPanZoomEnd:(R,I)=>{const{onViewportChangeEnd:U,onMoveEnd:Z}=M.getState();Z?.(R,I),U?.(I)}});const{x:G,y:B,zoom:H}=j.current.getViewport();return M.setState({panZoom:j.current,transform:[G,B,H],domNode:L.current.closest(".react-flow")}),()=>{j.current?.destroy()}}},[]),A.useEffect(()=>{j.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:c,zoomActivationKeyPressed:z,preventScrolling:y,noPanClassName:w,userSelectionActive:N,noWheelClassName:b,lib:$,onTransformChange:W,connectionInProgress:P,selectionOnDrag:E,paneClickDistance:T})},[t,e,n,r,i,s,o,c,z,y,w,N,b,$,W,P,E,T]),k.jsx("div",{className:"react-flow__renderer",ref:L,style:sm,children:x})}const ZK=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function KK(){const{userSelectionActive:t,userSelectionRect:e}=oe(ZK,He);return t&&e?k.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const Ox=(t,e)=>n=>{n.target===e.current&&t?.(n)},QK=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function JK({isSelecting:t,selectionKeyPressed:e,selectionMode:n=vh.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:c,onPaneClick:u,onPaneContextMenu:h,onPaneScroll:f,onPaneMouseEnter:p,onPaneMouseMove:m,onPaneMouseLeave:y,children:x}){const b=Ve(),{userSelectionActive:w,elementsSelectable:_,dragging:S,connectionInProgress:T}=oe(QK,He),E=_&&(t||w),M=A.useRef(null),L=A.useRef(),N=A.useRef(new Set),$=A.useRef(new Set),P=A.useRef(!1),z=U=>{if(P.current||T){P.current=!1;return}u?.(U),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},j=U=>{if(Array.isArray(r)&&r?.includes(2)){U.preventDefault();return}h?.(U)},W=f?U=>f(U):void 0,G=U=>{P.current&&(U.stopPropagation(),P.current=!1)},B=U=>{const{domNode:Z}=b.getState();if(L.current=Z?.getBoundingClientRect(),!L.current)return;const nt=U.target===M.current;if(!nt&&!!U.target.closest(".nokey")||!t||!(s&&nt||e)||U.button!==0||!U.isPrimary)return;U.target?.setPointerCapture?.(U.pointerId),P.current=!1;const{x:K,y:et}=vi(U.nativeEvent,L.current);b.setState({userSelectionRect:{width:0,height:0,startX:K,startY:et,x:K,y:et}}),nt||(U.stopPropagation(),U.preventDefault())},H=U=>{const{userSelectionRect:Z,transform:nt,nodeLookup:q,edgeLookup:V,connectionLookup:K,triggerNodeChanges:et,triggerEdgeChanges:X,defaultEdgeOptions:Q,resetSelectedElements:tt}=b.getState();if(!L.current||!Z)return;const{x:at,y:ut}=vi(U.nativeEvent,L.current),{startX:pt,startY:vt}=Z;if(!P.current){const Yt=e?0:i;if(Math.hypot(at-pt,ut-vt)<=Yt)return;tt(),o?.(U)}P.current=!0;const bt={startX:pt,startY:vt,x:at<pt?at:pt,y:ut<vt?ut:vt,width:Math.abs(at-pt),height:Math.abs(ut-vt)},kt=N.current,_t=$.current;N.current=new Set(z1(q,bt,nt,n===vh.Partial,!0).map(Yt=>Yt.id)),$.current=new Set;const Pt=Q?.selectable??!0;for(const Yt of N.current){const de=K.get(Yt);if(de)for(const{edgeId:Ye}of de.values()){const Ge=V.get(Ye);Ge&&(Ge.selectable??Pt)&&$.current.add(Ye)}}if(!QT(kt,N.current)){const Yt=Bl(q,N.current,!0);et(Yt)}if(!QT(_t,$.current)){const Yt=Bl(V,$.current);X(Yt)}b.setState({userSelectionRect:bt,userSelectionActive:!0,nodesSelectionActive:!1})},R=U=>{U.button===0&&(U.target?.releasePointerCapture?.(U.pointerId),!w&&U.target===M.current&&b.getState().userSelectionRect&&z?.(U),b.setState({userSelectionActive:!1,userSelectionRect:null}),P.current&&(c?.(U),b.setState({nodesSelectionActive:N.current.size>0})))},I=r===!0||Array.isArray(r)&&r.includes(0);return k.jsxs("div",{className:fn(["react-flow__pane",{draggable:I,dragging:S,selection:t}]),onClick:E?void 0:Ox(z,M),onContextMenu:Ox(j,M),onWheel:Ox(W,M),onPointerEnter:E?void 0:p,onPointerMove:E?H:m,onPointerUp:E?R:void 0,onPointerDownCapture:E?B:void 0,onClickCapture:E?G:void 0,onPointerLeave:y,ref:M,style:sm,children:[x,k.jsx(KK,{})]})}function Yb({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:c,onError:u}=e.getState(),h=c.get(t);if(!h){u?.("012",Wi.error012(t));return}e.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&o)&&(s({nodes:[h],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function V3({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const c=Ve(),[u,h]=A.useState(!1),f=A.useRef();return A.useEffect(()=>{f.current=FZ({getStoreItems:()=>c.getState(),onNodeMouseDown:p=>{Yb({id:p,store:c,nodeRef:t})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),A.useEffect(()=>{if(e)f.current?.destroy();else if(t.current)return f.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{f.current?.destroy()}},[n,r,e,s,t,i]),u}const tQ=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function q3(){const t=Ve();return A.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:c,updateNodePositions:u,nodeLookup:h,nodeOrigin:f}=t.getState(),p=new Map,m=tQ(o),y=i?s[0]:5,x=i?s[1]:5,b=n.direction.x*y*n.factor,w=n.direction.y*x*n.factor;for(const[,_]of h){if(!m(_))continue;let S={x:_.internals.positionAbsolute.x+b,y:_.internals.positionAbsolute.y+w};i&&(S=Qh(S,s));const{position:T,positionAbsolute:E}=c3({nodeId:_.id,nextPosition:S,nodeLookup:h,nodeExtent:r,nodeOrigin:f,onError:c});_.position=T,_.internals.positionAbsolute=E,p.set(_.id,_)}u(p)},[])}const Y1=A.createContext(null),eQ=Y1.Provider;Y1.Consumer;const U3=()=>A.useContext(Y1),nQ=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),rQ=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:c,toHandle:u,isValid:h}=o,f=u?.nodeId===t&&u?.id===e&&u?.type===n;return{connectingFrom:c?.nodeId===t&&c?.id===e&&c?.type===n,connectingTo:f,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===nc.Strict?c?.type!==n:t!==c?.nodeId||e!==c?.id,connectionInProcess:!!c,clickConnectionInProcess:!!i,valid:f&&h}};function iQ({type:t="source",position:e=Bt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:c,children:u,className:h,onMouseDown:f,onTouchStart:p,...m},y){const x=o||null,b=t==="target",w=Ve(),_=U3(),{connectOnClick:S,noPanClassName:T,rfId:E}=oe(nQ,He),{connectingFrom:M,connectingTo:L,clickConnecting:N,isPossibleEndHandle:$,connectionInProcess:P,clickConnectionInProcess:z,valid:j}=oe(rQ(_,x,t),He);_||w.getState().onError?.("010",Wi.error010());const W=H=>{const{defaultEdgeOptions:R,onConnect:I,hasDefaultEdges:U}=w.getState(),Z={...R,...H};if(U){const{edges:nt,setEdges:q}=w.getState();q(_Z(Z,nt))}I?.(Z),c?.(Z)},G=H=>{if(!_)return;const R=y3(H.nativeEvent);if(i&&(R&&H.button===0||!R)){const I=w.getState();Wb.onPointerDown(H.nativeEvent,{handleDomNode:H.currentTarget,autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:b,handleId:x,nodeId:_,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:W,isValidConnection:n||I.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed,dragThreshold:I.connectionDragThreshold})}R?f?.(H):p?.(H)},B=H=>{const{onClickConnectStart:R,onClickConnectEnd:I,connectionClickStartHandle:U,connectionMode:Z,isValidConnection:nt,lib:q,rfId:V,nodeLookup:K,connection:et}=w.getState();if(!_||!U&&!i)return;if(!U){R?.(H.nativeEvent,{nodeId:_,handleId:x,handleType:t}),w.setState({connectionClickStartHandle:{nodeId:_,type:t,id:x}});return}const X=g3(H.target),Q=n||nt,{connection:tt,isValid:at}=Wb.isValid(H.nativeEvent,{handle:{nodeId:_,id:x,type:t},connectionMode:Z,fromNodeId:U.nodeId,fromHandleId:U.id||null,fromType:U.type,isValidConnection:Q,flowId:V,doc:X,lib:q,nodeLookup:K});at&&tt&&W(tt);const ut=structuredClone(et);delete ut.inProgress,ut.toPosition=ut.toHandle?ut.toHandle.position:null,I?.(H,ut),w.setState({connectionClickStartHandle:null})};return k.jsx("div",{"data-handleid":x,"data-nodeid":_,"data-handlepos":e,"data-id":`${E}-${_}-${x}-${t}`,className:fn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",T,h,{source:!b,target:b,connectable:r,connectablestart:i,connectableend:s,clickconnecting:N,connectingfrom:M,connectingto:L,valid:j,connectionindicator:r&&(!P||$)&&(P||z?s:i)}]),onMouseDown:G,onTouchStart:G,onClick:S?B:void 0,ref:y,...m,children:u})}const Qp=A.memo(I3(iQ));function aQ({data:t,isConnectable:e,sourcePosition:n=Bt.Bottom}){return k.jsxs(k.Fragment,{children:[t?.label,k.jsx(Qp,{type:"source",position:n,isConnectable:e})]})}function sQ({data:t,isConnectable:e,targetPosition:n=Bt.Top,sourcePosition:r=Bt.Bottom}){return k.jsxs(k.Fragment,{children:[k.jsx(Qp,{type:"target",position:n,isConnectable:e}),t?.label,k.jsx(Qp,{type:"source",position:r,isConnectable:e})]})}function oQ(){return null}function lQ({data:t,isConnectable:e,targetPosition:n=Bt.Top}){return k.jsxs(k.Fragment,{children:[k.jsx(Qp,{type:"target",position:n,isConnectable:e}),t?.label]})}const Jp={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},AE={input:aQ,default:sQ,output:lQ,group:oQ};function cQ(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const uQ=t=>{const{width:e,height:n,x:r,y:i}=Kh(t.nodeLookup,{filter:s=>!!s.selected});return{width:bi(e)?e:null,height:bi(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function hQ({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Ve(),{width:i,height:s,transformString:o,userSelectionActive:c}=oe(uQ,He),u=q3(),h=A.useRef(null);if(A.useEffect(()=>{n||h.current?.focus({preventScroll:!0})},[n]),V3({nodeRef:h}),c||!i||!s)return null;const f=t?m=>{const y=r.getState().nodes.filter(x=>x.selected);t(m,y)}:void 0,p=m=>{Object.prototype.hasOwnProperty.call(Jp,m.key)&&(m.preventDefault(),u({direction:Jp[m.key],factor:m.shiftKey?4:1}))};return k.jsx("div",{className:fn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:k.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:s}})})}const ME=typeof window<"u"?window:void 0,dQ=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function W3({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:c,deleteKeyCode:u,selectionKeyCode:h,selectionOnDrag:f,selectionMode:p,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:x,panActivationKeyCode:b,zoomActivationKeyCode:w,elementsSelectable:_,zoomOnScroll:S,zoomOnPinch:T,panOnScroll:E,panOnScrollSpeed:M,panOnScrollMode:L,zoomOnDoubleClick:N,panOnDrag:$,defaultViewport:P,translateExtent:z,minZoom:j,maxZoom:W,preventScrolling:G,onSelectionContextMenu:B,noWheelClassName:H,noPanClassName:R,disableKeyboardA11y:I,onViewportChange:U,isControlledViewport:Z}){const{nodesSelectionActive:nt,userSelectionActive:q}=oe(dQ,He),V=Ch(h,{target:ME}),K=Ch(b,{target:ME}),et=K||$,X=K||E,Q=f&&et!==!0,tt=V||q||Q;return WK({deleteKeyCode:u,multiSelectionKeyCode:x}),k.jsx(XK,{onPaneContextMenu:s,elementsSelectable:_,zoomOnScroll:S,zoomOnPinch:T,panOnScroll:X,panOnScrollSpeed:M,panOnScrollMode:L,zoomOnDoubleClick:N,panOnDrag:!V&&et,defaultViewport:P,translateExtent:z,minZoom:j,maxZoom:W,zoomActivationKeyCode:w,preventScrolling:G,noWheelClassName:H,noPanClassName:R,onViewportChange:U,isControlledViewport:Z,paneClickDistance:c,selectionOnDrag:Q,children:k.jsxs(JK,{onSelectionStart:m,onSelectionEnd:y,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:et,isSelecting:!!tt,selectionMode:p,selectionKeyPressed:V,paneClickDistance:c,selectionOnDrag:Q,children:[t,nt&&k.jsx(hQ,{onSelectionContextMenu:B,noPanClassName:R,disableKeyboardA11y:I})]})})}W3.displayName="FlowRenderer";const fQ=A.memo(W3),pQ=t=>e=>t?z1(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function gQ(t){return oe(A.useCallback(pQ(t),[t]),He)}const mQ=t=>t.updateNodeInternals;function yQ(){const t=oe(mQ),[e]=A.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return A.useEffect(()=>()=>{e?.disconnect()},[e]),e}function xQ({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Ve(),s=A.useRef(null),o=A.useRef(null),c=A.useRef(t.sourcePosition),u=A.useRef(t.targetPosition),h=A.useRef(e),f=n&&!!t.internals.handleBounds;return A.useEffect(()=>{s.current&&!t.hidden&&(!f||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[f,t.hidden]),A.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),A.useEffect(()=>{if(s.current){const p=h.current!==e,m=c.current!==t.sourcePosition,y=u.current!==t.targetPosition;(p||m||y)&&(h.current=e,c.current=t.sourcePosition,u.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function bQ({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:c,elementsSelectable:u,nodesConnectable:h,nodesFocusable:f,resizeObserver:p,noDragClassName:m,noPanClassName:y,disableKeyboardA11y:x,rfId:b,nodeTypes:w,nodeClickDistance:_,onError:S}){const{node:T,internals:E,isParent:M}=oe(at=>{const ut=at.nodeLookup.get(t),pt=at.parentLookup.has(t);return{node:ut,internals:ut.internals,isParent:pt}},He);let L=T.type||"default",N=w?.[L]||AE[L];N===void 0&&(S?.("003",Wi.error003(L)),L="default",N=w?.default||AE.default);const $=!!(T.draggable||c&&typeof T.draggable>"u"),P=!!(T.selectable||u&&typeof T.selectable>"u"),z=!!(T.connectable||h&&typeof T.connectable>"u"),j=!!(T.focusable||f&&typeof T.focusable>"u"),W=Ve(),G=f3(T),B=xQ({node:T,nodeType:L,hasDimensions:G,resizeObserver:p}),H=V3({nodeRef:B,disabled:T.hidden||!$,noDragClassName:m,handleSelector:T.dragHandle,nodeId:t,isSelectable:P,nodeClickDistance:_}),R=q3();if(T.hidden)return null;const I=La(T),U=cQ(T),Z=P||$||e||n||r||i,nt=n?at=>n(at,{...E.userNode}):void 0,q=r?at=>r(at,{...E.userNode}):void 0,V=i?at=>i(at,{...E.userNode}):void 0,K=s?at=>s(at,{...E.userNode}):void 0,et=o?at=>o(at,{...E.userNode}):void 0,X=at=>{const{selectNodesOnDrag:ut,nodeDragThreshold:pt}=W.getState();P&&(!ut||!$||pt>0)&&Yb({id:t,store:W,nodeRef:B}),e&&e(at,{...E.userNode})},Q=at=>{if(!(m3(at.nativeEvent)||x)){if(i3.includes(at.key)&&P){const ut=at.key==="Escape";Yb({id:t,store:W,unselect:ut,nodeRef:B})}else if($&&T.selected&&Object.prototype.hasOwnProperty.call(Jp,at.key)){at.preventDefault();const{ariaLabelConfig:ut}=W.getState();W.setState({ariaLiveMessage:ut["node.a11yDescription.ariaLiveMessage"]({direction:at.key.replace("Arrow","").toLowerCase(),x:~~E.positionAbsolute.x,y:~~E.positionAbsolute.y})}),R({direction:Jp[at.key],factor:at.shiftKey?4:1})}}},tt=()=>{if(x||!B.current?.matches(":focus-visible"))return;const{transform:at,width:ut,height:pt,autoPanOnNodeFocus:vt,setCenter:bt}=W.getState();if(!vt)return;z1(new Map([[t,T]]),{x:0,y:0,width:ut,height:pt},at,!0).length>0||bt(T.position.x+I.width/2,T.position.y+I.height/2,{zoom:at[2]})};return k.jsx("div",{className:fn(["react-flow__node",`react-flow__node-${L}`,{[y]:$},T.className,{selected:T.selected,selectable:P,parent:M,draggable:$,dragging:H}]),ref:B,style:{zIndex:E.z,transform:`translate(${E.positionAbsolute.x}px,${E.positionAbsolute.y}px)`,pointerEvents:Z?"all":"none",visibility:G?"visible":"hidden",...T.style,...U},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:nt,onMouseMove:q,onMouseLeave:V,onContextMenu:K,onClick:X,onDoubleClick:et,onKeyDown:j?Q:void 0,tabIndex:j?0:void 0,onFocus:j?tt:void 0,role:T.ariaRole??(j?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${B3}-${b}`,"aria-label":T.ariaLabel,...T.domAttributes,children:k.jsx(eQ,{value:t,children:k.jsx(N,{id:t,data:T.data,type:L,positionAbsoluteX:E.positionAbsolute.x,positionAbsoluteY:E.positionAbsolute.y,selected:T.selected??!1,selectable:P,draggable:$,deletable:T.deletable??!0,isConnectable:z,sourcePosition:T.sourcePosition,targetPosition:T.targetPosition,dragging:H,dragHandle:T.dragHandle,zIndex:E.z,parentId:T.parentId,...I})})})}var vQ=A.memo(bQ);const wQ=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Y3(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=oe(wQ,He),o=gQ(t.onlyRenderVisibleElements),c=yQ();return k.jsx("div",{className:"react-flow__nodes",style:sm,children:o.map(u=>k.jsx(vQ,{id:u,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:c,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},u))})}Y3.displayName="NodeRenderer";const SQ=A.memo(Y3);function CQ(t){return oe(A.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&wZ({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),He)}const _Q=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return k.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},kQ=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return k.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},DE={[Xp.Arrow]:_Q,[Xp.ArrowClosed]:kQ};function TQ(t){const e=Ve();return A.useMemo(()=>Object.prototype.hasOwnProperty.call(DE,t)?DE[t]:(e.getState().onError?.("009",Wi.error009(t)),null),[t])}const EQ=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:c="auto-start-reverse"})=>{const u=TQ(e);return u?k.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0",children:k.jsx(u,{color:n,strokeWidth:o})}):null},G3=({defaultColor:t,rfId:e})=>{const n=oe(s=>s.edges),r=oe(s=>s.defaultEdgeOptions),i=A.useMemo(()=>MZ(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?k.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:k.jsx("defs",{children:i.map(s=>k.jsx(EQ,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};G3.displayName="MarkerDefinitions";var AQ=A.memo(G3);function X3({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:c=2,children:u,className:h,...f}){const[p,m]=A.useState({x:1,y:0,width:0,height:0}),y=fn(["react-flow__edge-textwrapper",h]),x=A.useRef(null);return A.useEffect(()=>{if(x.current){const b=x.current.getBBox();m({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),n?k.jsxs("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...f,children:[i&&k.jsx("rect",{width:p.width+2*o[0],x:-o[0],y:-o[1],height:p.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),k.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:x,style:r,children:n}),u]}):null}X3.displayName="EdgeText";const MQ=A.memo(X3);function om({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u,interactionWidth:h=20,...f}){return k.jsxs(k.Fragment,{children:[k.jsx("path",{...f,d:t,fill:"none",className:fn(["react-flow__edge-path",f.className])}),h?k.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,r&&bi(e)&&bi(n)?k.jsx(MQ,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:c,labelBgBorderRadius:u}):null]})}function NE({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Bt.Left||t===Bt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function Z3({sourceX:t,sourceY:e,sourcePosition:n=Bt.Bottom,targetX:r,targetY:i,targetPosition:s=Bt.Top}){const[o,c]=NE({pos:n,x1:t,y1:e,x2:r,y2:i}),[u,h]=NE({pos:s,x1:r,y1:i,x2:t,y2:e}),[f,p,m,y]=x3({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:h});return[`M${t},${e} C${o},${c} ${u},${h} ${r},${i}`,f,p,m,y]}function K3(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:c,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:w,interactionWidth:_})=>{const[S,T,E]=Z3({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:c}),M=t.isInternal?void 0:e;return k.jsx(om,{id:M,path:S,labelX:T,labelY:E,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:w,interactionWidth:_})})}const DQ=K3({isInternal:!1}),Q3=K3({isInternal:!0});DQ.displayName="SimpleBezierEdge";Q3.displayName="SimpleBezierEdgeInternal";function J3(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,sourcePosition:y=Bt.Bottom,targetPosition:x=Bt.Top,markerEnd:b,markerStart:w,pathOptions:_,interactionWidth:S})=>{const[T,E,M]=Vb({sourceX:n,sourceY:r,sourcePosition:y,targetX:i,targetY:s,targetPosition:x,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),L=t.isInternal?void 0:e;return k.jsx(om,{id:L,path:T,labelX:E,labelY:M,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:b,markerStart:w,interactionWidth:S})})}const tO=J3({isInternal:!1}),eO=J3({isInternal:!0});tO.displayName="SmoothStepEdge";eO.displayName="SmoothStepEdgeInternal";function nO(t){return A.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return k.jsx(tO,{...n,id:r,pathOptions:A.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const NQ=nO({isInternal:!1}),rO=nO({isInternal:!0});NQ.displayName="StepEdge";rO.displayName="StepEdgeInternal";function iO(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:b})=>{const[w,_,S]=w3({sourceX:n,sourceY:r,targetX:i,targetY:s}),T=t.isInternal?void 0:e;return k.jsx(om,{id:T,path:w,labelX:_,labelY:S,label:o,labelStyle:c,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:b})})}const LQ=iO({isInternal:!1}),aO=iO({isInternal:!0});LQ.displayName="StraightEdge";aO.displayName="StraightEdgeInternal";function sO(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Bt.Bottom,targetPosition:c=Bt.Top,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:w,pathOptions:_,interactionWidth:S})=>{const[T,E,M]=b3({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:c,curvature:_?.curvature}),L=t.isInternal?void 0:e;return k.jsx(om,{id:L,path:T,labelX:E,labelY:M,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:w,interactionWidth:S})})}const OQ=sO({isInternal:!1}),oO=sO({isInternal:!0});OQ.displayName="BezierEdge";oO.displayName="BezierEdgeInternal";const LE={default:oO,straight:aO,step:rO,smoothstep:eO,simplebezier:Q3},OE={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},RQ=(t,e,n)=>n===Bt.Left?t-e:n===Bt.Right?t+e:t,BQ=(t,e,n)=>n===Bt.Top?t-e:n===Bt.Bottom?t+e:t,RE="react-flow__edgeupdater";function BE({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:c}){return k.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:fn([RE,`${RE}-${c}`]),cx:RQ(e,r,t),cy:BQ(n,r,t),r,stroke:"transparent",fill:"transparent"})}function jQ({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:c,targetPosition:u,onReconnect:h,onReconnectStart:f,onReconnectEnd:p,setReconnecting:m,setUpdateHover:y}){const x=Ve(),b=(E,M)=>{if(E.button!==0)return;const{autoPanOnConnect:L,domNode:N,isValidConnection:$,connectionMode:P,connectionRadius:z,lib:j,onConnectStart:W,onConnectEnd:G,cancelConnection:B,nodeLookup:H,rfId:R,panBy:I,updateConnection:U}=x.getState(),Z=M.type==="target",nt=(K,et)=>{m(!1),p?.(K,n,M.type,et)},q=K=>h?.(n,K),V=(K,et)=>{m(!0),f?.(E,n,M.type),W?.(K,et)};Wb.onPointerDown(E.nativeEvent,{autoPanOnConnect:L,connectionMode:P,connectionRadius:z,domNode:N,handleId:M.id,nodeId:M.nodeId,nodeLookup:H,isTarget:Z,edgeUpdaterType:M.type,lib:j,flowId:R,cancelConnection:B,panBy:I,isValidConnection:$,onConnect:q,onConnectStart:V,onConnectEnd:G,onReconnectEnd:nt,updateConnection:U,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:E.currentTarget})},w=E=>b(E,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),_=E=>b(E,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),S=()=>y(!0),T=()=>y(!1);return k.jsxs(k.Fragment,{children:[(t===!0||t==="source")&&k.jsx(BE,{position:c,centerX:r,centerY:i,radius:e,onMouseDown:w,onMouseEnter:S,onMouseOut:T,type:"source"}),(t===!0||t==="target")&&k.jsx(BE,{position:u,centerX:s,centerY:o,radius:e,onMouseDown:_,onMouseEnter:S,onMouseOut:T,type:"target"})]})}function $Q({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:c,onMouseMove:u,onMouseLeave:h,reconnectRadius:f,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,rfId:x,edgeTypes:b,noPanClassName:w,onError:_,disableKeyboardA11y:S}){let T=oe(bt=>bt.edgeLookup.get(t));const E=oe(bt=>bt.defaultEdgeOptions);T=E?{...E,...T}:T;let M=T.type||"default",L=b?.[M]||LE[M];L===void 0&&(_?.("011",Wi.error011(M)),M="default",L=b?.default||LE.default);const N=!!(T.focusable||e&&typeof T.focusable>"u"),$=typeof p<"u"&&(T.reconnectable||n&&typeof T.reconnectable>"u"),P=!!(T.selectable||r&&typeof T.selectable>"u"),z=A.useRef(null),[j,W]=A.useState(!1),[G,B]=A.useState(!1),H=Ve(),{zIndex:R,sourceX:I,sourceY:U,targetX:Z,targetY:nt,sourcePosition:q,targetPosition:V}=oe(A.useCallback(bt=>{const kt=bt.nodeLookup.get(T.source),_t=bt.nodeLookup.get(T.target);if(!kt||!_t)return{zIndex:T.zIndex,...OE};const Pt=AZ({id:t,sourceNode:kt,targetNode:_t,sourceHandle:T.sourceHandle||null,targetHandle:T.targetHandle||null,connectionMode:bt.connectionMode,onError:_});return{zIndex:vZ({selected:T.selected,zIndex:T.zIndex,sourceNode:kt,targetNode:_t,elevateOnSelect:bt.elevateEdgesOnSelect,zIndexMode:bt.zIndexMode}),...Pt||OE}},[T.source,T.target,T.sourceHandle,T.targetHandle,T.selected,T.zIndex]),He),K=A.useMemo(()=>T.markerStart?`url('#${qb(T.markerStart,x)}')`:void 0,[T.markerStart,x]),et=A.useMemo(()=>T.markerEnd?`url('#${qb(T.markerEnd,x)}')`:void 0,[T.markerEnd,x]);if(T.hidden||I===null||U===null||Z===null||nt===null)return null;const X=bt=>{const{addSelectedEdges:kt,unselectNodesAndEdges:_t,multiSelectionActive:Pt}=H.getState();P&&(H.setState({nodesSelectionActive:!1}),T.selected&&Pt?(_t({nodes:[],edges:[T]}),z.current?.blur()):kt([t])),i&&i(bt,T)},Q=s?bt=>{s(bt,{...T})}:void 0,tt=o?bt=>{o(bt,{...T})}:void 0,at=c?bt=>{c(bt,{...T})}:void 0,ut=u?bt=>{u(bt,{...T})}:void 0,pt=h?bt=>{h(bt,{...T})}:void 0,vt=bt=>{if(!S&&i3.includes(bt.key)&&P){const{unselectNodesAndEdges:kt,addSelectedEdges:_t}=H.getState();bt.key==="Escape"?(z.current?.blur(),kt({edges:[T]})):_t([t])}};return k.jsx("svg",{style:{zIndex:R},children:k.jsxs("g",{className:fn(["react-flow__edge",`react-flow__edge-${M}`,T.className,w,{selected:T.selected,animated:T.animated,inactive:!P&&!i,updating:j,selectable:P}]),onClick:X,onDoubleClick:Q,onContextMenu:tt,onMouseEnter:at,onMouseMove:ut,onMouseLeave:pt,onKeyDown:N?vt:void 0,tabIndex:N?0:void 0,role:T.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":T.ariaLabel===null?void 0:T.ariaLabel||`Edge from ${T.source} to ${T.target}`,"aria-describedby":N?`${j3}-${x}`:void 0,ref:z,...T.domAttributes,children:[!G&&k.jsx(L,{id:t,source:T.source,target:T.target,type:T.type,selected:T.selected,animated:T.animated,selectable:P,deletable:T.deletable??!0,label:T.label,labelStyle:T.labelStyle,labelShowBg:T.labelShowBg,labelBgStyle:T.labelBgStyle,labelBgPadding:T.labelBgPadding,labelBgBorderRadius:T.labelBgBorderRadius,sourceX:I,sourceY:U,targetX:Z,targetY:nt,sourcePosition:q,targetPosition:V,data:T.data,style:T.style,sourceHandleId:T.sourceHandle,targetHandleId:T.targetHandle,markerStart:K,markerEnd:et,pathOptions:"pathOptions"in T?T.pathOptions:void 0,interactionWidth:T.interactionWidth}),$&&k.jsx(jQ,{edge:T,isReconnectable:$,reconnectRadius:f,onReconnect:p,onReconnectStart:m,onReconnectEnd:y,sourceX:I,sourceY:U,targetX:Z,targetY:nt,sourcePosition:q,targetPosition:V,setUpdateHover:W,setReconnecting:B})]})})}var zQ=A.memo($Q);const PQ=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function lO({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:c,onEdgeMouseMove:u,onEdgeMouseLeave:h,onEdgeClick:f,reconnectRadius:p,onEdgeDoubleClick:m,onReconnectStart:y,onReconnectEnd:x,disableKeyboardA11y:b}){const{edgesFocusable:w,edgesReconnectable:_,elementsSelectable:S,onError:T}=oe(PQ,He),E=CQ(e);return k.jsxs("div",{className:"react-flow__edges",children:[k.jsx(AQ,{defaultColor:t,rfId:n}),E.map(M=>k.jsx(zQ,{id:M,edgesFocusable:w,edgesReconnectable:_,elementsSelectable:S,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:c,onMouseMove:u,onMouseLeave:h,onClick:f,reconnectRadius:p,onDoubleClick:m,onReconnectStart:y,onReconnectEnd:x,rfId:n,onError:T,edgeTypes:r,disableKeyboardA11y:b},M))]})}lO.displayName="EdgeRenderer";const FQ=A.memo(lO),IQ=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function HQ({children:t}){const e=oe(IQ);return k.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function VQ(t){const e=W1(),n=A.useRef(!1);A.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const qQ=t=>t.panZoom?.syncViewport;function UQ(t){const e=oe(qQ),n=Ve();return A.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function WQ(t){return t.connection.inProgress?{...t.connection,to:Jh(t.connection.to,t.transform)}:{...t.connection}}function YQ(t){return WQ}function GQ(t){const e=YQ();return oe(e,He)}const XQ=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function ZQ({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:c,inProgress:u}=oe(XQ,He);return!(s&&i&&u)?null:k.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:k.jsx("g",{className:fn(["react-flow__connection",o3(c)]),children:k.jsx(cO,{style:e,type:n,CustomComponent:r,isValid:c})})})}const cO=({style:t,type:e=ds.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:c,fromPosition:u,to:h,toNode:f,toHandle:p,toPosition:m,pointer:y}=GQ();if(!i)return;if(n)return k.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:c,fromX:s.x,fromY:s.y,toX:h.x,toY:h.y,fromPosition:u,toPosition:m,connectionStatus:o3(r),toNode:f,toHandle:p,pointer:y});let x="";const b={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:h.x,targetY:h.y,targetPosition:m};switch(e){case ds.Bezier:[x]=b3(b);break;case ds.SimpleBezier:[x]=Z3(b);break;case ds.Step:[x]=Vb({...b,borderRadius:0});break;case ds.SmoothStep:[x]=Vb(b);break;default:[x]=w3(b)}return k.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};cO.displayName="ConnectionLine";const KQ={};function jE(t=KQ){A.useRef(t),Ve(),A.useEffect(()=>{},[t])}function QQ(){Ve(),A.useRef(!1),A.useEffect(()=>{},[])}function uO({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:h,onNodeContextMenu:f,onSelectionContextMenu:p,onSelectionStart:m,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:b,connectionLineComponent:w,connectionLineContainerStyle:_,selectionKeyCode:S,selectionOnDrag:T,selectionMode:E,multiSelectionKeyCode:M,panActivationKeyCode:L,zoomActivationKeyCode:N,deleteKeyCode:$,onlyRenderVisibleElements:P,elementsSelectable:z,defaultViewport:j,translateExtent:W,minZoom:G,maxZoom:B,preventScrolling:H,defaultMarkerColor:R,zoomOnScroll:I,zoomOnPinch:U,panOnScroll:Z,panOnScrollSpeed:nt,panOnScrollMode:q,zoomOnDoubleClick:V,panOnDrag:K,onPaneClick:et,onPaneMouseEnter:X,onPaneMouseMove:Q,onPaneMouseLeave:tt,onPaneScroll:at,onPaneContextMenu:ut,paneClickDistance:pt,nodeClickDistance:vt,onEdgeContextMenu:bt,onEdgeMouseEnter:kt,onEdgeMouseMove:_t,onEdgeMouseLeave:Pt,reconnectRadius:Yt,onReconnect:de,onReconnectStart:Ye,onReconnectEnd:Ge,noDragClassName:qe,noWheelClassName:Mn,noPanClassName:lr,disableKeyboardA11y:cr,nodeExtent:Me,rfId:Zn,viewport:_n,onViewportChange:kn}){return jE(t),jE(e),QQ(),VQ(n),UQ(_n),k.jsx(fQ,{onPaneClick:et,onPaneMouseEnter:X,onPaneMouseMove:Q,onPaneMouseLeave:tt,onPaneContextMenu:ut,onPaneScroll:at,paneClickDistance:pt,deleteKeyCode:$,selectionKeyCode:S,selectionOnDrag:T,selectionMode:E,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:M,panActivationKeyCode:L,zoomActivationKeyCode:N,elementsSelectable:z,zoomOnScroll:I,zoomOnPinch:U,zoomOnDoubleClick:V,panOnScroll:Z,panOnScrollSpeed:nt,panOnScrollMode:q,panOnDrag:K,defaultViewport:j,translateExtent:W,minZoom:G,maxZoom:B,onSelectionContextMenu:p,preventScrolling:H,noDragClassName:qe,noWheelClassName:Mn,noPanClassName:lr,disableKeyboardA11y:cr,onViewportChange:kn,isControlledViewport:!!_n,children:k.jsxs(HQ,{children:[k.jsx(FQ,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:de,onReconnectStart:Ye,onReconnectEnd:Ge,onlyRenderVisibleElements:P,onEdgeContextMenu:bt,onEdgeMouseEnter:kt,onEdgeMouseMove:_t,onEdgeMouseLeave:Pt,reconnectRadius:Yt,defaultMarkerColor:R,noPanClassName:lr,disableKeyboardA11y:cr,rfId:Zn}),k.jsx(ZQ,{style:b,type:x,component:w,containerStyle:_}),k.jsx("div",{className:"react-flow__edgelabel-renderer"}),k.jsx(SQ,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:h,onNodeContextMenu:f,nodeClickDistance:vt,onlyRenderVisibleElements:P,noPanClassName:lr,noDragClassName:qe,disableKeyboardA11y:cr,nodeExtent:Me,rfId:Zn}),k.jsx("div",{className:"react-flow__viewport-portal"})]})})}uO.displayName="GraphView";const JQ=A.memo(uO),$E=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:c,minZoom:u=.5,maxZoom:h=2,nodeOrigin:f,nodeExtent:p,zIndexMode:m="basic"}={})=>{const y=new Map,x=new Map,b=new Map,w=new Map,_=r??e??[],S=n??t??[],T=f??[0,0],E=p??bh;_3(b,w,_);const M=Ub(S,y,x,{nodeOrigin:T,nodeExtent:E,zIndexMode:m});let L=[0,0,1];if(o&&i&&s){const N=Kh(y,{filter:j=>!!((j.width||j.initialWidth)&&(j.height||j.initialHeight))}),{x:$,y:P,zoom:z}=P1(N,i,s,u,h,c?.padding??.1);L=[$,P,z]}return{rfId:"1",width:i??0,height:s??0,transform:L,nodes:S,nodesInitialized:M,nodeLookup:y,parentLookup:x,edges:_,edgeLookup:w,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:h,translateExtent:bh,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:nc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:T,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:c,fitViewResolver:null,connection:{...s3},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:pZ,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:a3,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},tJ=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:c,minZoom:u,maxZoom:h,nodeOrigin:f,nodeExtent:p,zIndexMode:m})=>xK((y,x)=>{async function b(){const{nodeLookup:w,panZoom:_,fitViewOptions:S,fitViewResolver:T,width:E,height:M,minZoom:L,maxZoom:N}=x();_&&(await dZ({nodes:w,width:E,height:M,panZoom:_,minZoom:L,maxZoom:N},S),T?.resolve(!0),y({fitViewResolver:null}))}return{...$E({nodes:t,edges:e,width:i,height:s,fitView:o,fitViewOptions:c,minZoom:u,maxZoom:h,nodeOrigin:f,nodeExtent:p,defaultNodes:n,defaultEdges:r,zIndexMode:m}),setNodes:w=>{const{nodeLookup:_,parentLookup:S,nodeOrigin:T,elevateNodesOnSelect:E,fitViewQueued:M,zIndexMode:L}=x(),N=Ub(w,_,S,{nodeOrigin:T,nodeExtent:p,elevateNodesOnSelect:E,checkEquality:!0,zIndexMode:L});M&&N?(b(),y({nodes:w,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:w,nodesInitialized:N})},setEdges:w=>{const{connectionLookup:_,edgeLookup:S}=x();_3(_,S,w),y({edges:w})},setDefaultNodesAndEdges:(w,_)=>{if(w){const{setNodes:S}=x();S(w),y({hasDefaultNodes:!0})}if(_){const{setEdges:S}=x();S(_),y({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:_,nodeLookup:S,parentLookup:T,domNode:E,nodeOrigin:M,nodeExtent:L,debug:N,fitViewQueued:$,zIndexMode:P}=x(),{changes:z,updatedInternals:j}=jZ(w,S,T,E,M,L,P);j&&(LZ(S,T,{nodeOrigin:M,nodeExtent:L,zIndexMode:P}),$?(b(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),z?.length>0&&(N&&console.log("React Flow: trigger node changes",z),_?.(z)))},updateNodePositions:(w,_=!1)=>{const S=[];let T=[];const{nodeLookup:E,triggerNodeChanges:M,connection:L,updateConnection:N,onNodesChangeMiddlewareMap:$}=x();for(const[P,z]of w){const j=E.get(P),W=!!(j?.expandParent&&j?.parentId&&z?.position),G={id:P,type:"position",position:W?{x:Math.max(0,z.position.x),y:Math.max(0,z.position.y)}:z.position,dragging:_};if(j&&L.inProgress&&L.fromNode.id===j.id){const B=_o(j,L.fromHandle,Bt.Left,!0);N({...L,from:B})}W&&j.parentId&&S.push({id:P,parentId:j.parentId,rect:{...z.internals.positionAbsolute,width:z.measured.width??0,height:z.measured.height??0}}),T.push(G)}if(S.length>0){const{parentLookup:P,nodeOrigin:z}=x(),j=U1(S,E,P,z);T.push(...j)}for(const P of $.values())T=P(T);M(T)},triggerNodeChanges:w=>{const{onNodesChange:_,setNodes:S,nodes:T,hasDefaultNodes:E,debug:M}=x();if(w?.length){if(E){const L=P3(w,T);S(L)}M&&console.log("React Flow: trigger node changes",w),_?.(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:_,setEdges:S,edges:T,hasDefaultEdges:E,debug:M}=x();if(w?.length){if(E){const L=F3(w,T);S(L)}M&&console.log("React Flow: trigger edge changes",w),_?.(w)}},addSelectedNodes:w=>{const{multiSelectionActive:_,edgeLookup:S,nodeLookup:T,triggerNodeChanges:E,triggerEdgeChanges:M}=x();if(_){const L=w.map(N=>no(N,!0));E(L);return}E(Bl(T,new Set([...w]),!0)),M(Bl(S))},addSelectedEdges:w=>{const{multiSelectionActive:_,edgeLookup:S,nodeLookup:T,triggerNodeChanges:E,triggerEdgeChanges:M}=x();if(_){const L=w.map(N=>no(N,!0));M(L);return}M(Bl(S,new Set([...w]))),E(Bl(T,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:_}={})=>{const{edges:S,nodes:T,nodeLookup:E,triggerNodeChanges:M,triggerEdgeChanges:L}=x(),N=w||T,$=_||S,P=N.map(j=>{const W=E.get(j.id);return W&&(W.selected=!1),no(j.id,!1)}),z=$.map(j=>no(j.id,!1));M(P),L(z)},setMinZoom:w=>{const{panZoom:_,maxZoom:S}=x();_?.setScaleExtent([w,S]),y({minZoom:w})},setMaxZoom:w=>{const{panZoom:_,minZoom:S}=x();_?.setScaleExtent([S,w]),y({maxZoom:w})},setTranslateExtent:w=>{x().panZoom?.setTranslateExtent(w),y({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:_,triggerNodeChanges:S,triggerEdgeChanges:T,elementsSelectable:E}=x();if(!E)return;const M=_.reduce((N,$)=>$.selected?[...N,no($.id,!1)]:N,[]),L=w.reduce((N,$)=>$.selected?[...N,no($.id,!1)]:N,[]);S(M),T(L)},setNodeExtent:w=>{const{nodes:_,nodeLookup:S,parentLookup:T,nodeOrigin:E,elevateNodesOnSelect:M,nodeExtent:L,zIndexMode:N}=x();w[0][0]===L[0][0]&&w[0][1]===L[0][1]&&w[1][0]===L[1][0]&&w[1][1]===L[1][1]||(Ub(_,S,T,{nodeOrigin:E,nodeExtent:w,elevateNodesOnSelect:M,checkEquality:!1,zIndexMode:N}),y({nodeExtent:w}))},panBy:w=>{const{transform:_,width:S,height:T,panZoom:E,translateExtent:M}=x();return $Z({delta:w,panZoom:E,transform:_,translateExtent:M,width:S,height:T})},setCenter:async(w,_,S)=>{const{width:T,height:E,maxZoom:M,panZoom:L}=x();if(!L)return Promise.resolve(!1);const N=typeof S?.zoom<"u"?S.zoom:M;return await L.setViewport({x:T/2-w*N,y:E/2-_*N,zoom:N},{duration:S?.duration,ease:S?.ease,interpolate:S?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...s3}})},updateConnection:w=>{y({connection:w})},reset:()=>y({...$E()})}},Object.is);function eJ({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:c,initialFitViewOptions:u,fitView:h,nodeOrigin:f,nodeExtent:p,zIndexMode:m,children:y}){const[x]=A.useState(()=>tJ({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:h,minZoom:o,maxZoom:c,fitViewOptions:u,nodeOrigin:f,nodeExtent:p,zIndexMode:m}));return k.jsx(bK,{value:x,children:k.jsx(HK,{children:y})})}function nJ({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:c,fitViewOptions:u,minZoom:h,maxZoom:f,nodeOrigin:p,nodeExtent:m,zIndexMode:y}){return A.useContext(im)?k.jsx(k.Fragment,{children:t}):k.jsx(eJ,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:c,initialFitViewOptions:u,initialMinZoom:h,initialMaxZoom:f,nodeOrigin:p,nodeExtent:m,zIndexMode:y,children:t})}const rJ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function iJ({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:c,onEdgeClick:u,onInit:h,onMove:f,onMoveStart:p,onMoveEnd:m,onConnect:y,onConnectStart:x,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:_,onNodeMouseEnter:S,onNodeMouseMove:T,onNodeMouseLeave:E,onNodeContextMenu:M,onNodeDoubleClick:L,onNodeDragStart:N,onNodeDrag:$,onNodeDragStop:P,onNodesDelete:z,onEdgesDelete:j,onDelete:W,onSelectionChange:G,onSelectionDragStart:B,onSelectionDrag:H,onSelectionDragStop:R,onSelectionContextMenu:I,onSelectionStart:U,onSelectionEnd:Z,onBeforeDelete:nt,connectionMode:q,connectionLineType:V=ds.Bezier,connectionLineStyle:K,connectionLineComponent:et,connectionLineContainerStyle:X,deleteKeyCode:Q="Backspace",selectionKeyCode:tt="Shift",selectionOnDrag:at=!1,selectionMode:ut=vh.Full,panActivationKeyCode:pt="Space",multiSelectionKeyCode:vt=Sh()?"Meta":"Control",zoomActivationKeyCode:bt=Sh()?"Meta":"Control",snapToGrid:kt,snapGrid:_t,onlyRenderVisibleElements:Pt=!1,selectNodesOnDrag:Yt,nodesDraggable:de,autoPanOnNodeFocus:Ye,nodesConnectable:Ge,nodesFocusable:qe,nodeOrigin:Mn=$3,edgesFocusable:lr,edgesReconnectable:cr,elementsSelectable:Me=!0,defaultViewport:Zn=LK,minZoom:_n=.5,maxZoom:kn=2,translateExtent:Dn=bh,preventScrolling:Ir=!0,nodeExtent:Ar,defaultMarkerColor:Kn="#b1b1b7",zoomOnScroll:ai=!0,zoomOnPinch:ur=!0,panOnScroll:Ee=!1,panOnScrollSpeed:tn=.5,panOnScrollMode:Xe=yo.Free,zoomOnDoubleClick:Ki=!0,panOnDrag:Ra=!0,onPaneClick:Mi,onPaneMouseEnter:Mr,onPaneMouseMove:Di,onPaneMouseLeave:xe,onPaneScroll:Ne,onPaneContextMenu:Ze,paneClickDistance:ie=1,nodeClickDistance:Ue=0,children:an,onReconnect:pn,onReconnectStart:Tn,onReconnectEnd:Pe,onEdgeContextMenu:Fn,onEdgeDoubleClick:Nn,onEdgeMouseEnter:Le,onEdgeMouseMove:gn,onEdgeMouseLeave:hr,reconnectRadius:In=10,onNodesChange:dr,onEdgesChange:Ln,noDragClassName:be="nodrag",noWheelClassName:mn="nowheel",noPanClassName:Hr="nopan",fitView:Qi,fitViewOptions:Rs,connectOnClick:Tc,attributionPosition:Rt,proOptions:rt,defaultEdgeOptions:xt,elevateNodesOnSelect:Ct=!0,elevateEdgesOnSelect:le=!1,disableKeyboardA11y:Oe=!1,autoPanOnConnect:ve,autoPanOnNodeDrag:ae,autoPanSpeed:fr,connectionRadius:si,isValidConnection:Dr,onError:De,style:$o,id:Ba,nodeDragThreshold:cd,connectionDragThreshold:Om,viewport:zo,onViewportChange:Po,width:oi,height:pr,colorMode:ud="light",debug:Rm,onScroll:Fo,ariaLabelConfig:hd,zIndexMode:Bs="basic",...Bm},gr){const js=Ba||"1",dd=jK(ud),Ec=A.useCallback(Ji=>{Ji.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Fo?.(Ji)},[Fo]);return k.jsx("div",{"data-testid":"rf__wrapper",...Bm,onScroll:Ec,style:{...$o,...rJ},ref:gr,className:fn(["react-flow",i,dd]),id:Ba,role:"application",children:k.jsxs(nJ,{nodes:t,edges:e,width:oi,height:pr,fitView:Qi,fitViewOptions:Rs,minZoom:_n,maxZoom:kn,nodeOrigin:Mn,nodeExtent:Ar,zIndexMode:Bs,children:[k.jsx(JQ,{onInit:h,onNodeClick:c,onEdgeClick:u,onNodeMouseEnter:S,onNodeMouseMove:T,onNodeMouseLeave:E,onNodeContextMenu:M,onNodeDoubleClick:L,nodeTypes:s,edgeTypes:o,connectionLineType:V,connectionLineStyle:K,connectionLineComponent:et,connectionLineContainerStyle:X,selectionKeyCode:tt,selectionOnDrag:at,selectionMode:ut,deleteKeyCode:Q,multiSelectionKeyCode:vt,panActivationKeyCode:pt,zoomActivationKeyCode:bt,onlyRenderVisibleElements:Pt,defaultViewport:Zn,translateExtent:Dn,minZoom:_n,maxZoom:kn,preventScrolling:Ir,zoomOnScroll:ai,zoomOnPinch:ur,zoomOnDoubleClick:Ki,panOnScroll:Ee,panOnScrollSpeed:tn,panOnScrollMode:Xe,panOnDrag:Ra,onPaneClick:Mi,onPaneMouseEnter:Mr,onPaneMouseMove:Di,onPaneMouseLeave:xe,onPaneScroll:Ne,onPaneContextMenu:Ze,paneClickDistance:ie,nodeClickDistance:Ue,onSelectionContextMenu:I,onSelectionStart:U,onSelectionEnd:Z,onReconnect:pn,onReconnectStart:Tn,onReconnectEnd:Pe,onEdgeContextMenu:Fn,onEdgeDoubleClick:Nn,onEdgeMouseEnter:Le,onEdgeMouseMove:gn,onEdgeMouseLeave:hr,reconnectRadius:In,defaultMarkerColor:Kn,noDragClassName:be,noWheelClassName:mn,noPanClassName:Hr,rfId:js,disableKeyboardA11y:Oe,nodeExtent:Ar,viewport:zo,onViewportChange:Po}),k.jsx(BK,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:x,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:_,nodesDraggable:de,autoPanOnNodeFocus:Ye,nodesConnectable:Ge,nodesFocusable:qe,edgesFocusable:lr,edgesReconnectable:cr,elementsSelectable:Me,elevateNodesOnSelect:Ct,elevateEdgesOnSelect:le,minZoom:_n,maxZoom:kn,nodeExtent:Ar,onNodesChange:dr,onEdgesChange:Ln,snapToGrid:kt,snapGrid:_t,connectionMode:q,translateExtent:Dn,connectOnClick:Tc,defaultEdgeOptions:xt,fitView:Qi,fitViewOptions:Rs,onNodesDelete:z,onEdgesDelete:j,onDelete:W,onNodeDragStart:N,onNodeDrag:$,onNodeDragStop:P,onSelectionDrag:H,onSelectionDragStart:B,onSelectionDragStop:R,onMove:f,onMoveStart:p,onMoveEnd:m,noPanClassName:Hr,nodeOrigin:Mn,rfId:js,autoPanOnConnect:ve,autoPanOnNodeDrag:ae,autoPanSpeed:fr,onError:De,connectionRadius:si,isValidConnection:Dr,selectNodesOnDrag:Yt,nodeDragThreshold:cd,connectionDragThreshold:Om,onBeforeDelete:nt,debug:Rm,ariaLabelConfig:hd,zIndexMode:Bs}),k.jsx(NK,{onSelectionChange:G}),an,k.jsx(TK,{proOptions:rt,position:Rt}),k.jsx(kK,{rfId:js,disableKeyboardA11y:Oe})]})})}var aJ=I3(iJ);function sJ(t){const[e,n]=A.useState(t),r=A.useCallback(i=>n(s=>P3(i,s)),[]);return[e,n,r]}function oJ(t){const[e,n]=A.useState(t),r=A.useCallback(i=>n(s=>F3(i,s)),[]);return[e,n,r]}function lJ({dimensions:t,lineWidth:e,variant:n,className:r}){return k.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:fn(["react-flow__background-pattern",n,r])})}function cJ({radius:t,className:e}){return k.jsx("circle",{cx:t,cy:t,r:t,className:fn(["react-flow__background-pattern","dots",e])})}var ms;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ms||(ms={}));const uJ={[ms.Dots]:1,[ms.Lines]:1,[ms.Cross]:6},hJ=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function hO({id:t,variant:e=ms.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:c,style:u,className:h,patternClassName:f}){const p=A.useRef(null),{transform:m,patternId:y}=oe(hJ,He),x=r||uJ[e],b=e===ms.Dots,w=e===ms.Cross,_=Array.isArray(n)?n:[n,n],S=[_[0]*m[2]||1,_[1]*m[2]||1],T=x*m[2],E=Array.isArray(s)?s:[s,s],M=w?[T,T]:S,L=[E[0]*m[2]||1+M[0]/2,E[1]*m[2]||1+M[1]/2],N=`${y}${t||""}`;return k.jsxs("svg",{className:fn(["react-flow__background",h]),style:{...u,...sm,"--xy-background-color-props":c,"--xy-background-pattern-color-props":o},ref:p,"data-testid":"rf__background",children:[k.jsx("pattern",{id:N,x:m[0]%S[0],y:m[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:b?k.jsx(cJ,{radius:T/2,className:f}):k.jsx(lJ,{dimensions:M,lineWidth:i,variant:e,className:f})}),k.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}hO.displayName="Background";const dJ=A.memo(hO);function fJ(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:k.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function pJ(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:k.jsx("path",{d:"M0 0h32v4.2H0z"})})}function gJ(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:k.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function mJ(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function yJ(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Vf({children:t,className:e,...n}){return k.jsx("button",{type:"button",className:fn(["react-flow__controls-button",e]),...n,children:t})}const xJ=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function dO({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:c,onInteractiveChange:u,className:h,children:f,position:p="bottom-left",orientation:m="vertical","aria-label":y}){const x=Ve(),{isInteractive:b,minZoomReached:w,maxZoomReached:_,ariaLabelConfig:S}=oe(xJ,He),{zoomIn:T,zoomOut:E,fitView:M}=W1(),L=()=>{T(),s?.()},N=()=>{E(),o?.()},$=()=>{M(i),c?.()},P=()=>{x.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),u?.(!b)},z=m==="horizontal"?"horizontal":"vertical";return k.jsxs(am,{className:fn(["react-flow__controls",z,h]),position:p,style:t,"data-testid":"rf__controls","aria-label":y??S["controls.ariaLabel"],children:[e&&k.jsxs(k.Fragment,{children:[k.jsx(Vf,{onClick:L,className:"react-flow__controls-zoomin",title:S["controls.zoomIn.ariaLabel"],"aria-label":S["controls.zoomIn.ariaLabel"],disabled:_,children:k.jsx(fJ,{})}),k.jsx(Vf,{onClick:N,className:"react-flow__controls-zoomout",title:S["controls.zoomOut.ariaLabel"],"aria-label":S["controls.zoomOut.ariaLabel"],disabled:w,children:k.jsx(pJ,{})})]}),n&&k.jsx(Vf,{className:"react-flow__controls-fitview",onClick:$,title:S["controls.fitView.ariaLabel"],"aria-label":S["controls.fitView.ariaLabel"],children:k.jsx(gJ,{})}),r&&k.jsx(Vf,{className:"react-flow__controls-interactive",onClick:P,title:S["controls.interactive.ariaLabel"],"aria-label":S["controls.interactive.ariaLabel"],children:b?k.jsx(yJ,{}):k.jsx(mJ,{})}),f]})}dO.displayName="Controls";const bJ=A.memo(dO);function vJ({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:c,strokeWidth:u,className:h,borderRadius:f,shapeRendering:p,selected:m,onClick:y}){const{background:x,backgroundColor:b}=s||{},w=o||x||b;return k.jsx("rect",{className:fn(["react-flow__minimap-node",{selected:m},h]),x:e,y:n,rx:f,ry:f,width:r,height:i,style:{fill:w,stroke:c,strokeWidth:u},shapeRendering:p,onClick:y?_=>y(_,t):void 0})}const wJ=A.memo(vJ),SJ=t=>t.nodes.map(e=>e.id),Rx=t=>t instanceof Function?t:()=>t;function CJ({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=wJ,onClick:o}){const c=oe(SJ,He),u=Rx(e),h=Rx(t),f=Rx(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return k.jsx(k.Fragment,{children:c.map(m=>k.jsx(kJ,{id:m,nodeColorFunc:u,nodeStrokeColorFunc:h,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:p},m))})}function _J({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:c,onClick:u}){const{node:h,x:f,y:p,width:m,height:y}=oe(x=>{const{internals:b}=x.nodeLookup.get(t),w=b.userNode,{x:_,y:S}=b.positionAbsolute,{width:T,height:E}=La(w);return{node:w,x:_,y:S,width:T,height:E}},He);return!h||h.hidden||!f3(h)?null:k.jsx(c,{x:f,y:p,width:m,height:y,style:h.style,selected:!!h.selected,className:r(h),color:e(h),borderRadius:i,strokeColor:n(h),strokeWidth:s,shapeRendering:o,onClick:u,id:h.id})}const kJ=A.memo(_J);var TJ=A.memo(CJ);const EJ=200,AJ=150,MJ=t=>!t.hidden,DJ=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?d3(Kh(t.nodeLookup,{filter:MJ}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},NJ="react-flow__minimap-desc";function fO({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:c,bgColor:u,maskColor:h,maskStrokeColor:f,maskStrokeWidth:p,position:m="bottom-right",onClick:y,onNodeClick:x,pannable:b=!1,zoomable:w=!1,ariaLabel:_,inversePan:S,zoomStep:T=1,offsetScale:E=5}){const M=Ve(),L=A.useRef(null),{boundingRect:N,viewBB:$,rfId:P,panZoom:z,translateExtent:j,flowWidth:W,flowHeight:G,ariaLabelConfig:B}=oe(DJ,He),H=t?.width??EJ,R=t?.height??AJ,I=N.width/H,U=N.height/R,Z=Math.max(I,U),nt=Z*H,q=Z*R,V=E*Z,K=N.x-(nt-N.width)/2-V,et=N.y-(q-N.height)/2-V,X=nt+V*2,Q=q+V*2,tt=`${NJ}-${P}`,at=A.useRef(0),ut=A.useRef();at.current=Z,A.useEffect(()=>{if(L.current&&z)return ut.current=WZ({domNode:L.current,panZoom:z,getTransform:()=>M.getState().transform,getViewScale:()=>at.current}),()=>{ut.current?.destroy()}},[z]),A.useEffect(()=>{ut.current?.update({translateExtent:j,width:W,height:G,inversePan:S,pannable:b,zoomStep:T,zoomable:w})},[b,w,S,T,j,W,G]);const pt=y?kt=>{const[_t,Pt]=ut.current?.pointer(kt)||[0,0];y(kt,{x:_t,y:Pt})}:void 0,vt=x?A.useCallback((kt,_t)=>{const Pt=M.getState().nodeLookup.get(_t).internals.userNode;x(kt,Pt)},[]):void 0,bt=_??B["minimap.ariaLabel"];return k.jsx(am,{position:m,style:{...t,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*Z:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:fn(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:k.jsxs("svg",{width:H,height:R,viewBox:`${K} ${et} ${X} ${Q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":tt,ref:L,onClick:pt,children:[bt&&k.jsx("title",{id:tt,children:bt}),k.jsx(TJ,{onClick:vt,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:c}),k.jsx("path",{className:"react-flow__minimap-mask",d:`M${K-V},${et-V}h${X+V*2}v${Q+V*2}h${-X-V*2}z
        M${$.x},${$.y}h${$.width}v${$.height}h${-$.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}fO.displayName="MiniMap";A.memo(fO);const LJ=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,OJ={[sc.Line]:"right",[sc.Handle]:"bottom-right"};function RJ({nodeId:t,position:e,variant:n=sc.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:c=10,minHeight:u=10,maxWidth:h=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:m,autoScale:y=!0,shouldResize:x,onResizeStart:b,onResize:w,onResizeEnd:_}){const S=U3(),T=typeof t=="string"?t:S,E=Ve(),M=A.useRef(null),L=n===sc.Handle,N=oe(A.useCallback(LJ(L&&y),[L,y]),He),$=A.useRef(null),P=e??OJ[n];A.useEffect(()=>{if(!(!M.current||!T))return $.current||($.current=sK({domNode:M.current,nodeId:T,getStoreItems:()=>{const{nodeLookup:j,transform:W,snapGrid:G,snapToGrid:B,nodeOrigin:H,domNode:R}=E.getState();return{nodeLookup:j,transform:W,snapGrid:G,snapToGrid:B,nodeOrigin:H,paneDomNode:R}},onChange:(j,W)=>{const{triggerNodeChanges:G,nodeLookup:B,parentLookup:H,nodeOrigin:R}=E.getState(),I=[],U={x:j.x,y:j.y},Z=B.get(T);if(Z&&Z.expandParent&&Z.parentId){const nt=Z.origin??R,q=j.width??Z.measured.width??0,V=j.height??Z.measured.height??0,K={id:Z.id,parentId:Z.parentId,rect:{width:q,height:V,...p3({x:j.x??Z.position.x,y:j.y??Z.position.y},{width:q,height:V},Z.parentId,B,nt)}},et=U1([K],B,H,R);I.push(...et),U.x=j.x?Math.max(nt[0]*q,j.x):void 0,U.y=j.y?Math.max(nt[1]*V,j.y):void 0}if(U.x!==void 0&&U.y!==void 0){const nt={id:T,type:"position",position:{...U}};I.push(nt)}if(j.width!==void 0&&j.height!==void 0){const q={id:T,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:j.width,height:j.height}};I.push(q)}for(const nt of W){const q={...nt,type:"position"};I.push(q)}G(I)},onEnd:({width:j,height:W})=>{const G={id:T,type:"dimensions",resizing:!1,dimensions:{width:j,height:W}};E.getState().triggerNodeChanges([G])}})),$.current.update({controlPosition:P,boundaries:{minWidth:c,minHeight:u,maxWidth:h,maxHeight:f},keepAspectRatio:p,resizeDirection:m,onResizeStart:b,onResize:w,onResizeEnd:_,shouldResize:x}),()=>{$.current?.destroy()}},[P,c,u,h,f,p,b,w,_,x]);const z=P.split("-");return k.jsx("div",{className:fn(["react-flow__resize-control","nodrag",...z,n,r]),ref:M,style:{...i,scale:N,...o&&{[L?"backgroundColor":"borderColor"]:o}},children:s})}A.memo(RJ);var Ti=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),Te=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),BJ=Te((t,e)=>{var n=class{constructor(){let s={};s._next=s._prev=s,this._sentinel=s}dequeue(){let s=this._sentinel,o=s._prev;if(o!==s)return r(o),o}enqueue(s){let o=this._sentinel;s._prev&&s._next&&r(s),s._next=o._next,o._next._prev=s,o._next=s,s._prev=o}toString(){let s=[],o=this._sentinel,c=o._prev;for(;c!==o;)s.push(JSON.stringify(c,i)),c=c._prev;return"["+s.join(", ")+"]"}};function r(s){s._prev._next=s._next,s._next._prev=s._prev,delete s._next,delete s._prev}function i(s,o){if(s!=="_next"&&s!=="_prev")return o}e.exports=n}),jJ=Te((t,e)=>{var n=Ti("@dagrejs/graphlib").Graph,r=BJ();e.exports=s;var i=()=>1;function s(p,m){if(p.nodeCount()<=1)return[];let y=u(p,m||i);return o(y.graph,y.buckets,y.zeroIdx).flatMap(x=>p.outEdges(x.v,x.w))}function o(p,m,y){let x=[],b=m[m.length-1],w=m[0],_;for(;p.nodeCount();){for(;_=w.dequeue();)c(p,m,y,_);for(;_=b.dequeue();)c(p,m,y,_);if(p.nodeCount()){for(let S=m.length-2;S>0;--S)if(_=m[S].dequeue(),_){x=x.concat(c(p,m,y,_,!0));break}}}return x}function c(p,m,y,x,b){let w=b?[]:void 0;return p.inEdges(x.v).forEach(_=>{let S=p.edge(_),T=p.node(_.v);b&&w.push({v:_.v,w:_.w}),T.out-=S,h(m,y,T)}),p.outEdges(x.v).forEach(_=>{let S=p.edge(_),T=_.w,E=p.node(T);E.in-=S,h(m,y,E)}),p.removeNode(x.v),w}function u(p,m){let y=new n,x=0,b=0;p.nodes().forEach(S=>{y.setNode(S,{v:S,in:0,out:0})}),p.edges().forEach(S=>{let T=y.edge(S.v,S.w)||0,E=m(S),M=T+E;y.setEdge(S.v,S.w,M),b=Math.max(b,y.node(S.v).out+=E),x=Math.max(x,y.node(S.w).in+=E)});let w=f(b+x+3).map(()=>new r),_=x+1;return y.nodes().forEach(S=>{h(w,_,y.node(S))}),{graph:y,buckets:w,zeroIdx:_}}function h(p,m,y){y.out?y.in?p[y.out-y.in+m].enqueue(y):p[p.length-1].enqueue(y):p[0].enqueue(y)}function f(p){let m=[];for(let y=0;y<p;y++)m.push(y);return m}}),dn=Te((t,e)=>{var n=Ti("@dagrejs/graphlib").Graph;e.exports={addBorderNode:m,addDummyNode:r,applyWithChunking:b,asNonCompoundGraph:s,buildLayerMatrix:h,intersectRect:u,mapValues:$,maxRank:w,normalizeRanks:f,notime:T,partition:_,pick:N,predecessorWeights:c,range:L,removeEmptyRanks:p,simplify:i,successorWeights:o,time:S,uniqueId:M,zipObject:P};function r(z,j,W,G){for(var B=G;z.hasNode(B);)B=M(G);return W.dummy=j,z.setNode(B,W),B}function i(z){let j=new n().setGraph(z.graph());return z.nodes().forEach(W=>j.setNode(W,z.node(W))),z.edges().forEach(W=>{let G=j.edge(W.v,W.w)||{weight:0,minlen:1},B=z.edge(W);j.setEdge(W.v,W.w,{weight:G.weight+B.weight,minlen:Math.max(G.minlen,B.minlen)})}),j}function s(z){let j=new n({multigraph:z.isMultigraph()}).setGraph(z.graph());return z.nodes().forEach(W=>{z.children(W).length||j.setNode(W,z.node(W))}),z.edges().forEach(W=>{j.setEdge(W,z.edge(W))}),j}function o(z){let j=z.nodes().map(W=>{let G={};return z.outEdges(W).forEach(B=>{G[B.w]=(G[B.w]||0)+z.edge(B).weight}),G});return P(z.nodes(),j)}function c(z){let j=z.nodes().map(W=>{let G={};return z.inEdges(W).forEach(B=>{G[B.v]=(G[B.v]||0)+z.edge(B).weight}),G});return P(z.nodes(),j)}function u(z,j){let W=z.x,G=z.y,B=j.x-W,H=j.y-G,R=z.width/2,I=z.height/2;if(!B&&!H)throw new Error("Not possible to find intersection inside of the rectangle");let U,Z;return Math.abs(H)*R>Math.abs(B)*I?(H<0&&(I=-I),U=I*B/H,Z=I):(B<0&&(R=-R),U=R,Z=R*H/B),{x:W+U,y:G+Z}}function h(z){let j=L(w(z)+1).map(()=>[]);return z.nodes().forEach(W=>{let G=z.node(W),B=G.rank;B!==void 0&&(j[B][G.order]=W)}),j}function f(z){let j=z.nodes().map(G=>{let B=z.node(G).rank;return B===void 0?Number.MAX_VALUE:B}),W=b(Math.min,j);z.nodes().forEach(G=>{let B=z.node(G);Object.hasOwn(B,"rank")&&(B.rank-=W)})}function p(z){let j=z.nodes().map(R=>z.node(R).rank).filter(R=>R!==void 0),W=b(Math.min,j),G=[];z.nodes().forEach(R=>{let I=z.node(R).rank-W;G[I]||(G[I]=[]),G[I].push(R)});let B=0,H=z.graph().nodeRankFactor;Array.from(G).forEach((R,I)=>{R===void 0&&I%H!==0?--B:R!==void 0&&B&&R.forEach(U=>z.node(U).rank+=B)})}function m(z,j,W,G){let B={width:0,height:0};return arguments.length>=4&&(B.rank=W,B.order=G),r(z,"border",B,j)}function y(z,j=x){let W=[];for(let G=0;G<z.length;G+=j){let B=z.slice(G,G+j);W.push(B)}return W}var x=65535;function b(z,j){if(j.length>x){let W=y(j);return z.apply(null,W.map(G=>z.apply(null,G)))}else return z.apply(null,j)}function w(z){let j=z.nodes().map(W=>{let G=z.node(W).rank;return G===void 0?Number.MIN_VALUE:G});return b(Math.max,j)}function _(z,j){let W={lhs:[],rhs:[]};return z.forEach(G=>{j(G)?W.lhs.push(G):W.rhs.push(G)}),W}function S(z,j){let W=Date.now();try{return j()}finally{console.log(z+" time: "+(Date.now()-W)+"ms")}}function T(z,j){return j()}var E=0;function M(z){var j=++E;return z+(""+j)}function L(z,j,W=1){j==null&&(j=z,z=0);let G=H=>H<j;W<0&&(G=H=>j<H);let B=[];for(let H=z;G(H);H+=W)B.push(H);return B}function N(z,j){let W={};for(let G of j)z[G]!==void 0&&(W[G]=z[G]);return W}function $(z,j){let W=j;return typeof j=="string"&&(W=G=>G[j]),Object.entries(z).reduce((G,[B,H])=>(G[B]=W(H,B),G),{})}function P(z,j){return z.reduce((W,G,B)=>(W[G]=j[B],W),{})}}),$J=Te((t,e)=>{var n=jJ(),r=dn().uniqueId;e.exports={run:i,undo:o};function i(c){(c.graph().acyclicer==="greedy"?n(c,u(c)):s(c)).forEach(h=>{let f=c.edge(h);c.removeEdge(h),f.forwardName=h.name,f.reversed=!0,c.setEdge(h.w,h.v,f,r("rev"))});function u(h){return f=>h.edge(f).weight}}function s(c){let u=[],h={},f={};function p(m){Object.hasOwn(f,m)||(f[m]=!0,h[m]=!0,c.outEdges(m).forEach(y=>{Object.hasOwn(h,y.w)?u.push(y):p(y.w)}),delete h[m])}return c.nodes().forEach(p),u}function o(c){c.edges().forEach(u=>{let h=c.edge(u);if(h.reversed){c.removeEdge(u);let f=h.forwardName;delete h.reversed,delete h.forwardName,c.setEdge(u.w,u.v,h,f)}})}}),zJ=Te((t,e)=>{var n=dn();e.exports={run:r,undo:s};function r(o){o.graph().dummyChains=[],o.edges().forEach(c=>i(o,c))}function i(o,c){let u=c.v,h=o.node(u).rank,f=c.w,p=o.node(f).rank,m=c.name,y=o.edge(c),x=y.labelRank;if(p===h+1)return;o.removeEdge(c);let b,w,_;for(_=0,++h;h<p;++_,++h)y.points=[],w={width:0,height:0,edgeLabel:y,edgeObj:c,rank:h},b=n.addDummyNode(o,"edge",w,"_d"),h===x&&(w.width=y.width,w.height=y.height,w.dummy="edge-label",w.labelpos=y.labelpos),o.setEdge(u,b,{weight:y.weight},m),_===0&&o.graph().dummyChains.push(b),u=b;o.setEdge(u,f,{weight:y.weight},m)}function s(o){o.graph().dummyChains.forEach(c=>{let u=o.node(c),h=u.edgeLabel,f;for(o.setEdge(u.edgeObj,h);u.dummy;)f=o.successors(c)[0],o.removeNode(c),h.points.push({x:u.x,y:u.y}),u.dummy==="edge-label"&&(h.x=u.x,h.y=u.y,h.width=u.width,h.height=u.height),c=f,u=o.node(c)})}}),tg=Te((t,e)=>{var{applyWithChunking:n}=dn();e.exports={longestPath:r,slack:i};function r(s){var o={};function c(u){var h=s.node(u);if(Object.hasOwn(o,u))return h.rank;o[u]=!0;let f=s.outEdges(u).map(m=>m==null?Number.POSITIVE_INFINITY:c(m.w)-s.edge(m).minlen);var p=n(Math.min,f);return p===Number.POSITIVE_INFINITY&&(p=0),h.rank=p}s.sources().forEach(c)}function i(s,o){return s.node(o.w).rank-s.node(o.v).rank-s.edge(o).minlen}}),pO=Te((t,e)=>{var n=Ti("@dagrejs/graphlib").Graph,r=tg().slack;e.exports=i;function i(u){var h=new n({directed:!1}),f=u.nodes()[0],p=u.nodeCount();h.setNode(f,{});for(var m,y;s(h,u)<p;)m=o(h,u),y=h.hasNode(m.v)?r(u,m):-r(u,m),c(h,u,y);return h}function s(u,h){function f(p){h.nodeEdges(p).forEach(m=>{var y=m.v,x=p===y?m.w:y;!u.hasNode(x)&&!r(h,m)&&(u.setNode(x,{}),u.setEdge(p,x,{}),f(x))})}return u.nodes().forEach(f),u.nodeCount()}function o(u,h){return h.edges().reduce((f,p)=>{let m=Number.POSITIVE_INFINITY;return u.hasNode(p.v)!==u.hasNode(p.w)&&(m=r(h,p)),m<f[0]?[m,p]:f},[Number.POSITIVE_INFINITY,null])[1]}function c(u,h,f){u.nodes().forEach(p=>h.node(p).rank+=f)}}),PJ=Te((t,e)=>{var n=pO(),r=tg().slack,i=tg().longestPath,s=Ti("@dagrejs/graphlib").alg.preorder,o=Ti("@dagrejs/graphlib").alg.postorder,c=dn().simplify;e.exports=u,u.initLowLimValues=m,u.initCutValues=h,u.calcCutValue=p,u.leaveEdge=x,u.enterEdge=b,u.exchangeEdges=w;function u(E){E=c(E),i(E);var M=n(E);m(M),h(M,E);for(var L,N;L=x(M);)N=b(M,E,L),w(M,E,L,N)}function h(E,M){var L=o(E,E.nodes());L=L.slice(0,L.length-1),L.forEach(N=>f(E,M,N))}function f(E,M,L){var N=E.node(L),$=N.parent;E.edge(L,$).cutvalue=p(E,M,L)}function p(E,M,L){var N=E.node(L),$=N.parent,P=!0,z=M.edge(L,$),j=0;return z||(P=!1,z=M.edge($,L)),j=z.weight,M.nodeEdges(L).forEach(W=>{var G=W.v===L,B=G?W.w:W.v;if(B!==$){var H=G===P,R=M.edge(W).weight;if(j+=H?R:-R,S(E,L,B)){var I=E.edge(L,B).cutvalue;j+=H?-I:I}}}),j}function m(E,M){arguments.length<2&&(M=E.nodes()[0]),y(E,{},1,M)}function y(E,M,L,N,$){var P=L,z=E.node(N);return M[N]=!0,E.neighbors(N).forEach(j=>{Object.hasOwn(M,j)||(L=y(E,M,L,j,N))}),z.low=P,z.lim=L++,$?z.parent=$:delete z.parent,L}function x(E){return E.edges().find(M=>E.edge(M).cutvalue<0)}function b(E,M,L){var N=L.v,$=L.w;M.hasEdge(N,$)||(N=L.w,$=L.v);var P=E.node(N),z=E.node($),j=P,W=!1;P.lim>z.lim&&(j=z,W=!0);var G=M.edges().filter(B=>W===T(E,E.node(B.v),j)&&W!==T(E,E.node(B.w),j));return G.reduce((B,H)=>r(M,H)<r(M,B)?H:B)}function w(E,M,L,N){var $=L.v,P=L.w;E.removeEdge($,P),E.setEdge(N.v,N.w,{}),m(E),h(E,M),_(E,M)}function _(E,M){var L=E.nodes().find($=>!M.node($).parent),N=s(E,L);N=N.slice(1),N.forEach($=>{var P=E.node($).parent,z=M.edge($,P),j=!1;z||(z=M.edge(P,$),j=!0),M.node($).rank=M.node(P).rank+(j?z.minlen:-z.minlen)})}function S(E,M,L){return E.hasEdge(M,L)}function T(E,M,L){return L.low<=M.lim&&M.lim<=L.lim}}),FJ=Te((t,e)=>{var n=tg(),r=n.longestPath,i=pO(),s=PJ();e.exports=o;function o(f){var p=f.graph().ranker;if(p instanceof Function)return p(f);switch(f.graph().ranker){case"network-simplex":h(f);break;case"tight-tree":u(f);break;case"longest-path":c(f);break;case"none":break;default:h(f)}}var c=r;function u(f){r(f),i(f)}function h(f){s(f)}}),IJ=Te((t,e)=>{e.exports=n;function n(s){let o=i(s);s.graph().dummyChains.forEach(c=>{let u=s.node(c),h=u.edgeObj,f=r(s,o,h.v,h.w),p=f.path,m=f.lca,y=0,x=p[y],b=!0;for(;c!==h.w;){if(u=s.node(c),b){for(;(x=p[y])!==m&&s.node(x).maxRank<u.rank;)y++;x===m&&(b=!1)}if(!b){for(;y<p.length-1&&s.node(x=p[y+1]).minRank<=u.rank;)y++;x=p[y]}s.setParent(c,x),c=s.successors(c)[0]}})}function r(s,o,c,u){let h=[],f=[],p=Math.min(o[c].low,o[u].low),m=Math.max(o[c].lim,o[u].lim),y,x;y=c;do y=s.parent(y),h.push(y);while(y&&(o[y].low>p||m>o[y].lim));for(x=y,y=u;(y=s.parent(y))!==x;)f.push(y);return{path:h.concat(f.reverse()),lca:x}}function i(s){let o={},c=0;function u(h){let f=c;s.children(h).forEach(u),o[h]={low:f,lim:c++}}return s.children().forEach(u),o}}),HJ=Te((t,e)=>{var n=dn();e.exports={run:r,cleanup:c};function r(u){let h=n.addDummyNode(u,"root",{},"_root"),f=s(u),p=Object.values(f),m=n.applyWithChunking(Math.max,p)-1,y=2*m+1;u.graph().nestingRoot=h,u.edges().forEach(b=>u.edge(b).minlen*=y);let x=o(u)+1;u.children().forEach(b=>i(u,h,y,x,m,f,b)),u.graph().nodeRankFactor=y}function i(u,h,f,p,m,y,x){let b=u.children(x);if(!b.length){x!==h&&u.setEdge(h,x,{weight:0,minlen:f});return}let w=n.addBorderNode(u,"_bt"),_=n.addBorderNode(u,"_bb"),S=u.node(x);u.setParent(w,x),S.borderTop=w,u.setParent(_,x),S.borderBottom=_,b.forEach(T=>{i(u,h,f,p,m,y,T);let E=u.node(T),M=E.borderTop?E.borderTop:T,L=E.borderBottom?E.borderBottom:T,N=E.borderTop?p:2*p,$=M!==L?1:m-y[x]+1;u.setEdge(w,M,{weight:N,minlen:$,nestingEdge:!0}),u.setEdge(L,_,{weight:N,minlen:$,nestingEdge:!0})}),u.parent(x)||u.setEdge(h,w,{weight:0,minlen:m+y[x]})}function s(u){var h={};function f(p,m){var y=u.children(p);y&&y.length&&y.forEach(x=>f(x,m+1)),h[p]=m}return u.children().forEach(p=>f(p,1)),h}function o(u){return u.edges().reduce((h,f)=>h+u.edge(f).weight,0)}function c(u){var h=u.graph();u.removeNode(h.nestingRoot),delete h.nestingRoot,u.edges().forEach(f=>{var p=u.edge(f);p.nestingEdge&&u.removeEdge(f)})}}),VJ=Te((t,e)=>{var n=dn();e.exports=r;function r(s){function o(c){let u=s.children(c),h=s.node(c);if(u.length&&u.forEach(o),Object.hasOwn(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(let f=h.minRank,p=h.maxRank+1;f<p;++f)i(s,"borderLeft","_bl",c,h,f),i(s,"borderRight","_br",c,h,f)}}s.children().forEach(o)}function i(s,o,c,u,h,f){let p={width:0,height:0,rank:f,borderType:o},m=h[o][f-1],y=n.addDummyNode(s,"border",p,c);h[o][f]=y,s.setParent(y,u),m&&s.setEdge(m,y,{weight:1})}}),qJ=Te((t,e)=>{e.exports={adjust:n,undo:r};function n(f){let p=f.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&i(f)}function r(f){let p=f.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&o(f),(p==="lr"||p==="rl")&&(u(f),i(f))}function i(f){f.nodes().forEach(p=>s(f.node(p))),f.edges().forEach(p=>s(f.edge(p)))}function s(f){let p=f.width;f.width=f.height,f.height=p}function o(f){f.nodes().forEach(p=>c(f.node(p))),f.edges().forEach(p=>{let m=f.edge(p);m.points.forEach(c),Object.hasOwn(m,"y")&&c(m)})}function c(f){f.y=-f.y}function u(f){f.nodes().forEach(p=>h(f.node(p))),f.edges().forEach(p=>{let m=f.edge(p);m.points.forEach(h),Object.hasOwn(m,"x")&&h(m)})}function h(f){let p=f.x;f.x=f.y,f.y=p}}),UJ=Te((t,e)=>{var n=dn();e.exports=r;function r(i){let s={},o=i.nodes().filter(p=>!i.children(p).length),c=o.map(p=>i.node(p).rank),u=n.applyWithChunking(Math.max,c),h=n.range(u+1).map(()=>[]);function f(p){if(s[p])return;s[p]=!0;let m=i.node(p);h[m.rank].push(p),i.successors(p).forEach(f)}return o.sort((p,m)=>i.node(p).rank-i.node(m).rank).forEach(f),h}}),WJ=Te((t,e)=>{var n=dn().zipObject;e.exports=r;function r(s,o){let c=0;for(let u=1;u<o.length;++u)c+=i(s,o[u-1],o[u]);return c}function i(s,o,c){let u=n(c,c.map((x,b)=>b)),h=o.flatMap(x=>s.outEdges(x).map(b=>({pos:u[b.w],weight:s.edge(b).weight})).sort((b,w)=>b.pos-w.pos)),f=1;for(;f<c.length;)f<<=1;let p=2*f-1;f-=1;let m=new Array(p).fill(0),y=0;return h.forEach(x=>{let b=x.pos+f;m[b]+=x.weight;let w=0;for(;b>0;)b%2&&(w+=m[b+1]),b=b-1>>1,m[b]+=x.weight;y+=x.weight*w}),y}}),YJ=Te((t,e)=>{e.exports=n;function n(r,i=[]){return i.map(s=>{let o=r.inEdges(s);if(o.length){let c=o.reduce((u,h)=>{let f=r.edge(h),p=r.node(h.v);return{sum:u.sum+f.weight*p.order,weight:u.weight+f.weight}},{sum:0,weight:0});return{v:s,barycenter:c.sum/c.weight,weight:c.weight}}else return{v:s}})}}),GJ=Te((t,e)=>{var n=dn();e.exports=r;function r(o,c){let u={};o.forEach((f,p)=>{let m=u[f.v]={indegree:0,in:[],out:[],vs:[f.v],i:p};f.barycenter!==void 0&&(m.barycenter=f.barycenter,m.weight=f.weight)}),c.edges().forEach(f=>{let p=u[f.v],m=u[f.w];p!==void 0&&m!==void 0&&(m.indegree++,p.out.push(u[f.w]))});let h=Object.values(u).filter(f=>!f.indegree);return i(h)}function i(o){let c=[];function u(f){return p=>{p.merged||(p.barycenter===void 0||f.barycenter===void 0||p.barycenter>=f.barycenter)&&s(f,p)}}function h(f){return p=>{p.in.push(f),--p.indegree===0&&o.push(p)}}for(;o.length;){let f=o.pop();c.push(f),f.in.reverse().forEach(u(f)),f.out.forEach(h(f))}return c.filter(f=>!f.merged).map(f=>n.pick(f,["vs","i","barycenter","weight"]))}function s(o,c){let u=0,h=0;o.weight&&(u+=o.barycenter*o.weight,h+=o.weight),c.weight&&(u+=c.barycenter*c.weight,h+=c.weight),o.vs=c.vs.concat(o.vs),o.barycenter=u/h,o.weight=h,o.i=Math.min(c.i,o.i),c.merged=!0}}),XJ=Te((t,e)=>{var n=dn();e.exports=r;function r(o,c){let u=n.partition(o,w=>Object.hasOwn(w,"barycenter")),h=u.lhs,f=u.rhs.sort((w,_)=>_.i-w.i),p=[],m=0,y=0,x=0;h.sort(s(!!c)),x=i(p,f,x),h.forEach(w=>{x+=w.vs.length,p.push(w.vs),m+=w.barycenter*w.weight,y+=w.weight,x=i(p,f,x)});let b={vs:p.flat(!0)};return y&&(b.barycenter=m/y,b.weight=y),b}function i(o,c,u){let h;for(;c.length&&(h=c[c.length-1]).i<=u;)c.pop(),o.push(h.vs),u++;return u}function s(o){return(c,u)=>c.barycenter<u.barycenter?-1:c.barycenter>u.barycenter?1:o?u.i-c.i:c.i-u.i}}),ZJ=Te((t,e)=>{var n=YJ(),r=GJ(),i=XJ();e.exports=s;function s(u,h,f,p){let m=u.children(h),y=u.node(h),x=y?y.borderLeft:void 0,b=y?y.borderRight:void 0,w={};x&&(m=m.filter(E=>E!==x&&E!==b));let _=n(u,m);_.forEach(E=>{if(u.children(E.v).length){let M=s(u,E.v,f,p);w[E.v]=M,Object.hasOwn(M,"barycenter")&&c(E,M)}});let S=r(_,f);o(S,w);let T=i(S,p);if(x&&(T.vs=[x,T.vs,b].flat(!0),u.predecessors(x).length)){let E=u.node(u.predecessors(x)[0]),M=u.node(u.predecessors(b)[0]);Object.hasOwn(T,"barycenter")||(T.barycenter=0,T.weight=0),T.barycenter=(T.barycenter*T.weight+E.order+M.order)/(T.weight+2),T.weight+=2}return T}function o(u,h){u.forEach(f=>{f.vs=f.vs.flatMap(p=>h[p]?h[p].vs:p)})}function c(u,h){u.barycenter!==void 0?(u.barycenter=(u.barycenter*u.weight+h.barycenter*h.weight)/(u.weight+h.weight),u.weight+=h.weight):(u.barycenter=h.barycenter,u.weight=h.weight)}}),KJ=Te((t,e)=>{var n=Ti("@dagrejs/graphlib").Graph,r=dn();e.exports=i;function i(o,c,u,h){h||(h=o.nodes());let f=s(o),p=new n({compound:!0}).setGraph({root:f}).setDefaultNodeLabel(m=>o.node(m));return h.forEach(m=>{let y=o.node(m),x=o.parent(m);(y.rank===c||y.minRank<=c&&c<=y.maxRank)&&(p.setNode(m),p.setParent(m,x||f),o[u](m).forEach(b=>{let w=b.v===m?b.w:b.v,_=p.edge(w,m),S=_!==void 0?_.weight:0;p.setEdge(w,m,{weight:o.edge(b).weight+S})}),Object.hasOwn(y,"minRank")&&p.setNode(m,{borderLeft:y.borderLeft[c],borderRight:y.borderRight[c]}))}),p}function s(o){for(var c;o.hasNode(c=r.uniqueId("_root")););return c}}),QJ=Te((t,e)=>{e.exports=n;function n(r,i,s){let o={},c;s.forEach(u=>{let h=r.parent(u),f,p;for(;h;){if(f=r.parent(h),f?(p=o[f],o[f]=h):(p=c,c=h),p&&p!==h){i.setEdge(p,h);return}h=f}})}}),JJ=Te((t,e)=>{var n=UJ(),r=WJ(),i=ZJ(),s=KJ(),o=QJ(),c=Ti("@dagrejs/graphlib").Graph,u=dn();e.exports=h;function h(y,x={}){if(typeof x.customOrder=="function"){x.customOrder(y,h);return}let b=u.maxRank(y),w=f(y,u.range(1,b+1),"inEdges"),_=f(y,u.range(b-1,-1,-1),"outEdges"),S=n(y);if(m(y,S),x.disableOptimalOrderHeuristic)return;let T=Number.POSITIVE_INFINITY,E,M=x.constraints||[];for(let L=0,N=0;N<4;++L,++N){p(L%2?w:_,L%4>=2,M),S=u.buildLayerMatrix(y);let $=r(y,S);$<T?(N=0,E=Object.assign({},S),T=$):$===T&&(E=structuredClone(S))}m(y,E)}function f(y,x,b){let w=new Map,_=(S,T)=>{w.has(S)||w.set(S,[]),w.get(S).push(T)};for(let S of y.nodes()){let T=y.node(S);if(typeof T.rank=="number"&&_(T.rank,S),typeof T.minRank=="number"&&typeof T.maxRank=="number")for(let E=T.minRank;E<=T.maxRank;E++)E!==T.rank&&_(E,S)}return x.map(function(S){return s(y,S,b,w.get(S)||[])})}function p(y,x,b){let w=new c;y.forEach(function(_){b.forEach(E=>w.setEdge(E.left,E.right));let S=_.graph().root,T=i(_,S,w,x);T.vs.forEach((E,M)=>_.node(E).order=M),o(_,w,T.vs)})}function m(y,x){Object.values(x).forEach(b=>b.forEach((w,_)=>y.node(w).order=_))}}),ttt=Te((t,e)=>{var n=Ti("@dagrejs/graphlib").Graph,r=dn();e.exports={positionX:b,findType1Conflicts:i,findType2Conflicts:s,addConflict:c,hasConflict:u,verticalAlignment:h,horizontalCompaction:f,alignCoordinates:y,findSmallestWidthAlignment:m,balance:x};function i(S,T){let E={};function M(L,N){let $=0,P=0,z=L.length,j=N[N.length-1];return N.forEach((W,G)=>{let B=o(S,W),H=B?S.node(B).order:z;(B||W===j)&&(N.slice(P,G+1).forEach(R=>{S.predecessors(R).forEach(I=>{let U=S.node(I),Z=U.order;(Z<$||H<Z)&&!(U.dummy&&S.node(R).dummy)&&c(E,I,R)})}),P=G+1,$=H)}),N}return T.length&&T.reduce(M),E}function s(S,T){let E={};function M(N,$,P,z,j){let W;r.range($,P).forEach(G=>{W=N[G],S.node(W).dummy&&S.predecessors(W).forEach(B=>{let H=S.node(B);H.dummy&&(H.order<z||H.order>j)&&c(E,B,W)})})}function L(N,$){let P=-1,z,j=0;return $.forEach((W,G)=>{if(S.node(W).dummy==="border"){let B=S.predecessors(W);B.length&&(z=S.node(B[0]).order,M($,j,G,P,z),j=G,P=z)}M($,j,$.length,z,N.length)}),$}return T.length&&T.reduce(L),E}function o(S,T){if(S.node(T).dummy)return S.predecessors(T).find(E=>S.node(E).dummy)}function c(S,T,E){if(T>E){let L=T;T=E,E=L}let M=S[T];M||(S[T]=M={}),M[E]=!0}function u(S,T,E){if(T>E){let M=T;T=E,E=M}return!!S[T]&&Object.hasOwn(S[T],E)}function h(S,T,E,M){let L={},N={},$={};return T.forEach(P=>{P.forEach((z,j)=>{L[z]=z,N[z]=z,$[z]=j})}),T.forEach(P=>{let z=-1;P.forEach(j=>{let W=M(j);if(W.length){W=W.sort((B,H)=>$[B]-$[H]);let G=(W.length-1)/2;for(let B=Math.floor(G),H=Math.ceil(G);B<=H;++B){let R=W[B];N[j]===j&&z<$[R]&&!u(E,j,R)&&(N[R]=j,N[j]=L[j]=L[R],z=$[R])}}})}),{root:L,align:N}}function f(S,T,E,M,L){let N={},$=p(S,T,E,L),P=L?"borderLeft":"borderRight";function z(G,B){let H=$.nodes().slice(),R={},I=H.pop();for(;I;){if(R[I])G(I);else{R[I]=!0,H.push(I);for(let U of B(I))H.push(U)}I=H.pop()}}function j(G){N[G]=$.inEdges(G).reduce((B,H)=>Math.max(B,N[H.v]+$.edge(H)),0)}function W(G){let B=$.outEdges(G).reduce((R,I)=>Math.min(R,N[I.w]-$.edge(I)),Number.POSITIVE_INFINITY),H=S.node(G);B!==Number.POSITIVE_INFINITY&&H.borderType!==P&&(N[G]=Math.max(N[G],B))}return z(j,$.predecessors.bind($)),z(W,$.successors.bind($)),Object.keys(M).forEach(G=>N[G]=N[E[G]]),N}function p(S,T,E,M){let L=new n,N=S.graph(),$=w(N.nodesep,N.edgesep,M);return T.forEach(P=>{let z;P.forEach(j=>{let W=E[j];if(L.setNode(W),z){var G=E[z],B=L.edge(G,W);L.setEdge(G,W,Math.max($(S,j,z),B||0))}z=j})}),L}function m(S,T){return Object.values(T).reduce((E,M)=>{let L=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;Object.entries(M).forEach(([P,z])=>{let j=_(S,P)/2;L=Math.max(z+j,L),N=Math.min(z-j,N)});let $=L-N;return $<E[0]&&(E=[$,M]),E},[Number.POSITIVE_INFINITY,null])[1]}function y(S,T){let E=Object.values(T),M=r.applyWithChunking(Math.min,E),L=r.applyWithChunking(Math.max,E);["u","d"].forEach(N=>{["l","r"].forEach($=>{let P=N+$,z=S[P];if(z===T)return;let j=Object.values(z),W=M-r.applyWithChunking(Math.min,j);$!=="l"&&(W=L-r.applyWithChunking(Math.max,j)),W&&(S[P]=r.mapValues(z,G=>G+W))})})}function x(S,T){return r.mapValues(S.ul,(E,M)=>{if(T)return S[T.toLowerCase()][M];{let L=Object.values(S).map(N=>N[M]).sort((N,$)=>N-$);return(L[1]+L[2])/2}})}function b(S){let T=r.buildLayerMatrix(S),E=Object.assign(i(S,T),s(S,T)),M={},L;["u","d"].forEach($=>{L=$==="u"?T:Object.values(T).reverse(),["l","r"].forEach(P=>{P==="r"&&(L=L.map(G=>Object.values(G).reverse()));let z=($==="u"?S.predecessors:S.successors).bind(S),j=h(S,L,E,z),W=f(S,L,j.root,j.align,P==="r");P==="r"&&(W=r.mapValues(W,G=>-G)),M[$+P]=W})});let N=m(S,M);return y(M,N),x(M,S.graph().align)}function w(S,T,E){return(M,L,N)=>{let $=M.node(L),P=M.node(N),z=0,j;if(z+=$.width/2,Object.hasOwn($,"labelpos"))switch($.labelpos.toLowerCase()){case"l":j=-$.width/2;break;case"r":j=$.width/2;break}if(j&&(z+=E?j:-j),j=0,z+=($.dummy?T:S)/2,z+=(P.dummy?T:S)/2,z+=P.width/2,Object.hasOwn(P,"labelpos"))switch(P.labelpos.toLowerCase()){case"l":j=P.width/2;break;case"r":j=-P.width/2;break}return j&&(z+=E?j:-j),j=0,z}}function _(S,T){return S.node(T).width}}),ett=Te((t,e)=>{var n=dn(),r=ttt().positionX;e.exports=i;function i(o){o=n.asNonCompoundGraph(o),s(o),Object.entries(r(o)).forEach(([c,u])=>o.node(c).x=u)}function s(o){let c=n.buildLayerMatrix(o),u=o.graph().ranksep,h=0;c.forEach(f=>{let p=f.reduce((m,y)=>{let x=o.node(y).height;return m>x?m:x},0);f.forEach(m=>o.node(m).y=h+p/2),h+=p+u})}}),ntt=Te((t,e)=>{var n=$J(),r=zJ(),i=FJ(),s=dn().normalizeRanks,o=IJ(),c=dn().removeEmptyRanks,u=HJ(),h=VJ(),f=qJ(),p=JJ(),m=ett(),y=dn(),x=Ti("@dagrejs/graphlib").Graph;e.exports=b;function b(X,Q={}){let tt=Q.debugTiming?y.time:y.notime;return tt("layout",()=>{let at=tt("  buildLayoutGraph",()=>z(X));return tt("  runLayout",()=>w(at,tt,Q)),tt("  updateInputGraph",()=>_(X,at)),at})}function w(X,Q,tt){Q("    makeSpaceForEdgeLabels",()=>j(X)),Q("    removeSelfEdges",()=>nt(X)),Q("    acyclic",()=>n.run(X)),Q("    nestingGraph.run",()=>u.run(X)),Q("    rank",()=>i(y.asNonCompoundGraph(X))),Q("    injectEdgeLabelProxies",()=>W(X)),Q("    removeEmptyRanks",()=>c(X)),Q("    nestingGraph.cleanup",()=>u.cleanup(X)),Q("    normalizeRanks",()=>s(X)),Q("    assignRankMinMax",()=>G(X)),Q("    removeEdgeLabelProxies",()=>B(X)),Q("    normalize.run",()=>r.run(X)),Q("    parentDummyChains",()=>o(X)),Q("    addBorderSegments",()=>h(X)),Q("    order",()=>p(X,tt)),Q("    insertSelfEdges",()=>q(X)),Q("    adjustCoordinateSystem",()=>f.adjust(X)),Q("    position",()=>m(X)),Q("    positionSelfEdges",()=>V(X)),Q("    removeBorderNodes",()=>Z(X)),Q("    normalize.undo",()=>r.undo(X)),Q("    fixupEdgeLabelCoords",()=>I(X)),Q("    undoCoordinateSystem",()=>f.undo(X)),Q("    translateGraph",()=>H(X)),Q("    assignNodeIntersects",()=>R(X)),Q("    reversePoints",()=>U(X)),Q("    acyclic.undo",()=>n.undo(X))}function _(X,Q){X.nodes().forEach(tt=>{let at=X.node(tt),ut=Q.node(tt);at&&(at.x=ut.x,at.y=ut.y,at.order=ut.order,at.rank=ut.rank,Q.children(tt).length&&(at.width=ut.width,at.height=ut.height))}),X.edges().forEach(tt=>{let at=X.edge(tt),ut=Q.edge(tt);at.points=ut.points,Object.hasOwn(ut,"x")&&(at.x=ut.x,at.y=ut.y)}),X.graph().width=Q.graph().width,X.graph().height=Q.graph().height}var S=["nodesep","edgesep","ranksep","marginx","marginy"],T={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],M=["width","height","rank"],L={width:0,height:0},N=["minlen","weight","width","height","labeloffset"],$={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},P=["labelpos"];function z(X){let Q=new x({multigraph:!0,compound:!0}),tt=et(X.graph());return Q.setGraph(Object.assign({},T,K(tt,S),y.pick(tt,E))),X.nodes().forEach(at=>{let ut=et(X.node(at)),pt=K(ut,M);Object.keys(L).forEach(vt=>{pt[vt]===void 0&&(pt[vt]=L[vt])}),Q.setNode(at,pt),Q.setParent(at,X.parent(at))}),X.edges().forEach(at=>{let ut=et(X.edge(at));Q.setEdge(at,Object.assign({},$,K(ut,N),y.pick(ut,P)))}),Q}function j(X){let Q=X.graph();Q.ranksep/=2,X.edges().forEach(tt=>{let at=X.edge(tt);at.minlen*=2,at.labelpos.toLowerCase()!=="c"&&(Q.rankdir==="TB"||Q.rankdir==="BT"?at.width+=at.labeloffset:at.height+=at.labeloffset)})}function W(X){X.edges().forEach(Q=>{let tt=X.edge(Q);if(tt.width&&tt.height){let at=X.node(Q.v),ut={rank:(X.node(Q.w).rank-at.rank)/2+at.rank,e:Q};y.addDummyNode(X,"edge-proxy",ut,"_ep")}})}function G(X){let Q=0;X.nodes().forEach(tt=>{let at=X.node(tt);at.borderTop&&(at.minRank=X.node(at.borderTop).rank,at.maxRank=X.node(at.borderBottom).rank,Q=Math.max(Q,at.maxRank))}),X.graph().maxRank=Q}function B(X){X.nodes().forEach(Q=>{let tt=X.node(Q);tt.dummy==="edge-proxy"&&(X.edge(tt.e).labelRank=tt.rank,X.removeNode(Q))})}function H(X){let Q=Number.POSITIVE_INFINITY,tt=0,at=Number.POSITIVE_INFINITY,ut=0,pt=X.graph(),vt=pt.marginx||0,bt=pt.marginy||0;function kt(_t){let Pt=_t.x,Yt=_t.y,de=_t.width,Ye=_t.height;Q=Math.min(Q,Pt-de/2),tt=Math.max(tt,Pt+de/2),at=Math.min(at,Yt-Ye/2),ut=Math.max(ut,Yt+Ye/2)}X.nodes().forEach(_t=>kt(X.node(_t))),X.edges().forEach(_t=>{let Pt=X.edge(_t);Object.hasOwn(Pt,"x")&&kt(Pt)}),Q-=vt,at-=bt,X.nodes().forEach(_t=>{let Pt=X.node(_t);Pt.x-=Q,Pt.y-=at}),X.edges().forEach(_t=>{let Pt=X.edge(_t);Pt.points.forEach(Yt=>{Yt.x-=Q,Yt.y-=at}),Object.hasOwn(Pt,"x")&&(Pt.x-=Q),Object.hasOwn(Pt,"y")&&(Pt.y-=at)}),pt.width=tt-Q+vt,pt.height=ut-at+bt}function R(X){X.edges().forEach(Q=>{let tt=X.edge(Q),at=X.node(Q.v),ut=X.node(Q.w),pt,vt;tt.points?(pt=tt.points[0],vt=tt.points[tt.points.length-1]):(tt.points=[],pt=ut,vt=at),tt.points.unshift(y.intersectRect(at,pt)),tt.points.push(y.intersectRect(ut,vt))})}function I(X){X.edges().forEach(Q=>{let tt=X.edge(Q);if(Object.hasOwn(tt,"x"))switch((tt.labelpos==="l"||tt.labelpos==="r")&&(tt.width-=tt.labeloffset),tt.labelpos){case"l":tt.x-=tt.width/2+tt.labeloffset;break;case"r":tt.x+=tt.width/2+tt.labeloffset;break}})}function U(X){X.edges().forEach(Q=>{let tt=X.edge(Q);tt.reversed&&tt.points.reverse()})}function Z(X){X.nodes().forEach(Q=>{if(X.children(Q).length){let tt=X.node(Q),at=X.node(tt.borderTop),ut=X.node(tt.borderBottom),pt=X.node(tt.borderLeft[tt.borderLeft.length-1]),vt=X.node(tt.borderRight[tt.borderRight.length-1]);tt.width=Math.abs(vt.x-pt.x),tt.height=Math.abs(ut.y-at.y),tt.x=pt.x+tt.width/2,tt.y=at.y+tt.height/2}}),X.nodes().forEach(Q=>{X.node(Q).dummy==="border"&&X.removeNode(Q)})}function nt(X){X.edges().forEach(Q=>{if(Q.v===Q.w){var tt=X.node(Q.v);tt.selfEdges||(tt.selfEdges=[]),tt.selfEdges.push({e:Q,label:X.edge(Q)}),X.removeEdge(Q)}})}function q(X){var Q=y.buildLayerMatrix(X);Q.forEach(tt=>{var at=0;tt.forEach((ut,pt)=>{var vt=X.node(ut);vt.order=pt+at,(vt.selfEdges||[]).forEach(bt=>{y.addDummyNode(X,"selfedge",{width:bt.label.width,height:bt.label.height,rank:vt.rank,order:pt+ ++at,e:bt.e,label:bt.label},"_se")}),delete vt.selfEdges})})}function V(X){X.nodes().forEach(Q=>{var tt=X.node(Q);if(tt.dummy==="selfedge"){var at=X.node(tt.e.v),ut=at.x+at.width/2,pt=at.y,vt=tt.x-ut,bt=at.height/2;X.setEdge(tt.e,tt.label),X.removeNode(Q),tt.label.points=[{x:ut+2*vt/3,y:pt-bt},{x:ut+5*vt/6,y:pt-bt},{x:ut+vt,y:pt},{x:ut+5*vt/6,y:pt+bt},{x:ut+2*vt/3,y:pt+bt}],tt.label.x=tt.x,tt.label.y=tt.y}})}function K(X,Q){return y.mapValues(y.pick(X,Q),Number)}function et(X){var Q={};return X&&Object.entries(X).forEach(([tt,at])=>{typeof tt=="string"&&(tt=tt.toLowerCase()),Q[tt]=at}),Q}}),rtt=Te((t,e)=>{var n=dn(),r=Ti("@dagrejs/graphlib").Graph;e.exports={debugOrdering:i};function i(s){let o=n.buildLayerMatrix(s),c=new r({compound:!0,multigraph:!0}).setGraph({});return s.nodes().forEach(u=>{c.setNode(u,{label:u}),c.setParent(u,"layer"+s.node(u).rank)}),s.edges().forEach(u=>c.setEdge(u.v,u.w,{},u.name)),o.forEach((u,h)=>{let f="layer"+h;c.setNode(f,{rank:"same"}),u.reduce((p,m)=>(c.setEdge(p,m,{style:"invis"}),m))}),c}}),itt=Te((t,e)=>{e.exports="2.0.3"}),att=Te((t,e)=>{e.exports={graphlib:Ti("@dagrejs/graphlib"),layout:ntt(),debug:rtt(),util:{time:dn().time,notime:dn().notime},version:itt()}});const zE=att();const PE=140,FE=50;function stt(t,e){const n=new zE.graphlib.Graph;return n.setDefaultEdgeLabel(()=>({})),n.setGraph({rankdir:"TB",ranksep:80,nodesep:40}),t.forEach(r=>{n.setNode(r.id,{width:PE,height:FE})}),e.forEach(r=>{n.setEdge(r.source,r.target)}),zE.layout(n),t.map(r=>{const i=n.node(r.id);return{...r,position:{x:i.x-PE/2,y:i.y-FE/2}}})}function ott(t){const e=[],n=[];e.push({id:"project",position:{x:0,y:0},data:{label:" Project"},style:{backgroundColor:F.bg.surfaceHover,color:F.text.primary,border:`2px solid ${F.accent}`,borderRadius:"12px",padding:"12px 20px",fontSize:"14px",fontWeight:600},sourcePosition:Bt.Bottom}),Object.entries(QN).forEach(([s,o])=>{const c=Ui(s);e.push({id:`squad-${s}`,position:{x:0,y:0},data:{label:`${o.icon} ${o.label}`},style:{backgroundColor:c.bg,color:c.main,border:`1.5px solid ${c.main}40`,borderRadius:"10px",padding:"8px 16px",fontSize:"12px",fontWeight:600},sourcePosition:Bt.Bottom,targetPosition:Bt.Top}),n.push({id:`project-${s}`,source:"project",target:`squad-${s}`,style:{stroke:c.main+"40",strokeWidth:1.5},animated:!1})}),Tr.forEach(s=>{const o=Ui(s.squad),c=t[s.id],u=c?.status==="working",h=c?.status==="done";e.push({id:`agent-${s.id}`,position:{x:0,y:0},data:{label:`${s.icon} ${s.shortName}
${c?.status||"idle"}`,agentId:s.id},style:{backgroundColor:u?o.bg:F.bg.surface,color:u?o.main:h?F.status.complete:F.text.secondary,border:`1.5px solid ${u?o.main:h?F.status.complete+"40":F.bg.border}`,borderRadius:"8px",padding:"6px 12px",fontSize:"10px",fontWeight:500,textAlign:"center",whiteSpace:"pre-line",cursor:"pointer"},targetPosition:Bt.Top,sourcePosition:Bt.Bottom}),n.push({id:`squad-${s.squad}-agent-${s.id}`,source:`squad-${s.squad}`,target:`agent-${s.id}`,style:{stroke:u?o.main:F.bg.border,strokeWidth:u?2:1},animated:u})});const r=Tr.filter(s=>t[s.id]?.status==="working");for(let s=0;s<r.length;s++)for(let o=s+1;o<r.length;o++)r[s].squad!==r[o].squad&&n.push({id:`collab-${r[s].id}-${r[o].id}`,source:`agent-${r[s].id}`,target:`agent-${r[o].id}`,style:{stroke:F.status.blocked+"40",strokeWidth:1,strokeDasharray:"4"},label:"collaborating",labelStyle:{fontSize:9,fill:F.text.muted}});return{nodes:stt(e,n),edges:n}}const ltt=A.memo(function(){const{agents:e}=Er(),{selectAgent:n}=Ci(),{nodes:r,edges:i}=A.useMemo(()=>ott(e),[e]),[s,,o]=sJ(r),[c,,u]=oJ(i),h=Object.values(e).filter(x=>x.status==="working").length,f=Object.values(e).filter(x=>x.status==="done").length,p=Object.values(e).filter(x=>x.status==="error").length,m=Object.values(e).filter(x=>x.status==="error"||x.status==="paused").length,y=(x,b)=>{const w=b.data?.agentId;w&&n(w)};return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Emergence Map"}),k.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:F.text.secondary},children:[k.jsxs("span",{children:[" ",h," active"]}),k.jsxs("span",{children:[" ",f," done"]}),p>0&&k.jsxs("span",{style:{color:F.status.error},children:[" ",p," errors"]}),m>0&&k.jsxs("span",{style:{color:F.status.blocked},children:[" ",m," blocked"]})]})]}),k.jsx("div",{className:"flex-1",style:{backgroundColor:F.bg.primary},children:k.jsxs(aJ,{nodes:s,edges:c,onNodesChange:o,onEdgesChange:u,onNodeClick:y,fitView:!0,proOptions:{hideAttribution:!0},style:{background:F.bg.primary},children:[k.jsx(dJ,{color:F.bg.border,gap:20,size:1}),k.jsx(bJ,{})]})}),k.jsxs("div",{className:"px-6 py-3 border-t",style:{borderColor:F.bg.border},children:[k.jsx("h4",{className:"text-[10px] font-semibold uppercase tracking-wider mb-2",style:{color:F.text.muted},children:"Patterns Detected"}),k.jsxs("div",{className:"flex gap-4 text-xs",style:{color:F.text.secondary},children:[h>2&&k.jsxs("span",{children:[" High activity: ",h," agents working simultaneously"]}),f>6&&k.jsxs("span",{children:[" Good progress: ",f,"/12 agents completed"]}),p>0&&k.jsxs("span",{children:[" Attention: ",p," agent(s) with errors"]}),m>0&&k.jsxs("span",{children:[" Bottleneck: ",m," agent(s) blocked  may be holding up dependencies"]}),h===0&&f===0&&k.jsx("span",{children:" All agents idle  click an agent node to inspect, or start a task"})]})]})]})}),ctt={exec:"",write:"",read:"",thinking:"",result:"",error:"",system:"",inject:""},utt={exec:"#60A5FA",write:"#34D399",read:"#A78BFA",thinking:"#8B8B8E",result:"#10B981",error:"#EF4444",system:"#EAB308",inject:"#F59E0B"},IE={status:"idle",currentTask:null,checklist:[]},htt=A.memo(function(){const{selectedAgentId:e,selectAgent:n,setView:r}=Ci(),{agents:i}=Er(),[s,o]=A.useState([]),[c,u]=A.useState(""),[h,f]=A.useState(!0),p=A.useRef(null),m=A.useRef(null),y=e?Vh(e):null,x=e&&i[e]||IE,b=y?Ui(y.squad):{main:"#666"};A.useEffect(()=>{if(!e)return;const S=new EventSource(`/api/agents/${e}/stream`);return S.onmessage=T=>{try{const E=JSON.parse(T.data),M={id:`${Date.now()}-${Math.random().toString(36).slice(2,6)}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:E.type||"system",content:E.content||E.message||JSON.stringify(E),detail:E.detail};o(L=>[...L.slice(-500),M])}catch{}},S.onerror=()=>{},()=>S.close()},[e]),A.useEffect(()=>{if(!e||!x)return;const S=[];x.output&&S.push({id:"output-0",timestamp:"--:--:--",type:"result",content:x.output}),x.checklist?.forEach((T,E)=>{T.done&&S.push({id:`check-${E}`,timestamp:"--:--:--",type:"result",content:` ${T.text}`})}),x.status==="working"&&x.currentTask&&S.push({id:"current",timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:"system",content:`Working on: ${x.currentTask}`}),S.length>0&&o(S)},[e]),A.useEffect(()=>{h&&p.current&&p.current.scrollTo({top:p.current.scrollHeight,behavior:"smooth"})},[s,h]);const w=async()=>{if(!c.trim()||!e)return;const S=c.trim();u(""),o(T=>[...T,{id:`inject-${Date.now()}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:"inject",content:`[YOU]  ${S}`}]);try{await fetch(`/api/agents/${e}/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:S})})}catch{o(T=>[...T,{id:`err-${Date.now()}`,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:"error",content:"Failed to inject command"}])}},_=async S=>{if(e)try{await fetch(`/api/agents/${e}/${S}`,{method:"POST"})}catch{}};return!y||!e?k.jsx("div",{className:"flex-1 flex items-center justify-center",style:{color:F.text.muted},children:"Select an agent to view terminal"}):k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("button",{onClick:()=>n(null),className:"p-1 rounded hover:bg-white/5",style:{color:F.text.secondary},children:k.jsx(JD,{size:16})}),k.jsx(fN,{size:16,style:{color:b.main}}),k.jsxs("span",{className:"text-sm font-semibold",style:{color:F.text.primary},children:[y.icon," ",y.name]}),k.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full",style:{backgroundColor:x.status==="working"?b.main+"15":F.bg.surfaceHover,color:x.status==="working"?b.main:F.text.secondary},children:x.status})]}),k.jsxs("div",{className:"flex items-center gap-1.5",children:[x.status==="working"?k.jsx(qf,{icon:k.jsx(sN,{size:12}),label:"Pause",onClick:()=>_("pause")}):k.jsx(qf,{icon:k.jsx(oN,{size:12}),label:"Resume",onClick:()=>_("resume")}),k.jsx(qf,{icon:k.jsx(EH,{size:12}),label:"Redirect",onClick:()=>_("redirect")}),k.jsx(qf,{icon:k.jsx(pN,{size:12}),label:"Clear",onClick:()=>o([])})]})]}),k.jsxs("div",{ref:p,className:"flex-1 overflow-y-auto font-mono text-xs p-4 space-y-0.5",style:{backgroundColor:"#050506"},onScroll:()=>{if(!p.current)return;const{scrollTop:S,scrollHeight:T,clientHeight:E}=p.current;f(T-S-E<50)},children:[s.length===0&&k.jsx("p",{className:"text-center py-12",style:{color:F.text.muted},children:x.status==="working"?" Waiting for agent activity...":`Agent is ${x.status}. Start a task to see activity here.`}),s.map(S=>k.jsxs("div",{className:"flex items-start gap-2 leading-relaxed py-0.5",children:[k.jsxs("span",{style:{color:F.text.muted},className:"flex-shrink-0 select-none",children:["[",S.timestamp,"]"]}),k.jsx("span",{className:"flex-shrink-0",style:{color:utt[S.type]},children:ctt[S.type]}),k.jsx("span",{style:{color:S.type==="error"?F.status.error:F.text.primary},children:S.content})]},S.id)),x.status==="working"&&k.jsx(ze.div,{className:"flex items-center gap-1 pt-1",animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0},children:k.jsx("span",{style:{color:b.main},children:""})})]}),k.jsx("div",{className:"border-t p-3",style:{borderColor:F.bg.border,backgroundColor:F.bg.surface},children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"text-xs font-mono",style:{color:b.main},children:"$"}),k.jsx("input",{ref:m,value:c,onChange:S=>u(S.target.value),onKeyDown:S=>{S.key==="Enter"&&(S.preventDefault(),w())},placeholder:"Intervene: redirect agent, inject command, or send instruction...",className:"flex-1 bg-transparent text-xs font-mono outline-none",style:{color:F.text.primary}}),k.jsx("button",{onClick:w,disabled:!c.trim(),className:"p-1.5 rounded transition-colors disabled:opacity-20",style:{color:b.main},children:k.jsx(dN,{size:14})})]})})]})});function qf({icon:t,label:e,onClick:n}){return k.jsxs("button",{onClick:n,className:"flex items-center gap-1 px-2 py-1 rounded text-[10px] transition-colors hover:bg-white/5",style:{color:F.text.secondary},title:e,children:[t,k.jsx("span",{className:"hidden sm:inline",children:e})]})}const dtt={status:"idle",progress:0},ftt=[{id:"brief",agentId:"analyst",label:"Project Brief",startDay:0,duration:2,dependencies:[]},{id:"prd",agentId:"pm",label:"PRD",startDay:2,duration:3,dependencies:["brief"]},{id:"ux-spec",agentId:"ux-design-expert",label:"UX Spec",startDay:3,duration:3,dependencies:["prd"]},{id:"architecture",agentId:"architect",label:"Architecture",startDay:4,duration:3,dependencies:["prd"]},{id:"validation",agentId:"po",label:"PO Validation",startDay:7,duration:1,dependencies:["prd","ux-spec","architecture"]},{id:"sharding",agentId:"sm",label:"Task Sharding",startDay:8,duration:2,dependencies:["validation"]},{id:"db-design",agentId:"data-engineer",label:"Database Design",startDay:8,duration:2,dependencies:["architecture"]},{id:"dev-sprint",agentId:"dev",label:"Development Sprint",startDay:10,duration:5,dependencies:["sharding","db-design"]},{id:"qa-review",agentId:"qa",label:"QA & Testing",startDay:12,duration:3,dependencies:["dev-sprint"]},{id:"devops-deploy",agentId:"devops",label:"CI/CD & Deploy",startDay:14,duration:2,dependencies:["qa-review"]}];function ptt(t,e){return e.map(n=>{const r=t[n.agentId]||dtt,i=r.status==="done",s=r.status==="working",o=r.status==="error",c=n.dependencies.every(u=>{const h=e.find(p=>p.id===u);return h?t[h.agentId]?.status==="done":!0});return{...n,progress:i?100:r.progress||0,status:i?"done":o?"blocked":s?"active":c?"waiting":"blocked"}})}function gtt(t){const e=new Map(t.map(s=>[s.id,s])),n=new Map;function r(s){if(n.has(s))return n.get(s);const o=e.get(s);if(!o)return{length:0,path:[]};if(o.dependencies.length===0){const h={length:o.duration,path:[o.id]};return n.set(s,h),h}let c={length:0,path:[]};for(const h of o.dependencies){const f=r(h);f.length>c.length&&(c=f)}const u={length:c.length+o.duration,path:[...c.path,o.id]};return n.set(s,u),u}let i={length:0,path:[]};for(const s of t){const o=r(s.id);o.length>i.length&&(i=o)}return i.path}function mtt({tasks:t,dayWidth:e,labelWidth:n}){const r=new Map(t.map((o,c)=>[o.id,{task:o,index:c}])),i=36,s=[];return t.forEach((o,c)=>{o.dependencies.forEach(u=>{const h=r.get(u);if(!h)return;const f=(h.task.startDay+h.task.duration)*e,p=h.index*i+i/2,m=o.startDay*e,y=c*i+i/2,x=Vh(o.agentId),b=x?Ui(x.squad):{main:"#666"};s.push({x1:f,y1:p,x2:m,y2:y,color:b.main+"50"})})}),s.length===0?null:k.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none",style:{left:`${n}px`,width:`calc(100% - ${n}px)`,height:t.length*i},children:[k.jsx("defs",{children:k.jsx("marker",{id:"arrow-head",markerWidth:"6",markerHeight:"4",refX:"6",refY:"2",orient:"auto",children:k.jsx("polygon",{points:"0 0, 6 2, 0 4",fill:F.text.muted,opacity:.5})})}),s.map((o,c)=>{const u=(o.x1+o.x2)/2;return k.jsx("path",{d:`M ${o.x1}% ${o.y1} C ${u}% ${o.y1}, ${u}% ${o.y2}, ${o.x2}% ${o.y2}`,fill:"none",stroke:o.color,strokeWidth:1.5,strokeDasharray:"4 2",markerEnd:"url(#arrow-head)"},c)})]})}const ytt=A.memo(function(){const{agents:e}=Er(),{selectAgent:n}=Ci(),[r,i]=A.useState(null),[s,o]=A.useState(""),[c,u]=A.useState(ftt);A.useEffect(()=>{fetch("/api/gantt/tasks").then(S=>S.ok?S.json():null).then(S=>{S?.tasks&&Array.isArray(S.tasks)&&S.tasks.length>0&&u(S.tasks)}).catch(()=>{})},[]);const h=A.useMemo(()=>ptt(e,c),[e,c]),f=Math.max(...h.map(S=>S.startDay+S.duration),16),p=100/f,m=h.filter(S=>S.status==="done").length,y=h.filter(S=>S.status==="blocked").length,x=A.useMemo(()=>gtt(h),[h]),b=x.map(S=>h.find(T=>T.id===S)?.label).filter(Boolean),w=async S=>{if(!s.trim()){i(null);return}const T=h.find(E=>E.id===S);if(T){try{await fetch(`/api/agents/${T.agentId}/directive`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({directive:s})})}catch{}i(null),o("")}},_=160;return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden p-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Gantt  Dynamic Timeline"}),k.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:F.text.secondary},children:[k.jsxs("span",{children:[" ",m,"/",h.length," done"]}),y>0&&k.jsxs("span",{style:{color:F.status.blocked},children:[k.jsx(b1,{size:12,className:"inline mr-1"}),y," blocked"]}),k.jsxs("span",{children:[k.jsx(P9,{size:12,className:"inline mr-1"}),"ETA: ",f," days"]})]})]}),k.jsx("div",{className:"flex items-end mb-1",style:{paddingLeft:`${_}px`},children:Array.from({length:f},(S,T)=>k.jsxs("div",{className:"text-center text-[9px] flex-shrink-0",style:{width:`${p}%`,color:F.text.muted},children:["D",T+1]},T))}),k.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[k.jsx(mtt,{tasks:h,dayWidth:p,labelWidth:_}),k.jsx("div",{className:"space-y-1 relative z-10",children:h.map(S=>{const T=Vh(S.agentId),E=T?Ui(T.squad):{main:"#666"},M=x.includes(S.id),L=S.status==="done"?F.status.complete:S.status==="active"?E.main:S.status==="blocked"?F.status.blocked:F.text.muted;return k.jsxs("div",{className:"flex items-center group",children:[k.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 pr-3 cursor-pointer hover:opacity-80",style:{width:`${_}px`},onClick:()=>n(S.agentId),children:[k.jsx("span",{className:"text-xs",children:T?.icon}),k.jsxs("div",{className:"min-w-0",children:[k.jsxs("p",{className:"text-[11px] font-medium truncate",style:{color:M?F.accent:F.text.primary},children:[S.label,M&&k.jsx("span",{className:"ml-1 text-[8px]",title:"On critical path",children:""})]}),k.jsxs("p",{className:"text-[9px] truncate",style:{color:F.text.muted},children:[T?.shortName,"  ",S.status]})]})]}),k.jsxs("div",{className:"flex-1 relative h-8 flex items-center",children:[Array.from({length:f},(N,$)=>k.jsx("div",{className:"absolute top-0 bottom-0 border-l",style:{left:`${$*p}%`,borderColor:F.bg.border+"40"}},$)),k.jsxs(ze.div,{className:"absolute h-5 rounded-md flex items-center px-1.5 cursor-pointer",style:{left:`${S.startDay*p}%`,width:`${S.duration*p}%`,backgroundColor:L+"20",border:`1px solid ${L}40`,boxShadow:M?`0 0 8px ${F.accent}30`:void 0},whileHover:{backgroundColor:L+"30"},onClick:()=>{i(S.id),o(S.directive||`Direct ${T?.name||"agent"}: `)},children:[k.jsx(ze.div,{className:"absolute inset-0 rounded-md",style:{backgroundColor:L+"30",originX:0},animate:{scaleX:S.progress/100},transition:{duration:.5}}),k.jsx("span",{className:"relative text-[9px] font-medium truncate",style:{color:L},children:S.progress>0&&S.progress<100?`${S.progress}%`:""})]}),k.jsx("button",{className:"absolute opacity-0 group-hover:opacity-100 transition-opacity",style:{left:`${(S.startDay+S.duration)*p+.5}%`,color:F.text.secondary},onClick:()=>{i(S.id),o("")},title:"Edit directive",children:k.jsx(ch,{size:10})})]})]},S.id)})})]}),r&&k.jsxs(ze.div,{className:"border-t p-4",style:{borderColor:F.bg.border,backgroundColor:F.bg.surface},initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},children:[k.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[k.jsx(ch,{size:14,style:{color:F.accent}}),k.jsxs("span",{className:"text-xs font-semibold",style:{color:F.text.primary},children:["Edit Directive  ",h.find(S=>S.id===r)?.label]})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("input",{value:s,onChange:S=>o(S.target.value),onKeyDown:S=>{S.key==="Enter"&&w(r),S.key==="Escape"&&i(null)},placeholder:"Enter new directive for this agent...",className:"flex-1 rounded-lg px-3 py-2 text-xs outline-none border",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},autoFocus:!0}),k.jsx("button",{onClick:()=>w(r),className:"rounded-lg px-4 py-2 text-xs font-medium",style:{backgroundColor:F.accent,color:"#fff"},children:"Apply"}),k.jsx("button",{onClick:()=>i(null),className:"rounded-lg px-3 py-2 text-xs",style:{color:F.text.secondary},children:"Cancel"})]})]}),k.jsx("div",{className:"mt-3 px-1",children:k.jsxs("p",{className:"text-[10px]",style:{color:F.text.muted},children:[" Critical Path: ",b.length>0?b.join("  "):"All done!"]})})]})}),xtt={status:"idle"},btt=A.memo(function(){const{agents:e}=Er(),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,c]=A.useState({}),[u,h]=A.useState(null),[f,p]=A.useState(""),[m,y]=A.useState(null),[x,b]=A.useState(!1);A.useEffect(()=>{fetch("/api/strategy").then(S=>S.json()).then(S=>{S.vision&&r(S.vision),S.guardrails&&s(S.guardrails),S.directives&&c(S.directives)}).catch(()=>{r("Define your project vision here..."),s(` Stack constraints
 Quality requirements
 Security policies`)})},[]);const w=async S=>{const T=o[S],E={agentId:S,text:f,history:[...T?.history||[],{text:T?.text||"",timestamp:Date.now()}].slice(-10)};c(M=>({...M,[S]:E})),h(null);try{await fetch(`/api/agents/${S}/directive`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({directive:f})})}catch{}},_=async()=>{try{await fetch("/api/strategy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vision:n,guardrails:i,directives:o})}),b(!0),setTimeout(()=>b(!1),2e3)}catch{}};return k.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:k.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Strategy Canvas"}),k.jsxs("div",{className:"flex items-center gap-2",children:[x&&k.jsx(ze.span,{className:"text-xs",style:{color:F.status.complete},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:" Saved"}),k.jsxs("button",{onClick:_,className:"flex items-center gap-1.5 rounded-lg px-4 py-2 text-xs font-medium",style:{backgroundColor:F.accent,color:"#fff"},children:[k.jsx(uN,{size:14}),"Apply Changes"]})]})]}),k.jsx(Bx,{title:" Project Vision",icon:k.jsx(nN,{size:14}),children:k.jsx("textarea",{value:n,onChange:S=>r(S.target.value),className:"w-full rounded-lg p-3 text-sm outline-none border resize-none min-h-[80px]",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},placeholder:"Define the project vision that guides all agents..."})}),k.jsx(Bx,{title:" Agent Directives",icon:k.jsx(ch,{size:14}),children:k.jsx("div",{className:"space-y-3",children:Tr.map(S=>{const T=e[S.id]||xtt,E=o[S.id],M=Ui(S.squad),L=u===S.id;return k.jsxs("div",{className:"rounded-lg border p-3",style:{backgroundColor:F.bg.surface,borderColor:T.status==="working"?M.main+"40":F.bg.border},children:[k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{children:S.icon}),k.jsx("span",{className:"text-sm font-medium",style:{color:F.text.primary},children:S.name}),k.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full",style:{backgroundColor:T.status==="working"?M.main+"15":F.bg.surfaceHover,color:T.status==="working"?M.main:F.text.muted},children:T.status})]}),k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx("button",{onClick:()=>{L?h(null):(h(S.id),p(E?.text||""))},className:"p-1 rounded hover:bg-white/5",style:{color:F.text.secondary},title:"Edit directive",children:k.jsx(ch,{size:12})}),E?.history?.length?k.jsx("button",{onClick:()=>y(m===S.id?null:S.id),className:"p-1 rounded hover:bg-white/5",style:{color:F.text.secondary},title:"View history",children:k.jsx(Q9,{size:12})}):null]})]}),L?k.jsxs("div",{className:"space-y-2",children:[k.jsx("textarea",{value:f,onChange:N=>p(N.target.value),className:"w-full rounded-md p-2 text-xs outline-none border resize-none min-h-[60px]",style:{backgroundColor:F.bg.primary,borderColor:M.main+"40",color:F.text.primary},autoFocus:!0,placeholder:`Direct ${S.name}: focus, priorities, constraints...`}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:()=>w(S.id),className:"text-[10px] px-3 py-1 rounded font-medium",style:{backgroundColor:M.main+"20",color:M.main},children:"Save & Apply"}),k.jsx("button",{onClick:()=>h(null),className:"text-[10px] px-3 py-1 rounded",style:{color:F.text.secondary},children:"Cancel"})]})]}):k.jsx("p",{className:"text-xs leading-relaxed",style:{color:E?.text?F.text.secondary:F.text.muted},children:E?.text||`No directive set. Click edit to guide ${S.name}.`}),k.jsx(Aa,{children:m===S.id&&E?.history?.length?k.jsxs(ze.div,{className:"mt-2 space-y-1 border-t pt-2",style:{borderColor:F.bg.border},initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:[k.jsx("span",{className:"text-[9px] font-semibold uppercase",style:{color:F.text.muted},children:"Previous Directives"}),E.history.filter(N=>N.text).map((N,$)=>k.jsxs("div",{className:"flex items-start gap-2 text-[10px]",style:{color:F.text.muted},children:[k.jsx("span",{className:"flex-shrink-0",children:new Date(N.timestamp).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})}),k.jsx("span",{children:N.text}),k.jsx("button",{onClick:()=>{h(S.id),p(N.text)},className:"flex-shrink-0 hover:opacity-70",title:"Restore this directive",children:k.jsx(cN,{size:10})})]},$))]}):null})]},S.id)})})}),k.jsx(Bx,{title:" Guardrails (apply to all agents)",icon:k.jsx(kH,{size:14}),children:k.jsx("textarea",{value:i,onChange:S=>s(S.target.value),className:"w-full rounded-lg p-3 text-xs outline-none border resize-none min-h-[100px] font-mono",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary},placeholder:"Global rules all agents must follow..."})})]})})});function Bx({title:t,icon:e,children:n}){return k.jsxs("div",{children:[k.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[k.jsx("span",{style:{color:F.accent},children:e}),k.jsx("h3",{className:"text-sm font-semibold",style:{color:F.text.primary},children:t})]}),n]})}function HE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vtt(t){if(Array.isArray(t))return t}function wtt(t,e,n){return(e=Att(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Stt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,c=[],u=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Ctt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){wtt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _tt(t,e){if(t==null)return{};var n,r,i=ktt(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ktt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ttt(t,e){return vtt(t)||Stt(t,e)||Mtt(t,e)||Ctt()}function Ett(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Att(t){var e=Ett(t,"string");return typeof e=="symbol"?e:e+""}function Mtt(t,e){if(t){if(typeof t=="string")return HE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HE(t,e):void 0}}function Dtt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(n),!0).forEach(function(r){Dtt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ntt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function Bu(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return e.apply(n,[].concat(i,c))}}}function eg(t){return{}.toString.call(t).includes("Object")}function Ltt(t){return!Object.keys(t).length}function _h(t){return typeof t=="function"}function Ott(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rtt(t,e){return eg(e)||ys("changeType"),Object.keys(e).some(function(n){return!Ott(t,n)})&&ys("changeField"),e}function Btt(t){_h(t)||ys("selectorType")}function jtt(t){_h(t)||eg(t)||ys("handlerType"),eg(t)&&Object.values(t).some(function(e){return!_h(e)})&&ys("handlersType")}function $tt(t){t||ys("initialIsRequired"),eg(t)||ys("initialType"),Ltt(t)&&ys("initialContent")}function ztt(t,e){throw new Error(t[e]||t.default)}var Ptt={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ys=Bu(ztt)(Ptt),Uf={changes:Rtt,selector:Btt,handler:jtt,initial:$tt};function Ftt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Uf.initial(t),Uf.handler(e);var n={current:t},r=Bu(Vtt)(n,e),i=Bu(Htt)(n),s=Bu(Uf.changes)(t),o=Bu(Itt)(n);function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Uf.selector(h),h(n.current)}function u(h){Ntt(r,i,s,o)(h)}return[c,u]}function Itt(t,e){return _h(e)?e(t.current):e}function Htt(t,e){return t.current=WE(WE({},t.current),e),e}function Vtt(t,e,n){return _h(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var qtt={create:Ftt},Utt={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Wtt(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return e.apply(n,[].concat(i,c))}}}function Ytt(t){return{}.toString.call(t).includes("Object")}function Gtt(t){return t||YE("configIsRequired"),Ytt(t)||YE("configType"),t.urls?(Xtt(),{paths:{vs:t.urls.monacoBase}}):t}function Xtt(){console.warn(gO.deprecation)}function Ztt(t,e){throw new Error(t[e]||t.default)}var gO={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},YE=Wtt(Ztt)(gO),Ktt={config:Gtt},Qtt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,o){return o(s)},i)}};function mO(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],mO(t[n],e[n]))}),qE(qE({},t),e)}var Jtt={type:"cancelation",msg:"operation is manually canceled"};function jx(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(Jtt):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var tet=["monaco"],eet=qtt.create({config:Utt,isInitialized:!1,resolve:null,reject:null,monaco:null}),yO=Ttt(eet,2),td=yO[0],lm=yO[1];function net(t){var e=Ktt.config(t),n=e.monaco,r=_tt(e,tet);lm(function(i){return{config:mO(i.config,r),monaco:n}})}function ret(){var t=td(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(lm({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),jx($x);if(window.monaco&&window.monaco.editor)return xO(window.monaco),t.resolve(window.monaco),jx($x);Qtt(iet,set)(oet)}return jx($x)}function iet(t){return document.body.appendChild(t)}function aet(t){var e=document.createElement("script");return t&&(e.src=t),e}function set(t){var e=td(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=aet("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function oet(){var t=td(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){var r=n.m||n;xO(r),t.resolve(r)},function(n){t.reject(n)})}function xO(t){td().monaco||lm({monaco:t})}function cet(){return td(function(t){var e=t.monaco;return e})}var $x=new Promise(function(t,e){return lm({resolve:t,reject:e})}),bO={config:net,init:ret,__getMonacoInstance:cet},uet={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},zx=uet,het={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},det=het;function fet({children:t}){return re.createElement("div",{style:det.container},t)}var pet=fet,get=pet;function met({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:o}){return re.createElement("section",{style:{...zx.wrapper,width:t,height:e},...o},!n&&re.createElement(get,null,r),re.createElement("div",{ref:i,style:{...zx.fullWidth,...!n&&zx.hide},className:s}))}var yet=met,vO=A.memo(yet);function xet(t){A.useEffect(t,[])}var wO=xet;function bet(t,e,n=!0){let r=A.useRef(!0);A.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var Pr=bet;function Ku(){}function jl(t,e,n,r){return vet(t,r)||wet(t,e,n,r)}function vet(t,e){return t.editor.getModel(SO(t,e))}function wet(t,e,n,r){return t.editor.createModel(e,n,r?SO(t,r):void 0)}function SO(t,e){return t.Uri.parse(e)}function Cet({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:h="light",loading:f="Loading...",options:p={},height:m="100%",width:y="100%",className:x,wrapperProps:b={},beforeMount:w=Ku,onMount:_=Ku}){let[S,T]=A.useState(!1),[E,M]=A.useState(!0),L=A.useRef(null),N=A.useRef(null),$=A.useRef(null),P=A.useRef(_),z=A.useRef(w),j=A.useRef(!1);wO(()=>{let H=bO.init();return H.then(R=>(N.current=R)&&M(!1)).catch(R=>R?.type!=="cancelation"&&console.error("Monaco initialization: error:",R)),()=>L.current?B():H.cancel()}),Pr(()=>{if(L.current&&N.current){let H=L.current.getOriginalEditor(),R=jl(N.current,t||"",r||n||"text",s||"");R!==H.getModel()&&H.setModel(R)}},[s],S),Pr(()=>{if(L.current&&N.current){let H=L.current.getModifiedEditor(),R=jl(N.current,e||"",i||n||"text",o||"");R!==H.getModel()&&H.setModel(R)}},[o],S),Pr(()=>{let H=L.current.getModifiedEditor();H.getOption(N.current.editor.EditorOption.readOnly)?H.setValue(e||""):e!==H.getValue()&&(H.executeEdits("",[{range:H.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),H.pushUndoStop())},[e],S),Pr(()=>{L.current?.getModel()?.original.setValue(t||"")},[t],S),Pr(()=>{let{original:H,modified:R}=L.current.getModel();N.current.editor.setModelLanguage(H,r||n||"text"),N.current.editor.setModelLanguage(R,i||n||"text")},[n,r,i],S),Pr(()=>{N.current?.editor.setTheme(h)},[h],S),Pr(()=>{L.current?.updateOptions(p)},[p],S);let W=A.useCallback(()=>{if(!N.current)return;z.current(N.current);let H=jl(N.current,t||"",r||n||"text",s||""),R=jl(N.current,e||"",i||n||"text",o||"");L.current?.setModel({original:H,modified:R})},[n,e,i,t,r,s,o]),G=A.useCallback(()=>{!j.current&&$.current&&(L.current=N.current.editor.createDiffEditor($.current,{automaticLayout:!0,...p}),W(),N.current?.editor.setTheme(h),T(!0),j.current=!0)},[p,h,W]);A.useEffect(()=>{S&&P.current(L.current,N.current)},[S]),A.useEffect(()=>{!E&&!S&&G()},[E,S,G]);function B(){let H=L.current?.getModel();c||H?.original?.dispose(),u||H?.modified?.dispose(),L.current?.dispose()}return re.createElement(vO,{width:y,height:m,isEditorReady:S,loading:f,_ref:$,className:x,wrapperProps:b})}var _et=Cet;A.memo(_et);function ket(t){let e=A.useRef();return A.useEffect(()=>{e.current=t},[t]),e.current}var Tet=ket,Wf=new Map;function Eet({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:o="light",line:c,loading:u="Loading...",options:h={},overrideServices:f={},saveViewState:p=!0,keepCurrentModel:m=!1,width:y="100%",height:x="100%",className:b,wrapperProps:w={},beforeMount:_=Ku,onMount:S=Ku,onChange:T,onValidate:E=Ku}){let[M,L]=A.useState(!1),[N,$]=A.useState(!0),P=A.useRef(null),z=A.useRef(null),j=A.useRef(null),W=A.useRef(S),G=A.useRef(_),B=A.useRef(),H=A.useRef(r),R=Tet(s),I=A.useRef(!1),U=A.useRef(!1);wO(()=>{let q=bO.init();return q.then(V=>(P.current=V)&&$(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>z.current?nt():q.cancel()}),Pr(()=>{let q=jl(P.current,t||r||"",e||i||"",s||n||"");q!==z.current?.getModel()&&(p&&Wf.set(R,z.current?.saveViewState()),z.current?.setModel(q),p&&z.current?.restoreViewState(Wf.get(s)))},[s],M),Pr(()=>{z.current?.updateOptions(h)},[h],M),Pr(()=>{!z.current||r===void 0||(z.current.getOption(P.current.editor.EditorOption.readOnly)?z.current.setValue(r):r!==z.current.getValue()&&(U.current=!0,z.current.executeEdits("",[{range:z.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),z.current.pushUndoStop(),U.current=!1))},[r],M),Pr(()=>{let q=z.current?.getModel();q&&i&&P.current?.editor.setModelLanguage(q,i)},[i],M),Pr(()=>{c!==void 0&&z.current?.revealLine(c)},[c],M),Pr(()=>{P.current?.editor.setTheme(o)},[o],M);let Z=A.useCallback(()=>{if(!(!j.current||!P.current)&&!I.current){G.current(P.current);let q=s||n,V=jl(P.current,r||t||"",e||i||"",q||"");z.current=P.current?.editor.create(j.current,{model:V,automaticLayout:!0,...h},f),p&&z.current.restoreViewState(Wf.get(q)),P.current.editor.setTheme(o),c!==void 0&&z.current.revealLine(c),L(!0),I.current=!0}},[t,e,n,r,i,s,h,f,p,o,c]);A.useEffect(()=>{M&&W.current(z.current,P.current)},[M]),A.useEffect(()=>{!N&&!M&&Z()},[N,M,Z]),H.current=r,A.useEffect(()=>{M&&T&&(B.current?.dispose(),B.current=z.current?.onDidChangeModelContent(q=>{U.current||T(z.current.getValue(),q)}))},[M,T]),A.useEffect(()=>{if(M){let q=P.current.editor.onDidChangeMarkers(V=>{let K=z.current.getModel()?.uri;if(K&&V.find(et=>et.path===K.path)){let et=P.current.editor.getModelMarkers({resource:K});E?.(et)}});return()=>{q?.dispose()}}return()=>{}},[M,E]);function nt(){B.current?.dispose(),m?p&&Wf.set(s,z.current.saveViewState()):z.current.getModel()?.dispose(),z.current.dispose()}return re.createElement(vO,{width:y,height:x,isEditorReady:M,loading:u,_ref:j,className:b,wrapperProps:w})}var Aet=Eet,Met=A.memo(Aet),Det=Met;const Net=A.memo(function(){const[e,n]=A.useState([]),[r,i]=A.useState(null),[s,o]=A.useState(""),[c,u]=A.useState(""),[h,f]=A.useState(!1),[p,m]=A.useState(!1),[y,x]=A.useState(new Set),b=A.useCallback(async()=>{try{const M=await fetch("/api/docs");if(!M.ok)throw new Error("Failed to fetch docs");const L=await M.json();if(L.groups)n(L.groups);else if(L.files||Array.isArray(L)){const N=L.files||L,$=new Map;for(const P of N){const z=P.path?.includes("/")?P.path.split("/")[0]:"root";$.has(z)||$.set(z,[]),$.get(z).push(P)}n(Array.from($.entries()).map(([P,z])=>({category:P,files:z})))}}catch{n([{category:"docs",files:[{name:"README.md",path:"docs/README.md",type:"file"}]}])}},[]);A.useEffect(()=>{b()},[b]);const w=A.useCallback(async M=>{f(!0),i(M);try{const L=await fetch(`/api/docs/file?path=${encodeURIComponent(M)}`);if(!L.ok)throw new Error("Failed to load file");const N=await L.json();o(N.content||""),u(N.content||"")}catch{o(`// Could not load ${M}`),u("")}finally{f(!1)}},[]),_=A.useCallback(async()=>{if(r){m(!0);try{await fetch("/api/docs/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:r,content:s})}),u(s)}catch{}finally{m(!1)}}},[r,s]),S=M=>{x(L=>{const N=new Set(L);return N.has(M)?N.delete(M):N.add(M),N})},T=s!==c,E=r?.endsWith(".yaml")||r?.endsWith(".yml")?"yaml":r?.endsWith(".json")?"json":r?.endsWith(".ts")||r?.endsWith(".tsx")?"typescript":r?.endsWith(".js")||r?.endsWith(".jsx")?"javascript":"markdown";return k.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[k.jsxs("aside",{className:"w-64 flex-shrink-0 border-r flex flex-col overflow-hidden",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",style:{borderColor:F.bg.border},children:[k.jsx("span",{className:"text-xs font-semibold",style:{color:F.text.primary},children:" Documents"}),k.jsx("button",{onClick:b,className:"p-1 rounded hover:bg-white/5 transition-colors",title:"Refresh",children:k.jsx(lN,{size:12,style:{color:F.text.secondary}})})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto py-1",children:[e.map(M=>k.jsxs("div",{children:[k.jsxs("button",{onClick:()=>S(M.category),className:"w-full flex items-center gap-1.5 px-3 py-1.5 text-[11px] font-medium hover:bg-white/5 transition-colors",style:{color:F.text.secondary},children:[y.has(M.category)?k.jsx(x1,{size:12}):k.jsx(jg,{size:12}),k.jsx(aN,{size:12,style:{color:F.accent}}),M.category,k.jsx("span",{className:"ml-auto text-[9px]",style:{color:F.text.muted},children:M.files.length})]}),!y.has(M.category)&&k.jsx("div",{children:M.files.map(L=>k.jsx(CO,{file:L,selectedFile:r,onSelect:w,depth:1},L.path))})]},M.category)),e.length===0&&k.jsx("p",{className:"text-[10px] text-center py-8",style:{color:F.text.muted},children:"No documents found"})]})]}),k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b flex-shrink-0",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-2",children:[r?k.jsx("span",{className:"text-xs font-mono",style:{color:F.text.primary},children:r}):k.jsx("span",{className:"text-xs",style:{color:F.text.muted},children:"Select a file to edit"}),T&&k.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full font-medium",style:{backgroundColor:F.status.blocked+"20",color:F.status.blocked},children:"Modified"})]}),r&&k.jsxs("button",{onClick:_,disabled:p||!T,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-md text-[11px] font-medium transition-all disabled:opacity-40",style:{backgroundColor:T?F.accent:F.bg.surfaceHover,color:T?"#fff":F.text.secondary},children:[k.jsx(uN,{size:12}),p?"Saving...":"Save"]})]}),k.jsx("div",{className:"flex-1 overflow-hidden",children:r?h?k.jsx("div",{className:"flex items-center justify-center h-full",children:k.jsx("span",{className:"text-xs animate-pulse",style:{color:F.text.muted},children:"Loading..."})}):k.jsx(Det,{height:"100%",language:E,value:s,onChange:M=>o(M||""),theme:"vs-dark",options:{fontSize:13,fontFamily:"JetBrains Mono, Fira Code, monospace",minimap:{enabled:!1},lineNumbers:"on",wordWrap:"on",padding:{top:12},scrollBeyondLastLine:!1,renderLineHighlight:"gutter",bracketPairColorization:{enabled:!0},smoothScrolling:!0}}):k.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-3",children:[k.jsx(iN,{size:40,style:{color:F.text.muted}}),k.jsx("p",{className:"text-sm",style:{color:F.text.muted},children:"Select a document from the sidebar"}),k.jsx("p",{className:"text-[11px]",style:{color:F.text.muted},children:"Supports Markdown, YAML, JSON, and code files"})]})})]})]})});function CO({file:t,selectedFile:e,onSelect:n,depth:r}){const[i,s]=A.useState(!1),o=e===t.path,c=12+r*16;return t.type==="directory"?k.jsxs("div",{children:[k.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center gap-1.5 py-1 text-[11px] hover:bg-white/5 transition-colors",style:{paddingLeft:c,color:F.text.secondary},children:[i?k.jsx(jg,{size:10}):k.jsx(x1,{size:10}),k.jsx(aN,{size:11,style:{color:F.accent}}),t.name]}),i&&t.children&&k.jsx("div",{children:t.children.map(u=>k.jsx(CO,{file:u,selectedFile:e,onSelect:n,depth:r+1},u.path))})]}):k.jsxs("button",{onClick:()=>n(t.path),className:"w-full flex items-center gap-1.5 py-1 text-[11px] hover:bg-white/5 transition-colors",style:{paddingLeft:c,color:o?F.text.primary:F.text.secondary,backgroundColor:o?F.bg.surfaceActive:"transparent"},children:[k.jsx(iN,{size:11,style:{color:o?F.accent:F.text.muted}}),t.name]})}const Let="modulepreload",Oet=function(t){return"/"+t},GE={},ye=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=u(n.map(h=>{if(h=Oet(h),h in GE)return;GE[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":Let,f||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((y,x)=>{m.addEventListener("load",y),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};var XE={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},gp={exports:{}},Ret=gp.exports,ZE;function Bet(){return ZE||(ZE=1,(function(t,e){(function(n,r){t.exports=r()})(Ret,(function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",c="minute",u="hour",h="day",f="week",p="month",m="quarter",y="year",x="date",b="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var H=["th","st","nd","rd"],R=B%100;return"["+B+(H[(R-20)%10]||H[R]||H[0])+"]"}},T=function(B,H,R){var I=String(B);return!I||I.length>=H?B:""+Array(H+1-I.length).join(R)+B},E={s:T,z:function(B){var H=-B.utcOffset(),R=Math.abs(H),I=Math.floor(R/60),U=R%60;return(H<=0?"+":"-")+T(I,2,"0")+":"+T(U,2,"0")},m:function B(H,R){if(H.date()<R.date())return-B(R,H);var I=12*(R.year()-H.year())+(R.month()-H.month()),U=H.clone().add(I,p),Z=R-U<0,nt=H.clone().add(I+(Z?-1:1),p);return+(-(I+(R-U)/(Z?U-nt:nt-U))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:p,y,w:f,d:h,D:x,h:u,m:c,s:o,ms:s,Q:m}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},M="en",L={};L[M]=S;var N="$isDayjsObject",$=function(B){return B instanceof W||!(!B||!B[N])},P=function B(H,R,I){var U;if(!H)return M;if(typeof H=="string"){var Z=H.toLowerCase();L[Z]&&(U=Z),R&&(L[Z]=R,U=Z);var nt=H.split("-");if(!U&&nt.length>1)return B(nt[0])}else{var q=H.name;L[q]=H,U=q}return!I&&U&&(M=U),U||!I&&M},z=function(B,H){if($(B))return B.clone();var R=typeof H=="object"?H:{};return R.date=B,R.args=arguments,new W(R)},j=E;j.l=P,j.i=$,j.w=function(B,H){return z(B,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var W=(function(){function B(R){this.$L=P(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[N]=!0}var H=B.prototype;return H.parse=function(R){this.$d=(function(I){var U=I.date,Z=I.utc;if(U===null)return new Date(NaN);if(j.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var nt=U.match(w);if(nt){var q=nt[2]-1||0,V=(nt[7]||"0").substring(0,3);return Z?new Date(Date.UTC(nt[1],q,nt[3]||1,nt[4]||0,nt[5]||0,nt[6]||0,V)):new Date(nt[1],q,nt[3]||1,nt[4]||0,nt[5]||0,nt[6]||0,V)}}return new Date(U)})(R),this.init()},H.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},H.$utils=function(){return j},H.isValid=function(){return this.$d.toString()!==b},H.isSame=function(R,I){var U=z(R);return this.startOf(I)<=U&&U<=this.endOf(I)},H.isAfter=function(R,I){return z(R)<this.startOf(I)},H.isBefore=function(R,I){return this.endOf(I)<z(R)},H.$g=function(R,I,U){return j.u(R)?this[I]:this.set(U,R)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(R,I){var U=this,Z=!!j.u(I)||I,nt=j.p(R),q=function(ut,pt){var vt=j.w(U.$u?Date.UTC(U.$y,pt,ut):new Date(U.$y,pt,ut),U);return Z?vt:vt.endOf(h)},V=function(ut,pt){return j.w(U.toDate()[ut].apply(U.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(pt)),U)},K=this.$W,et=this.$M,X=this.$D,Q="set"+(this.$u?"UTC":"");switch(nt){case y:return Z?q(1,0):q(31,11);case p:return Z?q(1,et):q(0,et+1);case f:var tt=this.$locale().weekStart||0,at=(K<tt?K+7:K)-tt;return q(Z?X-at:X+(6-at),et);case h:case x:return V(Q+"Hours",0);case u:return V(Q+"Minutes",1);case c:return V(Q+"Seconds",2);case o:return V(Q+"Milliseconds",3);default:return this.clone()}},H.endOf=function(R){return this.startOf(R,!1)},H.$set=function(R,I){var U,Z=j.p(R),nt="set"+(this.$u?"UTC":""),q=(U={},U[h]=nt+"Date",U[x]=nt+"Date",U[p]=nt+"Month",U[y]=nt+"FullYear",U[u]=nt+"Hours",U[c]=nt+"Minutes",U[o]=nt+"Seconds",U[s]=nt+"Milliseconds",U)[Z],V=Z===h?this.$D+(I-this.$W):I;if(Z===p||Z===y){var K=this.clone().set(x,1);K.$d[q](V),K.init(),this.$d=K.set(x,Math.min(this.$D,K.daysInMonth())).$d}else q&&this.$d[q](V);return this.init(),this},H.set=function(R,I){return this.clone().$set(R,I)},H.get=function(R){return this[j.p(R)]()},H.add=function(R,I){var U,Z=this;R=Number(R);var nt=j.p(I),q=function(et){var X=z(Z);return j.w(X.date(X.date()+Math.round(et*R)),Z)};if(nt===p)return this.set(p,this.$M+R);if(nt===y)return this.set(y,this.$y+R);if(nt===h)return q(1);if(nt===f)return q(7);var V=(U={},U[c]=r,U[u]=i,U[o]=n,U)[nt]||1,K=this.$d.getTime()+R*V;return j.w(K,this)},H.subtract=function(R,I){return this.add(-1*R,I)},H.format=function(R){var I=this,U=this.$locale();if(!this.isValid())return U.invalidDate||b;var Z=R||"YYYY-MM-DDTHH:mm:ssZ",nt=j.z(this),q=this.$H,V=this.$m,K=this.$M,et=U.weekdays,X=U.months,Q=U.meridiem,tt=function(pt,vt,bt,kt){return pt&&(pt[vt]||pt(I,Z))||bt[vt].slice(0,kt)},at=function(pt){return j.s(q%12||12,pt,"0")},ut=Q||function(pt,vt,bt){var kt=pt<12?"AM":"PM";return bt?kt.toLowerCase():kt};return Z.replace(_,(function(pt,vt){return vt||(function(bt){switch(bt){case"YY":return String(I.$y).slice(-2);case"YYYY":return j.s(I.$y,4,"0");case"M":return K+1;case"MM":return j.s(K+1,2,"0");case"MMM":return tt(U.monthsShort,K,X,3);case"MMMM":return tt(X,K);case"D":return I.$D;case"DD":return j.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return tt(U.weekdaysMin,I.$W,et,2);case"ddd":return tt(U.weekdaysShort,I.$W,et,3);case"dddd":return et[I.$W];case"H":return String(q);case"HH":return j.s(q,2,"0");case"h":return at(1);case"hh":return at(2);case"a":return ut(q,V,!0);case"A":return ut(q,V,!1);case"m":return String(V);case"mm":return j.s(V,2,"0");case"s":return String(I.$s);case"ss":return j.s(I.$s,2,"0");case"SSS":return j.s(I.$ms,3,"0");case"Z":return nt}return null})(pt)||nt.replace(":","")}))},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(R,I,U){var Z,nt=this,q=j.p(I),V=z(R),K=(V.utcOffset()-this.utcOffset())*r,et=this-V,X=function(){return j.m(nt,V)};switch(q){case y:Z=X()/12;break;case p:Z=X();break;case m:Z=X()/3;break;case f:Z=(et-K)/6048e5;break;case h:Z=(et-K)/864e5;break;case u:Z=et/i;break;case c:Z=et/r;break;case o:Z=et/n;break;default:Z=et}return U?Z:j.a(Z)},H.daysInMonth=function(){return this.endOf(p).$D},H.$locale=function(){return L[this.$L]},H.locale=function(R,I){if(!R)return this.$L;var U=this.clone(),Z=P(R,I,!0);return Z&&(U.$L=Z),U},H.clone=function(){return j.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},B})(),G=W.prototype;return z.prototype=G,[["$ms",s],["$s",o],["$m",c],["$H",u],["$W",h],["$M",p],["$y",y],["$D",x]].forEach((function(B){G[B[1]]=function(H){return this.$g(H,B[0],B[1])}})),z.extend=function(B,H){return B.$i||(B(H,W,z),B.$i=!0),z},z.locale=P,z.isDayjs=$,z.unix=function(B){return z(1e3*B)},z.en=L[M],z.Ls=L,z.p={},z}))})(gp)),gp.exports}var jet=Bet();const $et=Rh(jet);var _O=Object.defineProperty,D=(t,e)=>_O(t,"name",{value:e,configurable:!0}),zet=(t,e)=>{for(var n in e)_O(t,n,{get:e[n],enumerable:!0})},xa={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},yt={trace:D((...t)=>{},"trace"),debug:D((...t)=>{},"debug"),info:D((...t)=>{},"info"),warn:D((...t)=>{},"warn"),error:D((...t)=>{},"error"),fatal:D((...t)=>{},"fatal")},G1=D(function(t="fatal"){let e=xa.fatal;typeof t=="string"?t.toLowerCase()in xa&&(e=xa[t]):typeof t=="number"&&(e=t),yt.trace=()=>{},yt.debug=()=>{},yt.info=()=>{},yt.warn=()=>{},yt.error=()=>{},yt.fatal=()=>{},e<=xa.fatal&&(yt.fatal=console.error?console.error.bind(console,Kr("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Kr("FATAL"))),e<=xa.error&&(yt.error=console.error?console.error.bind(console,Kr("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Kr("ERROR"))),e<=xa.warn&&(yt.warn=console.warn?console.warn.bind(console,Kr("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Kr("WARN"))),e<=xa.info&&(yt.info=console.info?console.info.bind(console,Kr("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Kr("INFO"))),e<=xa.debug&&(yt.debug=console.debug?console.debug.bind(console,Kr("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Kr("DEBUG"))),e<=xa.trace&&(yt.trace=console.debug?console.debug.bind(console,Kr("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Kr("TRACE")))},"setLogLevel"),Kr=D(t=>`%c${$et().format("ss.SSS")} : ${t} : `,"format");const mp={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,s=2*n-i;switch(r){case"r":return mp.hue2rgb(s,i,t+1/3)*255;case"g":return mp.hue2rgb(s,i,t)*255;case"b":return mp.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n),o=(i+s)/2;if(r==="l")return o*100;if(i===s)return 0;const c=i-s,u=o>.5?c/(2-i-s):c/(i+s);if(r==="s")return u*100;switch(i){case t:return((e-n)/c+(e<n?6:0))*60;case e:return((n-t)/c+2)*60;case n:return((t-e)/c+4)*60;default:return-1}}},Pet={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},Fet={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Ut={channel:mp,lang:Pet,unit:Fet},us={};for(let t=0;t<=255;t++)us[t]=Ut.unit.dec2hex(t);const Vn={ALL:0,RGB:1,HSL:2};class Iet{constructor(){this.type=Vn.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Vn.ALL}is(e){return this.type===e}}class Het{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new Iet}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Vn.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=Ut.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=Ut.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Ut.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=Ut.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=Ut.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Ut.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Vn.HSL)&&n!==void 0?n:(this._ensureHSL(),Ut.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Vn.HSL)&&n!==void 0?n:(this._ensureHSL(),Ut.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Vn.HSL)&&n!==void 0?n:(this._ensureHSL(),Ut.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Vn.RGB)&&n!==void 0?n:(this._ensureRGB(),Ut.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Vn.RGB)&&n!==void 0?n:(this._ensureRGB(),Ut.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Vn.RGB)&&n!==void 0?n:(this._ensureRGB(),Ut.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Vn.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Vn.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Vn.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Vn.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Vn.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Vn.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const cm=new Het({r:0,g:0,b:0,a:0},"transparent"),Vl={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(Vl.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,s=i%4===0,o=i>4,c=o?1:17,u=o?8:4,h=s?0:-1,f=o?255:15;return cm.set({r:(r>>u*(h+3)&f)*c,g:(r>>u*(h+2)&f)*c,b:(r>>u*(h+1)&f)*c,a:s?(r&f)*c/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${us[Math.round(e)]}${us[Math.round(n)]}${us[Math.round(r)]}${us[Math.round(i*255)]}`:`#${us[Math.round(e)]}${us[Math.round(n)]}${us[Math.round(r)]}`}},uo={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(uo.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return Ut.channel.clamp.h(parseFloat(n)*.9);case"rad":return Ut.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Ut.channel.clamp.h(parseFloat(n)*360)}}return Ut.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(uo.re);if(!n)return;const[,r,i,s,o,c]=n;return cm.set({h:uo._hue2deg(r),s:Ut.channel.clamp.s(parseFloat(i)),l:Ut.channel.clamp.l(parseFloat(s)),a:o?Ut.channel.clamp.a(c?parseFloat(o)/100:parseFloat(o)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${Ut.lang.round(e)}, ${Ut.lang.round(n)}%, ${Ut.lang.round(r)}%, ${i})`:`hsl(${Ut.lang.round(e)}, ${Ut.lang.round(n)}%, ${Ut.lang.round(r)}%)`}},Qu={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Qu.colors[t];if(e)return Vl.parse(e)},stringify:t=>{const e=Vl.stringify(t);for(const n in Qu.colors)if(Qu.colors[n]===e)return n}},ju={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(ju.re);if(!n)return;const[,r,i,s,o,c,u,h,f]=n;return cm.set({r:Ut.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:Ut.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:Ut.channel.clamp.b(u?parseFloat(c)*2.55:parseFloat(c)),a:h?Ut.channel.clamp.a(f?parseFloat(h)/100:parseFloat(h)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${Ut.lang.round(e)}, ${Ut.lang.round(n)}, ${Ut.lang.round(r)}, ${Ut.lang.round(i)})`:`rgb(${Ut.lang.round(e)}, ${Ut.lang.round(n)}, ${Ut.lang.round(r)})`}},Yi={format:{keyword:Qu,hex:Vl,rgb:ju,rgba:ju,hsl:uo,hsla:uo},parse:t=>{if(typeof t!="string")return t;const e=Vl.parse(t)||ju.parse(t)||uo.parse(t)||Qu.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Vn.HSL)||t.data.r===void 0?uo.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?ju.stringify(t):Vl.stringify(t)},kO=(t,e)=>{const n=Yi.parse(t);for(const r in e)n[r]=Ut.channel.clamp[r](e[r]);return Yi.stringify(n)},Ju=(t,e,n=0,r=1)=>{if(typeof t!="number")return kO(t,{a:e});const i=cm.set({r:Ut.channel.clamp.r(t),g:Ut.channel.clamp.g(e),b:Ut.channel.clamp.b(n),a:Ut.channel.clamp.a(r)});return Yi.stringify(i)},Vet=t=>{const{r:e,g:n,b:r}=Yi.parse(t),i=.2126*Ut.channel.toLinear(e)+.7152*Ut.channel.toLinear(n)+.0722*Ut.channel.toLinear(r);return Ut.lang.round(i)},qet=t=>Vet(t)>=.5,ed=t=>!qet(t),TO=(t,e,n)=>{const r=Yi.parse(t),i=r[e],s=Ut.channel.clamp[e](i+n);return i!==s&&(r[e]=s),Yi.stringify(r)},At=(t,e)=>TO(t,"l",e),zt=(t,e)=>TO(t,"l",-e),ot=(t,e)=>{const n=Yi.parse(t),r={};for(const i in e)e[i]&&(r[i]=n[i]+e[i]);return kO(t,r)},Uet=(t,e,n=50)=>{const{r,g:i,b:s,a:o}=Yi.parse(t),{r:c,g:u,b:h,a:f}=Yi.parse(e),p=n/100,m=p*2-1,y=o-f,b=((m*y===-1?m:(m+y)/(1+m*y))+1)/2,w=1-b,_=r*b+c*w,S=i*b+u*w,T=s*b+h*w,E=o*p+f*(1-p);return Ju(_,S,T,E)},wt=(t,e=100)=>{const n=Yi.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,Uet(n,t,e)};const{entries:EO,setPrototypeOf:KE,isFrozen:Wet,getPrototypeOf:Yet,getOwnPropertyDescriptor:Get}=Object;let{freeze:ar,seal:ni,create:AO}=Object,{apply:Gb,construct:Xb}=typeof Reflect<"u"&&Reflect;ar||(ar=function(e){return e});ni||(ni=function(e){return e});Gb||(Gb=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});Xb||(Xb=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const Yf=sr(Array.prototype.forEach),Xet=sr(Array.prototype.lastIndexOf),QE=sr(Array.prototype.pop),wu=sr(Array.prototype.push),Zet=sr(Array.prototype.splice),yp=sr(String.prototype.toLowerCase),Px=sr(String.prototype.toString),Fx=sr(String.prototype.match),Su=sr(String.prototype.replace),Ket=sr(String.prototype.indexOf),Qet=sr(String.prototype.trim),fi=sr(Object.prototype.hasOwnProperty),Jn=sr(RegExp.prototype.test),Cu=Jet(TypeError);function sr(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Gb(t,e,r)}}function Jet(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Xb(t,n)}}function Jt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yp;KE&&KE(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(Wet(e)||(e[r]=s),i=s)}t[i]=!0}return t}function tnt(t){for(let e=0;e<t.length;e++)fi(t,e)||(t[e]=null);return t}function ba(t){const e=AO(null);for(const[n,r]of EO(t))fi(t,n)&&(Array.isArray(r)?e[n]=tnt(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=ba(r):e[n]=r);return e}function _u(t,e){for(;t!==null;){const r=Get(t,e);if(r){if(r.get)return sr(r.get);if(typeof r.value=="function")return sr(r.value)}t=Yet(t)}function n(){return null}return n}const JE=ar(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ix=ar(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hx=ar(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ent=ar(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Vx=ar(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),nnt=ar(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),tA=ar(["#text"]),eA=ar(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qx=ar(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),nA=ar(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Gf=ar(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),rnt=ni(/\{\{[\w\W]*|[\w\W]*\}\}/gm),int=ni(/<%[\w\W]*|[\w\W]*%>/gm),ant=ni(/\$\{[\w\W]*/gm),snt=ni(/^data-[\-\w.\u00B7-\uFFFF]+$/),ont=ni(/^aria-[\-\w]+$/),MO=ni(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lnt=ni(/^(?:\w+script|data):/i),cnt=ni(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DO=ni(/^html$/i),unt=ni(/^[a-z][.\w]*(-[.\w]+)+$/i);var rA=Object.freeze({__proto__:null,ARIA_ATTR:ont,ATTR_WHITESPACE:cnt,CUSTOM_ELEMENT:unt,DATA_ATTR:snt,DOCTYPE_NAME:DO,ERB_EXPR:int,IS_ALLOWED_URI:MO,IS_SCRIPT_OR_DATA:lnt,MUSTACHE_EXPR:rnt,TMPLIT_EXPR:ant});const ku={element:1,text:3,progressingInstruction:7,comment:8,document:9},hnt=function(){return typeof window>"u"?null:window},dnt=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},iA=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function NO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hnt();const e=Rt=>NO(Rt);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==ku.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:c,Element:u,NodeFilter:h,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:m,trustedTypes:y}=t,x=u.prototype,b=_u(x,"cloneNode"),w=_u(x,"remove"),_=_u(x,"nextSibling"),S=_u(x,"childNodes"),T=_u(x,"parentNode");if(typeof o=="function"){const Rt=n.createElement("template");Rt.content&&Rt.content.ownerDocument&&(n=Rt.content.ownerDocument)}let E,M="";const{implementation:L,createNodeIterator:N,createDocumentFragment:$,getElementsByTagName:P}=n,{importNode:z}=r;let j=iA();e.isSupported=typeof EO=="function"&&typeof T=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:W,ERB_EXPR:G,TMPLIT_EXPR:B,DATA_ATTR:H,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:U,CUSTOM_ELEMENT:Z}=rA;let{IS_ALLOWED_URI:nt}=rA,q=null;const V=Jt({},[...JE,...Ix,...Hx,...Vx,...tA]);let K=null;const et=Jt({},[...eA,...qx,...nA,...Gf]);let X=Object.seal(AO(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,tt=null,at=!0,ut=!0,pt=!1,vt=!0,bt=!1,kt=!0,_t=!1,Pt=!1,Yt=!1,de=!1,Ye=!1,Ge=!1,qe=!0,Mn=!1;const lr="user-content-";let cr=!0,Me=!1,Zn={},_n=null;const kn=Jt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Dn=null;const Ir=Jt({},["audio","video","img","source","image","track"]);let Ar=null;const Kn=Jt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ai="http://www.w3.org/1998/Math/MathML",ur="http://www.w3.org/2000/svg",Ee="http://www.w3.org/1999/xhtml";let tn=Ee,Xe=!1,Ki=null;const Ra=Jt({},[ai,ur,Ee],Px);let Mi=Jt({},["mi","mo","mn","ms","mtext"]),Mr=Jt({},["annotation-xml"]);const Di=Jt({},["title","style","font","a","script"]);let xe=null;const Ne=["application/xhtml+xml","text/html"],Ze="text/html";let ie=null,Ue=null;const an=n.createElement("form"),pn=function(rt){return rt instanceof RegExp||rt instanceof Function},Tn=function(){let rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ue&&Ue===rt)){if((!rt||typeof rt!="object")&&(rt={}),rt=ba(rt),xe=Ne.indexOf(rt.PARSER_MEDIA_TYPE)===-1?Ze:rt.PARSER_MEDIA_TYPE,ie=xe==="application/xhtml+xml"?Px:yp,q=fi(rt,"ALLOWED_TAGS")?Jt({},rt.ALLOWED_TAGS,ie):V,K=fi(rt,"ALLOWED_ATTR")?Jt({},rt.ALLOWED_ATTR,ie):et,Ki=fi(rt,"ALLOWED_NAMESPACES")?Jt({},rt.ALLOWED_NAMESPACES,Px):Ra,Ar=fi(rt,"ADD_URI_SAFE_ATTR")?Jt(ba(Kn),rt.ADD_URI_SAFE_ATTR,ie):Kn,Dn=fi(rt,"ADD_DATA_URI_TAGS")?Jt(ba(Ir),rt.ADD_DATA_URI_TAGS,ie):Ir,_n=fi(rt,"FORBID_CONTENTS")?Jt({},rt.FORBID_CONTENTS,ie):kn,Q=fi(rt,"FORBID_TAGS")?Jt({},rt.FORBID_TAGS,ie):ba({}),tt=fi(rt,"FORBID_ATTR")?Jt({},rt.FORBID_ATTR,ie):ba({}),Zn=fi(rt,"USE_PROFILES")?rt.USE_PROFILES:!1,at=rt.ALLOW_ARIA_ATTR!==!1,ut=rt.ALLOW_DATA_ATTR!==!1,pt=rt.ALLOW_UNKNOWN_PROTOCOLS||!1,vt=rt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,bt=rt.SAFE_FOR_TEMPLATES||!1,kt=rt.SAFE_FOR_XML!==!1,_t=rt.WHOLE_DOCUMENT||!1,de=rt.RETURN_DOM||!1,Ye=rt.RETURN_DOM_FRAGMENT||!1,Ge=rt.RETURN_TRUSTED_TYPE||!1,Yt=rt.FORCE_BODY||!1,qe=rt.SANITIZE_DOM!==!1,Mn=rt.SANITIZE_NAMED_PROPS||!1,cr=rt.KEEP_CONTENT!==!1,Me=rt.IN_PLACE||!1,nt=rt.ALLOWED_URI_REGEXP||MO,tn=rt.NAMESPACE||Ee,Mi=rt.MATHML_TEXT_INTEGRATION_POINTS||Mi,Mr=rt.HTML_INTEGRATION_POINTS||Mr,X=rt.CUSTOM_ELEMENT_HANDLING||{},rt.CUSTOM_ELEMENT_HANDLING&&pn(rt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=rt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),rt.CUSTOM_ELEMENT_HANDLING&&pn(rt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=rt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),rt.CUSTOM_ELEMENT_HANDLING&&typeof rt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=rt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),bt&&(ut=!1),Ye&&(de=!0),Zn&&(q=Jt({},tA),K=[],Zn.html===!0&&(Jt(q,JE),Jt(K,eA)),Zn.svg===!0&&(Jt(q,Ix),Jt(K,qx),Jt(K,Gf)),Zn.svgFilters===!0&&(Jt(q,Hx),Jt(K,qx),Jt(K,Gf)),Zn.mathMl===!0&&(Jt(q,Vx),Jt(K,nA),Jt(K,Gf))),rt.ADD_TAGS&&(q===V&&(q=ba(q)),Jt(q,rt.ADD_TAGS,ie)),rt.ADD_ATTR&&(K===et&&(K=ba(K)),Jt(K,rt.ADD_ATTR,ie)),rt.ADD_URI_SAFE_ATTR&&Jt(Ar,rt.ADD_URI_SAFE_ATTR,ie),rt.FORBID_CONTENTS&&(_n===kn&&(_n=ba(_n)),Jt(_n,rt.FORBID_CONTENTS,ie)),cr&&(q["#text"]=!0),_t&&Jt(q,["html","head","body"]),q.table&&(Jt(q,["tbody"]),delete Q.tbody),rt.TRUSTED_TYPES_POLICY){if(typeof rt.TRUSTED_TYPES_POLICY.createHTML!="function")throw Cu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof rt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Cu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=rt.TRUSTED_TYPES_POLICY,M=E.createHTML("")}else E===void 0&&(E=dnt(y,i)),E!==null&&typeof M=="string"&&(M=E.createHTML(""));ar&&ar(rt),Ue=rt}},Pe=Jt({},[...Ix,...Hx,...ent]),Fn=Jt({},[...Vx,...nnt]),Nn=function(rt){let xt=T(rt);(!xt||!xt.tagName)&&(xt={namespaceURI:tn,tagName:"template"});const Ct=yp(rt.tagName),le=yp(xt.tagName);return Ki[rt.namespaceURI]?rt.namespaceURI===ur?xt.namespaceURI===Ee?Ct==="svg":xt.namespaceURI===ai?Ct==="svg"&&(le==="annotation-xml"||Mi[le]):!!Pe[Ct]:rt.namespaceURI===ai?xt.namespaceURI===Ee?Ct==="math":xt.namespaceURI===ur?Ct==="math"&&Mr[le]:!!Fn[Ct]:rt.namespaceURI===Ee?xt.namespaceURI===ur&&!Mr[le]||xt.namespaceURI===ai&&!Mi[le]?!1:!Fn[Ct]&&(Di[Ct]||!Pe[Ct]):!!(xe==="application/xhtml+xml"&&Ki[rt.namespaceURI]):!1},Le=function(rt){wu(e.removed,{element:rt});try{T(rt).removeChild(rt)}catch{w(rt)}},gn=function(rt,xt){try{wu(e.removed,{attribute:xt.getAttributeNode(rt),from:xt})}catch{wu(e.removed,{attribute:null,from:xt})}if(xt.removeAttribute(rt),rt==="is")if(de||Ye)try{Le(xt)}catch{}else try{xt.setAttribute(rt,"")}catch{}},hr=function(rt){let xt=null,Ct=null;if(Yt)rt="<remove></remove>"+rt;else{const ve=Fx(rt,/^[\r\n\t ]+/);Ct=ve&&ve[0]}xe==="application/xhtml+xml"&&tn===Ee&&(rt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+rt+"</body></html>");const le=E?E.createHTML(rt):rt;if(tn===Ee)try{xt=new m().parseFromString(le,xe)}catch{}if(!xt||!xt.documentElement){xt=L.createDocument(tn,"template",null);try{xt.documentElement.innerHTML=Xe?M:le}catch{}}const Oe=xt.body||xt.documentElement;return rt&&Ct&&Oe.insertBefore(n.createTextNode(Ct),Oe.childNodes[0]||null),tn===Ee?P.call(xt,_t?"html":"body")[0]:_t?xt.documentElement:Oe},In=function(rt){return N.call(rt.ownerDocument||rt,rt,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},dr=function(rt){return rt instanceof p&&(typeof rt.nodeName!="string"||typeof rt.textContent!="string"||typeof rt.removeChild!="function"||!(rt.attributes instanceof f)||typeof rt.removeAttribute!="function"||typeof rt.setAttribute!="function"||typeof rt.namespaceURI!="string"||typeof rt.insertBefore!="function"||typeof rt.hasChildNodes!="function")},Ln=function(rt){return typeof c=="function"&&rt instanceof c};function be(Rt,rt,xt){Yf(Rt,Ct=>{Ct.call(e,rt,xt,Ue)})}const mn=function(rt){let xt=null;if(be(j.beforeSanitizeElements,rt,null),dr(rt))return Le(rt),!0;const Ct=ie(rt.nodeName);if(be(j.uponSanitizeElement,rt,{tagName:Ct,allowedTags:q}),kt&&rt.hasChildNodes()&&!Ln(rt.firstElementChild)&&Jn(/<[/\w!]/g,rt.innerHTML)&&Jn(/<[/\w!]/g,rt.textContent)||rt.nodeType===ku.progressingInstruction||kt&&rt.nodeType===ku.comment&&Jn(/<[/\w]/g,rt.data))return Le(rt),!0;if(!q[Ct]||Q[Ct]){if(!Q[Ct]&&Qi(Ct)&&(X.tagNameCheck instanceof RegExp&&Jn(X.tagNameCheck,Ct)||X.tagNameCheck instanceof Function&&X.tagNameCheck(Ct)))return!1;if(cr&&!_n[Ct]){const le=T(rt)||rt.parentNode,Oe=S(rt)||rt.childNodes;if(Oe&&le){const ve=Oe.length;for(let ae=ve-1;ae>=0;--ae){const fr=b(Oe[ae],!0);fr.__removalCount=(rt.__removalCount||0)+1,le.insertBefore(fr,_(rt))}}}return Le(rt),!0}return rt instanceof u&&!Nn(rt)||(Ct==="noscript"||Ct==="noembed"||Ct==="noframes")&&Jn(/<\/no(script|embed|frames)/i,rt.innerHTML)?(Le(rt),!0):(bt&&rt.nodeType===ku.text&&(xt=rt.textContent,Yf([W,G,B],le=>{xt=Su(xt,le," ")}),rt.textContent!==xt&&(wu(e.removed,{element:rt.cloneNode()}),rt.textContent=xt)),be(j.afterSanitizeElements,rt,null),!1)},Hr=function(rt,xt,Ct){if(qe&&(xt==="id"||xt==="name")&&(Ct in n||Ct in an))return!1;if(!(ut&&!tt[xt]&&Jn(H,xt))){if(!(at&&Jn(R,xt))){if(!K[xt]||tt[xt]){if(!(Qi(rt)&&(X.tagNameCheck instanceof RegExp&&Jn(X.tagNameCheck,rt)||X.tagNameCheck instanceof Function&&X.tagNameCheck(rt))&&(X.attributeNameCheck instanceof RegExp&&Jn(X.attributeNameCheck,xt)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(xt,rt))||xt==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&Jn(X.tagNameCheck,Ct)||X.tagNameCheck instanceof Function&&X.tagNameCheck(Ct))))return!1}else if(!Ar[xt]){if(!Jn(nt,Su(Ct,U,""))){if(!((xt==="src"||xt==="xlink:href"||xt==="href")&&rt!=="script"&&Ket(Ct,"data:")===0&&Dn[rt])){if(!(pt&&!Jn(I,Su(Ct,U,"")))){if(Ct)return!1}}}}}}return!0},Qi=function(rt){return rt!=="annotation-xml"&&Fx(rt,Z)},Rs=function(rt){be(j.beforeSanitizeAttributes,rt,null);const{attributes:xt}=rt;if(!xt||dr(rt))return;const Ct={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:K,forceKeepAttr:void 0};let le=xt.length;for(;le--;){const Oe=xt[le],{name:ve,namespaceURI:ae,value:fr}=Oe,si=ie(ve),Dr=fr;let De=ve==="value"?Dr:Qet(Dr);if(Ct.attrName=si,Ct.attrValue=De,Ct.keepAttr=!0,Ct.forceKeepAttr=void 0,be(j.uponSanitizeAttribute,rt,Ct),De=Ct.attrValue,Mn&&(si==="id"||si==="name")&&(gn(ve,rt),De=lr+De),kt&&Jn(/((--!?|])>)|<\/(style|title|textarea)/i,De)){gn(ve,rt);continue}if(si==="attributename"&&Fx(De,"href")){gn(ve,rt);continue}if(Ct.forceKeepAttr)continue;if(!Ct.keepAttr){gn(ve,rt);continue}if(!vt&&Jn(/\/>/i,De)){gn(ve,rt);continue}bt&&Yf([W,G,B],Ba=>{De=Su(De,Ba," ")});const $o=ie(rt.nodeName);if(!Hr($o,si,De)){gn(ve,rt);continue}if(E&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!ae)switch(y.getAttributeType($o,si)){case"TrustedHTML":{De=E.createHTML(De);break}case"TrustedScriptURL":{De=E.createScriptURL(De);break}}if(De!==Dr)try{ae?rt.setAttributeNS(ae,ve,De):rt.setAttribute(ve,De),dr(rt)?Le(rt):QE(e.removed)}catch{gn(ve,rt)}}be(j.afterSanitizeAttributes,rt,null)},Tc=function Rt(rt){let xt=null;const Ct=In(rt);for(be(j.beforeSanitizeShadowDOM,rt,null);xt=Ct.nextNode();)be(j.uponSanitizeShadowNode,xt,null),mn(xt),Rs(xt),xt.content instanceof s&&Rt(xt.content);be(j.afterSanitizeShadowDOM,rt,null)};return e.sanitize=function(Rt){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xt=null,Ct=null,le=null,Oe=null;if(Xe=!Rt,Xe&&(Rt="<!-->"),typeof Rt!="string"&&!Ln(Rt))if(typeof Rt.toString=="function"){if(Rt=Rt.toString(),typeof Rt!="string")throw Cu("dirty is not a string, aborting")}else throw Cu("toString is not a function");if(!e.isSupported)return Rt;if(Pt||Tn(rt),e.removed=[],typeof Rt=="string"&&(Me=!1),Me){if(Rt.nodeName){const fr=ie(Rt.nodeName);if(!q[fr]||Q[fr])throw Cu("root node is forbidden and cannot be sanitized in-place")}}else if(Rt instanceof c)xt=hr("<!---->"),Ct=xt.ownerDocument.importNode(Rt,!0),Ct.nodeType===ku.element&&Ct.nodeName==="BODY"||Ct.nodeName==="HTML"?xt=Ct:xt.appendChild(Ct);else{if(!de&&!bt&&!_t&&Rt.indexOf("<")===-1)return E&&Ge?E.createHTML(Rt):Rt;if(xt=hr(Rt),!xt)return de?null:Ge?M:""}xt&&Yt&&Le(xt.firstChild);const ve=In(Me?Rt:xt);for(;le=ve.nextNode();)mn(le),Rs(le),le.content instanceof s&&Tc(le.content);if(Me)return Rt;if(de){if(Ye)for(Oe=$.call(xt.ownerDocument);xt.firstChild;)Oe.appendChild(xt.firstChild);else Oe=xt;return(K.shadowroot||K.shadowrootmode)&&(Oe=z.call(r,Oe,!0)),Oe}let ae=_t?xt.outerHTML:xt.innerHTML;return _t&&q["!doctype"]&&xt.ownerDocument&&xt.ownerDocument.doctype&&xt.ownerDocument.doctype.name&&Jn(DO,xt.ownerDocument.doctype.name)&&(ae="<!DOCTYPE "+xt.ownerDocument.doctype.name+`>
`+ae),bt&&Yf([W,G,B],fr=>{ae=Su(ae,fr," ")}),E&&Ge?E.createHTML(ae):ae},e.setConfig=function(){let Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Tn(Rt),Pt=!0},e.clearConfig=function(){Ue=null,Pt=!1},e.isValidAttribute=function(Rt,rt,xt){Ue||Tn({});const Ct=ie(Rt),le=ie(rt);return Hr(Ct,le,xt)},e.addHook=function(Rt,rt){typeof rt=="function"&&wu(j[Rt],rt)},e.removeHook=function(Rt,rt){if(rt!==void 0){const xt=Xet(j[Rt],rt);return xt===-1?void 0:Zet(j[Rt],xt,1)[0]}return QE(j[Rt])},e.removeHooks=function(Rt){j[Rt]=[]},e.removeAllHooks=function(){j=iA()},e}var oc=NO(),LO=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,th=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,fnt=/\s*%%.*\n/gm,Ul,OO=(Ul=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},D(Ul,"UnknownDiagramError"),Ul),ko={},X1=D(function(t,e){t=t.replace(LO,"").replace(th,"").replace(fnt,`
`);for(const[n,{detector:r}]of Object.entries(ko))if(r(t,e))return n;throw new OO(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),Zb=D((...t)=>{for(const{id:e,detector:n,loader:r}of t)RO(e,n,r)},"registerLazyLoadedDiagrams"),RO=D((t,e,n)=>{ko[t]&&yt.warn(`Detector with key ${t} already exists. Overwriting.`),ko[t]={detector:e,loader:n},yt.debug(`Detector with key ${t} added${n?" with loader":""}`)},"addDetector"),pnt=D(t=>ko[t].loader,"getDiagramLoader"),Kb=D((t,e,{depth:n=2,clobber:r=!1}={})=>{const i={depth:n,clobber:r};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(s=>Kb(t,s,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(s=>{t.includes(s)||t.push(s)}),t):t===void 0||n<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(t[s]===void 0||typeof t[s]=="object")?(t[s]===void 0&&(t[s]=Array.isArray(e[s])?[]:{}),t[s]=Kb(t[s],e[s],{depth:n-1,clobber:r})):(r||typeof t[s]!="object"&&typeof e[s]!="object")&&(t[s]=e[s])}),t)},"assignWithDepth"),wn=Kb,um="#ffffff",hm="#f2f2f2",nr=D((t,e)=>e?ot(t,{s:-40,l:10}):ot(t,{s:-40,l:-10}),"mkBorder"),Wl,gnt=(Wl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||ot(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||ot(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||nr(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||nr(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||wt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||wt(this.tertiaryColor),this.lineColor=this.lineColor||wt(this.background),this.arrowheadColor=this.arrowheadColor||wt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?zt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||zt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||wt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||At(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||zt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||zt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||At(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||At(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330}),this.darkMode)for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=zt(this["cScale"+n],75);else for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=zt(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||wt(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this.darkMode?this["cScalePeer"+n]=this["cScalePeer"+n]||At(this["cScale"+n],10):this["cScalePeer"+n]=this["cScalePeer"+n]||zt(this["cScale"+n],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||ot(this.mainBkg,{h:180,s:-15,l:e*(5+n*3)}),this["surfacePeer"+n]=this["surfacePeer"+n]||ot(this.mainBkg,{h:180,s:-15,l:e*(8+n*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||ot(this.primaryColor,{h:64}),this.fillType3=this.fillType3||ot(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||ot(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||ot(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||ot(this.primaryColor,{h:128}),this.fillType7=this.fillType7||ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ot(this.primaryColor,{l:-10}),this.pie5=this.pie5||ot(this.secondaryColor,{l:-10}),this.pie6=this.pie6||ot(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||ot(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ot(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ot(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ot(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||ot(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||ot(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ed(this.quadrant1Fill)?At(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?zt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ot(this.primaryColor,{h:-30}),this.git4=this.git4||ot(this.primaryColor,{h:-60}),this.git5=this.git5||ot(this.primaryColor,{h:-90}),this.git6=this.git6||ot(this.primaryColor,{h:60}),this.git7=this.git7||ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)):(this.git0=zt(this.git0,25),this.git1=zt(this.git1,25),this.git2=zt(this.git2,25),this.git3=zt(this.git3,25),this.git4=zt(this.git4,25),this.git5=zt(this.git5,25),this.git6=zt(this.git6,25),this.git7=zt(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||um,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||hm}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(Wl,"Theme"),Wl),mnt=D(t=>{const e=new gnt;return e.calculate(t),e},"getThemeVariables"),Yl,ynt=(Yl=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=At(this.primaryColor,16),this.tertiaryColor=ot(this.primaryColor,{h:-160}),this.primaryBorderColor=wt(this.background),this.secondaryBorderColor=nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=At(wt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Ju(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=zt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=zt(this.sectionBkgColor,10),this.taskBorderColor=Ju(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ju(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||At(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||zt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=At(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=At(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=At(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||wt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||At(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ot(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ot(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ed(this.quadrant1Fill)?At(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?zt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=At(this.secondaryColor,20),this.git1=At(this.pie2||this.secondaryColor,20),this.git2=At(this.pie3||this.tertiaryColor,20),this.git3=At(this.pie4||ot(this.primaryColor,{h:-30}),20),this.git4=At(this.pie5||ot(this.primaryColor,{h:-60}),20),this.git5=At(this.pie6||ot(this.primaryColor,{h:-90}),10),this.git6=At(this.pie7||ot(this.primaryColor,{h:60}),10),this.git7=At(this.pie8||ot(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||At(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||At(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(Yl,"Theme"),Yl),xnt=D(t=>{const e=new ynt;return e.calculate(t),e},"getThemeVariables"),Gl,bnt=(Gl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=ot(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=ot(this.primaryColor,{h:-160}),this.primaryBorderColor=nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Ju(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||zt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||zt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=zt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||zt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ot(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ot(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ot(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||wt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||wt(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=At(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||At(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||At(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||ot(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||ot(this.primaryColor,{l:-10}),this.pie5=this.pie5||ot(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ot(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||ot(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||ot(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||ot(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||ot(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||ot(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||ot(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ed(this.quadrant1Fill)?At(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ot(this.primaryColor,{h:-30}),this.git4=this.git4||ot(this.primaryColor,{h:-60}),this.git5=this.git5||ot(this.primaryColor,{h:-90}),this.git6=this.git6||ot(this.primaryColor,{h:60}),this.git7=this.git7||ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)):(this.git0=zt(this.git0,25),this.git1=zt(this.git1,25),this.git2=zt(this.git2,25),this.git3=zt(this.git3,25),this.git4=zt(this.git4,25),this.git5=zt(this.git5,25),this.git6=zt(this.git6,25),this.git7=zt(this.git7,25)),this.gitInv0=this.gitInv0||zt(wt(this.git0),25),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||um,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||hm}calculate(e){if(Object.keys(this).forEach(r=>{this[r]==="calculated"&&(this[r]=void 0)}),typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(Gl,"Theme"),Gl),vnt=D(t=>{const e=new bnt;return e.calculate(t),e},"getThemeVariables"),Xl,wnt=(Xl=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=At("#cde498",10),this.primaryBorderColor=nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.primaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=zt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ot(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ot(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ot(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ot(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ot(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ot(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ot(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ot(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ot(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||zt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||zt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=zt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||zt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||ot(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ot(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ot(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||At(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||At(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ot(this.primaryColor,{l:-30}),this.pie5=this.pie5||ot(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ot(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||ot(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ot(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ot(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ot(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||ot(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||ot(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ed(this.quadrant1Fill)?At(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ot(this.primaryColor,{h:-30}),this.git4=this.git4||ot(this.primaryColor,{h:-60}),this.git5=this.git5||ot(this.primaryColor,{h:-90}),this.git6=this.git6||ot(this.primaryColor,{h:60}),this.git7=this.git7||ot(this.primaryColor,{h:120}),this.darkMode?(this.git0=At(this.git0,25),this.git1=At(this.git1,25),this.git2=At(this.git2,25),this.git3=At(this.git3,25),this.git4=At(this.git4,25),this.git5=At(this.git5,25),this.git6=At(this.git6,25),this.git7=At(this.git7,25)):(this.git0=zt(this.git0,25),this.git1=zt(this.git1,25),this.git2=zt(this.git2,25),this.git3=zt(this.git3,25),this.git4=zt(this.git4,25),this.git5=zt(this.git5,25),this.git6=zt(this.git6,25),this.git7=zt(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||um,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||hm}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(Xl,"Theme"),Xl),Snt=D(t=>{const e=new wnt;return e.calculate(t),e},"getThemeVariables"),Zl,Cnt=(Zl=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=At(this.contrast,55),this.background="#ffffff",this.tertiaryColor=ot(this.primaryColor,{h:-160}),this.primaryBorderColor=nr(this.primaryColor,this.darkMode),this.secondaryBorderColor=nr(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=nr(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||At(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=At(this.contrast,55),this.border2=this.contrast,this.actorBorder=At(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||wt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||At(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||zt(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||ot(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||ot(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=At(this.contrast,30),this.sectionBkgColor2=At(this.contrast,30),this.taskBorderColor=zt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=At(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=zt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ot(this.primaryColor,{h:64}),this.fillType3=ot(this.secondaryColor,{h:64}),this.fillType4=ot(this.primaryColor,{h:-64}),this.fillType5=ot(this.secondaryColor,{h:-64}),this.fillType6=ot(this.primaryColor,{h:128}),this.fillType7=ot(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ot(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ot(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ot(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ot(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ot(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ot(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ed(this.quadrant1Fill)?At(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=zt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||ot(this.primaryColor,{h:-30}),this.git4=this.pie5||ot(this.primaryColor,{h:-60}),this.git5=this.pie6||ot(this.primaryColor,{h:-90}),this.git6=this.pie7||ot(this.primaryColor,{h:60}),this.git7=this.pie8||ot(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||um,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||hm}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},D(Zl,"Theme"),Zl),_nt=D(t=>{const e=new Cnt;return e.calculate(t),e},"getThemeVariables"),ka={base:{getThemeVariables:mnt},dark:{getThemeVariables:xnt},default:{getThemeVariables:vnt},forest:{getThemeVariables:Snt},neutral:{getThemeVariables:_nt}},ji={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},BO={...ji,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:ka.default.getThemeVariables(),sequence:{...ji.sequence,messageFont:D(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:D(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:D(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...ji.gantt,tickInterval:void 0,useWidth:void 0},c4:{...ji.c4,useWidth:void 0,personFont:D(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...ji.flowchart,inheritDir:!1},external_personFont:D(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:D(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:D(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:D(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:D(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:D(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:D(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:D(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:D(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:D(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:D(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:D(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:D(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:D(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:D(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:D(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:D(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:D(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:D(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:D(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:D(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...ji.pie,useWidth:984},xyChart:{...ji.xyChart,useWidth:void 0},requirement:{...ji.requirement,useWidth:void 0},packet:{...ji.packet},radar:{...ji.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},jO=D((t,e="")=>Object.keys(t).reduce((n,r)=>Array.isArray(t[r])?n:typeof t[r]=="object"&&t[r]!==null?[...n,e+r,...jO(t[r],"")]:[...n,e+r],[]),"keyify"),knt=new Set(jO(BO,"")),$O=BO,ng=D(t=>{if(yt.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>ng(e));return}for(const e of Object.keys(t)){if(yt.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!knt.has(e)||t[e]==null){yt.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){yt.debug("sanitizing object",e),ng(t[e]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const r of n)e.includes(r)&&(yt.debug("sanitizing css option",e),t[e]=Tnt(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const n=t.themeVariables[e];n?.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}yt.debug("After sanitization",t)}},"sanitizeDirective"),Tnt=D(t=>{let e=0,n=0;for(const r of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),lc=Object.freeze($O),Cr=wn({},lc),rg,To=[],eh=wn({},lc),dm=D((t,e)=>{let n=wn({},t),r={};for(const i of e)FO(i),r=wn(r,i);if(n=wn(n,r),r.theme&&r.theme in ka){const i=wn({},rg),s=wn(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in ka&&(n.themeVariables=ka[n.theme].getThemeVariables(s))}return eh=n,IO(eh),eh},"updateCurrentConfig"),Ent=D(t=>(Cr=wn({},lc),Cr=wn(Cr,t),t.theme&&ka[t.theme]&&(Cr.themeVariables=ka[t.theme].getThemeVariables(t.themeVariables)),dm(Cr,To),Cr),"setSiteConfig"),Ant=D(t=>{rg=wn({},t)},"saveConfigFromInitialize"),Mnt=D(t=>(Cr=wn(Cr,t),dm(Cr,To),Cr),"updateSiteConfig"),zO=D(()=>wn({},Cr),"getSiteConfig"),PO=D(t=>(IO(t),wn(eh,t),Wn()),"setConfig"),Wn=D(()=>wn({},eh),"getConfig"),FO=D(t=>{t&&(["secure",...Cr.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(yt.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&FO(t[e])}))},"sanitize"),Dnt=D(t=>{ng(t),t.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),To.push(t),dm(Cr,To)},"addDirective"),ig=D((t=Cr)=>{To=[],dm(t,To)},"reset"),Nnt={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},aA={},Lnt=D(t=>{aA[t]||(yt.warn(Nnt[t]),aA[t]=!0)},"issueWarning"),IO=D(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&Lnt("LAZY_LOAD_DEPRECATED")},"checkConfig"),Tft=D(()=>{let t={};rg&&(t=wn(t,rg));for(const e of To)t=wn(t,e);return t},"getUserDefinedConfig"),nd=/<br\s*\/?>/gi,Ont=D(t=>t?qO(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),Rnt=(()=>{let t=!1;return()=>{t||(HO(),t=!0)}})();function HO(){const t="data-temp-href-target";oc.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),oc.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}D(HO,"setupDompurifyHooks");var VO=D(t=>(Rnt(),oc.sanitize(t)),"removeScript"),sA=D((t,e)=>{if(e.flowchart?.htmlLabels!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=VO(t):n!=="loose"&&(t=qO(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=znt(t))}return t},"sanitizeMore"),ri=D((t,e)=>t&&(e.dompurifyConfig?t=oc.sanitize(sA(t,e),e.dompurifyConfig).toString():t=oc.sanitize(sA(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),Bnt=D((t,e)=>typeof t=="string"?ri(t,e):t.flat().map(n=>ri(n,e)),"sanitizeTextOrArray"),jnt=D(t=>nd.test(t),"hasBreaks"),$nt=D(t=>t.split(nd),"splitBreaks"),znt=D(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),qO=D(t=>t.replace(nd,"#br#"),"breakToPlaceholder"),Pnt=D(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),Cn=D(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),Fnt=D(function(...t){const e=t.filter(n=>!isNaN(n));return Math.max(...e)},"getMax"),Int=D(function(...t){const e=t.filter(n=>!isNaN(n));return Math.min(...e)},"getMin"),oA=D(function(t){const e=t.split(/(,)/),n=[];for(let r=0;r<e.length;r++){let i=e[r];if(i===","&&r>0&&r+1<e.length){const s=e[r-1],o=e[r+1];Hnt(s,o)&&(i=s+","+o,r++,n.pop())}n.push(Vnt(i))}return n.join("")},"parseGenericTypes"),Qb=D((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),Hnt=D((t,e)=>{const n=Qb(t,"~"),r=Qb(e,"~");return n===1&&r===1},"shouldCombineSets"),Vnt=D(t=>{const e=Qb(t,"~");let n=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),n=!0);const r=[...t];let i=r.indexOf("~"),s=r.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)r[i]="<",r[s]=">",i=r.indexOf("~"),s=r.lastIndexOf("~");return n&&r.unshift("~"),r.join("")},"processSet"),lA=D(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Jb=/\$\$(.*)\$\$/g,cc=D(t=>(t.match(Jb)?.length??0)>0,"hasKatex"),Eft=D(async(t,e)=>{const n=document.createElement("div");n.innerHTML=await Z1(t,e),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",n);const i={width:n.clientWidth,height:n.clientHeight};return n.remove(),i},"calculateMathMLDimensions"),qnt=D(async(t,e)=>{if(!cc(t))return t;if(!(lA()||e.legacyMathML||e.forceLegacyMathML))return t.replace(Jb,"MathML is unsupported in this environment.");{const{default:n}=await ye(async()=>{const{default:i}=await import("./katex-DhXJpUyf.js");return{default:i}},[]),r=e.forceLegacyMathML||!lA()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(nd).map(i=>cc(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(Jb,(i,s)=>n.renderToString(s,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),Z1=D(async(t,e)=>ri(await qnt(t,e),e),"renderKatexSanitized"),vc={getRows:Ont,sanitizeText:ri,sanitizeTextOrArray:Bnt,hasBreaks:jnt,splitBreaks:$nt,lineBreakRegex:nd,removeScript:VO,getUrl:Pnt,evaluate:Cn,getMax:Fnt,getMin:Int},Unt=D(function(t,e){for(let n of e)t.attr(n[0],n[1])},"d3Attrs"),Wnt=D(function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},"calculateSvgSizeAttrs"),UO=D(function(t,e,n,r){const i=Wnt(e,n,r);Unt(t,i)},"configureSvgSize"),Ynt=D(function(t,e,n,r){const i=e.node().getBBox(),s=i.width,o=i.height;yt.info(`SVG bounds: ${s}x${o}`,i);let c=0,u=0;yt.info(`Graph bounds: ${c}x${u}`,t),c=s+n*2,u=o+n*2,yt.info(`Calculated bounds: ${c}x${u}`),UO(e,u,c,r);const h=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",h)},"setupGraphViewbox"),xp={},Gnt=D((t,e,n)=>{let r="";return t in xp&&xp[t]?r=xp[t](n):yt.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${r}

  ${e}
`},"getStyles"),Xnt=D((t,e)=>{e!==void 0&&(xp[t]=e)},"addStylesForDiagram"),Znt=Gnt,WO={};zet(WO,{clear:()=>Knt,getAccDescription:()=>ert,getAccTitle:()=>Jnt,getDiagramTitle:()=>rrt,setAccDescription:()=>trt,setAccTitle:()=>Qnt,setDiagramTitle:()=>nrt});var K1="",Q1="",J1="",t2=D(t=>ri(t,Wn()),"sanitizeText"),Knt=D(()=>{K1="",J1="",Q1=""},"clear"),Qnt=D(t=>{K1=t2(t).replace(/^\s+/g,"")},"setAccTitle"),Jnt=D(()=>K1,"getAccTitle"),trt=D(t=>{J1=t2(t).replace(/\n\s+/g,`
`)},"setAccDescription"),ert=D(()=>J1,"getAccDescription"),nrt=D(t=>{Q1=t2(t)},"setDiagramTitle"),rrt=D(()=>Q1,"getDiagramTitle"),cA=yt,irt=G1,ge=Wn,Aft=PO,Mft=lc,e2=D(t=>ri(t,ge()),"sanitizeText"),art=Ynt,srt=D(()=>WO,"getCommonDb"),ag={},sg=D((t,e,n)=>{ag[t]&&cA.warn(`Diagram with id ${t} already registered. Overwriting.`),ag[t]=e,n&&RO(t,n),Xnt(t,e.styles),e.injectUtils?.(cA,irt,ge,e2,art,srt(),()=>{})},"registerDiagram"),tv=D(t=>{if(t in ag)return ag[t];throw new ort(t)},"getDiagram"),Kl,ort=(Kl=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},D(Kl,"DiagramNotFoundError"),Kl);const ev=Math.PI,nv=2*ev,ro=1e-6,lrt=nv-ro;function YO(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function crt(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YO;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class urt{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YO:crt(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,u=r-e,h=i-n,f=o-e,p=c-n,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>ro)if(!(Math.abs(p*u-h*f)>ro)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-o,x=i-c,b=u*u+h*h,w=y*y+x*x,_=Math.sqrt(b),S=Math.sqrt(m),T=s*Math.tan((ev-Math.acos((b+m-w)/(2*_*S)))/2),E=T/S,M=T/_;Math.abs(E-1)>ro&&this._append`L${e+E*f},${n+E*p}`,this._append`A${s},${s},0,0,${+(p*y>f*x)},${this._x1=e+M*u},${this._y1=n+M*h}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),h=e+c,f=n+u,p=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>ro||Math.abs(this._y1-f)>ro)&&this._append`L${h},${f}`,r&&(m<0&&(m=m%nv+nv),m>lrt?this._append`A${r},${r},0,1,${p},${e-c},${n-u}A${r},${r},0,1,${p},${this._x1=h},${this._y1=f}`:m>ro&&this._append`A${r},${r},0,${+(m>=ev)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _l(t){return function(){return t}}const Dft=Math.abs,Nft=Math.atan2,Lft=Math.cos,Oft=Math.max,Rft=Math.min,Bft=Math.sin,jft=Math.sqrt,uA=1e-12,n2=Math.PI,hA=n2/2,$ft=2*n2;function zft(t){return t>1?0:t<-1?n2:Math.acos(t)}function Pft(t){return t>=1?hA:t<=-1?-hA:Math.asin(t)}function hrt(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new urt(e)}function drt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GO(t){this._context=t}GO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function og(t){return new GO(t)}function frt(t){return t[0]}function prt(t){return t[1]}function grt(t,e){var n=_l(!0),r=null,i=og,s=null,o=hrt(c);t=typeof t=="function"?t:t===void 0?frt:_l(t),e=typeof e=="function"?e:e===void 0?prt:_l(e);function c(u){var h,f=(u=drt(u)).length,p,m=!1,y;for(r==null&&(s=i(y=o())),h=0;h<=f;++h)!(h<f&&n(p=u[h],h,u))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(p,h,u),+e(p,h,u));if(y)return s=null,y+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:_l(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:_l(+u),c):e},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:_l(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),c):r},c}class XO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ZO(t){return new XO(t,!0)}function KO(t){return new XO(t,!1)}function _s(){}function lg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fm(t){this._context=t}fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bp(t){return new fm(t)}function QO(t){this._context=t}QO.prototype={areaStart:_s,areaEnd:_s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mrt(t){return new QO(t)}function JO(t){this._context=t}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yrt(t){return new JO(t)}function tR(t,e){this._basis=new fm(t),this._beta=e}tR.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,o=e[n]-i,c=-1,u;++c<=n;)u=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+u*s),this._beta*e[c]+(1-this._beta)*(i+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const xrt=(function t(e){function n(r){return e===1?new fm(r):new tR(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function cg(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function r2(t,e){this._context=t,this._k=(1-e)/6}r2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:cg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const eR=(function t(e){function n(r){return new r2(r,e)}return n.tension=function(r){return t(+r)},n})(0);function i2(t,e){this._context=t,this._k=(1-e)/6}i2.prototype={areaStart:_s,areaEnd:_s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:cg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const brt=(function t(e){function n(r){return new i2(r,e)}return n.tension=function(r){return t(+r)},n})(0);function a2(t,e){this._context=t,this._k=(1-e)/6}a2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const vrt=(function t(e){function n(r){return new a2(r,e)}return n.tension=function(r){return t(+r)},n})(0);function s2(t,e,n){var r=t._x1,i=t._y1,s=t._x2,o=t._y2;if(t._l01_a>uA){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>uA){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*h+t._x1*t._l23_2a-e*t._l12_2a)/f,o=(o*h+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(r,i,s,o,t._x2,t._y2)}function nR(t,e){this._context=t,this._alpha=e}nR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:s2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const rR=(function t(e){function n(r){return e?new nR(r,e):new r2(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function iR(t,e){this._context=t,this._alpha=e}iR.prototype={areaStart:_s,areaEnd:_s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:s2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const wrt=(function t(e){function n(r){return e?new iR(r,e):new i2(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function aR(t,e){this._context=t,this._alpha=e}aR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:s2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Srt=(function t(e){function n(r){return e?new aR(r,e):new a2(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function sR(t){this._context=t}sR.prototype={areaStart:_s,areaEnd:_s,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Crt(t){return new sR(t)}function dA(t){return t<0?-1:1}function fA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),c=(s*i+o*r)/(r+i);return(dA(s)+dA(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function pA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ux(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,o-c*n,s,o)}function ug(t){this._context=t}ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ux(this,this._t0,pA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ux(this,pA(this,n=fA(this,t,e)),n);break;default:Ux(this,this._t0,n=fA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oR(t){this._context=new lR(t)}(oR.prototype=Object.create(ug.prototype)).point=function(t,e){ug.prototype.point.call(this,e,t)};function lR(t){this._context=t}lR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function cR(t){return new ug(t)}function uR(t){return new oR(t)}function hR(t){this._context=t}hR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=gA(t),i=gA(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function gA(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function dR(t){return new hR(t)}function pm(t,e){this._context=t,this._t=e}pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fR(t){return new pm(t,.5)}function pR(t){return new pm(t,0)}function gR(t){return new pm(t,1)}var _rt=D(t=>{const{securityLevel:e}=ge();let n=Wt("body");if(e==="sandbox"){const s=Wt(`#i${t}`).node()?.contentDocument??document;n=Wt(s.body)}return n.select(`#${t}`)},"selectSvgElement");function o2(t){return typeof t>"u"||t===null}D(o2,"isNothing");function mR(t){return typeof t=="object"&&t!==null}D(mR,"isObject");function yR(t){return Array.isArray(t)?t:o2(t)?[]:[t]}D(yR,"toArray");function xR(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}D(xR,"extend");function bR(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}D(bR,"repeat");function vR(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}D(vR,"isNegativeZero");var krt=o2,Trt=mR,Ert=yR,Art=bR,Mrt=vR,Drt=xR,Sn={isNothing:krt,isObject:Trt,toArray:Ert,repeat:Art,isNegativeZero:Mrt,extend:Drt};function l2(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}D(l2,"formatError");function uc(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=l2(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}D(uc,"YAMLException$1");uc.prototype=Object.create(Error.prototype);uc.prototype.constructor=uc;uc.prototype.toString=D(function(e){return this.name+": "+l2(this,e)},"toString");var _r=uc;function vp(t,e,n,r,i){var s="",o="",c=Math.floor(i/2)-1;return r-e>c&&(s=" ... ",e=r-c+s.length),n-r>c&&(o=" ...",n=r+c-o.length),{str:s+t.slice(e,n).replace(/\t/g,"")+o,pos:r-e+s.length}}D(vp,"getLine");function wp(t,e){return Sn.repeat(" ",e-t.length)+t}D(wp,"padStart");function wR(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var c="",u,h,f=Math.min(t.line+e.linesAfter,i.length).toString().length,p=e.maxLength-(e.indent+f+3);for(u=1;u<=e.linesBefore&&!(o-u<0);u++)h=vp(t.buffer,r[o-u],i[o-u],t.position-(r[o]-r[o-u]),p),c=Sn.repeat(" ",e.indent)+wp((t.line-u+1).toString(),f)+" | "+h.str+`
`+c;for(h=vp(t.buffer,r[o],i[o],t.position,p),c+=Sn.repeat(" ",e.indent)+wp((t.line+1).toString(),f)+" | "+h.str+`
`,c+=Sn.repeat("-",e.indent+f+3+h.pos)+`^
`,u=1;u<=e.linesAfter&&!(o+u>=i.length);u++)h=vp(t.buffer,r[o+u],i[o+u],t.position-(r[o]-r[o+u]),p),c+=Sn.repeat(" ",e.indent)+wp((t.line+u+1).toString(),f)+" | "+h.str+`
`;return c.replace(/\n$/,"")}D(wR,"makeSnippet");var Nrt=wR,Lrt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ort=["scalar","sequence","mapping"];function SR(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}D(SR,"compileStyleAliases");function CR(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(Lrt.indexOf(n)===-1)throw new _r('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=SR(e.styleAliases||null),Ort.indexOf(this.kind)===-1)throw new _r('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}D(CR,"Type$1");var Yn=CR;function rv(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}D(rv,"compileList");function _R(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(D(r,"collectType"),e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}D(_R,"compileMap");function hg(t){return this.extend(t)}D(hg,"Schema$1");hg.prototype.extend=D(function(e){var n=[],r=[];if(e instanceof Yn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new _r("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Yn))throw new _r("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new _r("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new _r("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Yn))throw new _r("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(hg.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=rv(i,"implicit"),i.compiledExplicit=rv(i,"explicit"),i.compiledTypeMap=_R(i.compiledImplicit,i.compiledExplicit),i},"extend");var Rrt=hg,Brt=new Yn("tag:yaml.org,2002:str",{kind:"scalar",construct:D(function(t){return t!==null?t:""},"construct")}),jrt=new Yn("tag:yaml.org,2002:seq",{kind:"sequence",construct:D(function(t){return t!==null?t:[]},"construct")}),$rt=new Yn("tag:yaml.org,2002:map",{kind:"mapping",construct:D(function(t){return t!==null?t:{}},"construct")}),zrt=new Rrt({explicit:[Brt,jrt,$rt]});function kR(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}D(kR,"resolveYamlNull");function TR(){return null}D(TR,"constructYamlNull");function ER(t){return t===null}D(ER,"isNull");var Prt=new Yn("tag:yaml.org,2002:null",{kind:"scalar",resolve:kR,construct:TR,predicate:ER,represent:{canonical:D(function(){return"~"},"canonical"),lowercase:D(function(){return"null"},"lowercase"),uppercase:D(function(){return"NULL"},"uppercase"),camelcase:D(function(){return"Null"},"camelcase"),empty:D(function(){return""},"empty")},defaultStyle:"lowercase"});function AR(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}D(AR,"resolveYamlBoolean");function MR(t){return t==="true"||t==="True"||t==="TRUE"}D(MR,"constructYamlBoolean");function DR(t){return Object.prototype.toString.call(t)==="[object Boolean]"}D(DR,"isBoolean");var Frt=new Yn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:AR,construct:MR,predicate:DR,represent:{lowercase:D(function(t){return t?"true":"false"},"lowercase"),uppercase:D(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:D(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function NR(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}D(NR,"isHexCode");function LR(t){return 48<=t&&t<=55}D(LR,"isOctCode");function OR(t){return 48<=t&&t<=57}D(OR,"isDecCode");function RR(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!NR(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!LR(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!OR(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}D(RR,"resolveYamlInteger");function BR(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}D(BR,"constructYamlInteger");function jR(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Sn.isNegativeZero(t)}D(jR,"isInteger");var Irt=new Yn("tag:yaml.org,2002:int",{kind:"scalar",resolve:RR,construct:BR,predicate:jR,represent:{binary:D(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:D(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:D(function(t){return t.toString(10)},"decimal"),hexadecimal:D(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Hrt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function $R(t){return!(t===null||!Hrt.test(t)||t[t.length-1]==="_")}D($R,"resolveYamlFloat");function zR(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}D(zR,"constructYamlFloat");var Vrt=/^[-+]?[0-9]+e/;function PR(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Sn.isNegativeZero(t))return"-0.0";return n=t.toString(10),Vrt.test(n)?n.replace("e",".e"):n}D(PR,"representYamlFloat");function FR(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Sn.isNegativeZero(t))}D(FR,"isFloat");var qrt=new Yn("tag:yaml.org,2002:float",{kind:"scalar",resolve:$R,construct:zR,predicate:FR,represent:PR,defaultStyle:"lowercase"}),IR=zrt.extend({implicit:[Prt,Frt,Irt,qrt]}),Urt=IR,HR=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),VR=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function qR(t){return t===null?!1:HR.exec(t)!==null||VR.exec(t)!==null}D(qR,"resolveYamlTimestamp");function UR(t){var e,n,r,i,s,o,c,u=0,h=null,f,p,m;if(e=HR.exec(t),e===null&&(e=VR.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],c=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(f=+e[10],p=+(e[11]||0),h=(f*60+p)*6e4,e[9]==="-"&&(h=-h)),m=new Date(Date.UTC(n,r,i,s,o,c,u)),h&&m.setTime(m.getTime()-h),m}D(UR,"constructYamlTimestamp");function WR(t){return t.toISOString()}D(WR,"representYamlTimestamp");var Wrt=new Yn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:qR,construct:UR,instanceOf:Date,represent:WR});function YR(t){return t==="<<"||t===null}D(YR,"resolveYamlMerge");var Yrt=new Yn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:YR}),c2=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function GR(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=c2;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}D(GR,"resolveYamlBinary");function XR(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=c2,o=0,c=[];for(e=0;e<i;e++)e%4===0&&e&&(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(c.push(o>>16&255),c.push(o>>8&255),c.push(o&255)):n===18?(c.push(o>>10&255),c.push(o>>2&255)):n===12&&c.push(o>>4&255),new Uint8Array(c)}D(XR,"constructYamlBinary");function ZR(t){var e="",n=0,r,i,s=t.length,o=c2;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}D(ZR,"representYamlBinary");function KR(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}D(KR,"isBinary");var Grt=new Yn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:GR,construct:XR,predicate:KR,represent:ZR}),Xrt=Object.prototype.hasOwnProperty,Zrt=Object.prototype.toString;function QR(t){if(t===null)return!0;var e=[],n,r,i,s,o,c=t;for(n=0,r=c.length;n<r;n+=1){if(i=c[n],o=!1,Zrt.call(i)!=="[object Object]")return!1;for(s in i)if(Xrt.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}D(QR,"resolveYamlOmap");function JR(t){return t!==null?t:[]}D(JR,"constructYamlOmap");var Krt=new Yn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:QR,construct:JR}),Qrt=Object.prototype.toString;function tB(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],Qrt.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}D(tB,"resolveYamlPairs");function eB(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}D(eB,"constructYamlPairs");var Jrt=new Yn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:tB,construct:eB}),tit=Object.prototype.hasOwnProperty;function nB(t){if(t===null)return!0;var e,n=t;for(e in n)if(tit.call(n,e)&&n[e]!==null)return!1;return!0}D(nB,"resolveYamlSet");function rB(t){return t!==null?t:{}}D(rB,"constructYamlSet");var eit=new Yn("tag:yaml.org,2002:set",{kind:"mapping",resolve:nB,construct:rB}),iB=Urt.extend({implicit:[Wrt,Yrt],explicit:[Grt,Krt,Jrt,eit]}),ks=Object.prototype.hasOwnProperty,dg=1,aB=2,sB=3,fg=4,Wx=1,nit=2,mA=3,rit=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,iit=/[\x85\u2028\u2029]/,ait=/[,\[\]\{\}]/,oB=/^(?:!|!!|![a-z\-]+!)$/i,lB=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function iv(t){return Object.prototype.toString.call(t)}D(iv,"_class");function wi(t){return t===10||t===13}D(wi,"is_EOL");function xs(t){return t===9||t===32}D(xs,"is_WHITE_SPACE");function rr(t){return t===9||t===32||t===10||t===13}D(rr,"is_WS_OR_EOL");function ho(t){return t===44||t===91||t===93||t===123||t===125}D(ho,"is_FLOW_INDICATOR");function cB(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}D(cB,"fromHexCode");function uB(t){return t===120?2:t===117?4:t===85?8:0}D(uB,"escapedHexLen");function hB(t){return 48<=t&&t<=57?t-48:-1}D(hB,"fromDecimalCode");function av(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}D(av,"simpleEscapeSequence");function dB(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}D(dB,"charFromCodepoint");var fB=new Array(256),pB=new Array(256);for(to=0;to<256;to++)fB[to]=av(to)?1:0,pB[to]=av(to);var to;function gB(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||iB,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}D(gB,"State$1");function u2(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=Nrt(n),new _r(e,n)}D(u2,"generateError");function jt(t,e){throw u2(t,e)}D(jt,"throwError");function kh(t,e){t.onWarning&&t.onWarning.call(null,u2(t,e))}D(kh,"throwWarning");var yA={YAML:D(function(e,n,r){var i,s,o;e.version!==null&&jt(e,"duplication of %YAML directive"),r.length!==1&&jt(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&jt(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&jt(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&kh(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:D(function(e,n,r){var i,s;r.length!==2&&jt(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],oB.test(i)||jt(e,"ill-formed tag handle (first argument) of the TAG directive"),ks.call(e.tagMap,i)&&jt(e,'there is a previously declared suffix for "'+i+'" tag handle'),lB.test(s)||jt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{jt(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s},"handleTagDirective")};function Ta(t,e,n,r){var i,s,o,c;if(e<n){if(c=t.input.slice(e,n),r)for(i=0,s=c.length;i<s;i+=1)o=c.charCodeAt(i),o===9||32<=o&&o<=1114111||jt(t,"expected valid JSON character");else rit.test(c)&&jt(t,"the stream contains non-printable characters");t.result+=c}}D(Ta,"captureSegment");function sv(t,e,n,r){var i,s,o,c;for(Sn.isObject(n)||jt(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,c=i.length;o<c;o+=1)s=i[o],ks.call(e,s)||(e[s]=n[s],r[s]=!0)}D(sv,"mergeMappings");function fo(t,e,n,r,i,s,o,c,u){var h,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),h=0,f=i.length;h<f;h+=1)Array.isArray(i[h])&&jt(t,"nested arrays are not supported inside keys"),typeof i=="object"&&iv(i[h])==="[object Object]"&&(i[h]="[object Object]");if(typeof i=="object"&&iv(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(h=0,f=s.length;h<f;h+=1)sv(t,e,s[h],n);else sv(t,e,s,n);else!t.json&&!ks.call(n,i)&&ks.call(e,i)&&(t.line=o||t.line,t.lineStart=c||t.lineStart,t.position=u||t.position,jt(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}D(fo,"storeMappingPair");function gm(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):jt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}D(gm,"readLineBreak");function rn(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;xs(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(wi(i))for(gm(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&kh(t,"deficient indentation"),r}D(rn,"skipSeparationSpace");function rd(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||rr(n)))}D(rd,"testDocumentSeparator");function mm(t,e){e===1?t.result+=" ":e>1&&(t.result+=Sn.repeat(`
`,e-1))}D(mm,"writeFoldedLines");function mB(t,e,n){var r,i,s,o,c,u,h,f,p=t.kind,m=t.result,y;if(y=t.input.charCodeAt(t.position),rr(y)||ho(y)||y===35||y===38||y===42||y===33||y===124||y===62||y===39||y===34||y===37||y===64||y===96||(y===63||y===45)&&(i=t.input.charCodeAt(t.position+1),rr(i)||n&&ho(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,c=!1;y!==0;){if(y===58){if(i=t.input.charCodeAt(t.position+1),rr(i)||n&&ho(i))break}else if(y===35){if(r=t.input.charCodeAt(t.position-1),rr(r))break}else{if(t.position===t.lineStart&&rd(t)||n&&ho(y))break;if(wi(y))if(u=t.line,h=t.lineStart,f=t.lineIndent,rn(t,!1,-1),t.lineIndent>=e){c=!0,y=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=u,t.lineStart=h,t.lineIndent=f;break}}c&&(Ta(t,s,o,!1),mm(t,t.line-u),s=o=t.position,c=!1),xs(y)||(o=t.position+1),y=t.input.charCodeAt(++t.position)}return Ta(t,s,o,!1),t.result?!0:(t.kind=p,t.result=m,!1)}D(mB,"readPlainScalar");function yB(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Ta(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else wi(n)?(Ta(t,r,i,!0),mm(t,rn(t,!1,e)),r=i=t.position):t.position===t.lineStart&&rd(t)?jt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);jt(t,"unexpected end of the stream within a single quoted scalar")}D(yB,"readSingleQuotedScalar");function xB(t,e){var n,r,i,s,o,c;if(c=t.input.charCodeAt(t.position),c!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(c=t.input.charCodeAt(t.position))!==0;){if(c===34)return Ta(t,n,t.position,!0),t.position++,!0;if(c===92){if(Ta(t,n,t.position,!0),c=t.input.charCodeAt(++t.position),wi(c))rn(t,!1,e);else if(c<256&&fB[c])t.result+=pB[c],t.position++;else if((o=uB(c))>0){for(i=o,s=0;i>0;i--)c=t.input.charCodeAt(++t.position),(o=cB(c))>=0?s=(s<<4)+o:jt(t,"expected hexadecimal character");t.result+=dB(s),t.position++}else jt(t,"unknown escape sequence");n=r=t.position}else wi(c)?(Ta(t,n,r,!0),mm(t,rn(t,!1,e)),n=r=t.position):t.position===t.lineStart&&rd(t)?jt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}jt(t,"unexpected end of the stream within a double quoted scalar")}D(xB,"readDoubleQuotedScalar");function bB(t,e){var n=!0,r,i,s,o=t.tag,c,u=t.anchor,h,f,p,m,y,x=Object.create(null),b,w,_,S;if(S=t.input.charCodeAt(t.position),S===91)f=93,y=!1,c=[];else if(S===123)f=125,y=!0,c={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=c),S=t.input.charCodeAt(++t.position);S!==0;){if(rn(t,!0,e),S=t.input.charCodeAt(t.position),S===f)return t.position++,t.tag=o,t.anchor=u,t.kind=y?"mapping":"sequence",t.result=c,!0;n?S===44&&jt(t,"expected the node content, but found ','"):jt(t,"missed comma between flow collection entries"),w=b=_=null,p=m=!1,S===63&&(h=t.input.charCodeAt(t.position+1),rr(h)&&(p=m=!0,t.position++,rn(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,Eo(t,e,dg,!1,!0),w=t.tag,b=t.result,rn(t,!0,e),S=t.input.charCodeAt(t.position),(m||t.line===r)&&S===58&&(p=!0,S=t.input.charCodeAt(++t.position),rn(t,!0,e),Eo(t,e,dg,!1,!0),_=t.result),y?fo(t,c,x,w,b,_,r,i,s):p?c.push(fo(t,null,x,w,b,_,r,i,s)):c.push(b),rn(t,!0,e),S=t.input.charCodeAt(t.position),S===44?(n=!0,S=t.input.charCodeAt(++t.position)):n=!1}jt(t,"unexpected end of the stream within a flow collection")}D(bB,"readFlowCollection");function vB(t,e){var n,r,i=Wx,s=!1,o=!1,c=e,u=0,h=!1,f,p;if(p=t.input.charCodeAt(t.position),p===124)r=!1;else if(p===62)r=!0;else return!1;for(t.kind="scalar",t.result="";p!==0;)if(p=t.input.charCodeAt(++t.position),p===43||p===45)Wx===i?i=p===43?mA:nit:jt(t,"repeat of a chomping mode identifier");else if((f=hB(p))>=0)f===0?jt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?jt(t,"repeat of an indentation width identifier"):(c=e+f-1,o=!0);else break;if(xs(p)){do p=t.input.charCodeAt(++t.position);while(xs(p));if(p===35)do p=t.input.charCodeAt(++t.position);while(!wi(p)&&p!==0)}for(;p!==0;){for(gm(t),t.lineIndent=0,p=t.input.charCodeAt(t.position);(!o||t.lineIndent<c)&&p===32;)t.lineIndent++,p=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>c&&(c=t.lineIndent),wi(p)){u++;continue}if(t.lineIndent<c){i===mA?t.result+=Sn.repeat(`
`,s?1+u:u):i===Wx&&s&&(t.result+=`
`);break}for(r?xs(p)?(h=!0,t.result+=Sn.repeat(`
`,s?1+u:u)):h?(h=!1,t.result+=Sn.repeat(`
`,u+1)):u===0?s&&(t.result+=" "):t.result+=Sn.repeat(`
`,u):t.result+=Sn.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,n=t.position;!wi(p)&&p!==0;)p=t.input.charCodeAt(++t.position);Ta(t,n,t.position,!1)}return!0}D(vB,"readBlockScalar");function ov(t,e){var n,r=t.tag,i=t.anchor,s=[],o,c=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),u=t.input.charCodeAt(t.position);u!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,jt(t,"tab characters must not be used in indentation")),!(u!==45||(o=t.input.charCodeAt(t.position+1),!rr(o))));){if(c=!0,t.position++,rn(t,!0,-1)&&t.lineIndent<=e){s.push(null),u=t.input.charCodeAt(t.position);continue}if(n=t.line,Eo(t,e,sB,!1,!0),s.push(t.result),rn(t,!0,-1),u=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&u!==0)jt(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return c?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}D(ov,"readBlockSequence");function wB(t,e,n){var r,i,s,o,c,u,h=t.tag,f=t.anchor,p={},m=Object.create(null),y=null,x=null,b=null,w=!1,_=!1,S;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=p),S=t.input.charCodeAt(t.position);S!==0;){if(!w&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,jt(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(S===63||S===58)&&rr(r))S===63?(w&&(fo(t,p,m,y,x,null,o,c,u),y=x=b=null),_=!0,w=!0,i=!0):w?(w=!1,i=!0):jt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,S=r;else{if(o=t.line,c=t.lineStart,u=t.position,!Eo(t,n,aB,!1,!0))break;if(t.line===s){for(S=t.input.charCodeAt(t.position);xs(S);)S=t.input.charCodeAt(++t.position);if(S===58)S=t.input.charCodeAt(++t.position),rr(S)||jt(t,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(fo(t,p,m,y,x,null,o,c,u),y=x=b=null),_=!0,w=!1,i=!1,y=t.tag,x=t.result;else if(_)jt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=h,t.anchor=f,!0}else if(_)jt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=h,t.anchor=f,!0}if((t.line===s||t.lineIndent>e)&&(w&&(o=t.line,c=t.lineStart,u=t.position),Eo(t,e,fg,!0,i)&&(w?x=t.result:b=t.result),w||(fo(t,p,m,y,x,b,o,c,u),y=x=b=null),rn(t,!0,-1),S=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&S!==0)jt(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return w&&fo(t,p,m,y,x,null,o,c,u),_&&(t.tag=h,t.anchor=f,t.kind="mapping",t.result=p),_}D(wB,"readBlockMapping");function SB(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&jt(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):jt(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!rr(o);)o===33&&(r?jt(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),oB.test(i)||jt(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),ait.test(s)&&jt(t,"tag suffix cannot contain flow indicator characters")}s&&!lB.test(s)&&jt(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{jt(t,"tag name is malformed: "+s)}return n?t.tag=s:ks.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:jt(t,'undeclared tag handle "'+i+'"'),!0}D(SB,"readTagProperty");function CB(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&jt(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!rr(n)&&!ho(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&jt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}D(CB,"readAnchorProperty");function _B(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!rr(r)&&!ho(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&jt(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),ks.call(t.anchorMap,n)||jt(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],rn(t,!0,-1),!0}D(_B,"readAlias");function Eo(t,e,n,r,i){var s,o,c,u=1,h=!1,f=!1,p,m,y,x,b,w;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=c=fg===n||sB===n,r&&rn(t,!0,-1)&&(h=!0,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)),u===1)for(;SB(t)||CB(t);)rn(t,!0,-1)?(h=!0,c=s,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)):c=!1;if(c&&(c=h||i),(u===1||fg===n)&&(dg===n||aB===n?b=e:b=e+1,w=t.position-t.lineStart,u===1?c&&(ov(t,w)||wB(t,w,b))||bB(t,b)?f=!0:(o&&vB(t,b)||yB(t,b)||xB(t,b)?f=!0:_B(t)?(f=!0,(t.tag!==null||t.anchor!==null)&&jt(t,"alias node should not have any properties")):mB(t,b,dg===n)&&(f=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):u===0&&(f=c&&ov(t,w))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&jt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),p=0,m=t.implicitTypes.length;p<m;p+=1)if(x=t.implicitTypes[p],x.resolve(t.result)){t.result=x.construct(t.result),t.tag=x.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ks.call(t.typeMap[t.kind||"fallback"],t.tag))x=t.typeMap[t.kind||"fallback"][t.tag];else for(x=null,y=t.typeMap.multi[t.kind||"fallback"],p=0,m=y.length;p<m;p+=1)if(t.tag.slice(0,y[p].tag.length)===y[p].tag){x=y[p];break}x||jt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&x.kind!==t.kind&&jt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+x.kind+'", not "'+t.kind+'"'),x.resolve(t.result,t.tag)?(t.result=x.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):jt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||f}D(Eo,"composeNode");function kB(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(rn(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!rr(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&jt(t,"directive name must not be less than one character in length");o!==0;){for(;xs(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!wi(o));break}if(wi(o))break;for(n=t.position;o!==0&&!rr(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}o!==0&&gm(t),ks.call(yA,r)?yA[r](t,r,i):kh(t,'unknown document directive "'+r+'"')}if(rn(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,rn(t,!0,-1)):s&&jt(t,"directives end mark is expected"),Eo(t,t.lineIndent-1,fg,!1,!0),rn(t,!0,-1),t.checkLineBreaks&&iit.test(t.input.slice(e,t.position))&&kh(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&rd(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,rn(t,!0,-1));return}if(t.position<t.length-1)jt(t,"end of the stream or a document separator is expected");else return}D(kB,"readDocument");function h2(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new gB(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,jt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)kB(n);return n.documents}D(h2,"loadDocuments");function sit(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=h2(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}D(sit,"loadAll$1");function TB(t,e){var n=h2(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new _r("expected a single document in the stream, but found more")}}D(TB,"load$1");var oit=TB,lit={load:oit},EB=Object.prototype.toString,AB=Object.prototype.hasOwnProperty,d2=65279,cit=9,Th=10,uit=13,hit=32,dit=33,fit=34,lv=35,pit=37,git=38,mit=39,yit=42,MB=44,xit=45,pg=58,bit=61,vit=62,wit=63,Sit=64,DB=91,NB=93,Cit=96,LB=123,_it=124,OB=125,Xn={};Xn[0]="\\0";Xn[7]="\\a";Xn[8]="\\b";Xn[9]="\\t";Xn[10]="\\n";Xn[11]="\\v";Xn[12]="\\f";Xn[13]="\\r";Xn[27]="\\e";Xn[34]='\\"';Xn[92]="\\\\";Xn[133]="\\N";Xn[160]="\\_";Xn[8232]="\\L";Xn[8233]="\\P";var kit=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Tit=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function RB(t,e){var n,r,i,s,o,c,u;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)o=r[i],c=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=t.compiledTypeMap.fallback[o],u&&AB.call(u.styleAliases,c)&&(c=u.styleAliases[c]),n[o]=c;return n}D(RB,"compileStyleMap");function BB(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new _r("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Sn.repeat("0",r-e.length)+e}D(BB,"encodeHex");var Eit=1,Eh=2;function jB(t){this.schema=t.schema||iB,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Sn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=RB(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Eh:Eit,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}D(jB,"State");function cv(t,e){for(var n=Sn.repeat(" ",e),r=0,i=-1,s="",o,c=t.length;r<c;)i=t.indexOf(`
`,r),i===-1?(o=t.slice(r),r=c):(o=t.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}D(cv,"indentString");function gg(t,e){return`
`+Sn.repeat(" ",t.indent*e)}D(gg,"generateNextLine");function $B(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}D($B,"testImplicitResolving");function Ah(t){return t===hit||t===cit}D(Ah,"isWhitespace");function hc(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==d2||65536<=t&&t<=1114111}D(hc,"isPrintable");function uv(t){return hc(t)&&t!==d2&&t!==uit&&t!==Th}D(uv,"isNsCharOrWhitespace");function hv(t,e,n){var r=uv(t),i=r&&!Ah(t);return(n?r:r&&t!==MB&&t!==DB&&t!==NB&&t!==LB&&t!==OB)&&t!==lv&&!(e===pg&&!i)||uv(e)&&!Ah(e)&&t===lv||e===pg&&i}D(hv,"isPlainSafe");function zB(t){return hc(t)&&t!==d2&&!Ah(t)&&t!==xit&&t!==wit&&t!==pg&&t!==MB&&t!==DB&&t!==NB&&t!==LB&&t!==OB&&t!==lv&&t!==git&&t!==yit&&t!==dit&&t!==_it&&t!==bit&&t!==vit&&t!==mit&&t!==fit&&t!==pit&&t!==Sit&&t!==Cit}D(zB,"isPlainSafeFirst");function PB(t){return!Ah(t)&&t!==pg}D(PB,"isPlainSafeLast");function $l(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}D($l,"codePointAt");function f2(t){var e=/^\n* /;return e.test(t)}D(f2,"needIndentIndicator");var FB=1,dv=2,IB=3,HB=4,Al=5;function VB(t,e,n,r,i,s,o,c){var u,h=0,f=null,p=!1,m=!1,y=r!==-1,x=-1,b=zB($l(t,0))&&PB($l(t,t.length-1));if(e||o)for(u=0;u<t.length;h>=65536?u+=2:u++){if(h=$l(t,u),!hc(h))return Al;b=b&&hv(h,f,c),f=h}else{for(u=0;u<t.length;h>=65536?u+=2:u++){if(h=$l(t,u),h===Th)p=!0,y&&(m=m||u-x-1>r&&t[x+1]!==" ",x=u);else if(!hc(h))return Al;b=b&&hv(h,f,c),f=h}m=m||y&&u-x-1>r&&t[x+1]!==" "}return!p&&!m?b&&!o&&!i(t)?FB:s===Eh?Al:dv:n>9&&f2(t)?Al:o?s===Eh?Al:dv:m?HB:IB}D(VB,"chooseScalarStyle");function qB(t,e,n,r,i){t.dump=(function(){if(e.length===0)return t.quotingType===Eh?'""':"''";if(!t.noCompatMode&&(kit.indexOf(e)!==-1||Tit.test(e)))return t.quotingType===Eh?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),c=r||t.flowLevel>-1&&n>=t.flowLevel;function u(h){return $B(t,h)}switch(D(u,"testAmbiguity"),VB(e,c,t.indent,o,u,t.quotingType,t.forceQuotes&&!r,i)){case FB:return e;case dv:return"'"+e.replace(/'/g,"''")+"'";case IB:return"|"+fv(e,t.indent)+pv(cv(e,s));case HB:return">"+fv(e,t.indent)+pv(cv(UB(e,o),s));case Al:return'"'+WB(e)+'"';default:throw new _r("impossible error: invalid scalar style")}})()}D(qB,"writeScalar");function fv(t,e){var n=f2(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}D(fv,"blockHeader");function pv(t){return t[t.length-1]===`
`?t.slice(0,-1):t}D(pv,"dropEndingNewline");function UB(t,e){for(var n=/(\n+)([^\n]*)/g,r=(function(){var h=t.indexOf(`
`);return h=h!==-1?h:t.length,n.lastIndex=h,gv(t.slice(0,h),e)})(),i=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var c=o[1],u=o[2];s=u[0]===" ",r+=c+(!i&&!s&&u!==""?`
`:"")+gv(u,e),i=s}return r}D(UB,"foldString");function gv(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,o=0,c=0,u="";r=n.exec(t);)c=r.index,c-i>e&&(s=o>i?o:c,u+=`
`+t.slice(i,s),i=s+1),o=c;return u+=`
`,t.length-i>e&&o>i?u+=t.slice(i,o)+`
`+t.slice(o+1):u+=t.slice(i),u.slice(1)}D(gv,"foldLine");function WB(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=$l(t,i),r=Xn[n],!r&&hc(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||BB(n);return e}D(WB,"escapeString");function YB(t,e,n){var r="",i=t.tag,s,o,c;for(s=0,o=n.length;s<o;s+=1)c=n[s],t.replacer&&(c=t.replacer.call(n,String(s),c)),(Gi(t,e,c,!1,!1)||typeof c>"u"&&Gi(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}D(YB,"writeFlowSequence");function mv(t,e,n,r){var i="",s=t.tag,o,c,u;for(o=0,c=n.length;o<c;o+=1)u=n[o],t.replacer&&(u=t.replacer.call(n,String(o),u)),(Gi(t,e+1,u,!0,!0,!1,!0)||typeof u>"u"&&Gi(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=gg(t,e)),t.dump&&Th===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}D(mv,"writeBlockSequence");function GB(t,e,n){var r="",i=t.tag,s=Object.keys(n),o,c,u,h,f;for(o=0,c=s.length;o<c;o+=1)f="",r!==""&&(f+=", "),t.condenseFlow&&(f+='"'),u=s[o],h=n[u],t.replacer&&(h=t.replacer.call(n,u,h)),Gi(t,e,u,!1,!1)&&(t.dump.length>1024&&(f+="? "),f+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Gi(t,e,h,!1,!1)&&(f+=t.dump,r+=f));t.tag=i,t.dump="{"+r+"}"}D(GB,"writeFlowMapping");function XB(t,e,n,r){var i="",s=t.tag,o=Object.keys(n),c,u,h,f,p,m;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new _r("sortKeys must be a boolean or a function");for(c=0,u=o.length;c<u;c+=1)m="",(!r||i!=="")&&(m+=gg(t,e)),h=o[c],f=n[h],t.replacer&&(f=t.replacer.call(n,h,f)),Gi(t,e+1,h,!0,!0,!0)&&(p=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,p&&(t.dump&&Th===t.dump.charCodeAt(0)?m+="?":m+="? "),m+=t.dump,p&&(m+=gg(t,e)),Gi(t,e+1,f,!0,p)&&(t.dump&&Th===t.dump.charCodeAt(0)?m+=":":m+=": ",m+=t.dump,i+=m));t.tag=s,t.dump=i||"{}"}D(XB,"writeBlockMapping");function yv(t,e,n){var r,i,s,o,c,u;for(i=n?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(c=i[s],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof e=="object"&&e instanceof c.instanceOf)&&(!c.predicate||c.predicate(e))){if(n?c.multi&&c.representName?t.tag=c.representName(e):t.tag=c.tag:t.tag="?",c.represent){if(u=t.styleMap[c.tag]||c.defaultStyle,EB.call(c.represent)==="[object Function]")r=c.represent(e,u);else if(AB.call(c.represent,u))r=c.represent[u](e,u);else throw new _r("!<"+c.tag+'> tag resolver accepts not "'+u+'" style');t.dump=r}return!0}return!1}D(yv,"detectType");function Gi(t,e,n,r,i,s,o){t.tag=null,t.dump=n,yv(t,n,!1)||yv(t,n,!0);var c=EB.call(t.dump),u=r,h;r&&(r=t.flowLevel<0||t.flowLevel>e);var f=c==="[object Object]"||c==="[object Array]",p,m;if(f&&(p=t.duplicates.indexOf(n),m=p!==-1),(t.tag!==null&&t.tag!=="?"||m||t.indent!==2&&e>0)&&(i=!1),m&&t.usedDuplicates[p])t.dump="*ref_"+p;else{if(f&&m&&!t.usedDuplicates[p]&&(t.usedDuplicates[p]=!0),c==="[object Object]")r&&Object.keys(t.dump).length!==0?(XB(t,e,t.dump,i),m&&(t.dump="&ref_"+p+t.dump)):(GB(t,e,t.dump),m&&(t.dump="&ref_"+p+" "+t.dump));else if(c==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?mv(t,e-1,t.dump,i):mv(t,e,t.dump,i),m&&(t.dump="&ref_"+p+t.dump)):(YB(t,e,t.dump),m&&(t.dump="&ref_"+p+" "+t.dump));else if(c==="[object String]")t.tag!=="?"&&qB(t,t.dump,e,s,u);else{if(c==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new _r("unacceptable kind of an object to dump "+c)}t.tag!==null&&t.tag!=="?"&&(h=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",t.dump=h+" "+t.dump)}return!0}D(Gi,"writeNode");function ZB(t,e){var n=[],r=[],i,s;for(mg(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}D(ZB,"getDuplicateReferences");function mg(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)mg(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)mg(t[r[i]],e,n)}D(mg,"inspectNode");function Ait(t,e){e=e||{};var n=new jB(e);n.noRefs||ZB(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Gi(n,0,r,!0,!0)?n.dump+`
`:""}D(Ait,"dump$1");function Mit(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}D(Mit,"renamed");var Dit=IR,Nit=lit.load;var qn={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},xA={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function $u(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=Ie(t),e=Ie(e);const[n,r]=[t.x,t.y],[i,s]=[e.x,e.y],o=i-n,c=s-r;return{angle:Math.atan(c/o),deltaX:o,deltaY:c}}D($u,"calculateDeltaAndAngle");var Ie=D(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),Lit=D(t=>({x:D(function(e,n,r){let i=0;const s=Ie(r[0]).x<Ie(r[r.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(qn,t.arrowTypeStart)){const{angle:y,deltaX:x}=$u(r[0],r[1]);i=qn[t.arrowTypeStart]*Math.cos(y)*(x>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(qn,t.arrowTypeEnd)){const{angle:y,deltaX:x}=$u(r[r.length-1],r[r.length-2]);i=qn[t.arrowTypeEnd]*Math.cos(y)*(x>=0?1:-1)}const o=Math.abs(Ie(e).x-Ie(r[r.length-1]).x),c=Math.abs(Ie(e).y-Ie(r[r.length-1]).y),u=Math.abs(Ie(e).x-Ie(r[0]).x),h=Math.abs(Ie(e).y-Ie(r[0]).y),f=qn[t.arrowTypeStart],p=qn[t.arrowTypeEnd],m=1;if(o<p&&o>0&&c<p){let y=p+m-o;y*=s==="right"?-1:1,i-=y}if(u<f&&u>0&&h<f){let y=f+m-u;y*=s==="right"?-1:1,i+=y}return Ie(e).x+i},"x"),y:D(function(e,n,r){let i=0;const s=Ie(r[0]).y<Ie(r[r.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(qn,t.arrowTypeStart)){const{angle:y,deltaY:x}=$u(r[0],r[1]);i=qn[t.arrowTypeStart]*Math.abs(Math.sin(y))*(x>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(qn,t.arrowTypeEnd)){const{angle:y,deltaY:x}=$u(r[r.length-1],r[r.length-2]);i=qn[t.arrowTypeEnd]*Math.abs(Math.sin(y))*(x>=0?1:-1)}const o=Math.abs(Ie(e).y-Ie(r[r.length-1]).y),c=Math.abs(Ie(e).x-Ie(r[r.length-1]).x),u=Math.abs(Ie(e).y-Ie(r[0]).y),h=Math.abs(Ie(e).x-Ie(r[0]).x),f=qn[t.arrowTypeStart],p=qn[t.arrowTypeEnd],m=1;if(o<p&&o>0&&c<p){let y=p+m-o;y*=s==="up"?-1:1,i-=y}if(u<f&&u>0&&h<f){let y=f+m-u;y*=s==="up"?-1:1,i+=y}return Ie(e).y+i},"y")}),"getLineFunctionsWithOffset"),p2=D(({flowchart:t})=>{const e=t?.subGraphTitleMargin?.top??0,n=t?.subGraphTitleMargin?.bottom??0,r=e+n;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:r}},"getSubGraphTitleMargins"),Oit=D(t=>{const{handDrawnSeed:e}=ge();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),wc=D(t=>{const e=Rit([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),Rit=D(t=>{const e=new Map;return t.forEach(n=>{const[r,i]=n.split(":");e.set(r.trim(),i?.trim())}),e},"styles2Map"),KB=D(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),Nt=D(t=>{const{stylesArray:e}=wc(t),n=[],r=[],i=[],s=[];return e.forEach(o=>{const c=o[0];KB(c)?n.push(o.join(":")+" !important"):(r.push(o.join(":")+" !important"),c.includes("stroke")&&i.push(o.join(":")+" !important"),c==="fill"&&s.push(o.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:s}},"styles2String"),Dt=D((t,e)=>{const{themeVariables:n,handDrawnSeed:r}=ge(),{nodeBorder:i,mainBkg:s}=n,{stylesMap:o}=wc(t);return Object.assign({roughness:.7,fill:o.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||i,seed:r,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:Bit(o.get("stroke-dasharray"))},e)},"userNodeOverrides"),Bit=D(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const i=isNaN(e[0])?0:e[0];return[i,i]}const n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1];return[n,r]},"getStrokeDashArray"),Xf={},xn={},bA;function jit(){return bA||(bA=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.BLANK_URL=xn.relativeFirstCharacters=xn.whitespaceEscapeCharsRegex=xn.urlSchemeRegex=xn.ctrlCharactersRegex=xn.htmlCtrlEntityRegex=xn.htmlEntitiesRegex=xn.invalidProtocolRegex=void 0,xn.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,xn.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,xn.htmlCtrlEntityRegex=/&(newline|tab);/gi,xn.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,xn.urlSchemeRegex=/^.+(:|&colon;)/gim,xn.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,xn.relativeFirstCharacters=[".","/"],xn.BLANK_URL="about:blank"),xn}var vA;function $it(){if(vA)return Xf;vA=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.sanitizeUrl=s;var t=jit();function e(o){return t.relativeFirstCharacters.indexOf(o[0])>-1}function n(o){var c=o.replace(t.ctrlCharactersRegex,"");return c.replace(t.htmlEntitiesRegex,function(u,h){return String.fromCharCode(h)})}function r(o){return URL.canParse(o)}function i(o){try{return decodeURIComponent(o)}catch{return o}}function s(o){if(!o)return t.BLANK_URL;var c,u=i(o.trim());do u=n(u).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),u=i(u),c=u.match(t.ctrlCharactersRegex)||u.match(t.htmlEntitiesRegex)||u.match(t.htmlCtrlEntityRegex)||u.match(t.whitespaceEscapeCharsRegex);while(c&&c.length>0);var h=u;if(!h)return t.BLANK_URL;if(e(h))return h;var f=h.trimStart(),p=f.match(t.urlSchemeRegex);if(!p)return h;var m=p[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(m))return t.BLANK_URL;var y=f.replace(/\\/g,"/");if(m==="mailto:"||m.includes("://"))return y;if(m==="http:"||m==="https:"){if(!r(y))return t.BLANK_URL;var x=new URL(y);return x.protocol=x.protocol.toLowerCase(),x.hostname=x.hostname.toLowerCase(),x.toString()}return y}return Xf}var zit=$it(),QB=typeof global=="object"&&global&&global.Object===Object&&global,Pit=typeof self=="object"&&self&&self.Object===Object&&self,Zi=QB||Pit||Function("return this")(),yg=Zi.Symbol,JB=Object.prototype,Fit=JB.hasOwnProperty,Iit=JB.toString,Tu=yg?yg.toStringTag:void 0;function Hit(t){var e=Fit.call(t,Tu),n=t[Tu];try{t[Tu]=void 0;var r=!0}catch{}var i=Iit.call(t);return r&&(e?t[Tu]=n:delete t[Tu]),i}var Vit=Object.prototype,qit=Vit.toString;function Uit(t){return qit.call(t)}var Wit="[object Null]",Yit="[object Undefined]",wA=yg?yg.toStringTag:void 0;function Sc(t){return t==null?t===void 0?Yit:Wit:wA&&wA in Object(t)?Hit(t):Uit(t)}function Lo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Git="[object AsyncFunction]",Xit="[object Function]",Zit="[object GeneratorFunction]",Kit="[object Proxy]";function g2(t){if(!Lo(t))return!1;var e=Sc(t);return e==Xit||e==Zit||e==Git||e==Kit}var Yx=Zi["__core-js_shared__"],SA=(function(){var t=/[^.]+$/.exec(Yx&&Yx.keys&&Yx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function Qit(t){return!!SA&&SA in t}var Jit=Function.prototype,tat=Jit.toString;function Oo(t){if(t!=null){try{return tat.call(t)}catch{}try{return t+""}catch{}}return""}var eat=/[\\^$.*+?()[\]{}|]/g,nat=/^\[object .+?Constructor\]$/,rat=Function.prototype,iat=Object.prototype,aat=rat.toString,sat=iat.hasOwnProperty,oat=RegExp("^"+aat.call(sat).replace(eat,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lat(t){if(!Lo(t)||Qit(t))return!1;var e=g2(t)?oat:nat;return e.test(Oo(t))}function cat(t,e){return t?.[e]}function Ro(t,e){var n=cat(t,e);return lat(n)?n:void 0}var Mh=Ro(Object,"create");function uat(){this.__data__=Mh?Mh(null):{},this.size=0}function hat(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dat="__lodash_hash_undefined__",fat=Object.prototype,pat=fat.hasOwnProperty;function gat(t){var e=this.__data__;if(Mh){var n=e[t];return n===dat?void 0:n}return pat.call(e,t)?e[t]:void 0}var mat=Object.prototype,yat=mat.hasOwnProperty;function xat(t){var e=this.__data__;return Mh?e[t]!==void 0:yat.call(e,t)}var bat="__lodash_hash_undefined__";function vat(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mh&&e===void 0?bat:e,this}function Ao(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ao.prototype.clear=uat;Ao.prototype.delete=hat;Ao.prototype.get=gat;Ao.prototype.has=xat;Ao.prototype.set=vat;function wat(){this.__data__=[],this.size=0}function ym(t,e){return t===e||t!==t&&e!==e}function xm(t,e){for(var n=t.length;n--;)if(ym(t[n][0],e))return n;return-1}var Sat=Array.prototype,Cat=Sat.splice;function _at(t){var e=this.__data__,n=xm(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Cat.call(e,n,1),--this.size,!0}function kat(t){var e=this.__data__,n=xm(e,t);return n<0?void 0:e[n][1]}function Tat(t){return xm(this.__data__,t)>-1}function Eat(t,e){var n=this.__data__,r=xm(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Oa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oa.prototype.clear=wat;Oa.prototype.delete=_at;Oa.prototype.get=kat;Oa.prototype.has=Tat;Oa.prototype.set=Eat;var Dh=Ro(Zi,"Map");function Aat(){this.size=0,this.__data__={hash:new Ao,map:new(Dh||Oa),string:new Ao}}function Mat(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function bm(t,e){var n=t.__data__;return Mat(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Dat(t){var e=bm(this,t).delete(t);return this.size-=e?1:0,e}function Nat(t){return bm(this,t).get(t)}function Lat(t){return bm(this,t).has(t)}function Oat(t,e){var n=bm(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Ds(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ds.prototype.clear=Aat;Ds.prototype.delete=Dat;Ds.prototype.get=Nat;Ds.prototype.has=Lat;Ds.prototype.set=Oat;var Rat="Expected a function";function id(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Rat);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(id.Cache||Ds),n}id.Cache=Ds;function Bat(){this.__data__=new Oa,this.size=0}function jat(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function $at(t){return this.__data__.get(t)}function zat(t){return this.__data__.has(t)}var Pat=200;function Fat(t,e){var n=this.__data__;if(n instanceof Oa){var r=n.__data__;if(!Dh||r.length<Pat-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ds(r)}return n.set(t,e),this.size=n.size,this}function Cc(t){var e=this.__data__=new Oa(t);this.size=e.size}Cc.prototype.clear=Bat;Cc.prototype.delete=jat;Cc.prototype.get=$at;Cc.prototype.has=zat;Cc.prototype.set=Fat;var xg=(function(){try{var t=Ro(Object,"defineProperty");return t({},"",{}),t}catch{}})();function m2(t,e,n){e=="__proto__"&&xg?xg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function xv(t,e,n){(n!==void 0&&!ym(t[e],n)||n===void 0&&!(e in t))&&m2(t,e,n)}function Iat(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),c=o.length;c--;){var u=o[++i];if(n(s[u],u,s)===!1)break}return e}}var Hat=Iat(),t5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CA=t5&&typeof module=="object"&&module&&!module.nodeType&&module,Vat=CA&&CA.exports===t5,_A=Vat?Zi.Buffer:void 0,kA=_A?_A.allocUnsafe:void 0;function qat(t,e){if(e)return t.slice();var n=t.length,r=kA?kA(n):new t.constructor(n);return t.copy(r),r}var TA=Zi.Uint8Array;function Uat(t){var e=new t.constructor(t.byteLength);return new TA(e).set(new TA(t)),e}function Wat(t,e){var n=e?Uat(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Yat(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var EA=Object.create,Gat=(function(){function t(){}return function(e){if(!Lo(e))return{};if(EA)return EA(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function e5(t,e){return function(n){return t(e(n))}}var n5=e5(Object.getPrototypeOf,Object),Xat=Object.prototype;function vm(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Xat;return t===n}function Zat(t){return typeof t.constructor=="function"&&!vm(t)?Gat(n5(t)):{}}function ad(t){return t!=null&&typeof t=="object"}var Kat="[object Arguments]";function AA(t){return ad(t)&&Sc(t)==Kat}var r5=Object.prototype,Qat=r5.hasOwnProperty,Jat=r5.propertyIsEnumerable,bg=AA((function(){return arguments})())?AA:function(t){return ad(t)&&Qat.call(t,"callee")&&!Jat.call(t,"callee")},vg=Array.isArray,tst=9007199254740991;function i5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tst}function wm(t){return t!=null&&i5(t.length)&&!g2(t)}function est(t){return ad(t)&&wm(t)}function nst(){return!1}var a5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,MA=a5&&typeof module=="object"&&module&&!module.nodeType&&module,rst=MA&&MA.exports===a5,DA=rst?Zi.Buffer:void 0,ist=DA?DA.isBuffer:void 0,y2=ist||nst,ast="[object Object]",sst=Function.prototype,ost=Object.prototype,s5=sst.toString,lst=ost.hasOwnProperty,cst=s5.call(Object);function ust(t){if(!ad(t)||Sc(t)!=ast)return!1;var e=n5(t);if(e===null)return!0;var n=lst.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&s5.call(n)==cst}var hst="[object Arguments]",dst="[object Array]",fst="[object Boolean]",pst="[object Date]",gst="[object Error]",mst="[object Function]",yst="[object Map]",xst="[object Number]",bst="[object Object]",vst="[object RegExp]",wst="[object Set]",Sst="[object String]",Cst="[object WeakMap]",_st="[object ArrayBuffer]",kst="[object DataView]",Tst="[object Float32Array]",Est="[object Float64Array]",Ast="[object Int8Array]",Mst="[object Int16Array]",Dst="[object Int32Array]",Nst="[object Uint8Array]",Lst="[object Uint8ClampedArray]",Ost="[object Uint16Array]",Rst="[object Uint32Array]",je={};je[Tst]=je[Est]=je[Ast]=je[Mst]=je[Dst]=je[Nst]=je[Lst]=je[Ost]=je[Rst]=!0;je[hst]=je[dst]=je[_st]=je[fst]=je[kst]=je[pst]=je[gst]=je[mst]=je[yst]=je[xst]=je[bst]=je[vst]=je[wst]=je[Sst]=je[Cst]=!1;function Bst(t){return ad(t)&&i5(t.length)&&!!je[Sc(t)]}function jst(t){return function(e){return t(e)}}var o5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nh=o5&&typeof module=="object"&&module&&!module.nodeType&&module,$st=nh&&nh.exports===o5,Gx=$st&&QB.process,NA=(function(){try{var t=nh&&nh.require&&nh.require("util").types;return t||Gx&&Gx.binding&&Gx.binding("util")}catch{}})(),LA=NA&&NA.isTypedArray,x2=LA?jst(LA):Bst;function bv(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var zst=Object.prototype,Pst=zst.hasOwnProperty;function Fst(t,e,n){var r=t[e];(!(Pst.call(t,e)&&ym(r,n))||n===void 0&&!(e in t))&&m2(t,e,n)}function Ist(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var c=e[s],u=void 0;u===void 0&&(u=t[c]),i?m2(n,c,u):Fst(n,c,u)}return n}function Hst(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Vst=9007199254740991,qst=/^(?:0|[1-9]\d*)$/;function l5(t,e){var n=typeof t;return e=e??Vst,!!e&&(n=="number"||n!="symbol"&&qst.test(t))&&t>-1&&t%1==0&&t<e}var Ust=Object.prototype,Wst=Ust.hasOwnProperty;function Yst(t,e){var n=vg(t),r=!n&&bg(t),i=!n&&!r&&y2(t),s=!n&&!r&&!i&&x2(t),o=n||r||i||s,c=o?Hst(t.length,String):[],u=c.length;for(var h in t)(e||Wst.call(t,h))&&!(o&&(h=="length"||i&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||l5(h,u)))&&c.push(h);return c}function Gst(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Xst=Object.prototype,Zst=Xst.hasOwnProperty;function Kst(t){if(!Lo(t))return Gst(t);var e=vm(t),n=[];for(var r in t)r=="constructor"&&(e||!Zst.call(t,r))||n.push(r);return n}function c5(t){return wm(t)?Yst(t,!0):Kst(t)}function Qst(t){return Ist(t,c5(t))}function Jst(t,e,n,r,i,s,o){var c=bv(t,n),u=bv(e,n),h=o.get(u);if(h){xv(t,n,h);return}var f=s?s(c,u,n+"",t,e,o):void 0,p=f===void 0;if(p){var m=vg(u),y=!m&&y2(u),x=!m&&!y&&x2(u);f=u,m||y||x?vg(c)?f=c:est(c)?f=Yat(c):y?(p=!1,f=qat(u,!0)):x?(p=!1,f=Wat(u,!0)):f=[]:ust(u)||bg(u)?(f=c,bg(c)?f=Qst(c):(!Lo(c)||g2(c))&&(f=Zat(u))):p=!1}p&&(o.set(u,f),i(f,u,r,s,o),o.delete(u)),xv(t,n,f)}function u5(t,e,n,r,i){t!==e&&Hat(e,function(s,o){if(i||(i=new Cc),Lo(s))Jst(t,e,o,n,u5,r,i);else{var c=r?r(bv(t,o),s,o+"",t,e,i):void 0;c===void 0&&(c=s),xv(t,o,c)}},c5)}function h5(t){return t}function tot(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var OA=Math.max;function eot(t,e,n){return e=OA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=OA(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=n(o),tot(t,this,c)}}function not(t){return function(){return t}}var rot=xg?function(t,e){return xg(t,"toString",{configurable:!0,enumerable:!1,value:not(e),writable:!0})}:h5,iot=800,aot=16,sot=Date.now;function oot(t){var e=0,n=0;return function(){var r=sot(),i=aot-(r-n);if(n=r,i>0){if(++e>=iot)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var lot=oot(rot);function cot(t,e){return lot(eot(t,e,h5),t+"")}function uot(t,e,n){if(!Lo(n))return!1;var r=typeof e;return(r=="number"?wm(n)&&l5(e,n.length):r=="string"&&e in n)?ym(n[e],t):!1}function hot(t){return cot(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&uot(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,s)}return e})}var dot=hot(function(t,e,n){u5(t,e,n)}),fot="",pot={curveBasis:bp,curveBasisClosed:mrt,curveBasisOpen:yrt,curveBumpX:ZO,curveBumpY:KO,curveBundle:xrt,curveCardinalClosed:brt,curveCardinalOpen:vrt,curveCardinal:eR,curveCatmullRomClosed:wrt,curveCatmullRomOpen:Srt,curveCatmullRom:rR,curveLinear:og,curveLinearClosed:Crt,curveMonotoneX:cR,curveMonotoneY:uR,curveNatural:dR,curveStep:fR,curveStepAfter:gR,curveStepBefore:pR},got=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,mot=D(function(t,e){const n=d5(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const o=n.map(c=>c.args);ng(o),r=wn(r,[...o])}else r=n.args;if(!r)return;let i=X1(t,e);const s="config";return r[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),r[i]=r[s],delete r[s]),r},"detectInit"),d5=D(function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${got.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),yt.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let r;const i=[];for(;(r=th.exec(t))!==null;)if(r.index===th.lastIndex&&th.lastIndex++,r&&!e||e&&r[1]?.match(e)||e&&r[2]?.match(e)){const s=r[1]?r[1]:r[2],o=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:s,args:o})}return i.length===0?{type:t,args:null}:i.length===1?i[0]:i}catch(n){return yt.error(`ERROR: ${n.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),yot=D(function(t){return t.replace(th,"")},"removeDirectives"),xot=D(function(t,e){for(const[n,r]of e.entries())if(r.match(t))return n;return-1},"isSubstringInArray");function b2(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return pot[n]??e}D(b2,"interpolateToCurve");function f5(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?zit.sanitizeUrl(n):n}D(f5,"formatUrl");var bot=D((t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let s=window;for(let o=0;o<r;o++)if(s=s[n[o]],!s){yt.error(`Function name: ${t} not found in window`);return}s[i](...e)},"runFunc");function v2(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}D(v2,"distance");function p5(t){let e,n=0;t.forEach(i=>{n+=v2(i,e),e=i});const r=n/2;return w2(t,r)}D(p5,"traverseEdge");function g5(t){return t.length===1?t[0]:p5(t)}D(g5,"calcLabelPosition");var RA=D((t,e=2)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},"roundNumber"),w2=D((t,e)=>{let n,r=e;for(const i of t){if(n){const s=v2(i,n);if(s===0)return n;if(s<r)r-=s;else{const o=r/s;if(o<=0)return n;if(o>=1)return{x:i.x,y:i.y};if(o>0&&o<1)return{x:RA((1-o)*n.x+o*i.x,5),y:RA((1-o)*n.y+o*i.y,5)}}}n=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),vot=D((t,e,n)=>{yt.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());const i=w2(e,25),s=t?10:5,o=Math.atan2(e[0].y-i.y,e[0].x-i.x),c={x:0,y:0};return c.x=Math.sin(o)*s+(e[0].x+i.x)/2,c.y=-Math.cos(o)*s+(e[0].y+i.y)/2,c},"calcCardinalityPosition");function m5(t,e,n){const r=structuredClone(n);yt.info("our points",r),e!=="start_left"&&e!=="start_right"&&r.reverse();const i=25+t,s=w2(r,i),o=10+t*.5,c=Math.atan2(r[0].y-s.y,r[0].x-s.x),u={x:0,y:0};return e==="start_left"?(u.x=Math.sin(c+Math.PI)*o+(r[0].x+s.x)/2,u.y=-Math.cos(c+Math.PI)*o+(r[0].y+s.y)/2):e==="end_right"?(u.x=Math.sin(c-Math.PI)*o+(r[0].x+s.x)/2-5,u.y=-Math.cos(c-Math.PI)*o+(r[0].y+s.y)/2-5):e==="end_left"?(u.x=Math.sin(c)*o+(r[0].x+s.x)/2-5,u.y=-Math.cos(c)*o+(r[0].y+s.y)/2-5):(u.x=Math.sin(c)*o+(r[0].x+s.x)/2,u.y=-Math.cos(c)*o+(r[0].y+s.y)/2),u}D(m5,"calcTerminalLabelPosition");function y5(t){let e="",n="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":e=e+r+";");return{style:e,labelStyle:n}}D(y5,"getStylesFromArray");var BA=0,wot=D(()=>(BA++,"id-"+Math.random().toString(36).substr(2,12)+"-"+BA),"generateId");function x5(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}D(x5,"makeRandomHex");var Sot=D(t=>x5(t.length),"random"),Cot=D(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),_ot=D(function(t,e){const n=e.text.replace(vc.lineBreakRegex," "),[,r]=Sm(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",r),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(n),i},"drawSimpleText"),kot=id((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),vc.lineBreakRegex.test(t)))return t;const r=t.split(" ").filter(Boolean),i=[];let s="";return r.forEach((o,c)=>{const u=Da(`${o} `,n),h=Da(s,n);if(u>e){const{hyphenatedStrings:m,remainingWord:y}=Tot(o,e,"-",n);i.push(s,...m),s=y}else h+u>=e?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");c+1===r.length&&i.push(s)}),i.filter(o=>o!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),Tot=id((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=[...t],s=[];let o="";return i.forEach((c,u)=>{const h=`${o}${c}`;if(Da(h,r)>=e){const p=u+1,m=i.length===p,y=`${h}${n}`;s.push(m?h:y),o=""}else o=h}),{hyphenatedStrings:s,remainingWord:o}},(t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function b5(t,e){return S2(t,e).height}D(b5,"calculateTextHeight");function Da(t,e){return S2(t,e).width}D(Da,"calculateTextWidth");var S2=id((t,e)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,s]=Sm(n),o=["sans-serif",r],c=t.split(vc.lineBreakRegex),u=[],h=Wt("body");if(!h.remove)return{width:0,height:0,lineHeight:0};const f=h.append("svg");for(const m of o){let y=0;const x={width:0,height:0,lineHeight:0};for(const b of c){const w=Cot();w.text=b||fot;const _=_ot(f,w).style("font-size",s).style("font-weight",i).style("font-family",m),S=(_._groups||_)[0][0].getBBox();if(S.width===0&&S.height===0)throw new Error("svg element not in render tree");x.width=Math.round(Math.max(x.width,S.width)),y=Math.round(S.height),x.height+=y,x.lineHeight=Math.round(Math.max(x.lineHeight,y))}u.push(x)}f.remove();const p=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[p]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),Ql,Eot=(Ql=class{constructor(e=!1,n){this.count=0,this.count=n?n.length:0,this.next=e?()=>this.count++:()=>Date.now()}},D(Ql,"InitIDGenerator"),Ql),Zf,Aot=D(function(t){return Zf=Zf||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Zf.innerHTML=t,unescape(Zf.textContent)},"entityDecode");function C2(t){return"str"in t}D(C2,"isDetailedError");var Mot=D((t,e,n,r)=>{if(!r)return;const i=t.node()?.getBBox();i&&t.append("text").text(r).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-n).attr("class",e)},"insertTitle"),Sm=D(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function _2(t,e){return dot({},t,e)}D(_2,"cleanAndMerge");var xi={assignWithDepth:wn,wrapLabel:kot,calculateTextHeight:b5,calculateTextWidth:Da,calculateTextDimensions:S2,cleanAndMerge:_2,detectInit:mot,detectDirective:d5,isSubstringInArray:xot,interpolateToCurve:b2,calcLabelPosition:g5,calcCardinalityPosition:vot,calcTerminalLabelPosition:m5,formatUrl:f5,getStylesFromArray:y5,generateId:wot,random:Sot,runFunc:bot,entityDecode:Aot,insertTitle:Mot,isLabelCoordinateInPath:v5,parseFontSize:Sm,InitIDGenerator:Eot},Dot=D(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?""+r+"":""+r+""}),e},"encodeEntities"),Bo=D(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),Fft=D((t,e,{counter:n=0,prefix:r,suffix:i},s)=>s||`${r?`${r}_`:""}${t}_${e}_${n}${i?`_${i}`:""}`,"getEdgeId");function Gn(t){return t??null}D(Gn,"handleUndefinedAttr");function v5(t,e){const n=Math.round(t.x),r=Math.round(t.y),i=e.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(n.toString())||i.includes(r.toString())}D(v5,"isLabelCoordinateInPath");const Not=Object.freeze({left:0,top:0,width:16,height:16}),wg=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),w5=Object.freeze({...Not,...wg}),Lot=Object.freeze({...w5,body:"",hidden:!1}),Oot=Object.freeze({width:null,height:null}),Rot=Object.freeze({...Oot,...wg}),Bot=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const c=i.pop(),u=i.pop(),h={provider:i.length>0?i[0]:r,prefix:u,name:c};return Xx(h)?h:null}const s=i[0],o=s.split("-");if(o.length>1){const c={provider:r,prefix:o.shift(),name:o.join("-")};return Xx(c)?c:null}if(n&&r===""){const c={provider:r,prefix:"",name:s};return Xx(c,n)?c:null}return null},Xx=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function jot(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function jA(t,e){const n=jot(t,e);for(const r in Lot)r in wg?r in t&&!(r in n)&&(n[r]=wg[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function $ot(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const c=r[o]&&r[o].parent,u=c&&s(c);u&&(i[o]=[c].concat(u))}return i[o]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function $A(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function o(c){s=jA(r[c]||i[c],s)}return o(e),n.forEach(o),jA(t,s)}function zot(t,e){if(t.icons[e])return $A(t,e,[]);const n=$ot(t,[e])[e];return n?$A(t,e,n):null}const Pot=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Fot=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function zA(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(Pot);if(r===null||!r.length)return t;const i=[];let s=r.shift(),o=Fot.test(s);for(;;){if(o){const c=parseFloat(s);isNaN(c)?i.push(s):i.push(Math.ceil(c*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}function Iot(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const o=t.indexOf(">",s);if(o===-1)break;n+=t.slice(i+1,s).trim(),t=t.slice(0,r).trim()+t.slice(o+1)}return{defs:n,content:t}}function Hot(t,e){return t?"<defs>"+t+"</defs>"+e:e}function Vot(t,e,n){const r=Iot(t);return Hot(r.defs,e+r.content+n)}const qot=t=>t==="unset"||t==="undefined"||t==="none";function Uot(t,e){const n={...w5,...t},r={...Rot,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(b=>{const w=[],_=b.hFlip,S=b.vFlip;let T=b.rotate;_?S?T+=2:(w.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),w.push("scale(-1 1)"),i.top=i.left=0):S&&(w.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),w.push("scale(1 -1)"),i.top=i.left=0);let E;switch(T<0&&(T-=Math.floor(T/4)*4),T=T%4,T){case 1:E=i.height/2+i.top,w.unshift("rotate(90 "+E.toString()+" "+E.toString()+")");break;case 2:w.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:E=i.width/2+i.left,w.unshift("rotate(-90 "+E.toString()+" "+E.toString()+")");break}T%2===1&&(i.left!==i.top&&(E=i.left,i.left=i.top,i.top=E),i.width!==i.height&&(E=i.width,i.width=i.height,i.height=E)),w.length&&(s=Vot(s,'<g transform="'+w.join(" ")+'">',"</g>"))});const o=r.width,c=r.height,u=i.width,h=i.height;let f,p;o===null?(p=c===null?"1em":c==="auto"?h:c,f=zA(p,u/h)):(f=o==="auto"?u:o,p=c===null?zA(f,h/u):c==="auto"?h:c);const m={},y=(b,w)=>{qot(w)||(m[b]=w.toString())};y("width",f),y("height",p);const x=[i.left,i.top,u,h];return m.viewBox=x.join(" "),{attributes:m,viewBox:x,body:s}}const Wot=/\sid="(\S+)"/g,PA=new Map;function Yot(t){t=t.replace(/[0-9]+$/,"")||"a";const e=PA.get(t)||0;return PA.set(t,e+1),e?`${t}${e}`:t}function Got(t){const e=[];let n;for(;n=Wot.exec(t);)e.push(n[1]);if(!e.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(i=>{const s=Yot(i),o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}function Xot(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function k2(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var jo=k2();function S5(t){jo=t}var rh={exec:()=>null};function he(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(ir.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}var Zot=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),ir={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Kot=/^(?:[ \t]*(?:\n|$))+/,Qot=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Jot=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,sd=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,tlt=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,T2=/(?:[*+-]|\d{1,9}[.)])/,C5=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_5=he(C5).replace(/bull/g,T2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),elt=he(C5).replace(/bull/g,T2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),E2=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,nlt=/^[^\n]+/,A2=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,rlt=he(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",A2).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ilt=he(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,T2).getRegex(),Cm="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",M2=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,alt=he("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",M2).replace("tag",Cm).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),k5=he(E2).replace("hr",sd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cm).getRegex(),slt=he(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",k5).getRegex(),D2={blockquote:slt,code:Qot,def:rlt,fences:Jot,heading:tlt,hr:sd,html:alt,lheading:_5,list:ilt,newline:Kot,paragraph:k5,table:rh,text:nlt},FA=he("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",sd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cm).getRegex(),olt={...D2,lheading:elt,table:FA,paragraph:he(E2).replace("hr",sd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",FA).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cm).getRegex()},llt={...D2,html:he(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",M2).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:rh,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:he(E2).replace("hr",sd).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_5).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},clt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ult=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,T5=/^( {2,}|\\)\n(?!\s*$)/,hlt=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_m=/[\p{P}\p{S}]/u,N2=/[\s\p{P}\p{S}]/u,E5=/[^\s\p{P}\p{S}]/u,dlt=he(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,N2).getRegex(),A5=/(?!~)[\p{P}\p{S}]/u,flt=/(?!~)[\s\p{P}\p{S}]/u,plt=/(?:[^\s\p{P}\p{S}]|~)/u,glt=he(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Zot?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),M5=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,mlt=he(M5,"u").replace(/punct/g,_m).getRegex(),ylt=he(M5,"u").replace(/punct/g,A5).getRegex(),D5="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",xlt=he(D5,"gu").replace(/notPunctSpace/g,E5).replace(/punctSpace/g,N2).replace(/punct/g,_m).getRegex(),blt=he(D5,"gu").replace(/notPunctSpace/g,plt).replace(/punctSpace/g,flt).replace(/punct/g,A5).getRegex(),vlt=he("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,E5).replace(/punctSpace/g,N2).replace(/punct/g,_m).getRegex(),wlt=he(/\\(punct)/,"gu").replace(/punct/g,_m).getRegex(),Slt=he(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Clt=he(M2).replace("(?:-->|$)","-->").getRegex(),_lt=he("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Clt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Sg=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,klt=he(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Sg).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),N5=he(/^!?\[(label)\]\[(ref)\]/).replace("label",Sg).replace("ref",A2).getRegex(),L5=he(/^!?\[(ref)\](?:\[\])?/).replace("ref",A2).getRegex(),Tlt=he("reflink|nolink(?!\\()","g").replace("reflink",N5).replace("nolink",L5).getRegex(),IA=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,L2={_backpedal:rh,anyPunctuation:wlt,autolink:Slt,blockSkip:glt,br:T5,code:ult,del:rh,emStrongLDelim:mlt,emStrongRDelimAst:xlt,emStrongRDelimUnd:vlt,escape:clt,link:klt,nolink:L5,punctuation:dlt,reflink:N5,reflinkSearch:Tlt,tag:_lt,text:hlt,url:rh},Elt={...L2,link:he(/^!?\[(label)\]\((.*?)\)/).replace("label",Sg).getRegex(),reflink:he(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Sg).getRegex()},vv={...L2,emStrongRDelimAst:blt,emStrongLDelim:ylt,url:he(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",IA).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:he(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",IA).getRegex()},Alt={...vv,br:he(T5).replace("{2,}","*").getRegex(),text:he(vv.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Kf={normal:D2,gfm:olt,pedantic:llt},Eu={normal:L2,gfm:vv,breaks:Alt,pedantic:Elt},Mlt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},HA=t=>Mlt[t];function $i(t,e){if(e){if(ir.escapeTest.test(t))return t.replace(ir.escapeReplace,HA)}else if(ir.escapeTestNoEncode.test(t))return t.replace(ir.escapeReplaceNoEncode,HA);return t}function VA(t){try{t=encodeURI(t).replace(ir.percentDecode,"%")}catch{return null}return t}function qA(t,e){let n=t.replace(ir.findPipe,(s,o,c)=>{let u=!1,h=o;for(;--h>=0&&c[h]==="\\";)u=!u;return u?"|":" |"}),r=n.split(ir.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(ir.slashPipe,"|");return r}function Au(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function Dlt(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function UA(t,e,n,r,i){let s=e.href,o=e.title||null,c=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,u}function Nlt(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let o=s.match(n.other.beginningSpace);if(o===null)return s;let[c]=o;return c.length>=i.length?s.slice(i.length):s}).join(`
`)}var Cg=class{options;rules;lexer;constructor(e){this.options=e||jo}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Au(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=Nlt(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=Au(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Au(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=Au(n[0],`
`).split(`
`),i="",s="",o=[];for(;r.length>0;){let c=!1,u=[],h;for(h=0;h<r.length;h++)if(this.rules.other.blockquoteStart.test(r[h]))u.push(r[h]),c=!0;else if(!c)u.push(r[h]);else break;r=r.slice(h);let f=u.join(`
`),p=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${f}`:f,s=s?`${s}
${p}`:p;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,o,!0),this.lexer.state.top=m,r.length===0)break;let y=o.at(-1);if(y?.type==="code")break;if(y?.type==="blockquote"){let x=y,b=x.raw+`
`+r.join(`
`),w=this.blockquote(b);o[o.length-1]=w,i=i.substring(0,i.length-x.raw.length)+w.raw,s=s.substring(0,s.length-x.text.length)+w.text;break}else if(y?.type==="list"){let x=y,b=x.raw+`
`+r.join(`
`),w=this.list(b);o[o.length-1]=w,i=i.substring(0,i.length-y.raw.length)+w.raw,s=s.substring(0,s.length-x.raw.length)+w.raw,r=b.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let o=this.rules.other.listItemRegex(r),c=!1;for(;e;){let h=!1,f="",p="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;f=n[0],e=e.substring(f.length);let m=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),y=e.split(`
`,1)[0],x=!m.trim(),b=0;if(this.options.pedantic?(b=2,p=m.trimStart()):x?b=n[1].length+1:(b=n[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,p=m.slice(b),b+=n[1].length),x&&this.rules.other.blankLine.test(y)&&(f+=y+`
`,e=e.substring(y.length+1),h=!0),!h){let S=this.rules.other.nextBulletRegex(b),T=this.rules.other.hrRegex(b),E=this.rules.other.fencesBeginRegex(b),M=this.rules.other.headingBeginRegex(b),L=this.rules.other.htmlBeginRegex(b);for(;e;){let N=e.split(`
`,1)[0],$;if(y=N,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),$=y):$=y.replace(this.rules.other.tabCharGlobal,"    "),E.test(y)||M.test(y)||L.test(y)||S.test(y)||T.test(y))break;if($.search(this.rules.other.nonSpaceChar)>=b||!y.trim())p+=`
`+$.slice(b);else{if(x||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||E.test(m)||M.test(m)||T.test(m))break;p+=`
`+y}!x&&!y.trim()&&(x=!0),f+=N+`
`,e=e.substring(N.length+1),m=$.slice(b)}}s.loose||(c?s.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(c=!0));let w=null,_;this.options.gfm&&(w=this.rules.other.listIsTask.exec(p),w&&(_=w[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:f,task:!!w,checked:_,loose:!1,text:p,tokens:[]}),s.raw+=f}let u=s.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let h=0;h<s.items.length;h++)if(this.lexer.state.top=!1,s.items[h].tokens=this.lexer.blockTokens(s.items[h].text,[]),!s.loose){let f=s.items[h].tokens.filter(m=>m.type==="space"),p=f.length>0&&f.some(m=>this.rules.other.anyLine.test(m.raw));s.loose=p}if(s.loose)for(let h=0;h<s.items.length;h++)s.items[h].loose=!0;return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=qA(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let c of i)this.rules.other.tableAlignRight.test(c)?o.align.push("right"):this.rules.other.tableAlignCenter.test(c)?o.align.push("center"):this.rules.other.tableAlignLeft.test(c)?o.align.push("left"):o.align.push(null);for(let c=0;c<r.length;c++)o.header.push({text:r[c],tokens:this.lexer.inline(r[c]),header:!0,align:o.align[c]});for(let c of s)o.rows.push(qA(c,o.header.length).map((u,h)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[h]})));return o}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let o=Au(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{let o=Dlt(n[2],"()");if(o===-2)return;if(o>-1){let c=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),UA(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){let o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return UA(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,o,c,u=s,h=0,f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,n=n.slice(-1*e.length+s);(i=f.exec(n))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(c=[...o].length,i[3]||i[4]){u+=c;continue}else if((i[5]||i[6])&&s%3&&!((s+c)%3)){h+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+h);let p=[...i[0]][0].length,m=e.slice(0,s+i.index+p+c);if(Math.min(s,c)%2){let x=m.slice(1,-1);return{type:"em",raw:m,text:x,tokens:this.lexer.inlineTokens(x)}}let y=m.slice(2,-2);return{type:"strong",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=n[0],i="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);r=n[0],n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},gi=class wv{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||jo,this.options.tokenizer=this.options.tokenizer||new Cg,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:ir,block:Kf.normal,inline:Eu.normal};this.options.pedantic?(n.block=Kf.pedantic,n.inline=Eu.pedantic):this.options.gfm&&(n.block=Kf.gfm,this.options.breaks?n.inline=Eu.breaks:n.inline=Eu.gfm),this.tokenizer.rules=n}static get rules(){return{block:Kf,inline:Eu}}static lex(e,n){return new wv(n).lex(e)}static lexInline(e,n){return new wv(n).inlineTokens(e)}lex(e){e=e.replace(ir.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(ir.tabCharGlobal,"    ").replace(ir.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(o=>(i=o.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let o=n.at(-1);i.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},n.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let o=1/0,c=e.slice(1),u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},c),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i),r=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,i=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=i[2]?i[2].length:0,r=r.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let o=!1,c="";for(;e;){o||(c=""),o=!1;let u;if(this.options.extensions?.inline?.some(f=>(u=f.call({lexer:this},e,n))?(e=e.substring(u.raw.length),n.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);let f=n.at(-1);u.type==="text"&&f?.type==="text"?(f.raw+=u.raw,f.text+=u.text):n.push(u);continue}if(u=this.tokenizer.emStrong(e,r,c)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),n.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),n.push(u);continue}let h=e;if(this.options.extensions?.startInline){let f=1/0,p=e.slice(1),m;this.options.extensions.startInline.forEach(y=>{m=y.call({lexer:this},p),typeof m=="number"&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(h=e.substring(0,f+1))}if(u=this.tokenizer.inlineText(h)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(c=u.raw.slice(-1)),o=!0;let f=n.at(-1);f?.type==="text"?(f.raw+=u.raw,f.text+=u.text):n.push(u);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}},_g=class{options;parser;constructor(e){this.options=e||jo}space(e){return""}code({text:e,lang:n,escaped:r}){let i=(n||"").match(ir.notSpaceStart)?.[0],s=e.replace(ir.endingNewline,"")+`
`;return i?'<pre><code class="language-'+$i(i)+'">'+(r?s:$i(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:$i(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,r=e.start,i="";for(let c=0;c<e.items.length;c++){let u=e.items[c];i+=this.listitem(u)}let s=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+s+o+`>
`+i+"</"+s+`>
`}listitem(e){let n="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+$i(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){let o=e.rows[s];r="";for(let c=0;c<o.length;c++)r+=this.tablecell(o[c]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${$i(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){let i=this.parser.parseInline(r),s=VA(e);if(s===null)return i;e=s;let o='<a href="'+e+'"';return n&&(o+=' title="'+$i(n)+'"'),o+=">"+i+"</a>",o}image({href:e,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let s=VA(e);if(s===null)return $i(r);e=s;let o=`<img src="${e}" alt="${r}"`;return n&&(o+=` title="${$i(n)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:$i(e.text)}},O2=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},mi=class Sv{options;renderer;textRenderer;constructor(e){this.options=e||jo,this.options.renderer=this.options.renderer||new _g,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new O2}static parse(e,n){return new Sv(n).parse(e)}static parseInline(e,n){return new Sv(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let c=s,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=u||"";continue}}let o=s;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"def":{r+=this.renderer.def(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let c=o,u=this.renderer.text(c);for(;i+1<e.length&&e[i+1].type==="text";)c=e[++i],u+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){let r="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let c=this.options.extensions.renderers[s.type].call({parser:this},s);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=c||"";continue}}let o=s;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},zu=class{options;block;constructor(e){this.options=e||jo}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?gi.lex:gi.lexInline}provideParser(){return this.block?mi.parse:mi.parseInline}},Llt=class{defaults=k2();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=mi;Renderer=_g;TextRenderer=O2;Lexer=gi;Tokenizer=Cg;Hooks=zu;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(let i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{let s=i;for(let o of s.header)r=r.concat(this.walkTokens(o.tokens,n));for(let o of s.rows)for(let c of o)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{let s=i;r=r.concat(this.walkTokens(s.items,n));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{let c=s[o].flat(1/0);r=r.concat(this.walkTokens(c,n))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=n.renderers[s.name];o?n.renderers[s.name]=function(...c){let u=s.renderer.apply(this,c);return u===!1&&(u=o.apply(this,c)),u}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){let s=this.defaults.renderer||new _g(this.defaults);for(let o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let c=o,u=r.renderer[c],h=s[c];s[c]=(...f)=>{let p=u.apply(s,f);return p===!1&&(p=h.apply(s,f)),p||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new Cg(this.defaults);for(let o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let c=o,u=r.tokenizer[c],h=s[c];s[c]=(...f)=>{let p=u.apply(s,f);return p===!1&&(p=h.apply(s,f)),p}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new zu;for(let o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let c=o,u=r.hooks[c],h=s[c];zu.passThroughHooks.has(o)?s[c]=f=>{if(this.defaults.async&&zu.passThroughHooksRespectAsync.has(o))return(async()=>{let m=await u.call(s,f);return h.call(s,m)})();let p=u.call(s,f);return h.call(s,p)}:s[c]=(...f)=>{if(this.defaults.async)return(async()=>{let m=await u.apply(s,f);return m===!1&&(m=await h.apply(s,f)),m})();let p=u.apply(s,f);return p===!1&&(p=h.apply(s,f)),p}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(c){let u=[];return u.push(o.call(this,c)),s&&(u=u.concat(s.call(this,c))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return gi.lex(e,n??this.defaults)}parser(e,n){return mi.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let c=s.hooks?await s.hooks.preprocess(n):n,u=await(s.hooks?await s.hooks.provideLexer():e?gi.lex:gi.lexInline)(c,s),h=s.hooks?await s.hooks.processAllTokens(u):u;s.walkTokens&&await Promise.all(this.walkTokens(h,s.walkTokens));let f=await(s.hooks?await s.hooks.provideParser():e?mi.parse:mi.parseInline)(h,s);return s.hooks?await s.hooks.postprocess(f):f})().catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let c=(s.hooks?s.hooks.provideLexer():e?gi.lex:gi.lexInline)(n,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let u=(s.hooks?s.hooks.provideParser():e?mi.parse:mi.parseInline)(c,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(c){return o(c)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+$i(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},Mo=new Llt;function me(t,e){return Mo.parse(t,e)}me.options=me.setOptions=function(t){return Mo.setOptions(t),me.defaults=Mo.defaults,S5(me.defaults),me};me.getDefaults=k2;me.defaults=jo;me.use=function(...t){return Mo.use(...t),me.defaults=Mo.defaults,S5(me.defaults),me};me.walkTokens=function(t,e){return Mo.walkTokens(t,e)};me.parseInline=Mo.parseInline;me.Parser=mi;me.parser=mi.parse;me.Renderer=_g;me.TextRenderer=O2;me.Lexer=gi;me.lexer=gi.lex;me.Tokenizer=Cg;me.Hooks=zu;me.parse=me;me.options;me.setOptions;me.use;me.walkTokens;me.parseInline;mi.parse;gi.lex;function O5(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(c,u){var h=u.match(/\n([\t ]+|(?!\s).)/g);return h?c.concat(h.map(function(f){var p,m;return(m=(p=f.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0})):c},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(c){return c.replace(s,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var o=r[0];return e.forEach(function(c,u){var h=o.match(/(?:^|\n)( *)$/),f=h?h[1]:"",p=c;typeof c=="string"&&c.includes(`
`)&&(p=String(c).split(`
`).map(function(m,y){return y===0?m:""+f+m}).join(`
`)),o+=p+r[u+1]}),o}var Olt={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Cv=new Map,R5=new Map,Rlt=D(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(yt.debug("Registering icon pack:",e.name),"loader"in e)R5.set(e.name,e.loader);else if("icons"in e)Cv.set(e.name,e.icons);else throw yt.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),B5=D(async(t,e)=>{const n=Bot(t,!0,e!==void 0);if(!n)throw new Error(`Invalid icon name: ${t}`);const r=n.prefix||e;if(!r)throw new Error(`Icon name must contain a prefix: ${t}`);let i=Cv.get(r);if(!i){const o=R5.get(r);if(!o)throw new Error(`Icon set not found: ${n.prefix}`);try{i={...await o(),prefix:r},Cv.set(r,i)}catch(c){throw yt.error(c),new Error(`Failed to load icon set: ${n.prefix}`)}}const s=zot(i,n.name);if(!s)throw new Error(`Icon not found: ${t}`);return s},"getRegisteredIconData"),Blt=D(async t=>{try{return await B5(t),!0}catch{return!1}},"isIconAvailable"),od=D(async(t,e,n)=>{let r;try{r=await B5(t,e?.fallbackPrefix)}catch(o){yt.error(o),r=Olt}const i=Uot(r,e),s=Xot(Got(i.body),{...i.attributes,...n});return ri(s,Wn())},"getIconSVG");function j5(t,{markdownAutoWrap:e}){const r=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=O5(r);return e===!1?i.replace(/ /g,"&nbsp;"):i}D(j5,"preprocessMarkdown");function $5(t,e={}){const n=j5(t,e),r=me.lexer(n),i=[[]];let s=0;function o(c,u="normal"){c.type==="text"?c.text.split(`
`).forEach((f,p)=>{p!==0&&(s++,i.push([])),f.split(" ").forEach(m=>{m=m.replace(/&#39;/g,"'"),m&&i[s].push({content:m,type:u})})}):c.type==="strong"||c.type==="em"?c.tokens.forEach(h=>{o(h,c.type)}):c.type==="html"&&i[s].push({content:c.text,type:"normal"})}return D(o,"processNode"),r.forEach(c=>{c.type==="paragraph"?c.tokens?.forEach(u=>{o(u)}):c.type==="html"?i[s].push({content:c.text,type:"normal"}):i[s].push({content:c.raw,type:"normal"})}),i}D($5,"markdownToLines");function z5(t,{markdownAutoWrap:e}={}){const n=me.lexer(t);function r(i){return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${i.tokens?.map(r).join("")}</strong>`:i.type==="em"?`<em>${i.tokens?.map(r).join("")}</em>`:i.type==="paragraph"?`<p>${i.tokens?.map(r).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(yt.warn(`Unsupported markdown: ${i.type}`),i.raw)}return D(r,"output"),n.map(r).join("")}D(z5,"markdownToHTML");function P5(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}D(P5,"splitTextToChars");function F5(t,e){const n=P5(e.content);return R2(t,[],n,e.type)}D(F5,"splitWordToFitWidth");function R2(t,e,n,r){if(n.length===0)return[{content:e.join(""),type:r},{content:"",type:r}];const[i,...s]=n,o=[...e,i];return t([{content:o.join(""),type:r}])?R2(t,o,s,r):(e.length===0&&i&&(e.push(i),n.shift()),[{content:e.join(""),type:r},{content:n.join(""),type:r}])}D(R2,"splitWordToFitWidthRecursion");function I5(t,e){if(t.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return kg(t,e)}D(I5,"splitLineToFitWidth");function kg(t,e,n=[],r=[]){if(t.length===0)return r.length>0&&n.push(r),n.length>0?n:[];let i="";t[0].content===" "&&(i=" ",t.shift());const s=t.shift()??{content:" ",type:"normal"},o=[...r];if(i!==""&&o.push({content:i,type:"normal"}),o.push(s),e(o))return kg(t,e,n,o);if(r.length>0)n.push(r),t.unshift(s);else if(s.content){const[c,u]=F5(e,s);n.push([c]),u.content&&t.unshift(u)}return kg(t,e,n)}D(kg,"splitLineToFitWidthRecursion");function _v(t,e){e&&t.attr("style",e)}D(_v,"applyStyle");async function H5(t,e,n,r,i=!1,s=Wn()){const o=t.append("foreignObject");o.attr("width",`${10*n}px`),o.attr("height",`${10*n}px`);const c=o.append("xhtml:div"),u=cc(e.label)?await Z1(e.label.replace(vc.lineBreakRegex,`
`),s):ri(e.label,s),h=e.isNode?"nodeLabel":"edgeLabel",f=c.append("span");f.html(u),_v(f,e.labelStyle),f.attr("class",`${h} ${r}`),_v(c,e.labelStyle),c.style("display","table-cell"),c.style("white-space","nowrap"),c.style("line-height","1.5"),c.style("max-width",n+"px"),c.style("text-align","center"),c.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&c.attr("class","labelBkg");let p=c.node().getBoundingClientRect();return p.width===n&&(c.style("display","table"),c.style("white-space","break-spaces"),c.style("width",n+"px"),p=c.node().getBoundingClientRect()),o.node()}D(H5,"addHtmlSpan");function km(t,e,n){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*n-.1+"em").attr("dy",n+"em")}D(km,"createTspan");function V5(t,e,n){const r=t.append("text"),i=km(r,1,e);Tm(i,n);const s=i.node().getComputedTextLength();return r.remove(),s}D(V5,"computeWidthOfText");function jlt(t,e,n){const r=t.append("text"),i=km(r,1,e);Tm(i,[{content:n,type:"normal"}]);const s=i.node()?.getBoundingClientRect();return s&&r.remove(),s}D(jlt,"computeDimensionOfText");function q5(t,e,n,r=!1){const s=e.append("g"),o=s.insert("rect").attr("class","background").attr("style","stroke: none"),c=s.append("text").attr("y","-10.1");let u=0;for(const h of n){const f=D(m=>V5(s,1.1,m)<=t,"checkWidth"),p=f(h)?[h]:I5(h,f);for(const m of p){const y=km(c,u,1.1);Tm(y,m),u++}}if(r){const h=c.node().getBBox(),f=2;return o.attr("x",h.x-f).attr("y",h.y-f).attr("width",h.width+2*f).attr("height",h.height+2*f),s.node()}else return c.node()}D(q5,"createFormattedText");function Tm(t,e){t.text(""),e.forEach((n,r)=>{const i=t.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");r===0?i.text(n.content):i.text(" "+n.content)})}D(Tm,"updateTextContentAndStyles");async function U5(t,e={}){const n=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,o)=>(n.push((async()=>{const c=`${s}:${o}`;return await Blt(c)?await od(c,void 0,{class:"label-icon"}):`<i class='${ri(i,e).replace(":"," ")}'></i>`})()),i));const r=await Promise.all(n);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>r.shift()??"")}D(U5,"replaceIconSubstring");var Ns=D(async(t,e="",{style:n="",isTitle:r=!1,classes:i="",useHtmlLabels:s=!0,isNode:o=!0,width:c=200,addSvgBackground:u=!1}={},h)=>{if(yt.debug("XYZ createText",e,n,r,i,s,o,"addSvgBackground: ",u),s){const f=z5(e,h),p=await U5(Bo(f),h),m=e.replace(/\\\\/g,"\\"),y={isNode:o,label:cc(e)?m:p,labelStyle:n.replace("fill:","color:")};return await H5(t,y,c,i,u,h)}else{const f=e.replace(/<br\s*\/?>/g,"<br/>"),p=$5(f.replace("<br>","<br/>"),h),m=q5(c,t,p,e?u:!1);if(o){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const y=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Wt(m).attr("style",y)}else{const y=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Wt(m).select("rect").attr("style",y.replace(/background:/g,"fill:"));const x=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Wt(m).select("text").attr("style",x)}return m}},"createText");function Zx(t,e,n){if(t&&t.length){const[r,i]=e,s=Math.PI/180*n,o=Math.cos(s),c=Math.sin(s);for(const u of t){const[h,f]=u;u[0]=(h-r)*o-(f-i)*c+r,u[1]=(h-r)*c+(f-i)*o+i}}}function $lt(t,e){return t[0]===e[0]&&t[1]===e[1]}function zlt(t,e,n,r=1){const i=n,s=Math.max(e,.1),o=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,c=[0,0];if(i)for(const h of o)Zx(h,c,i);const u=(function(h,f,p){const m=[];for(const S of h){const T=[...S];$lt(T[0],T[T.length-1])||T.push([T[0][0],T[0][1]]),T.length>2&&m.push(T)}const y=[];f=Math.max(f,.1);const x=[];for(const S of m)for(let T=0;T<S.length-1;T++){const E=S[T],M=S[T+1];if(E[1]!==M[1]){const L=Math.min(E[1],M[1]);x.push({ymin:L,ymax:Math.max(E[1],M[1]),x:L===E[1]?E[0]:M[0],islope:(M[0]-E[0])/(M[1]-E[1])})}}if(x.sort(((S,T)=>S.ymin<T.ymin?-1:S.ymin>T.ymin?1:S.x<T.x?-1:S.x>T.x?1:S.ymax===T.ymax?0:(S.ymax-T.ymax)/Math.abs(S.ymax-T.ymax))),!x.length)return y;let b=[],w=x[0].ymin,_=0;for(;b.length||x.length;){if(x.length){let S=-1;for(let T=0;T<x.length&&!(x[T].ymin>w);T++)S=T;x.splice(0,S+1).forEach((T=>{b.push({s:w,edge:T})}))}if(b=b.filter((S=>!(S.edge.ymax<=w))),b.sort(((S,T)=>S.edge.x===T.edge.x?0:(S.edge.x-T.edge.x)/Math.abs(S.edge.x-T.edge.x))),(p!==1||_%f==0)&&b.length>1)for(let S=0;S<b.length;S+=2){const T=S+1;if(T>=b.length)break;const E=b[S].edge,M=b[T].edge;y.push([[Math.round(E.x),w],[Math.round(M.x),w]])}w+=p,b.forEach((S=>{S.edge.x=S.edge.x+p*S.edge.islope})),_++}return y})(o,s,r);if(i){for(const h of o)Zx(h,c,-i);(function(h,f,p){const m=[];h.forEach((y=>m.push(...y))),Zx(m,f,p)})(u,c,-i)}return u}function ld(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=i),zlt(t,i,r,s||1)}class B2{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=ld(e,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}}function Em(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class Plt extends B2{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=ld(e,Object.assign({},n,{hachureGap:r})),s=Math.PI/180*n.hachureAngle,o=[],c=.5*r*Math.cos(s),u=.5*r*Math.sin(s);for(const[h,f]of i)Em([h,f])&&o.push([[h[0]-c,h[1]+u],[...f]],[[h[0]+c,h[1]-u],[...f]]);return{type:"fillSketch",ops:this.renderLines(o,n)}}}class Flt extends B2{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,i);return r.ops=r.ops.concat(s.ops),r}}class Ilt{constructor(e){this.helper=e}fillPolygons(e,n){const r=ld(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const o=i/4;for(const c of e){const u=Em(c),h=u/i,f=Math.ceil(h)-1,p=u-f*i,m=(c[0][0]+c[1][0])/2-i/4,y=Math.min(c[0][1],c[1][1]);for(let x=0;x<f;x++){const b=y+p+x*i,w=m-o+2*Math.random()*o,_=b-o+2*Math.random()*o,S=this.helper.ellipse(w,_,s,s,n);r.push(...S.ops)}}return{type:"fillSketch",ops:r}}}class Hlt{constructor(e){this.helper=e}fillPolygons(e,n){const r=ld(e,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return e.forEach((o=>{const c=Em(o),u=Math.floor(c/(r+i)),h=(c+i-u*(r+i))/2;let f=o[0],p=o[1];f[0]>p[0]&&(f=o[1],p=o[0]);const m=Math.atan((p[1]-f[1])/(p[0]-f[0]));for(let y=0;y<u;y++){const x=y*(r+i),b=x+r,w=[f[0]+x*Math.cos(m)+h*Math.cos(m),f[1]+x*Math.sin(m)+h*Math.sin(m)],_=[f[0]+b*Math.cos(m)+h*Math.cos(m),f[1]+b*Math.sin(m)+h*Math.sin(m)];s.push(...this.helper.doubleLineOps(w[0],w[1],_[0],_[1],n))}})),s}}class Vlt{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,s=ld(e,n=Object.assign({},n,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach((s=>{const o=Em(s),c=Math.round(o/(2*n));let u=s[0],h=s[1];u[0]>h[0]&&(u=s[1],h=s[0]);const f=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let p=0;p<c;p++){const m=2*p*n,y=2*(p+1)*n,x=Math.sqrt(2*Math.pow(n,2)),b=[u[0]+m*Math.cos(f),u[1]+m*Math.sin(f)],w=[u[0]+y*Math.cos(f),u[1]+y*Math.sin(f)],_=[b[0]+x*Math.cos(f+Math.PI/4),b[1]+x*Math.sin(f+Math.PI/4)];i.push(...this.helper.doubleLineOps(b[0],b[1],_[0],_[1],r),...this.helper.doubleLineOps(_[0],_[1],w[0],w[1],r))}})),i}}const Sr={};class qlt{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Ult=0,Kx=1,WA=2,Qf={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Qx(t,e){return t.type===e}function j2(t){const e=[],n=(function(o){const c=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))c[c.length]={type:Ult,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];c[c.length]={type:Kx,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return c[c.length]={type:WA,text:""},c})(t);let r="BOD",i=0,s=n[i];for(;!Qx(s,WA);){let o=0;const c=[];if(r==="BOD"){if(s.text!=="M"&&s.text!=="m")return j2("M0,0"+t);i++,o=Qf[s.text],r=s.text}else Qx(s,Kx)?o=Qf[r]:(i++,o=Qf[s.text],r=s.text);if(!(i+o<n.length))throw new Error("Path data ended short");for(let u=i;u<i+o;u++){const h=n[u];if(!Qx(h,Kx))throw new Error("Param not a number: "+r+","+h.text);c[c.length]=+h.text}if(typeof Qf[r]!="number")throw new Error("Bad segment: "+r);{const u={key:r,data:c};e.push(u),i+=o,s=n[i],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function W5(t){let e=0,n=0,r=0,i=0;const s=[];for(const{key:o,data:c}of t)switch(o){case"M":s.push({key:"M",data:[...c]}),[e,n]=c,[r,i]=c;break;case"m":e+=c[0],n+=c[1],s.push({key:"M",data:[e,n]}),r=e,i=n;break;case"L":s.push({key:"L",data:[...c]}),[e,n]=c;break;case"l":e+=c[0],n+=c[1],s.push({key:"L",data:[e,n]});break;case"C":s.push({key:"C",data:[...c]}),e=c[4],n=c[5];break;case"c":{const u=c.map(((h,f)=>f%2?h+n:h+e));s.push({key:"C",data:u}),e=u[4],n=u[5];break}case"Q":s.push({key:"Q",data:[...c]}),e=c[2],n=c[3];break;case"q":{const u=c.map(((h,f)=>f%2?h+n:h+e));s.push({key:"Q",data:u}),e=u[2],n=u[3];break}case"A":s.push({key:"A",data:[...c]}),e=c[5],n=c[6];break;case"a":e+=c[5],n+=c[6],s.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],e,n]});break;case"H":s.push({key:"H",data:[...c]}),e=c[0];break;case"h":e+=c[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...c]}),n=c[0];break;case"v":n+=c[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...c]}),e=c[2],n=c[3];break;case"s":{const u=c.map(((h,f)=>f%2?h+n:h+e));s.push({key:"S",data:u}),e=u[2],n=u[3];break}case"T":s.push({key:"T",data:[...c]}),e=c[0],n=c[1];break;case"t":e+=c[0],n+=c[1],s.push({key:"T",data:[e,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=r,n=i}return s}function Y5(t){const e=[];let n="",r=0,i=0,s=0,o=0,c=0,u=0;for(const{key:h,data:f}of t){switch(h){case"M":e.push({key:"M",data:[...f]}),[r,i]=f,[s,o]=f;break;case"C":e.push({key:"C",data:[...f]}),r=f[4],i=f[5],c=f[2],u=f[3];break;case"L":e.push({key:"L",data:[...f]}),[r,i]=f;break;case"H":r=f[0],e.push({key:"L",data:[r,i]});break;case"V":i=f[0],e.push({key:"L",data:[r,i]});break;case"S":{let p=0,m=0;n==="C"||n==="S"?(p=r+(r-c),m=i+(i-u)):(p=r,m=i),e.push({key:"C",data:[p,m,...f]}),c=f[0],u=f[1],r=f[2],i=f[3];break}case"T":{const[p,m]=f;let y=0,x=0;n==="Q"||n==="T"?(y=r+(r-c),x=i+(i-u)):(y=r,x=i);const b=r+2*(y-r)/3,w=i+2*(x-i)/3,_=p+2*(y-p)/3,S=m+2*(x-m)/3;e.push({key:"C",data:[b,w,_,S,p,m]}),c=y,u=x,r=p,i=m;break}case"Q":{const[p,m,y,x]=f,b=r+2*(p-r)/3,w=i+2*(m-i)/3,_=y+2*(p-y)/3,S=x+2*(m-x)/3;e.push({key:"C",data:[b,w,_,S,y,x]}),c=p,u=m,r=y,i=x;break}case"A":{const p=Math.abs(f[0]),m=Math.abs(f[1]),y=f[2],x=f[3],b=f[4],w=f[5],_=f[6];p===0||m===0?(e.push({key:"C",data:[r,i,w,_,w,_]}),r=w,i=_):(r!==w||i!==_)&&(G5(r,i,w,_,p,m,y,x,b).forEach((function(S){e.push({key:"C",data:S})})),r=w,i=_);break}case"Z":e.push({key:"Z",data:[]}),r=s,i=o}n=h}return e}function Mu(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function G5(t,e,n,r,i,s,o,c,u,h){const f=(p=o,Math.PI*p/180);var p;let m=[],y=0,x=0,b=0,w=0;if(h)[y,x,b,w]=h;else{[t,e]=Mu(t,e,-f),[n,r]=Mu(n,r,-f);const G=(t-n)/2,B=(e-r)/2;let H=G*G/(i*i)+B*B/(s*s);H>1&&(H=Math.sqrt(H),i*=H,s*=H);const R=i*i,I=s*s,U=R*I-R*B*B-I*G*G,Z=R*B*B+I*G*G,nt=(c===u?-1:1)*Math.sqrt(Math.abs(U/Z));b=nt*i*B/s+(t+n)/2,w=nt*-s*G/i+(e+r)/2,y=Math.asin(parseFloat(((e-w)/s).toFixed(9))),x=Math.asin(parseFloat(((r-w)/s).toFixed(9))),t<b&&(y=Math.PI-y),n<b&&(x=Math.PI-x),y<0&&(y=2*Math.PI+y),x<0&&(x=2*Math.PI+x),u&&y>x&&(y-=2*Math.PI),!u&&x>y&&(x-=2*Math.PI)}let _=x-y;if(Math.abs(_)>120*Math.PI/180){const G=x,B=n,H=r;x=u&&x>y?y+120*Math.PI/180*1:y+120*Math.PI/180*-1,m=G5(n=b+i*Math.cos(x),r=w+s*Math.sin(x),B,H,i,s,o,0,u,[x,G,b,w])}_=x-y;const S=Math.cos(y),T=Math.sin(y),E=Math.cos(x),M=Math.sin(x),L=Math.tan(_/4),N=4/3*i*L,$=4/3*s*L,P=[t,e],z=[t+N*T,e-$*S],j=[n+N*M,r-$*E],W=[n,r];if(z[0]=2*P[0]-z[0],z[1]=2*P[1]-z[1],h)return[z,j,W].concat(m);{m=[z,j,W].concat(m);const G=[];for(let B=0;B<m.length;B+=3){const H=Mu(m[B][0],m[B][1],f),R=Mu(m[B+1][0],m[B+1][1],f),I=Mu(m[B+2][0],m[B+2][1],f);G.push([H[0],H[1],R[0],R[1],I[0],I[1]])}return G}}const Wlt={randOffset:function(t,e){return Vt(t,e)},randOffsetWithRange:function(t,e,n){return Tg(t,e,n)},ellipse:function(t,e,n,r,i){const s=Z5(n,r,i);return kv(t,e,i,s).opset},doubleLineOps:function(t,e,n,r,i){return Ts(t,e,n,r,i,!0)}};function X5(t,e,n,r,i){return{type:"path",ops:Ts(t,e,n,r,i)}}function Sp(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...Ts(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&i.push(...Ts(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:i}}return r===2?X5(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function Ylt(t,e,n,r,i){return(function(s,o){return Sp(s,!0,o)})([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function YA(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,r=Jf(n[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:Jf(n[0],1.5*(1+.22*e.roughness),ZA(e));for(let s=1;s<n.length;s++){const o=n[s];if(o.length){const c=Jf(o,1*(1+.2*e.roughness),e),u=e.disableMultiStroke?[]:Jf(o,1.5*(1+.22*e.roughness),ZA(e));for(const h of c)h.op!=="move"&&r.push(h);for(const h of u)h.op!=="move"&&i.push(h)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function Z5(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=2*Math.PI/i;let o=Math.abs(t/2),c=Math.abs(e/2);const u=1-n.curveFitting;return o+=Vt(o*u,n),c+=Vt(c*u,n),{increment:s,rx:o,ry:c}}function kv(t,e,n,r){const[i,s]=KA(r.increment,t,e,r.rx,r.ry,1,r.increment*Tg(.1,Tg(.4,1,n),n),n);let o=Eg(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[c]=KA(r.increment,t,e,r.rx,r.ry,1.5,0,n),u=Eg(c,null,n);o=o.concat(u)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function GA(t,e,n,r,i,s,o,c,u){const h=t,f=e;let p=Math.abs(n/2),m=Math.abs(r/2);p+=Vt(.01*p,u),m+=Vt(.01*m,u);let y=i,x=s;for(;y<0;)y+=2*Math.PI,x+=2*Math.PI;x-y>2*Math.PI&&(y=0,x=2*Math.PI);const b=2*Math.PI/u.curveStepCount,w=Math.min(b/2,(x-y)/2),_=QA(w,h,f,p,m,y,x,1,u);if(!u.disableMultiStroke){const S=QA(w,h,f,p,m,y,x,1.5,u);_.push(...S)}return o&&(c?_.push(...Ts(h,f,h+p*Math.cos(y),f+m*Math.sin(y),u),...Ts(h,f,h+p*Math.cos(x),f+m*Math.sin(x),u)):_.push({op:"lineTo",data:[h,f]},{op:"lineTo",data:[h+p*Math.cos(y),f+m*Math.sin(y)]})),{type:"path",ops:_}}function XA(t,e){const n=Y5(W5(j2(t))),r=[];let i=[0,0],s=[0,0];for(const{key:o,data:c}of n)switch(o){case"M":s=[c[0],c[1]],i=[c[0],c[1]];break;case"L":r.push(...Ts(s[0],s[1],c[0],c[1],e)),s=[c[0],c[1]];break;case"C":{const[u,h,f,p,m,y]=c;r.push(...Glt(u,h,f,p,m,y,s,e)),s=[m,y];break}case"Z":r.push(...Ts(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:r}}function Jx(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:"move",data:[r[0][0]+Vt(i,e),r[0][1]+Vt(i,e)]});for(let o=1;o<s;o++)n.push({op:"lineTo",data:[r[o][0]+Vt(i,e),r[o][1]+Vt(i,e)]})}}return{type:"fillPath",ops:n}}function kl(t,e){return(function(n,r){let i=n.fillStyle||"hachure";if(!Sr[i])switch(i){case"zigzag":Sr[i]||(Sr[i]=new Plt(r));break;case"cross-hatch":Sr[i]||(Sr[i]=new Flt(r));break;case"dots":Sr[i]||(Sr[i]=new Ilt(r));break;case"dashed":Sr[i]||(Sr[i]=new Hlt(r));break;case"zigzag-line":Sr[i]||(Sr[i]=new Vlt(r));break;default:i="hachure",Sr[i]||(Sr[i]=new B2(r))}return Sr[i]})(e,Wlt).fillPolygons(t,e)}function ZA(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function K5(t){return t.randomizer||(t.randomizer=new qlt(t.seed||0)),t.randomizer.next()}function Tg(t,e,n,r=1){return n.roughness*r*(K5(n)*(e-t)+t)}function Vt(t,e,n=1){return Tg(-t,t,e,n)}function Ts(t,e,n,r,i,s=!1){const o=s?i.disableMultiStrokeFill:i.disableMultiStroke,c=Tv(t,e,n,r,i,!0,!1);if(o)return c;const u=Tv(t,e,n,r,i,!0,!0);return c.concat(u)}function Tv(t,e,n,r,i,s,o){const c=Math.pow(t-n,2)+Math.pow(e-r,2),u=Math.sqrt(c);let h=1;h=u<200?1:u>500?.4:-.0016668*u+1.233334;let f=i.maxRandomnessOffset||0;f*f*100>c&&(f=u/10);const p=f/2,m=.2+.2*K5(i);let y=i.bowing*i.maxRandomnessOffset*(r-e)/200,x=i.bowing*i.maxRandomnessOffset*(t-n)/200;y=Vt(y,i,h),x=Vt(x,i,h);const b=[],w=()=>Vt(p,i,h),_=()=>Vt(f,i,h),S=i.preserveVertices;return o?b.push({op:"move",data:[t+(S?0:w()),e+(S?0:w())]}):b.push({op:"move",data:[t+(S?0:Vt(f,i,h)),e+(S?0:Vt(f,i,h))]}),o?b.push({op:"bcurveTo",data:[y+t+(n-t)*m+w(),x+e+(r-e)*m+w(),y+t+2*(n-t)*m+w(),x+e+2*(r-e)*m+w(),n+(S?0:w()),r+(S?0:w())]}):b.push({op:"bcurveTo",data:[y+t+(n-t)*m+_(),x+e+(r-e)*m+_(),y+t+2*(n-t)*m+_(),x+e+2*(r-e)*m+_(),n+(S?0:_()),r+(S?0:_())]}),b}function Jf(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+Vt(e,n),t[0][1]+Vt(e,n)]),r.push([t[0][0]+Vt(e,n),t[0][1]+Vt(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+Vt(e,n),t[i][1]+Vt(e,n)]),i===t.length-1&&r.push([t[i][0]+Vt(e,n),t[i][1]+Vt(e,n)]);return Eg(r,null,n)}function Eg(t,e,n){const r=t.length,i=[];if(r>3){const s=[],o=1-n.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let c=1;c+2<r;c++){const u=t[c];s[0]=[u[0],u[1]],s[1]=[u[0]+(o*t[c+1][0]-o*t[c-1][0])/6,u[1]+(o*t[c+1][1]-o*t[c-1][1])/6],s[2]=[t[c+1][0]+(o*t[c][0]-o*t[c+2][0])/6,t[c+1][1]+(o*t[c][1]-o*t[c+2][1])/6],s[3]=[t[c+1][0],t[c+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...Tv(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function KA(t,e,n,r,i,s,o,c){const u=[],h=[];if(c.roughness===0){t/=4,h.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let f=0;f<=2*Math.PI;f+=t){const p=[e+r*Math.cos(f),n+i*Math.sin(f)];u.push(p),h.push(p)}h.push([e+r*Math.cos(0),n+i*Math.sin(0)]),h.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const f=Vt(.5,c)-Math.PI/2;h.push([Vt(s,c)+e+.9*r*Math.cos(f-t),Vt(s,c)+n+.9*i*Math.sin(f-t)]);const p=2*Math.PI+f-.01;for(let m=f;m<p;m+=t){const y=[Vt(s,c)+e+r*Math.cos(m),Vt(s,c)+n+i*Math.sin(m)];u.push(y),h.push(y)}h.push([Vt(s,c)+e+r*Math.cos(f+2*Math.PI+.5*o),Vt(s,c)+n+i*Math.sin(f+2*Math.PI+.5*o)]),h.push([Vt(s,c)+e+.98*r*Math.cos(f+o),Vt(s,c)+n+.98*i*Math.sin(f+o)]),h.push([Vt(s,c)+e+.9*r*Math.cos(f+.5*o),Vt(s,c)+n+.9*i*Math.sin(f+.5*o)])}return[h,u]}function QA(t,e,n,r,i,s,o,c,u){const h=s+Vt(.1,u),f=[];f.push([Vt(c,u)+e+.9*r*Math.cos(h-t),Vt(c,u)+n+.9*i*Math.sin(h-t)]);for(let p=h;p<=o;p+=t)f.push([Vt(c,u)+e+r*Math.cos(p),Vt(c,u)+n+i*Math.sin(p)]);return f.push([e+r*Math.cos(o),n+i*Math.sin(o)]),f.push([e+r*Math.cos(o),n+i*Math.sin(o)]),Eg(f,null,u)}function Glt(t,e,n,r,i,s,o,c){const u=[],h=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3];let f=[0,0];const p=c.disableMultiStroke?1:2,m=c.preserveVertices;for(let y=0;y<p;y++)y===0?u.push({op:"move",data:[o[0],o[1]]}):u.push({op:"move",data:[o[0]+(m?0:Vt(h[0],c)),o[1]+(m?0:Vt(h[0],c))]}),f=m?[i,s]:[i+Vt(h[y],c),s+Vt(h[y],c)],u.push({op:"bcurveTo",data:[t+Vt(h[y],c),e+Vt(h[y],c),n+Vt(h[y],c),r+Vt(h[y],c),f[0],f[1]]});return u}function Du(t){return[...t]}function JA(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(Du(t[0]),Du(t[1]),Du(t[2]),Du(t[2]));else{const i=[];i.push(t[0],t[0]);for(let c=1;c<t.length;c++)i.push(t[c]),c===t.length-1&&i.push(t[c]);const s=[],o=1-e;r.push(Du(i[0]));for(let c=1;c+2<i.length;c++){const u=i[c];s[0]=[u[0],u[1]],s[1]=[u[0]+(o*i[c+1][0]-o*i[c-1][0])/6,u[1]+(o*i[c+1][1]-o*i[c-1][1])/6],s[2]=[i[c+1][0]+(o*i[c][0]-o*i[c+2][0])/6,i[c+1][1]+(o*i[c][1]-o*i[c+2][1])/6],s[3]=[i[c+1][0],i[c+1][1]],r.push(s[1],s[2],s[3])}}return r}function Cp(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Xlt(t,e,n){const r=Cp(e,n);if(r===0)return Cp(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),Cp(t,io(e,n,i))}function io(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function Ev(t,e,n,r){const i=r||[];if((function(c,u){const h=c[u+0],f=c[u+1],p=c[u+2],m=c[u+3];let y=3*f[0]-2*h[0]-m[0];y*=y;let x=3*f[1]-2*h[1]-m[1];x*=x;let b=3*p[0]-2*m[0]-h[0];b*=b;let w=3*p[1]-2*m[1]-h[1];return w*=w,y<b&&(y=b),x<w&&(x=w),y+x})(t,e)<n){const c=t[e+0];i.length?(s=i[i.length-1],o=c,Math.sqrt(Cp(s,o))>1&&i.push(c)):i.push(c),i.push(t[e+3])}else{const u=t[e+0],h=t[e+1],f=t[e+2],p=t[e+3],m=io(u,h,.5),y=io(h,f,.5),x=io(f,p,.5),b=io(m,y,.5),w=io(y,x,.5),_=io(b,w,.5);Ev([u,m,b,_],0,n,i),Ev([_,w,x,p],0,n,i)}var s,o;return i}function Zlt(t,e){return Ag(t,0,t.length,e)}function Ag(t,e,n,r,i){const s=i||[],o=t[e],c=t[n-1];let u=0,h=1;for(let f=e+1;f<n-1;++f){const p=Xlt(t[f],o,c);p>u&&(u=p,h=f)}return Math.sqrt(u)>r?(Ag(t,e,h+1,r,s),Ag(t,h,n,r,s)):(s.length||s.push(o),s.push(c)),s}function tb(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let s=0;s<i;s++)Ev(t,3*s,e,r);return n&&n>0?Ag(r,0,r.length,n):r}const zr="none";class Mg{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,s){const o=this._o(s);return this._d("line",[X5(e,n,r,i,o)],o)}rectangle(e,n,r,i,s){const o=this._o(s),c=[],u=Ylt(e,n,r,i,o);if(o.fill){const h=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];o.fillStyle==="solid"?c.push(Jx([h],o)):c.push(kl([h],o))}return o.stroke!==zr&&c.push(u),this._d("rectangle",c,o)}ellipse(e,n,r,i,s){const o=this._o(s),c=[],u=Z5(r,i,o),h=kv(e,n,o,u);if(o.fill)if(o.fillStyle==="solid"){const f=kv(e,n,o,u).opset;f.type="fillPath",c.push(f)}else c.push(kl([h.estimatedPoints],o));return o.stroke!==zr&&c.push(h.opset),this._d("ellipse",c,o)}circle(e,n,r,i){const s=this.ellipse(e,n,r,r,i);return s.shape="circle",s}linearPath(e,n){const r=this._o(n);return this._d("linearPath",[Sp(e,!1,r)],r)}arc(e,n,r,i,s,o,c=!1,u){const h=this._o(u),f=[],p=GA(e,n,r,i,s,o,c,!0,h);if(c&&h.fill)if(h.fillStyle==="solid"){const m=Object.assign({},h);m.disableMultiStroke=!0;const y=GA(e,n,r,i,s,o,!0,!1,m);y.type="fillPath",f.push(y)}else f.push((function(m,y,x,b,w,_,S){const T=m,E=y;let M=Math.abs(x/2),L=Math.abs(b/2);M+=Vt(.01*M,S),L+=Vt(.01*L,S);let N=w,$=_;for(;N<0;)N+=2*Math.PI,$+=2*Math.PI;$-N>2*Math.PI&&(N=0,$=2*Math.PI);const P=($-N)/S.curveStepCount,z=[];for(let j=N;j<=$;j+=P)z.push([T+M*Math.cos(j),E+L*Math.sin(j)]);return z.push([T+M*Math.cos($),E+L*Math.sin($)]),z.push([T,E]),kl([z],S)})(e,n,r,i,s,o,h));return h.stroke!==zr&&f.push(p),this._d("arc",f,h)}curve(e,n){const r=this._o(n),i=[],s=YA(e,r);if(r.fill&&r.fill!==zr)if(r.fillStyle==="solid"){const o=YA(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],c=e;if(c.length){const u=typeof c[0][0]=="number"?[c]:c;for(const h of u)h.length<3?o.push(...h):h.length===3?o.push(...tb(JA([h[0],h[0],h[1],h[2]]),10,(1+r.roughness)/2)):o.push(...tb(JA(h),10,(1+r.roughness)/2))}o.length&&i.push(kl([o],r))}return r.stroke!==zr&&i.push(s),this._d("curve",i,r)}polygon(e,n){const r=this._o(n),i=[],s=Sp(e,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(Jx([e],r)):i.push(kl([e],r))),r.stroke!==zr&&i.push(s),this._d("polygon",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d("path",i,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=r.fill&&r.fill!=="transparent"&&r.fill!==zr,o=r.stroke!==zr,c=!!(r.simplification&&r.simplification<1),u=(function(f,p,m){const y=Y5(W5(j2(f))),x=[];let b=[],w=[0,0],_=[];const S=()=>{_.length>=4&&b.push(...tb(_,p)),_=[]},T=()=>{S(),b.length&&(x.push(b),b=[])};for(const{key:M,data:L}of y)switch(M){case"M":T(),w=[L[0],L[1]],b.push(w);break;case"L":S(),b.push([L[0],L[1]]);break;case"C":if(!_.length){const N=b.length?b[b.length-1]:w;_.push([N[0],N[1]])}_.push([L[0],L[1]]),_.push([L[2],L[3]]),_.push([L[4],L[5]]);break;case"Z":S(),b.push([w[0],w[1]])}if(T(),!m)return x;const E=[];for(const M of x){const L=Zlt(M,m);L.length&&E.push(L)}return E})(e,1,c?4-4*(r.simplification||1):(1+r.roughness)/2),h=XA(e,r);if(s)if(r.fillStyle==="solid")if(u.length===1){const f=XA(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(f.ops)})}else i.push(Jx(u,r));else i.push(kl(u,r));return o&&(c?u.forEach((f=>{i.push(Sp(f,!1,r))})):i.push(h)),this._d("path",i,r)}opsToPath(e,n){let r="";for(const i of e.ops){const s=typeof n=="number"&&n>=0?i.data.map((o=>+o.toFixed(n))):i.data;switch(i.op){case"move":r+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":r+=`L${s[0]} ${s[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const s of n){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:zr};break;case"fillPath":o={d:this.opsToPath(s),stroke:zr,strokeWidth:0,fill:r.fill||zr};break;case"fillSketch":o=this.fillSketch(s,r)}o&&i.push(o)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||zr,strokeWidth:r,fill:zr}}_mergedShape(e){return e.filter(((n,r)=>r===0||n.op!=="move"))}}class Klt{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Mg(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const o of n)switch(o.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,o,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const c=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,o,s,c),i.restore();break}case"fillSketch":this.fillSketch(i,o,r)}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i="nonzero"){e.beginPath();for(const s of n.ops){const o=typeof r=="number"&&r>=0?s.data.map((c=>+c.toFixed(r))):s.data;switch(s.op){case"move":e.moveTo(o[0],o[1]);break;case"bcurveTo":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":e.lineTo(o[0],o[1])}}n.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,s){const o=this.gen.line(e,n,r,i,s);return this.draw(o),o}rectangle(e,n,r,i,s){const o=this.gen.rectangle(e,n,r,i,s);return this.draw(o),o}ellipse(e,n,r,i,s){const o=this.gen.ellipse(e,n,r,i,s);return this.draw(o),o}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,s,o,c=!1,u){const h=this.gen.arc(e,n,r,i,s,o,c,u);return this.draw(h),h}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}}const tp="http://www.w3.org/2000/svg";class Qlt{constructor(e,n){this.svg=e,this.gen=new Mg(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(tp,"g"),o=e.options.fixedDecimalPlaceDigits;for(const c of n){let u=null;switch(c.type){case"path":u=i.createElementNS(tp,"path"),u.setAttribute("d",this.opsToPath(c,o)),u.setAttribute("stroke",r.stroke),u.setAttribute("stroke-width",r.strokeWidth+""),u.setAttribute("fill","none"),r.strokeLineDash&&u.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":u=i.createElementNS(tp,"path"),u.setAttribute("d",this.opsToPath(c,o)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(i,c,r)}u&&s.appendChild(u)}return s}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=e.createElementNS(tp,"path");return s.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,s){const o=this.gen.line(e,n,r,i,s);return this.draw(o)}rectangle(e,n,r,i,s){const o=this.gen.rectangle(e,n,r,i,s);return this.draw(o)}ellipse(e,n,r,i,s){const o=this.gen.ellipse(e,n,r,i,s);return this.draw(o)}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,s,o,c=!1,u){const h=this.gen.arc(e,n,r,i,s,o,c,u);return this.draw(h)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}}var Mt={canvas:(t,e)=>new Klt(t,e),svg:(t,e)=>new Qlt(t,e),generator:t=>new Mg(t),newSeed:()=>Mg.newSeed()},Ht=D(async(t,e,n)=>{let r;const i=e.useHtmlLabels||Cn(ge()?.htmlLabels);n?r=n:r="node default";const s=t.insert("g").attr("class",r).attr("id",e.domId||e.id),o=s.insert("g").attr("class","label").attr("style",Gn(e.labelStyle));let c;e.label===void 0?c="":c=typeof e.label=="string"?e.label:e.label[0];const u=await Ns(o,ri(Bo(c),ge()),{useHtmlLabels:i,width:e.width||ge().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let h=u.getBBox();const f=(e?.padding??0)/2;if(i){const p=u.children[0],m=Wt(u),y=p.getElementsByTagName("img");if(y){const x=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(b=>new Promise(w=>{function _(){if(b.style.display="flex",b.style.flexDirection="column",x){const S=ge().fontSize?ge().fontSize:window.getComputedStyle(document.body).fontSize,T=5,[E=$O.fontSize]=Sm(S),M=E*T+"px";b.style.minWidth=M,b.style.maxWidth=M}else b.style.width="100%";w(b)}D(_,"setupImage"),setTimeout(()=>{b.complete&&_()}),b.addEventListener("error",_),b.addEventListener("load",_)})))}h=p.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}return i?o.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):o.attr("transform","translate(0, "+-h.height/2+")"),e.centerLabel&&o.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:s,bbox:h,halfPadding:f,label:o}},"labelHelper"),eb=D(async(t,e,n)=>{const r=n.useHtmlLabels||Cn(ge()?.flowchart?.htmlLabels),i=t.insert("g").attr("class","label").attr("style",n.labelStyle||""),s=await Ns(i,ri(Bo(e),ge()),{useHtmlLabels:r,width:n.width||ge()?.flowchart?.wrappingWidth,style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let o=s.getBBox();const c=n.padding/2;if(Cn(ge()?.flowchart?.htmlLabels)){const u=s.children[0],h=Wt(s);o=u.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}return r?i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):i.attr("transform","translate(0, "+-o.height/2+")"),n.centerLabel&&i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:o,halfPadding:c,label:i}},"insertLabel"),Lt=D((t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height},"updateNodeBounds"),Ft=D((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function te(t){const e=t.map((n,r)=>`${r===0?"M":"L"}${n.x},${n.y}`);return e.push("Z"),e.join(" ")}D(te,"createPathFromPoints");function Es(t,e,n,r,i,s){const o=[],u=n-t,h=r-e,f=u/s,p=2*Math.PI/f,m=e+h/2;for(let y=0;y<=50;y++){const x=y/50,b=t+x*u,w=m+i*Math.sin(p*(b-t));o.push({x:b,y:w})}return o}D(Es,"generateFullSineWavePoints");function Nh(t,e,n,r,i,s){const o=[],c=i*Math.PI/180,f=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*f,y=t+n*Math.cos(m),x=e+n*Math.sin(m);o.push({x:-y,y:-x})}return o}D(Nh,"generateCirclePoints");var Jlt=D((t,e)=>{var n=t.x,r=t.y,i=e.x-n,s=e.y-r,o=t.width/2,c=t.height/2,u,h;return Math.abs(s)*o>Math.abs(i)*c?(s<0&&(c=-c),u=s===0?0:c*i/s,h=c):(i<0&&(o=-o),u=o,h=i===0?0:o*s/i),{x:n+u,y:r+h}},"intersectRect"),_c=Jlt;function Q5(t,e){e&&t.attr("style",e)}D(Q5,"applyStyle");async function J5(t){const e=Wt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=ge();let i=t.label;t.label&&cc(t.label)&&(i=await Z1(t.label.replace(vc.lineBreakRegex,`
`),r));const o='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>";return n.html(ri(o,r)),Q5(n,t.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}D(J5,"addHtmlLabel");var tct=D(async(t,e,n,r)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Cn(ge().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),yt.info("vertexText"+i);const s={isNode:r,label:Bo(i).replace(/fa[blrs]?:fa-[\w-]+/g,c=>`<i class='${c.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await J5(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(const c of o){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),n?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=c.trim(),s.appendChild(u)}return s}},"createLabel"),po=tct,Ls=D((t,e,n,r,i)=>["M",t+i,e,"H",t+n-i,"A",i,i,0,0,1,t+n,e+i,"V",e+r-i,"A",i,i,0,0,1,t+n-i,e+r,"H",t+i,"A",i,i,0,0,1,t,e+r-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),tj=D(async(t,e)=>{yt.info("Creating subgraph rect for ",e.id,e);const n=ge(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:s,clusterBorder:o}=r,{labelStyles:c,nodeStyles:u,borderStyles:h,backgroundStyles:f}=Nt(e),p=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),m=Cn(n.flowchart.htmlLabels),y=p.insert("g").attr("class","cluster-label "),x=await Ns(y,e.label,{style:e.labelStyle,useHtmlLabels:m,isNode:!0});let b=x.getBBox();if(Cn(n.flowchart.htmlLabels)){const N=x.children[0],$=Wt(x);b=N.getBoundingClientRect(),$.attr("width",b.width),$.attr("height",b.height)}const w=e.width<=b.width+e.padding?b.width+e.padding:e.width;e.width<=b.width+e.padding?e.diff=(w-e.width)/2-e.padding:e.diff=-e.padding;const _=e.height,S=e.x-w/2,T=e.y-_/2;yt.trace("Data ",e,JSON.stringify(e));let E;if(e.look==="handDrawn"){const N=Mt.svg(p),$=Dt(e,{roughness:.7,fill:s,stroke:o,fillWeight:3,seed:i}),P=N.path(Ls(S,T,w,_,0),$);E=p.insert(()=>(yt.debug("Rough node insert CXC",P),P),":first-child"),E.select("path:nth-child(2)").attr("style",h.join(";")),E.select("path").attr("style",f.join(";").replace("fill","stroke"))}else E=p.insert("rect",":first-child"),E.attr("style",u).attr("rx",e.rx).attr("ry",e.ry).attr("x",S).attr("y",T).attr("width",w).attr("height",_);const{subGraphTitleTopMargin:M}=p2(n);if(y.attr("transform",`translate(${e.x-b.width/2}, ${e.y-e.height/2+M})`),c){const N=y.select("span");N&&N.attr("style",c)}const L=E.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=b.height-e.padding/2,e.intersect=function(N){return _c(e,N)},{cluster:p,labelBBox:b}},"rect"),ect=D((t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,s=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const o=r.node().getBBox();return e.width=o.width,e.height=o.height,e.intersect=function(c){return _c(e,c)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),nct=D(async(t,e)=>{const n=ge(),{themeVariables:r,handDrawnSeed:i}=n,{altBackground:s,compositeBackground:o,compositeTitleBackground:c,nodeBorder:u}=r,h=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),f=h.insert("g",":first-child"),p=h.insert("g").attr("class","cluster-label");let m=h.append("rect");const y=p.node().appendChild(await po(e.label,e.labelStyle,void 0,!0));let x=y.getBBox();if(Cn(n.flowchart.htmlLabels)){const P=y.children[0],z=Wt(y);x=P.getBoundingClientRect(),z.attr("width",x.width),z.attr("height",x.height)}const b=0*e.padding,w=b/2,_=(e.width<=x.width+e.padding?x.width+e.padding:e.width)+b;e.width<=x.width+e.padding?e.diff=(_-e.width)/2-e.padding:e.diff=-e.padding;const S=e.height+b,T=e.height+b-x.height-6,E=e.x-_/2,M=e.y-S/2;e.width=_;const L=e.y-e.height/2-w+x.height+2;let N;if(e.look==="handDrawn"){const P=e.cssClasses.includes("statediagram-cluster-alt"),z=Mt.svg(h),j=e.rx||e.ry?z.path(Ls(E,M,_,S,10),{roughness:.7,fill:c,fillStyle:"solid",stroke:u,seed:i}):z.rectangle(E,M,_,S,{seed:i});N=h.insert(()=>j,":first-child");const W=z.rectangle(E,L,_,T,{fill:P?s:o,fillStyle:P?"hachure":"solid",stroke:u,seed:i});N=h.insert(()=>j,":first-child"),m=h.insert(()=>W)}else N=f.insert("rect",":first-child"),N.attr("class","outer").attr("x",E).attr("y",M).attr("width",_).attr("height",S).attr("data-look",e.look),m.attr("class","inner").attr("x",E).attr("y",L).attr("width",_).attr("height",T);p.attr("transform",`translate(${e.x-x.width/2}, ${M+1-(Cn(n.flowchart.htmlLabels)?0:3)})`);const $=N.node().getBBox();return e.height=$.height,e.offsetX=0,e.offsetY=x.height-e.padding/2,e.labelBBox=x,e.intersect=function(P){return _c(e,P)},{cluster:h,labelBBox:x}},"roundedWithTitle"),rct=D(async(t,e)=>{yt.info("Creating subgraph rect for ",e.id,e);const n=ge(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:s,clusterBorder:o}=r,{labelStyles:c,nodeStyles:u,borderStyles:h,backgroundStyles:f}=Nt(e),p=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),m=Cn(n.flowchart.htmlLabels),y=p.insert("g").attr("class","cluster-label "),x=await Ns(y,e.label,{style:e.labelStyle,useHtmlLabels:m,isNode:!0,width:e.width});let b=x.getBBox();if(Cn(n.flowchart.htmlLabels)){const N=x.children[0],$=Wt(x);b=N.getBoundingClientRect(),$.attr("width",b.width),$.attr("height",b.height)}const w=e.width<=b.width+e.padding?b.width+e.padding:e.width;e.width<=b.width+e.padding?e.diff=(w-e.width)/2-e.padding:e.diff=-e.padding;const _=e.height,S=e.x-w/2,T=e.y-_/2;yt.trace("Data ",e,JSON.stringify(e));let E;if(e.look==="handDrawn"){const N=Mt.svg(p),$=Dt(e,{roughness:.7,fill:s,stroke:o,fillWeight:4,seed:i}),P=N.path(Ls(S,T,w,_,e.rx),$);E=p.insert(()=>(yt.debug("Rough node insert CXC",P),P),":first-child"),E.select("path:nth-child(2)").attr("style",h.join(";")),E.select("path").attr("style",f.join(";").replace("fill","stroke"))}else E=p.insert("rect",":first-child"),E.attr("style",u).attr("rx",e.rx).attr("ry",e.ry).attr("x",S).attr("y",T).attr("width",w).attr("height",_);const{subGraphTitleTopMargin:M}=p2(n);if(y.attr("transform",`translate(${e.x-b.width/2}, ${e.y-e.height/2+M})`),c){const N=y.select("span");N&&N.attr("style",c)}const L=E.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=b.height-e.padding/2,e.intersect=function(N){return _c(e,N)},{cluster:p,labelBBox:b}},"kanbanSection"),ict=D((t,e)=>{const n=ge(),{themeVariables:r,handDrawnSeed:i}=n,{nodeBorder:s}=r,o=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),c=o.insert("g",":first-child"),u=0*e.padding,h=e.width+u;e.diff=-e.padding;const f=e.height+u,p=e.x-h/2,m=e.y-f/2;e.width=h;let y;if(e.look==="handDrawn"){const w=Mt.svg(o).rectangle(p,m,h,f,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});y=o.insert(()=>w,":first-child")}else y=c.insert("rect",":first-child"),y.attr("class","divider").attr("x",p).attr("y",m).attr("width",h).attr("height",f).attr("data-look",e.look);const x=y.node().getBBox();return e.height=x.height,e.offsetX=0,e.offsetY=0,e.intersect=function(b){return _c(e,b)},{cluster:o,labelBBox:{}}},"divider"),act=tj,sct={rect:tj,squareRect:act,roundedWithTitle:nct,noteGroup:ect,divider:ict,kanbanSection:rct},ej=new Map,oct=D(async(t,e)=>{const n=e.shape||"rect",r=await sct[n](t,e);return ej.set(e.id,r),r},"insertCluster"),Wft=D(()=>{ej=new Map},"clear");function nj(t,e){return t.intersect(e)}D(nj,"intersectNode");var lct=nj;function rj(t,e,n,r){var i=t.x,s=t.y,o=i-r.x,c=s-r.y,u=Math.sqrt(e*e*c*c+n*n*o*o),h=Math.abs(e*n*o/u);r.x<i&&(h=-h);var f=Math.abs(e*n*c/u);return r.y<s&&(f=-f),{x:i+h,y:s+f}}D(rj,"intersectEllipse");var ij=rj;function aj(t,e,n){return ij(t,e,e,n)}D(aj,"intersectCircle");var cct=aj;function sj(t,e,n,r){{const i=e.y-t.y,s=t.x-e.x,o=e.x*t.y-t.x*e.y,c=i*n.x+s*n.y+o,u=i*r.x+s*r.y+o,h=1e-6;if(c!==0&&u!==0&&Av(c,u))return;const f=r.y-n.y,p=n.x-r.x,m=r.x*n.y-n.x*r.y,y=f*t.x+p*t.y+m,x=f*e.x+p*e.y+m;if(Math.abs(y)<h&&Math.abs(x)<h&&Av(y,x))return;const b=i*p-f*s;if(b===0)return;const w=Math.abs(b/2);let _=s*m-p*o;const S=_<0?(_-w)/b:(_+w)/b;_=f*o-i*m;const T=_<0?(_-w)/b:(_+w)/b;return{x:S,y:T}}}D(sj,"intersectLine");function Av(t,e){return t*e>0}D(Av,"sameSign");var uct=sj;function oj(t,e,n){let r=t.x,i=t.y,s=[],o=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(f){o=Math.min(o,f.x),c=Math.min(c,f.y)}):(o=Math.min(o,e.x),c=Math.min(c,e.y));let u=r-t.width/2-o,h=i-t.height/2-c;for(let f=0;f<e.length;f++){let p=e[f],m=e[f<e.length-1?f+1:0],y=uct(t,n,{x:u+p.x,y:h+p.y},{x:u+m.x,y:h+m.y});y&&s.push(y)}return s.length?(s.length>1&&s.sort(function(f,p){let m=f.x-n.x,y=f.y-n.y,x=Math.sqrt(m*m+y*y),b=p.x-n.x,w=p.y-n.y,_=Math.sqrt(b*b+w*w);return x<_?-1:x===_?0:1}),s[0]):t}D(oj,"intersectPolygon");var hct=oj,St={node:lct,circle:cct,ellipse:ij,polygon:hct,rect:_c};function lj(t,e){const{labelStyles:n}=Nt(e);e.labelStyle=n;const r=Ft(e);let i=r;r||(i="anchor");const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),o=1,{cssStyles:c}=e,u=Mt.svg(s),h=Dt(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(h.roughness=0);const f=u.circle(0,0,o*2,h),p=s.insert(()=>f,":first-child");return p.attr("class","anchor").attr("style",Gn(c)),Lt(e,p),e.intersect=function(m){return yt.info("Circle intersect",e,o,m),St.circle(e,o,m)},s}D(lj,"anchor");function Mv(t,e,n,r,i,s,o){const u=(t+n)/2,h=(e+r)/2,f=Math.atan2(r-e,n-t),p=(n-t)/2,m=(r-e)/2,y=p/i,x=m/s,b=Math.sqrt(y**2+x**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const w=Math.sqrt(1-b**2),_=u+w*s*Math.sin(f)*(o?-1:1),S=h-w*i*Math.cos(f)*(o?-1:1),T=Math.atan2((e-S)/s,(t-_)/i);let M=Math.atan2((r-S)/s,(n-_)/i)-T;o&&M<0&&(M+=2*Math.PI),!o&&M>0&&(M-=2*Math.PI);const L=[];for(let N=0;N<20;N++){const $=N/19,P=T+$*M,z=_+i*Math.cos(P),j=S+s*Math.sin(P);L.push({x:z,y:j})}return L}D(Mv,"generateArcPoints");async function cj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.width+e.padding+20,c=s.height+e.padding,u=c/2,h=u/(2.5+c/50),{cssStyles:f}=e,p=[{x:o/2,y:-c/2},{x:-o/2,y:-c/2},...Mv(-o/2,-c/2,-o/2,c/2,h,u,!1),{x:o/2,y:c/2},...Mv(o/2,c/2,o/2,-c/2,h,u,!0)],m=Mt.svg(i),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=te(p),b=m.path(x,y),w=i.insert(()=>b,":first-child");return w.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),w.attr("transform",`translate(${h/2}, 0)`),Lt(e,w),e.intersect=function(_){return St.polygon(e,p,_)},i}D(cj,"bowTieRect");function Os(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}D(Os,"insertPolygonShape");async function uj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.height+e.padding,c=12,u=s.width+e.padding+c,h=0,f=u,p=-o,m=0,y=[{x:h+c,y:p},{x:f,y:p},{x:f,y:m},{x:h,y:m},{x:h,y:p+c},{x:h+c,y:p}];let x;const{cssStyles:b}=e;if(e.look==="handDrawn"){const w=Mt.svg(i),_=Dt(e,{}),S=te(y),T=w.path(S,_);x=i.insert(()=>T,":first-child").attr("transform",`translate(${-u/2}, ${o/2})`),b&&x.attr("style",b)}else x=Os(i,u,o,y);return r&&x.attr("style",r),Lt(e,x),e.intersect=function(w){return St.polygon(e,y,w)},i}D(uj,"card");function hj(t,e){const{nodeStyles:n}=Nt(e);e.label="";const r=t.insert("g").attr("class",Ft(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,s=Math.max(28,e.width??0),o=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],c=Mt.svg(r),u=Dt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=te(o),f=c.path(h,u),p=r.insert(()=>f,":first-child");return i&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",i),n&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",n),e.width=28,e.height=28,e.intersect=function(m){return St.polygon(e,o,m)},r}D(hj,"choice");async function $2(t,e,n){const{labelStyles:r,nodeStyles:i}=Nt(e);e.labelStyle=r;const{shapeSvg:s,bbox:o,halfPadding:c}=await Ht(t,e,Ft(e)),u=n?.padding??c,h=o.width/2+u;let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=Mt.svg(s),y=Dt(e,{}),x=m.circle(0,0,h*2,y);f=s.insert(()=>x,":first-child"),f.attr("class","basic label-container").attr("style",Gn(p))}else f=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0);return Lt(e,f),e.calcIntersect=function(m,y){const x=m.width/2;return St.circle(m,x,y)},e.intersect=function(m){return yt.info("Circle intersect",e,h,m),St.circle(e,h,m)},s}D($2,"circle");function dj(t){const e=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),r=t*2,i={x:r/2*e,y:r/2*n},s={x:-(r/2)*e,y:r/2*n},o={x:-(r/2)*e,y:-(r/2)*n},c={x:r/2*e,y:-(r/2)*n};return`M ${s.x},${s.y} L ${c.x},${c.y}
                   M ${i.x},${i.y} L ${o.x},${o.y}`}D(dj,"createLine");function fj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n,e.label="";const i=t.insert("g").attr("class",Ft(e)).attr("id",e.domId??e.id),s=Math.max(30,e?.width??0),{cssStyles:o}=e,c=Mt.svg(i),u=Dt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=c.circle(0,0,s*2,u),f=dj(s),p=c.path(f,u),m=i.insert(()=>h,":first-child");return m.insert(()=>p),o&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",o),r&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",r),Lt(e,m),e.intersect=function(y){return yt.info("crossedCircle intersect",e,{radius:s,point:y}),St.circle(e,s,y)},i}D(fj,"crossedCircle");function va(t,e,n,r=100,i=0,s=180){const o=[],c=i*Math.PI/180,f=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*f,y=t+n*Math.cos(m),x=e+n*Math.sin(m);o.push({x:-y,y:-x})}return o}D(va,"generateCirclePoints");async function pj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=s.width+(e.padding??0),u=s.height+(e.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=e,p=[...va(c/2,-u/2,h,30,-90,0),{x:-c/2-h,y:h},...va(c/2+h*2,-h,h,20,-180,-270),...va(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-u/2},...va(c/2,u/2,h,20,0,90)],m=[{x:c/2,y:-u/2-h},{x:-c/2,y:-u/2-h},...va(c/2,-u/2,h,20,-90,0),{x:-c/2-h,y:-h},...va(c/2+c*.1,-h,h,20,-180,-270),...va(c/2+c*.1,h,h,20,-90,-180),{x:-c/2-h,y:u/2},...va(c/2,u/2,h,20,0,90),{x:-c/2,y:u/2+h},{x:c/2,y:u/2+h}],y=Mt.svg(i),x=Dt(e,{fill:"none"});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const w=te(p).replace("Z",""),_=y.path(w,x),S=te(m),T=y.path(S,{...x}),E=i.insert("g",":first-child");return E.insert(()=>T,":first-child").attr("stroke-opacity",0),E.insert(()=>_,":first-child"),E.attr("class","text"),f&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(${h}, 0)`),o.attr("transform",`translate(${-c/2+h-(s.x-(s.left??0))},${-u/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Lt(e,E),e.intersect=function(M){return St.polygon(e,m,M)},i}D(pj,"curlyBraceLeft");function wa(t,e,n,r=100,i=0,s=180){const o=[],c=i*Math.PI/180,f=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*f,y=t+n*Math.cos(m),x=e+n*Math.sin(m);o.push({x:y,y:x})}return o}D(wa,"generateCirclePoints");async function gj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=s.width+(e.padding??0),u=s.height+(e.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=e,p=[...wa(c/2,-u/2,h,20,-90,0),{x:c/2+h,y:-h},...wa(c/2+h*2,-h,h,20,-180,-270),...wa(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:u/2},...wa(c/2,u/2,h,20,0,90)],m=[{x:-c/2,y:-u/2-h},{x:c/2,y:-u/2-h},...wa(c/2,-u/2,h,20,-90,0),{x:c/2+h,y:-h},...wa(c/2+h*2,-h,h,20,-180,-270),...wa(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:u/2},...wa(c/2,u/2,h,20,0,90),{x:c/2,y:u/2+h},{x:-c/2,y:u/2+h}],y=Mt.svg(i),x=Dt(e,{fill:"none"});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const w=te(p).replace("Z",""),_=y.path(w,x),S=te(m),T=y.path(S,{...x}),E=i.insert("g",":first-child");return E.insert(()=>T,":first-child").attr("stroke-opacity",0),E.insert(()=>_,":first-child"),E.attr("class","text"),f&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(${-h}, 0)`),o.attr("transform",`translate(${-c/2+(e.padding??0)/2-(s.x-(s.left??0))},${-u/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Lt(e,E),e.intersect=function(M){return St.polygon(e,m,M)},i}D(gj,"curlyBraceRight");function $n(t,e,n,r=100,i=0,s=180){const o=[],c=i*Math.PI/180,f=(s*Math.PI/180-c)/(r-1);for(let p=0;p<r;p++){const m=c+p*f,y=t+n*Math.cos(m),x=e+n*Math.sin(m);o.push({x:-y,y:-x})}return o}D($n,"generateCirclePoints");async function mj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=s.width+(e.padding??0),u=s.height+(e.padding??0),h=Math.max(5,u*.1),{cssStyles:f}=e,p=[...$n(c/2,-u/2,h,30,-90,0),{x:-c/2-h,y:h},...$n(c/2+h*2,-h,h,20,-180,-270),...$n(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-u/2},...$n(c/2,u/2,h,20,0,90)],m=[...$n(-c/2+h+h/2,-u/2,h,20,-90,-180),{x:c/2-h/2,y:h},...$n(-c/2-h/2,-h,h,20,0,90),...$n(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...$n(-c/2+h+h/2,u/2,h,30,-180,-270)],y=[{x:c/2,y:-u/2-h},{x:-c/2,y:-u/2-h},...$n(c/2,-u/2,h,20,-90,0),{x:-c/2-h,y:-h},...$n(c/2+h*2,-h,h,20,-180,-270),...$n(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:u/2},...$n(c/2,u/2,h,20,0,90),{x:-c/2,y:u/2+h},{x:c/2-h-h/2,y:u/2+h},...$n(-c/2+h+h/2,-u/2,h,20,-90,-180),{x:c/2-h/2,y:h},...$n(-c/2-h/2,-h,h,20,0,90),...$n(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...$n(-c/2+h+h/2,u/2,h,30,-180,-270)],x=Mt.svg(i),b=Dt(e,{fill:"none"});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const _=te(p).replace("Z",""),S=x.path(_,b),E=te(m).replace("Z",""),M=x.path(E,b),L=te(y),N=x.path(L,{...b}),$=i.insert("g",":first-child");return $.insert(()=>N,":first-child").attr("stroke-opacity",0),$.insert(()=>S,":first-child"),$.insert(()=>M,":first-child"),$.attr("class","text"),f&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",r),$.attr("transform",`translate(${h-h/4}, 0)`),o.attr("transform",`translate(${-c/2+(e.padding??0)/2-(s.x-(s.left??0))},${-u/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Lt(e,$),e.intersect=function(P){return St.polygon(e,y,P)},i}D(mj,"curlyBraces");async function yj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=80,c=20,u=Math.max(o,(s.width+(e.padding??0)*2)*1.25,e?.width??0),h=Math.max(c,s.height+(e.padding??0)*2,e?.height??0),f=h/2,{cssStyles:p}=e,m=Mt.svg(i),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=u,b=h,w=x-f,_=b/4,S=[{x:w,y:0},{x:_,y:0},{x:0,y:b/2},{x:_,y:b},{x:w,y:b},...Nh(-w,-b/2,f,50,270,90)],T=te(S),E=m.path(T,y),M=i.insert(()=>E,":first-child");return M.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&M.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&M.selectChildren("path").attr("style",r),M.attr("transform",`translate(${-u/2}, ${-h/2})`),Lt(e,M),e.intersect=function(L){return St.polygon(e,S,L)},i}D(yj,"curvedTrapezoid");var dct=D((t,e,n,r,i,s)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${n},0`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createCylinderPathD"),fct=D((t,e,n,r,i,s)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD"),pct=D((t,e,n,r,i,s)=>[`M${t-n/2},${-r/2}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function xj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+e.padding,e.width??0),u=c/2,h=u/(2.5+c/50),f=Math.max(s.height+h+e.padding,e.height??0);let p;const{cssStyles:m}=e;if(e.look==="handDrawn"){const y=Mt.svg(i),x=fct(0,0,c,f,u,h),b=pct(0,h,c,f,u,h),w=y.path(x,Dt(e,{})),_=y.path(b,Dt(e,{fill:"none"}));p=i.insert(()=>_,":first-child"),p=i.insert(()=>w,":first-child"),p.attr("class","basic label-container"),m&&p.attr("style",m)}else{const y=dct(0,0,c,f,u,h);p=i.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",Gn(m)).attr("style",r)}return p.attr("label-offset-y",h),p.attr("transform",`translate(${-c/2}, ${-(f/2+h)})`),Lt(e,p),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(e.padding??0)/1.5-(s.y-(s.top??0))})`),e.intersect=function(y){const x=St.rect(e,y),b=x.x-(e.x??0);if(u!=0&&(Math.abs(b)<(e.width??0)/2||Math.abs(b)==(e.width??0)/2&&Math.abs(x.y-(e.y??0))>(e.height??0)/2-h)){let w=h*h*(1-b*b/(u*u));w>0&&(w=Math.sqrt(w)),w=h-w,y.y-(e.y??0)>0&&(w=-w),x.y+=w}return x},i}D(xj,"cylinder");async function bj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=s.width+e.padding,u=s.height+e.padding,h=u*.2,f=-c/2,p=-u/2-h/2,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=[{x:f,y:p+h},{x:-f,y:p+h},{x:-f,y:-p},{x:f,y:-p},{x:f,y:p},{x:-f,y:p},{x:-f,y:p+h}],w=y.polygon(b.map(S=>[S.x,S.y]),x),_=i.insert(()=>w,":first-child");return _.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",r),o.attr("transform",`translate(${f+(e.padding??0)/2-(s.x-(s.left??0))}, ${p+h+(e.padding??0)/2-(s.y-(s.top??0))})`),Lt(e,_),e.intersect=function(S){return St.rect(e,S)},i}D(bj,"dividedRectangle");async function vj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o}=await Ht(t,e,Ft(e)),u=s.width/2+o+5,h=s.width/2+o;let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=Mt.svg(i),y=Dt(e,{roughness:.2,strokeWidth:2.5}),x=Dt(e,{roughness:.2,strokeWidth:1.5}),b=m.circle(0,0,u*2,y),w=m.circle(0,0,h*2,x);f=i.insert("g",":first-child"),f.attr("class",Gn(e.cssClasses)).attr("style",Gn(p)),f.node()?.appendChild(b),f.node()?.appendChild(w)}else{f=i.insert("g",":first-child");const m=f.insert("circle",":first-child"),y=f.insert("circle");f.attr("class","basic label-container").attr("style",r),m.attr("class","outer-circle").attr("style",r).attr("r",u).attr("cx",0).attr("cy",0),y.attr("class","inner-circle").attr("style",r).attr("r",h).attr("cx",0).attr("cy",0)}return Lt(e,f),e.intersect=function(m){return yt.info("DoubleCircle intersect",e,u,m),St.circle(e,u,m)},i}D(vj,"doublecircle");function wj(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Nt(e);e.label="",e.labelStyle=r;const s=t.insert("g").attr("class",Ft(e)).attr("id",e.domId??e.id),o=7,{cssStyles:c}=e,u=Mt.svg(s),{nodeBorder:h}=n,f=Dt(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(f.roughness=0);const p=u.circle(0,0,o*2,f),m=s.insert(()=>p,":first-child");return m.selectAll("path").attr("style",`fill: ${h} !important;`),c&&c.length>0&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",c),i&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",i),Lt(e,m),e.intersect=function(y){return yt.info("filledCircle intersect",e,{radius:o,point:y}),St.circle(e,o,y)},s}D(wj,"filledCircle");async function Sj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=s.width+(e.padding??0),u=c+s.height,h=c+s.height,f=[{x:0,y:-u},{x:h,y:-u},{x:h/2,y:0}],{cssStyles:p}=e,m=Mt.svg(i),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=te(f),b=m.path(x,y),w=i.insert(()=>b,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),e.width=c,e.height=u,Lt(e,w),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-u/2+(e.padding??0)/2+(s.y-(s.top??0))})`),e.intersect=function(_){return yt.info("Triangle intersect",e,f,_),St.polygon(e,f,_)},i}D(Sj,"flippedTriangle");function Cj(t,e,{dir:n,config:{state:r,themeVariables:i}}){const{nodeStyles:s}=Nt(e);e.label="";const o=t.insert("g").attr("class",Ft(e)).attr("id",e.domId??e.id),{cssStyles:c}=e;let u=Math.max(70,e?.width??0),h=Math.max(10,e?.height??0);n==="LR"&&(u=Math.max(10,e?.width??0),h=Math.max(70,e?.height??0));const f=-1*u/2,p=-1*h/2,m=Mt.svg(o),y=Dt(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=m.rectangle(f,p,u,h,y),b=o.insert(()=>x,":first-child");c&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",c),s&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",s),Lt(e,b);const w=r?.padding??0;return e.width&&e.height&&(e.width+=w/2||0,e.height+=w/2||0),e.intersect=function(_){return St.rect(e,_)},o}D(Cj,"forkJoin");async function _j(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const i=80,s=50,{shapeSvg:o,bbox:c}=await Ht(t,e,Ft(e)),u=Math.max(i,c.width+(e.padding??0)*2,e?.width??0),h=Math.max(s,c.height+(e.padding??0)*2,e?.height??0),f=h/2,{cssStyles:p}=e,m=Mt.svg(o),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-u/2,y:-h/2},{x:u/2-f,y:-h/2},...Nh(-u/2+f,0,f,50,90,270),{x:u/2-f,y:h/2},{x:-u/2,y:h/2}],b=te(x),w=m.path(b,y),_=o.insert(()=>w,":first-child");return _.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),Lt(e,_),e.intersect=function(S){return yt.info("Pill intersect",e,{radius:f,point:S}),St.polygon(e,x,S)},o}D(_j,"halfRoundedRectangle");async function kj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.height+(e.padding??0),c=s.width+(e.padding??0)*2.5,{cssStyles:u}=e,h=Mt.svg(i),f=Dt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let p=c/2;const m=p/6;p=p+m;const y=o/2,x=y/2,b=p-x,w=[{x:-b,y:-y},{x:0,y:-y},{x:b,y:-y},{x:p,y:0},{x:b,y},{x:0,y},{x:-b,y},{x:-p,y:0}],_=te(w),S=h.path(_,f),T=i.insert(()=>S,":first-child");return T.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",u),r&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",r),e.width=c,e.height=o,Lt(e,T),e.intersect=function(E){return St.polygon(e,w,E)},i}D(kj,"hexagon");async function Tj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.label="",e.labelStyle=n;const{shapeSvg:i}=await Ht(t,e,Ft(e)),s=Math.max(30,e?.width??0),o=Math.max(30,e?.height??0),{cssStyles:c}=e,u=Mt.svg(i),h=Dt(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=[{x:0,y:0},{x:s,y:0},{x:0,y:o},{x:s,y:o}],p=te(f),m=u.path(p,h),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container"),c&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",c),r&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),y.attr("transform",`translate(${-s/2}, ${-o/2})`),Lt(e,y),e.intersect=function(x){return yt.info("Pill intersect",e,{points:f}),St.polygon(e,f,x)},i}D(Tj,"hourglass");async function Ej(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Nt(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,c=Math.max(s,o),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,label:p}=await Ht(t,e,"icon-shape default"),m=e.pos==="t",y=c,x=c,{nodeBorder:b}=n,{stylesMap:w}=wc(e),_=-x/2,S=-y/2,T=e.label?8:0,E=Mt.svg(h),M=Dt(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const L=E.rectangle(_,S,x,y,M),N=Math.max(x,f.width),$=y+f.height+T,P=E.rectangle(-N/2,-$/2,N,$,{...M,fill:"transparent",stroke:"none"}),z=h.insert(()=>L,":first-child"),j=h.insert(()=>P);if(e.icon){const W=h.append("g");W.html(`<g>${await od(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const G=W.node().getBBox(),B=G.width,H=G.height,R=G.x,I=G.y;W.attr("transform",`translate(${-B/2-R},${m?f.height/2+T/2-H/2-I:-f.height/2-T/2-H/2-I})`),W.attr("style",`color: ${w.get("stroke")??b};`)}return p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${m?-$/2:$/2-f.height})`),z.attr("transform",`translate(0,${m?f.height/2+T/2:-f.height/2-T/2})`),Lt(e,j),e.intersect=function(W){if(yt.info("iconSquare intersect",e,W),!e.label)return St.rect(e,W);const G=e.x??0,B=e.y??0,H=e.height??0;let R=[];return m?R=[{x:G-f.width/2,y:B-H/2},{x:G+f.width/2,y:B-H/2},{x:G+f.width/2,y:B-H/2+f.height+T},{x:G+x/2,y:B-H/2+f.height+T},{x:G+x/2,y:B+H/2},{x:G-x/2,y:B+H/2},{x:G-x/2,y:B-H/2+f.height+T},{x:G-f.width/2,y:B-H/2+f.height+T}]:R=[{x:G-x/2,y:B-H/2},{x:G+x/2,y:B-H/2},{x:G+x/2,y:B-H/2+y},{x:G+f.width/2,y:B-H/2+y},{x:G+f.width/2/2,y:B+H/2},{x:G-f.width/2,y:B+H/2},{x:G-f.width/2,y:B-H/2+y},{x:G-x/2,y:B-H/2+y}],St.polygon(e,R,W)},h}D(Ej,"icon");async function Aj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Nt(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,c=Math.max(s,o),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,label:p}=await Ht(t,e,"icon-shape default"),m=20,y=e.label?8:0,x=e.pos==="t",{nodeBorder:b,mainBkg:w}=n,{stylesMap:_}=wc(e),S=Mt.svg(h),T=Dt(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const E=_.get("fill");T.stroke=E??w;const M=h.append("g");e.icon&&M.html(`<g>${await od(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const L=M.node().getBBox(),N=L.width,$=L.height,P=L.x,z=L.y,j=Math.max(N,$)*Math.SQRT2+m*2,W=S.circle(0,0,j,T),G=Math.max(j,f.width),B=j+f.height+y,H=S.rectangle(-G/2,-B/2,G,B,{...T,fill:"transparent",stroke:"none"}),R=h.insert(()=>W,":first-child"),I=h.insert(()=>H);return M.attr("transform",`translate(${-N/2-P},${x?f.height/2+y/2-$/2-z:-f.height/2-y/2-$/2-z})`),M.attr("style",`color: ${_.get("stroke")??b};`),p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${x?-B/2:B/2-f.height})`),R.attr("transform",`translate(0,${x?f.height/2+y/2:-f.height/2-y/2})`),Lt(e,I),e.intersect=function(U){return yt.info("iconSquare intersect",e,U),St.rect(e,U)},h}D(Aj,"iconCircle");async function Mj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Nt(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,c=Math.max(s,o),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,halfPadding:p,label:m}=await Ht(t,e,"icon-shape default"),y=e.pos==="t",x=c+p*2,b=c+p*2,{nodeBorder:w,mainBkg:_}=n,{stylesMap:S}=wc(e),T=-b/2,E=-x/2,M=e.label?8:0,L=Mt.svg(h),N=Dt(e,{});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const $=S.get("fill");N.stroke=$??_;const P=L.path(Ls(T,E,b,x,5),N),z=Math.max(b,f.width),j=x+f.height+M,W=L.rectangle(-z/2,-j/2,z,j,{...N,fill:"transparent",stroke:"none"}),G=h.insert(()=>P,":first-child").attr("class","icon-shape2"),B=h.insert(()=>W);if(e.icon){const H=h.append("g");H.html(`<g>${await od(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const R=H.node().getBBox(),I=R.width,U=R.height,Z=R.x,nt=R.y;H.attr("transform",`translate(${-I/2-Z},${y?f.height/2+M/2-U/2-nt:-f.height/2-M/2-U/2-nt})`),H.attr("style",`color: ${S.get("stroke")??w};`)}return m.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${y?-j/2:j/2-f.height})`),G.attr("transform",`translate(0,${y?f.height/2+M/2:-f.height/2-M/2})`),Lt(e,B),e.intersect=function(H){if(yt.info("iconSquare intersect",e,H),!e.label)return St.rect(e,H);const R=e.x??0,I=e.y??0,U=e.height??0;let Z=[];return y?Z=[{x:R-f.width/2,y:I-U/2},{x:R+f.width/2,y:I-U/2},{x:R+f.width/2,y:I-U/2+f.height+M},{x:R+b/2,y:I-U/2+f.height+M},{x:R+b/2,y:I+U/2},{x:R-b/2,y:I+U/2},{x:R-b/2,y:I-U/2+f.height+M},{x:R-f.width/2,y:I-U/2+f.height+M}]:Z=[{x:R-b/2,y:I-U/2},{x:R+b/2,y:I-U/2},{x:R+b/2,y:I-U/2+x},{x:R+f.width/2,y:I-U/2+x},{x:R+f.width/2/2,y:I+U/2},{x:R-f.width/2,y:I+U/2},{x:R-f.width/2,y:I-U/2+x},{x:R-b/2,y:I-U/2+x}],St.polygon(e,Z,H)},h}D(Mj,"iconRounded");async function Dj(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=Nt(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,c=Math.max(s,o),u=r?.wrappingWidth;e.width=Math.max(c,u??0);const{shapeSvg:h,bbox:f,halfPadding:p,label:m}=await Ht(t,e,"icon-shape default"),y=e.pos==="t",x=c+p*2,b=c+p*2,{nodeBorder:w,mainBkg:_}=n,{stylesMap:S}=wc(e),T=-b/2,E=-x/2,M=e.label?8:0,L=Mt.svg(h),N=Dt(e,{});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const $=S.get("fill");N.stroke=$??_;const P=L.path(Ls(T,E,b,x,.1),N),z=Math.max(b,f.width),j=x+f.height+M,W=L.rectangle(-z/2,-j/2,z,j,{...N,fill:"transparent",stroke:"none"}),G=h.insert(()=>P,":first-child"),B=h.insert(()=>W);if(e.icon){const H=h.append("g");H.html(`<g>${await od(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const R=H.node().getBBox(),I=R.width,U=R.height,Z=R.x,nt=R.y;H.attr("transform",`translate(${-I/2-Z},${y?f.height/2+M/2-U/2-nt:-f.height/2-M/2-U/2-nt})`),H.attr("style",`color: ${S.get("stroke")??w};`)}return m.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${y?-j/2:j/2-f.height})`),G.attr("transform",`translate(0,${y?f.height/2+M/2:-f.height/2-M/2})`),Lt(e,B),e.intersect=function(H){if(yt.info("iconSquare intersect",e,H),!e.label)return St.rect(e,H);const R=e.x??0,I=e.y??0,U=e.height??0;let Z=[];return y?Z=[{x:R-f.width/2,y:I-U/2},{x:R+f.width/2,y:I-U/2},{x:R+f.width/2,y:I-U/2+f.height+M},{x:R+b/2,y:I-U/2+f.height+M},{x:R+b/2,y:I+U/2},{x:R-b/2,y:I+U/2},{x:R-b/2,y:I-U/2+f.height+M},{x:R-f.width/2,y:I-U/2+f.height+M}]:Z=[{x:R-b/2,y:I-U/2},{x:R+b/2,y:I-U/2},{x:R+b/2,y:I-U/2+x},{x:R+f.width/2,y:I-U/2+x},{x:R+f.width/2/2,y:I+U/2},{x:R-f.width/2,y:I+U/2},{x:R-f.width/2,y:I-U/2+x},{x:R-b/2,y:I-U/2+x}],St.polygon(e,Z,H)},h}D(Dj,"iconSquare");async function Nj(t,e,{config:{flowchart:n}}){const r=new Image;r.src=e?.img??"",await r.decode();const i=Number(r.naturalWidth.toString().replace("px","")),s=Number(r.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/s;const{labelStyles:o}=Nt(e);e.labelStyle=o;const c=n?.wrappingWidth;e.defaultWidth=n?.wrappingWidth;const u=Math.max(e.label?c??0:0,e?.assetWidth??i),h=e.constraint==="on"&&e?.assetHeight?e.assetHeight*e.imageAspectRatio:u,f=e.constraint==="on"?h/e.imageAspectRatio:e?.assetHeight??s;e.width=Math.max(h,c??0);const{shapeSvg:p,bbox:m,label:y}=await Ht(t,e,"image-shape default"),x=e.pos==="t",b=-h/2,w=-f/2,_=e.label?8:0,S=Mt.svg(p),T=Dt(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const E=S.rectangle(b,w,h,f,T),M=Math.max(h,m.width),L=f+m.height+_,N=S.rectangle(-M/2,-L/2,M,L,{...T,fill:"none",stroke:"none"}),$=p.insert(()=>E,":first-child"),P=p.insert(()=>N);if(e.img){const z=p.append("image");z.attr("href",e.img),z.attr("width",h),z.attr("height",f),z.attr("preserveAspectRatio","none"),z.attr("transform",`translate(${-h/2},${x?L/2-f:-L/2})`)}return y.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${x?-f/2-m.height/2-_/2:f/2-m.height/2+_/2})`),$.attr("transform",`translate(0,${x?m.height/2+_/2:-m.height/2-_/2})`),Lt(e,P),e.intersect=function(z){if(yt.info("iconSquare intersect",e,z),!e.label)return St.rect(e,z);const j=e.x??0,W=e.y??0,G=e.height??0;let B=[];return x?B=[{x:j-m.width/2,y:W-G/2},{x:j+m.width/2,y:W-G/2},{x:j+m.width/2,y:W-G/2+m.height+_},{x:j+h/2,y:W-G/2+m.height+_},{x:j+h/2,y:W+G/2},{x:j-h/2,y:W+G/2},{x:j-h/2,y:W-G/2+m.height+_},{x:j-m.width/2,y:W-G/2+m.height+_}]:B=[{x:j-h/2,y:W-G/2},{x:j+h/2,y:W-G/2},{x:j+h/2,y:W-G/2+f},{x:j+m.width/2,y:W-G/2+f},{x:j+m.width/2/2,y:W+G/2},{x:j-m.width/2,y:W+G/2},{x:j-m.width/2,y:W-G/2+f},{x:j-h/2,y:W-G/2+f}],St.polygon(e,B,z)},p}D(Nj,"imageSquare");async function Lj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=[{x:0,y:0},{x:o,y:0},{x:o+3*c/6,y:-c},{x:-3*c/6,y:-c}];let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=Mt.svg(i),m=Dt(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${c/2})`),f&&h.attr("style",f)}else h=Os(i,o,c,u);return r&&h.attr("style",r),e.width=o,e.height=c,Lt(e,h),e.intersect=function(p){return St.polygon(e,u,p)},i}D(Lj,"inv_trapezoid");async function Am(t,e,n){const{labelStyles:r,nodeStyles:i}=Nt(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await Ht(t,e,Ft(e)),c=Math.max(o.width+n.labelPaddingX*2,e?.width||0),u=Math.max(o.height+n.labelPaddingY*2,e?.height||0),h=-c/2,f=-u/2;let p,{rx:m,ry:y}=e;const{cssStyles:x}=e;if(n?.rx&&n.ry&&(m=n.rx,y=n.ry),e.look==="handDrawn"){const b=Mt.svg(s),w=Dt(e,{}),_=m||y?b.path(Ls(h,f,c,u,m||0),w):b.rectangle(h,f,c,u,w);p=s.insert(()=>_,":first-child"),p.attr("class","basic label-container").attr("style",Gn(x))}else p=s.insert("rect",":first-child"),p.attr("class","basic label-container").attr("style",i).attr("rx",Gn(m)).attr("ry",Gn(y)).attr("x",h).attr("y",f).attr("width",c).attr("height",u);return Lt(e,p),e.calcIntersect=function(b,w){return St.rect(b,w)},e.intersect=function(b){return St.rect(e,b)},s}D(Am,"drawRect");async function Oj(t,e){const{shapeSvg:n,bbox:r,label:i}=await Ht(t,e,"label"),s=n.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(r.width/2)-(r.x-(r.left??0))}, ${-(r.height/2)-(r.y-(r.top??0))})`),Lt(e,s),e.intersect=function(u){return St.rect(e,u)},n}D(Oj,"labelRect");async function Rj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=Math.max(s.width+(e.padding??0),e?.width??0),c=Math.max(s.height+(e.padding??0),e?.height??0),u=[{x:0,y:0},{x:o+3*c/6,y:0},{x:o,y:-c},{x:-(3*c)/6,y:-c}];let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=Mt.svg(i),m=Dt(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${c/2})`),f&&h.attr("style",f)}else h=Os(i,o,c,u);return r&&h.attr("style",r),e.width=o,e.height=c,Lt(e,h),e.intersect=function(p){return St.polygon(e,u,p)},i}D(Rj,"lean_left");async function Bj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=Math.max(s.width+(e.padding??0),e?.width??0),c=Math.max(s.height+(e.padding??0),e?.height??0),u=[{x:-3*c/6,y:0},{x:o,y:0},{x:o+3*c/6,y:-c},{x:0,y:-c}];let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=Mt.svg(i),m=Dt(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${c/2})`),f&&h.attr("style",f)}else h=Os(i,o,c,u);return r&&h.attr("style",r),e.width=o,e.height=c,Lt(e,h),e.intersect=function(p){return St.polygon(e,u,p)},i}D(Bj,"lean_right");function jj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.label="",e.labelStyle=n;const i=t.insert("g").attr("class",Ft(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,o=Math.max(35,e?.width??0),c=Math.max(35,e?.height??0),u=7,h=[{x:o,y:0},{x:0,y:c+u/2},{x:o-2*u,y:c+u/2},{x:0,y:2*c},{x:o,y:c-u/2},{x:2*u,y:c-u/2}],f=Mt.svg(i),p=Dt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=te(h),y=f.path(m,p),x=i.insert(()=>y,":first-child");return s&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",s),r&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(-${o/2},${-c})`),Lt(e,x),e.intersect=function(b){return yt.info("lightningBolt intersect",e,b),St.polygon(e,h,b)},i}D(jj,"lightningBolt");var gct=D((t,e,n,r,i,s,o)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${n},0`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+o}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),mct=D((t,e,n,r,i,s,o)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+o}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),yct=D((t,e,n,r,i,s)=>[`M${t-n/2},${-r/2}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function $j(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0),e.width??0),u=c/2,h=u/(2.5+c/50),f=Math.max(s.height+h+(e.padding??0),e.height??0),p=f*.1;let m;const{cssStyles:y}=e;if(e.look==="handDrawn"){const x=Mt.svg(i),b=mct(0,0,c,f,u,h,p),w=yct(0,h,c,f,u,h),_=Dt(e,{}),S=x.path(b,_),T=x.path(w,_);i.insert(()=>T,":first-child").attr("class","line"),m=i.insert(()=>S,":first-child"),m.attr("class","basic label-container"),y&&m.attr("style",y)}else{const x=gct(0,0,c,f,u,h,p);m=i.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",Gn(y)).attr("style",r)}return m.attr("label-offset-y",h),m.attr("transform",`translate(${-c/2}, ${-(f/2+h)})`),Lt(e,m),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+h-(s.y-(s.top??0))})`),e.intersect=function(x){const b=St.rect(e,x),w=b.x-(e.x??0);if(u!=0&&(Math.abs(w)<(e.width??0)/2||Math.abs(w)==(e.width??0)/2&&Math.abs(b.y-(e.y??0))>(e.height??0)/2-h)){let _=h*h*(1-w*w/(u*u));_>0&&(_=Math.sqrt(_)),_=h-_,x.y-(e.y??0)>0&&(_=-_),b.y+=_}return b},i}D($j,"linedCylinder");async function zj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/4,f=u+h,{cssStyles:p}=e,m=Mt.svg(i),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:-c/2-c/2*.1,y:-f/2},{x:-c/2-c/2*.1,y:f/2},...Es(-c/2-c/2*.1,f/2,c/2+c/2*.1,f/2,h,.8),{x:c/2+c/2*.1,y:-f/2},{x:-c/2-c/2*.1,y:-f/2},{x:-c/2,y:-f/2},{x:-c/2,y:f/2*1.1},{x:-c/2,y:-f/2}],b=m.polygon(x.map(_=>[_.x,_.y]),y),w=i.insert(()=>b,":first-child");return w.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),w.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-c/2+(e.padding??0)+c/2*.1/2-(s.x-(s.left??0))},${-u/2+(e.padding??0)-h/2-(s.y-(s.top??0))})`),Lt(e,w),e.intersect=function(_){return St.polygon(e,x,_)},i}D(zj,"linedWaveEdgedRect");async function Pj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=5,f=-c/2,p=-u/2,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{}),b=[{x:f-h,y:p+h},{x:f-h,y:p+u+h},{x:f+c-h,y:p+u+h},{x:f+c-h,y:p+u},{x:f+c,y:p+u},{x:f+c,y:p+u-h},{x:f+c+h,y:p+u-h},{x:f+c+h,y:p-h},{x:f+h,y:p-h},{x:f+h,y:p},{x:f,y:p},{x:f,y:p+h}],w=[{x:f,y:p+h},{x:f+c-h,y:p+h},{x:f+c-h,y:p+u},{x:f+c,y:p+u},{x:f+c,y:p},{x:f,y:p}];e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const _=te(b),S=y.path(_,x),T=te(w),E=y.path(T,{...x,fill:"none"}),M=i.insert(()=>E,":first-child");return M.insert(()=>S,":first-child"),M.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",r),o.attr("transform",`translate(${-(s.width/2)-h-(s.x-(s.left??0))}, ${-(s.height/2)+h-(s.y-(s.top??0))})`),Lt(e,M),e.intersect=function(L){return St.polygon(e,b,L)},i}D(Pj,"multiRect");async function Fj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/4,f=u+h,p=-c/2,m=-f/2,y=5,{cssStyles:x}=e,b=Es(p-y,m+f+y,p+c-y,m+f+y,h,.8),w=b?.[b.length-1],_=[{x:p-y,y:m+y},{x:p-y,y:m+f+y},...b,{x:p+c-y,y:w.y-y},{x:p+c,y:w.y-y},{x:p+c,y:w.y-2*y},{x:p+c+y,y:w.y-2*y},{x:p+c+y,y:m-y},{x:p+y,y:m-y},{x:p+y,y:m},{x:p,y:m},{x:p,y:m+y}],S=[{x:p,y:m+y},{x:p+c-y,y:m+y},{x:p+c-y,y:w.y-y},{x:p+c,y:w.y-y},{x:p+c,y:m},{x:p,y:m}],T=Mt.svg(i),E=Dt(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const M=te(_),L=T.path(M,E),N=te(S),$=T.path(N,E),P=i.insert(()=>L,":first-child");return P.insert(()=>$),P.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",x),r&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",r),P.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-(s.width/2)-y-(s.x-(s.left??0))}, ${-(s.height/2)+y-h/2-(s.y-(s.top??0))})`),Lt(e,P),e.intersect=function(z){return St.polygon(e,_,z)},i}D(Fj,"multiWaveEdgedRectangle");async function Ij(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Nt(e);e.labelStyle=r,e.useHtmlLabels||Wn().flowchart?.htmlLabels!==!1||(e.centerLabel=!0);const{shapeSvg:o,bbox:c,label:u}=await Ht(t,e,Ft(e)),h=Math.max(c.width+(e.padding??0)*2,e?.width??0),f=Math.max(c.height+(e.padding??0)*2,e?.height??0),p=-h/2,m=-f/2,{cssStyles:y}=e,x=Mt.svg(o),b=Dt(e,{fill:n.noteBkgColor,stroke:n.noteBorderColor});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const w=x.rectangle(p,m,h,f,b),_=o.insert(()=>w,":first-child");return _.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",y),i&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",i),u.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))}, ${-(c.height/2)-(c.y-(c.top??0))})`),Lt(e,_),e.intersect=function(S){return St.rect(e,S)},o}D(Ij,"note");var xct=D((t,e,n)=>[`M${t+n/2},${e}`,`L${t+n},${e-n/2}`,`L${t+n/2},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Hj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.width+e.padding,c=s.height+e.padding,u=o+c,h=.5,f=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}];let p;const{cssStyles:m}=e;if(e.look==="handDrawn"){const y=Mt.svg(i),x=Dt(e,{}),b=xct(0,0,u),w=y.path(b,x);p=i.insert(()=>w,":first-child").attr("transform",`translate(${-u/2+h}, ${u/2})`),m&&p.attr("style",m)}else p=Os(i,u,u,f),p.attr("transform",`translate(${-u/2+h}, ${u/2})`);return r&&p.attr("style",r),Lt(e,p),e.calcIntersect=function(y,x){const b=y.width,w=[{x:b/2,y:0},{x:b,y:-b/2},{x:b/2,y:-b},{x:0,y:-b/2}],_=St.polygon(y,w,x);return{x:_.x-.5,y:_.y-.5}},e.intersect=function(y){return this.calcIntersect(e,y)},i}D(Hj,"question");async function Vj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0),e?.width??0),u=Math.max(s.height+(e.padding??0),e?.height??0),h=-c/2,f=-u/2,p=f/2,m=[{x:h+p,y:f},{x:h,y:0},{x:h+p,y:-f},{x:-h,y:-f},{x:-h,y:f}],{cssStyles:y}=e,x=Mt.svg(i),b=Dt(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const w=te(m),_=x.path(w,b),S=i.insert(()=>_,":first-child");return S.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",y),r&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",r),S.attr("transform",`translate(${-p/2},0)`),o.attr("transform",`translate(${-p/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Lt(e,S),e.intersect=function(T){return St.polygon(e,m,T)},i}D(Vj,"rect_left_inv_arrow");async function qj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),o=s.insert("g"),c=s.insert("g").attr("class","label").attr("style",r),u=e.description,h=e.label,f=c.node().appendChild(await po(h,e.labelStyle,!0,!0));let p={width:0,height:0};if(Cn(ge()?.flowchart?.htmlLabels)){const $=f.children[0],P=Wt(f);p=$.getBoundingClientRect(),P.attr("width",p.width),P.attr("height",p.height)}yt.info("Text 2",u);const m=u||[],y=f.getBBox(),x=c.node().appendChild(await po(m.join?m.join("<br/>"):m,e.labelStyle,!0,!0)),b=x.children[0],w=Wt(x);p=b.getBoundingClientRect(),w.attr("width",p.width),w.attr("height",p.height);const _=(e.padding||0)/2;Wt(x).attr("transform","translate( "+(p.width>y.width?0:(y.width-p.width)/2)+", "+(y.height+_+5)+")"),Wt(f).attr("transform","translate( "+(p.width<y.width?0:-(y.width-p.width)/2)+", 0)"),p=c.node().getBBox(),c.attr("transform","translate("+-p.width/2+", "+(-p.height/2-_+3)+")");const S=p.width+(e.padding||0),T=p.height+(e.padding||0),E=-p.width/2-_,M=-p.height/2-_;let L,N;if(e.look==="handDrawn"){const $=Mt.svg(s),P=Dt(e,{}),z=$.path(Ls(E,M,S,T,e.rx||0),P),j=$.line(-p.width/2-_,-p.height/2-_+y.height+_,p.width/2+_,-p.height/2-_+y.height+_,P);N=s.insert(()=>(yt.debug("Rough node insert CXC",z),j),":first-child"),L=s.insert(()=>(yt.debug("Rough node insert CXC",z),z),":first-child")}else L=o.insert("rect",":first-child"),N=o.insert("line"),L.attr("class","outer title-state").attr("style",r).attr("x",-p.width/2-_).attr("y",-p.height/2-_).attr("width",p.width+(e.padding||0)).attr("height",p.height+(e.padding||0)),N.attr("class","divider").attr("x1",-p.width/2-_).attr("x2",p.width/2+_).attr("y1",-p.height/2-_+y.height+_).attr("y2",-p.height/2-_+y.height+_);return Lt(e,L),e.intersect=function($){return St.rect(e,$)},s}D(qj,"rectWithTitle");function Pu(t,e,n,r,i,s,o){const u=(t+n)/2,h=(e+r)/2,f=Math.atan2(r-e,n-t),p=(n-t)/2,m=(r-e)/2,y=p/i,x=m/s,b=Math.sqrt(y**2+x**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const w=Math.sqrt(1-b**2),_=u+w*s*Math.sin(f)*(o?-1:1),S=h-w*i*Math.cos(f)*(o?-1:1),T=Math.atan2((e-S)/s,(t-_)/i);let M=Math.atan2((r-S)/s,(n-_)/i)-T;o&&M<0&&(M+=2*Math.PI),!o&&M>0&&(M-=2*Math.PI);const L=[];for(let N=0;N<20;N++){const $=N/19,P=T+$*M,z=_+i*Math.cos(P),j=S+s*Math.sin(P);L.push({x:z,y:j})}return L}D(Pu,"generateArcPoints");async function Uj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=e?.padding??0,c=e?.padding??0,u=(e?.width?e?.width:s.width)+o*2,h=(e?.height?e?.height:s.height)+c*2,f=e.radius||5,p=e.taper||5,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{});e.stroke&&(x.stroke=e.stroke),e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=[{x:-u/2+p,y:-h/2},{x:u/2-p,y:-h/2},...Pu(u/2-p,-h/2,u/2,-h/2+p,f,f,!0),{x:u/2,y:-h/2+p},{x:u/2,y:h/2-p},...Pu(u/2,h/2-p,u/2-p,h/2,f,f,!0),{x:u/2-p,y:h/2},{x:-u/2+p,y:h/2},...Pu(-u/2+p,h/2,-u/2,h/2-p,f,f,!0),{x:-u/2,y:h/2-p},{x:-u/2,y:-h/2+p},...Pu(-u/2,-h/2+p,-u/2+p,-h/2,f,f,!0)],w=te(b),_=y.path(w,x),S=i.insert(()=>_,":first-child");return S.attr("class","basic label-container outer-path"),m&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",r),Lt(e,S),e.intersect=function(T){return St.polygon(e,b,T)},i}D(Uj,"roundedRect");async function Wj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=e?.padding??0,u=Math.max(s.width+(e.padding??0)*2,e?.width??0),h=Math.max(s.height+(e.padding??0)*2,e?.height??0),f=-s.width/2-c,p=-s.height/2-c,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=[{x:f,y:p},{x:f+u+8,y:p},{x:f+u+8,y:p+h},{x:f-8,y:p+h},{x:f-8,y:p},{x:f,y:p},{x:f,y:p+h}],w=y.polygon(b.map(S=>[S.x,S.y]),x),_=i.insert(()=>w,":first-child");return _.attr("class","basic label-container").attr("style",Gn(m)),r&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",r),m&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",r),o.attr("transform",`translate(${-u/2+4+(e.padding??0)-(s.x-(s.left??0))},${-h/2+(e.padding??0)-(s.y-(s.top??0))})`),Lt(e,_),e.intersect=function(S){return St.rect(e,S)},i}D(Wj,"shadedProcess");async function Yj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=-c/2,f=-u/2,{cssStyles:p}=e,m=Mt.svg(i),y=Dt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=[{x:h,y:f},{x:h,y:f+u},{x:h+c,y:f+u},{x:h+c,y:f-u/2}],b=te(x),w=m.path(b,y),_=i.insert(()=>w,":first-child");return _.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),_.attr("transform",`translate(0, ${u/4})`),o.attr("transform",`translate(${-c/2+(e.padding??0)-(s.x-(s.left??0))}, ${-u/4+(e.padding??0)-(s.y-(s.top??0))})`),Lt(e,_),e.intersect=function(S){return St.polygon(e,x,S)},i}D(Yj,"slopedRect");async function Gj(t,e){const n={rx:0,ry:0,labelPaddingX:e.labelPaddingX??(e?.padding||0)*2,labelPaddingY:(e?.padding||0)*1};return Am(t,e,n)}D(Gj,"squareRect");async function Xj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.height+e.padding,c=s.width+o/4+e.padding,u=o/2,{cssStyles:h}=e,f=Mt.svg(i),p=Dt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=[{x:-c/2+u,y:-o/2},{x:c/2-u,y:-o/2},...Nh(-c/2+u,0,u,50,90,270),{x:c/2-u,y:o/2},...Nh(c/2-u,0,u,50,270,450)],y=te(m),x=f.path(y,p),b=i.insert(()=>x,":first-child");return b.attr("class","basic label-container outer-path"),h&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",h),r&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",r),Lt(e,b),e.intersect=function(w){return St.polygon(e,m,w)},i}D(Xj,"stadium");async function Zj(t,e){return Am(t,e,{rx:5,ry:5})}D(Zj,"state");function Kj(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=Nt(e);e.labelStyle=r;const{cssStyles:s}=e,{lineColor:o,stateBorder:c,nodeBorder:u}=n,h=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),f=Mt.svg(h),p=Dt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=f.circle(0,0,14,{...p,stroke:o,strokeWidth:2}),y=c??u,x=f.circle(0,0,5,{...p,fill:y,stroke:y,strokeWidth:2,fillStyle:"solid"}),b=h.insert(()=>m,":first-child");return b.insert(()=>x),s&&b.selectAll("path").attr("style",s),i&&b.selectAll("path").attr("style",i),Lt(e,b),e.intersect=function(w){return St.circle(e,7,w)},h}D(Kj,"stateEnd");function Qj(t,e,{config:{themeVariables:n}}){const{lineColor:r}=n,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s;if(e.look==="handDrawn"){const c=Mt.svg(i).circle(0,0,14,Oit(r));s=i.insert(()=>c),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Lt(e,s),e.intersect=function(o){return St.circle(e,7,o)},i}D(Qj,"stateStart");async function Jj(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=(e?.padding||0)/2,c=s.width+e.padding,u=s.height+e.padding,h=-s.width/2-o,f=-s.height/2-o,p=[{x:0,y:0},{x:c,y:0},{x:c,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:c+8,y:0},{x:c+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(e.look==="handDrawn"){const m=Mt.svg(i),y=Dt(e,{}),x=m.rectangle(h-8,f,c+16,u,y),b=m.line(h,f,h,f+u,y),w=m.line(h+c,f,h+c,f+u,y);i.insert(()=>b,":first-child"),i.insert(()=>w,":first-child");const _=i.insert(()=>x,":first-child"),{cssStyles:S}=e;_.attr("class","basic label-container").attr("style",Gn(S)),Lt(e,_)}else{const m=Os(i,c,u,p);r&&m.attr("style",r),Lt(e,m)}return e.intersect=function(m){return St.polygon(e,p,m)},i}D(Jj,"subroutine");async function t$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=-o/2,h=-c/2,f=.2*c,p=.2*c,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{}),b=[{x:u-f/2,y:h},{x:u+o+f/2,y:h},{x:u+o+f/2,y:h+c},{x:u-f/2,y:h+c}],w=[{x:u+o-f/2,y:h+c},{x:u+o+f/2,y:h+c},{x:u+o+f/2,y:h+c-p}];e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const _=te(b),S=y.path(_,x),T=te(w),E=y.path(T,{...x,fillStyle:"solid"}),M=i.insert(()=>E,":first-child");return M.insert(()=>S,":first-child"),M.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",r),Lt(e,M),e.intersect=function(L){return St.polygon(e,b,L)},i}D(t$,"taggedRect");async function e$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/4,f=.2*c,p=.2*u,m=u+h,{cssStyles:y}=e,x=Mt.svg(i),b=Dt(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const w=[{x:-c/2-c/2*.1,y:m/2},...Es(-c/2-c/2*.1,m/2,c/2+c/2*.1,m/2,h,.8),{x:c/2+c/2*.1,y:-m/2},{x:-c/2-c/2*.1,y:-m/2}],_=-c/2+c/2*.1,S=-m/2-p*.4,T=[{x:_+c-f,y:(S+u)*1.4},{x:_+c,y:S+u-p},{x:_+c,y:(S+u)*.9},...Es(_+c,(S+u)*1.3,_+c-f,(S+u)*1.5,-u*.03,.5)],E=te(w),M=x.path(E,b),L=te(T),N=x.path(L,{...b,fillStyle:"solid"}),$=i.insert(()=>N,":first-child");return $.insert(()=>M,":first-child"),$.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",y),r&&e.look!=="handDrawn"&&$.selectAll("path").attr("style",r),$.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-c/2+(e.padding??0)-(s.x-(s.left??0))},${-u/2+(e.padding??0)-h/2-(s.y-(s.top??0))})`),Lt(e,$),e.intersect=function(P){return St.polygon(e,w,P)},i}D(e$,"taggedWaveEdgedRectangle");async function n$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=Math.max(s.width+e.padding,e?.width||0),c=Math.max(s.height+e.padding,e?.height||0),u=-o/2,h=-c/2,f=i.insert("rect",":first-child");return f.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",u).attr("y",h).attr("width",o).attr("height",c),Lt(e,f),e.intersect=function(p){return St.rect(e,p)},i}D(n$,"text");var bct=D((t,e,n,r,i,s)=>`M${t},${e}
    a${i},${s} 0,0,1 0,${-r}
    l${n},0
    a${i},${s} 0,0,1 0,${r}
    M${n},${-r}
    a${i},${s} 0,0,0 0,${r}
    l${-n},0`,"createCylinderPathD"),vct=D((t,e,n,r,i,s)=>[`M${t},${e}`,`M${t+n},${e}`,`a${i},${s} 0,0,0 0,${-r}`,`l${-n},0`,`a${i},${s} 0,0,0 0,${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),wct=D((t,e,n,r,i,s)=>[`M${t+n/2},${-r/2}`,`a${i},${s} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function r$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o,halfPadding:c}=await Ht(t,e,Ft(e)),u=e.look==="neo"?c*2:c,h=s.height+u,f=h/2,p=f/(2.5+h/50),m=s.width+p+u,{cssStyles:y}=e;let x;if(e.look==="handDrawn"){const b=Mt.svg(i),w=vct(0,0,m,h,p,f),_=wct(0,0,m,h,p,f),S=b.path(w,Dt(e,{})),T=b.path(_,Dt(e,{fill:"none"}));x=i.insert(()=>T,":first-child"),x=i.insert(()=>S,":first-child"),x.attr("class","basic label-container"),y&&x.attr("style",y)}else{const b=bct(0,0,m,h,p,f);x=i.insert("path",":first-child").attr("d",b).attr("class","basic label-container").attr("style",Gn(y)).attr("style",r),x.attr("class","basic label-container"),y&&x.selectAll("path").attr("style",y),r&&x.selectAll("path").attr("style",r)}return x.attr("label-offset-x",p),x.attr("transform",`translate(${-m/2}, ${h/2} )`),o.attr("transform",`translate(${-(s.width/2)-p-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Lt(e,x),e.intersect=function(b){const w=St.rect(e,b),_=w.y-(e.y??0);if(f!=0&&(Math.abs(_)<(e.height??0)/2||Math.abs(_)==(e.height??0)/2&&Math.abs(w.x-(e.x??0))>(e.width??0)/2-p)){let S=p*p*(1-_*_/(f*f));S!=0&&(S=Math.sqrt(Math.abs(S))),S=p-S,b.x-(e.x??0)>0&&(S=-S),w.x+=S}return w},i}D(r$,"tiltedCylinder");async function i$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=s.width+e.padding,c=s.height+e.padding,u=[{x:-3*c/6,y:0},{x:o+3*c/6,y:0},{x:o,y:-c},{x:0,y:-c}];let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=Mt.svg(i),m=Dt(e,{}),y=te(u),x=p.path(y,m);h=i.insert(()=>x,":first-child").attr("transform",`translate(${-o/2}, ${c/2})`),f&&h.attr("style",f)}else h=Os(i,o,c,u);return r&&h.attr("style",r),e.width=o,e.height=c,Lt(e,h),e.intersect=function(p){return St.polygon(e,u,p)},i}D(i$,"trapezoid");async function a$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=60,c=20,u=Math.max(o,s.width+(e.padding??0)*2,e?.width??0),h=Math.max(c,s.height+(e.padding??0)*2,e?.height??0),{cssStyles:f}=e,p=Mt.svg(i),m=Dt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-u/2*.8,y:-h/2},{x:u/2*.8,y:-h/2},{x:u/2,y:-h/2*.6},{x:u/2,y:h/2},{x:-u/2,y:h/2},{x:-u/2,y:-h/2*.6}],x=te(y),b=p.path(x,m),w=i.insert(()=>b,":first-child");return w.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",f),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),Lt(e,w),e.intersect=function(_){return St.polygon(e,y,_)},i}D(a$,"trapezoidalPentagon");async function s$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Cn(ge().flowchart?.htmlLabels),u=s.width+(e.padding??0),h=u+s.height,f=u+s.height,p=[{x:0,y:0},{x:f,y:0},{x:f/2,y:-h}],{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=te(p),w=y.path(b,x),_=i.insert(()=>w,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return m&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),e.width=u,e.height=h,Lt(e,_),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${h/2-(s.height+(e.padding??0)/(c?2:1)-(s.y-(s.top??0)))})`),e.intersect=function(S){return yt.info("Triangle intersect",e,p,S),St.polygon(e,p,S)},i}D(s$,"triangle");async function o$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=u/8,f=u+h,{cssStyles:p}=e,y=70-c,x=y>0?y/2:0,b=Mt.svg(i),w=Dt(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const _=[{x:-c/2-x,y:f/2},...Es(-c/2-x,f/2,c/2+x,f/2,h,.8),{x:c/2+x,y:-f/2},{x:-c/2-x,y:-f/2}],S=te(_),T=b.path(S,w),E=i.insert(()=>T,":first-child");return E.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",r),E.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-c/2+(e.padding??0)-(s.x-(s.left??0))},${-u/2+(e.padding??0)-h-(s.y-(s.top??0))})`),Lt(e,E),e.intersect=function(M){return St.polygon(e,_,M)},i}D(o$,"waveEdgedRectangle");async function l$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await Ht(t,e,Ft(e)),o=100,c=50,u=Math.max(s.width+(e.padding??0)*2,e?.width??0),h=Math.max(s.height+(e.padding??0)*2,e?.height??0),f=u/h;let p=u,m=h;p>m*f?m=p/f:p=m*f,p=Math.max(p,o),m=Math.max(m,c);const y=Math.min(m*.2,m/4),x=m+y*2,{cssStyles:b}=e,w=Mt.svg(i),_=Dt(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=[{x:-p/2,y:x/2},...Es(-p/2,x/2,p/2,x/2,y,1),{x:p/2,y:-x/2},...Es(p/2,-x/2,-p/2,-x/2,y,-1)],T=te(S),E=w.path(T,_),M=i.insert(()=>E,":first-child");return M.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",b),r&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",r),Lt(e,M),e.intersect=function(L){return St.polygon(e,S,L)},i}D(l$,"waveRectangle");async function c$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await Ht(t,e,Ft(e)),c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),h=5,f=-c/2,p=-u/2,{cssStyles:m}=e,y=Mt.svg(i),x=Dt(e,{}),b=[{x:f-h,y:p-h},{x:f-h,y:p+u},{x:f+c,y:p+u},{x:f+c,y:p-h}],w=`M${f-h},${p-h} L${f+c},${p-h} L${f+c},${p+u} L${f-h},${p+u} L${f-h},${p-h}
                M${f-h},${p} L${f+c},${p}
                M${f},${p-h} L${f},${p+u}`;e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const _=y.path(w,x),S=i.insert(()=>_,":first-child");return S.attr("transform",`translate(${h/2}, ${h/2})`),S.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",r),o.attr("transform",`translate(${-(s.width/2)+h/2-(s.x-(s.left??0))}, ${-(s.height/2)+h/2-(s.y-(s.top??0))})`),Lt(e,S),e.intersect=function(T){return St.polygon(e,b,T)},i}D(c$,"windowPane");async function z2(t,e){const n=e;if(n.alias&&(e.label=n.alias),e.look==="handDrawn"){const{themeVariables:V}=Wn(),{background:K}=V,et={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${K}`]};await z2(t,et)}const r=Wn();e.useHtmlLabels=r.htmlLabels;let i=r.er?.diagramPadding??10,s=r.er?.entityPadding??6;const{cssStyles:o}=e,{labelStyles:c,nodeStyles:u}=Nt(e);if(n.attributes.length===0&&e.label){const V={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};Da(e.label,r)+V.labelPaddingX*2<r.er.minEntityWidth&&(e.width=r.er.minEntityWidth);const K=await Am(t,e,V);if(!Cn(r.htmlLabels)){const et=K.select("text"),X=et.node()?.getBBox();et.attr("transform",`translate(${-X.width/2}, 0)`)}return K}r.htmlLabels||(i*=1.25,s*=1.25);let h=Ft(e);h||(h="node default");const f=t.insert("g").attr("class",h).attr("id",e.domId||e.id),p=await Ml(f,e.label??"",r,0,0,["name"],c);p.height+=s;let m=0;const y=[],x=[];let b=0,w=0,_=0,S=0,T=!0,E=!0;for(const V of n.attributes){const K=await Ml(f,V.type,r,0,m,["attribute-type"],c);b=Math.max(b,K.width+i);const et=await Ml(f,V.name,r,0,m,["attribute-name"],c);w=Math.max(w,et.width+i);const X=await Ml(f,V.keys.join(),r,0,m,["attribute-keys"],c);_=Math.max(_,X.width+i);const Q=await Ml(f,V.comment,r,0,m,["attribute-comment"],c);S=Math.max(S,Q.width+i);const tt=Math.max(K.height,et.height,X.height,Q.height)+s;x.push({yOffset:m,rowHeight:tt}),m+=tt}let M=4;_<=i&&(T=!1,_=0,M--),S<=i&&(E=!1,S=0,M--);const L=f.node().getBBox();if(p.width+i*2-(b+w+_+S)>0){const V=p.width+i*2-(b+w+_+S);b+=V/M,w+=V/M,_>0&&(_+=V/M),S>0&&(S+=V/M)}const N=b+w+_+S,$=Mt.svg(f),P=Dt(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");let z=0;x.length>0&&(z=x.reduce((V,K)=>V+(K?.rowHeight??0),0));const j=Math.max(L.width+i*2,e?.width||0,N),W=Math.max((z??0)+p.height,e?.height||0),G=-j/2,B=-W/2;f.selectAll("g:not(:first-child)").each((V,K,et)=>{const X=Wt(et[K]),Q=X.attr("transform");let tt=0,at=0;if(Q){const pt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Q);pt&&(tt=parseFloat(pt[1]),at=parseFloat(pt[2]),X.attr("class").includes("attribute-name")?tt+=b:X.attr("class").includes("attribute-keys")?tt+=b+w:X.attr("class").includes("attribute-comment")&&(tt+=b+w+_))}X.attr("transform",`translate(${G+i/2+tt}, ${at+B+p.height+s/2})`)}),f.select(".name").attr("transform","translate("+-p.width/2+", "+(B+s/2)+")");const H=$.rectangle(G,B,j,W,P),R=f.insert(()=>H,":first-child").attr("style",o.join("")),{themeVariables:I}=Wn(),{rowEven:U,rowOdd:Z,nodeBorder:nt}=I;y.push(0);for(const[V,K]of x.entries()){const X=(V+1)%2===0&&K.yOffset!==0,Q=$.rectangle(G,p.height+B+K?.yOffset,j,K?.rowHeight,{...P,fill:X?U:Z,stroke:nt});f.insert(()=>Q,"g.label").attr("style",o.join("")).attr("class",`row-rect-${X?"even":"odd"}`)}let q=$.line(G,p.height+B,j+G,p.height+B,P);f.insert(()=>q).attr("class","divider"),q=$.line(b+G,p.height+B,b+G,W+B,P),f.insert(()=>q).attr("class","divider"),T&&(q=$.line(b+w+G,p.height+B,b+w+G,W+B,P),f.insert(()=>q).attr("class","divider")),E&&(q=$.line(b+w+_+G,p.height+B,b+w+_+G,W+B,P),f.insert(()=>q).attr("class","divider"));for(const V of y)q=$.line(G,p.height+B+V,j+G,p.height+B+V,P),f.insert(()=>q).attr("class","divider");if(Lt(e,R),u&&e.look!=="handDrawn"){const K=u.split(";")?.filter(et=>et.includes("stroke"))?.map(et=>`${et}`).join("; ");f.selectAll("path").attr("style",K??""),f.selectAll(".row-rect-even path").attr("style",u)}return e.intersect=function(V){return St.rect(e,V)},f}D(z2,"erBox");async function Ml(t,e,n,r=0,i=0,s=[],o=""){const c=t.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${r}, ${i})`).attr("style",o);e!==oA(e)&&(e=oA(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const u=c.node().appendChild(await Ns(c,e,{width:Da(e,n)+100,style:o,useHtmlLabels:n.htmlLabels},n));if(e.includes("&lt;")||e.includes("&gt;")){let f=u.children[0];for(f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");f.childNodes[0];)f=f.childNodes[0],f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let h=u.getBBox();if(Cn(n.htmlLabels)){const f=u.children[0];f.style.textAlign="start";const p=Wt(u);h=f.getBoundingClientRect(),p.attr("width",h.width),p.attr("height",h.height)}return h}D(Ml,"addText");async function u$(t,e,n,r,i=n.class.padding??12){const s=r?0:3,o=t.insert("g").attr("class",Ft(e)).attr("id",e.domId||e.id);let c=null,u=null,h=null,f=null,p=0,m=0,y=0;if(c=o.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const S=e.annotations[0];await Fu(c,{text:`${S}`},0),p=c.node().getBBox().height}u=o.insert("g").attr("class","label-group text"),await Fu(u,e,0,["font-weight: bolder"]);const x=u.node().getBBox();m=x.height,h=o.insert("g").attr("class","members-group text");let b=0;for(const S of e.members){const T=await Fu(h,S,b,[S.parseClassifier()]);b+=T+s}y=h.node().getBBox().height,y<=0&&(y=i/2),f=o.insert("g").attr("class","methods-group text");let w=0;for(const S of e.methods){const T=await Fu(f,S,w,[S.parseClassifier()]);w+=T+s}let _=o.node().getBBox();if(c!==null){const S=c.node().getBBox();c.attr("transform",`translate(${-S.width/2})`)}return u.attr("transform",`translate(${-x.width/2}, ${p})`),_=o.node().getBBox(),h.attr("transform",`translate(0, ${p+m+i*2})`),_=o.node().getBBox(),f.attr("transform",`translate(0, ${p+m+(y?y+i*4:i*2)})`),_=o.node().getBBox(),{shapeSvg:o,bbox:_}}D(u$,"textHelper");async function Fu(t,e,n,r=[]){const i=t.insert("g").attr("class","label").attr("style",r.join("; ")),s=Wn();let o="useHtmlLabels"in e?e.useHtmlLabels:Cn(s.htmlLabels)??!0,c="";"text"in e?c=e.text:c=e.label,!o&&c.startsWith("\\")&&(c=c.substring(1)),cc(c)&&(o=!0);const u=await Ns(i,e2(Bo(c)),{width:Da(c,s)+50,classes:"markdown-node-label",useHtmlLabels:o},s);let h,f=1;if(o){const p=u.children[0],m=Wt(u);f=p.innerHTML.split("<br>").length,p.innerHTML.includes("</math>")&&(f+=p.innerHTML.split("<mrow>").length-1);const y=p.getElementsByTagName("img");if(y){const x=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(b=>new Promise(w=>{function _(){if(b.style.display="flex",b.style.flexDirection="column",x){const S=s.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,E=parseInt(S,10)*5+"px";b.style.minWidth=E,b.style.maxWidth=E}else b.style.width="100%";w(b)}D(_,"setupImage"),setTimeout(()=>{b.complete&&_()}),b.addEventListener("error",_),b.addEventListener("load",_)})))}h=p.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}else{r.includes("font-weight: bolder")&&Wt(u).selectAll("tspan").attr("font-weight",""),f=u.children.length;const p=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(p.textContent=c[0]+c.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),c[1]===" "&&(p.textContent=p.textContent[0]+" "+p.textContent.substring(1))),p.textContent==="undefined"&&(p.textContent=""),h=u.getBBox()}return i.attr("transform","translate(0,"+(-h.height/(2*f)+n)+")"),h.height}D(Fu,"addText");async function h$(t,e){const n=ge(),r=n.class.padding??12,i=r,s=e.useHtmlLabels??Cn(n.htmlLabels)??!0,o=e;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:c,bbox:u}=await u$(t,e,n,s,i),{labelStyles:h,nodeStyles:f}=Nt(e);e.labelStyle=h,e.cssStyles=o.styles||"";const p=o.styles?.join(";")||f||"";e.cssStyles||(e.cssStyles=p.replaceAll("!important","").split(";"));const m=o.members.length===0&&o.methods.length===0&&!n.class?.hideEmptyMembersBox,y=Mt.svg(c),x=Dt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=u.width;let w=u.height;o.members.length===0&&o.methods.length===0?w+=i:o.members.length>0&&o.methods.length===0&&(w+=i*2);const _=-b/2,S=-w/2,T=y.rectangle(_-r,S-r-(m?r:o.members.length===0&&o.methods.length===0?-r/2:0),b+2*r,w+2*r+(m?r*2:o.members.length===0&&o.methods.length===0?-r:0),x),E=c.insert(()=>T,":first-child");E.attr("class","basic label-container");const M=E.node().getBBox();c.selectAll(".text").each((P,z,j)=>{const W=Wt(j[z]),G=W.attr("transform");let B=0;if(G){const U=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(G);U&&(B=parseFloat(U[2]))}let H=B+S+r-(m?r:o.members.length===0&&o.methods.length===0?-r/2:0);s||(H-=4);let R=_;(W.attr("class").includes("label-group")||W.attr("class").includes("annotation-group"))&&(R=-W.node()?.getBBox().width/2||0,c.selectAll("text").each(function(I,U,Z){window.getComputedStyle(Z[U]).textAnchor==="middle"&&(R=0)})),W.attr("transform",`translate(${R}, ${H})`)});const L=c.select(".annotation-group").node().getBBox().height-(m?r/2:0)||0,N=c.select(".label-group").node().getBBox().height-(m?r/2:0)||0,$=c.select(".members-group").node().getBBox().height-(m?r/2:0)||0;if(o.members.length>0||o.methods.length>0||m){const P=y.line(M.x,L+N+S+r,M.x+M.width,L+N+S+r,x);c.insert(()=>P).attr("class","divider").attr("style",p)}if(m||o.members.length>0||o.methods.length>0){const P=y.line(M.x,L+N+$+S+i*2+r,M.x+M.width,L+N+$+S+r+i*2,x);c.insert(()=>P).attr("class","divider").attr("style",p)}if(o.look!=="handDrawn"&&c.selectAll("path").attr("style",p),E.select(":nth-child(2)").attr("style",p),c.selectAll(".divider").select("path").attr("style",p),e.labelStyle?c.selectAll("span").attr("style",e.labelStyle):c.selectAll("span").attr("style",p),!s){const P=RegExp(/color\s*:\s*([^;]*)/),z=P.exec(p);if(z){const j=z[0].replace("color","fill");c.selectAll("tspan").attr("style",j)}else if(h){const j=P.exec(h);if(j){const W=j[0].replace("color","fill");c.selectAll("tspan").attr("style",W)}}}return Lt(e,E),e.intersect=function(P){return St.rect(e,P)},c}D(h$,"classBox");async function d$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const i=e,s=e,o=20,c=20,u="verifyMethod"in e,h=Ft(e),f=t.insert("g").attr("class",h).attr("id",e.domId??e.id);let p;u?p=await zi(f,`&lt;&lt;${i.type}&gt;&gt;`,0,e.labelStyle):p=await zi(f,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let m=p;const y=await zi(f,i.name,m,e.labelStyle+"; font-weight: bold;");if(m+=y+c,u){const L=await zi(f,`${i.requirementId?`ID: ${i.requirementId}`:""}`,m,e.labelStyle);m+=L;const N=await zi(f,`${i.text?`Text: ${i.text}`:""}`,m,e.labelStyle);m+=N;const $=await zi(f,`${i.risk?`Risk: ${i.risk}`:""}`,m,e.labelStyle);m+=$,await zi(f,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,m,e.labelStyle)}else{const L=await zi(f,`${s.type?`Type: ${s.type}`:""}`,m,e.labelStyle);m+=L,await zi(f,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,m,e.labelStyle)}const x=(f.node()?.getBBox().width??200)+o,b=(f.node()?.getBBox().height??200)+o,w=-x/2,_=-b/2,S=Mt.svg(f),T=Dt(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const E=S.rectangle(w,_,x,b,T),M=f.insert(()=>E,":first-child");if(M.attr("class","basic label-container").attr("style",r),f.selectAll(".label").each((L,N,$)=>{const P=Wt($[N]),z=P.attr("transform");let j=0,W=0;if(z){const R=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(z);R&&(j=parseFloat(R[1]),W=parseFloat(R[2]))}const G=W-b/2;let B=w+o/2;(N===0||N===1)&&(B=j),P.attr("transform",`translate(${B}, ${G+o})`)}),m>p+y+c){const L=S.line(w,_+p+y+c,w+x,_+p+y+c,T);f.insert(()=>L).attr("style",r)}return Lt(e,M),e.intersect=function(L){return St.rect(e,L)},f}D(d$,"requirementBox");async function zi(t,e,n,r=""){if(e==="")return 0;const i=t.insert("g").attr("class","label").attr("style",r),s=ge(),o=s.htmlLabels??!0,c=await Ns(i,e2(Bo(e)),{width:Da(e,s)+50,classes:"markdown-node-label",useHtmlLabels:o,style:r},s);let u;if(o){const h=c.children[0],f=Wt(c);u=h.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}else{const h=c.children[0];for(const f of h.children)f.textContent=f.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),r&&f.setAttribute("style",r);u=c.getBBox(),u.height+=6}return i.attr("transform",`translate(${-u.width/2},${-u.height/2+n})`),u.height}D(zi,"addText");var Sct=D(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function f$(t,e,{config:n}){const{labelStyles:r,nodeStyles:i}=Nt(e);e.labelStyle=r||"";const s=10,o=e.width;e.width=(e.width??200)-10;const{shapeSvg:c,bbox:u,label:h}=await Ht(t,e,Ft(e)),f=e.padding||10;let p="",m;"ticket"in e&&e.ticket&&n?.kanban?.ticketBaseUrl&&(p=n?.kanban?.ticketBaseUrl.replace("#TICKET#",e.ticket),m=c.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",p).attr("target","_blank"));const y={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let x,b;m?{label:x,bbox:b}=await eb(m,"ticket"in e&&e.ticket||"",y):{label:x,bbox:b}=await eb(c,"ticket"in e&&e.ticket||"",y);const{label:w,bbox:_}=await eb(c,"assigned"in e&&e.assigned||"",y);e.width=o;const S=10,T=e?.width||0,E=Math.max(b.height,_.height)/2,M=Math.max(u.height+S*2,e?.height||0)+E,L=-T/2,N=-M/2;h.attr("transform","translate("+(f-T/2)+", "+(-E-u.height/2)+")"),x.attr("transform","translate("+(f-T/2)+", "+(-E+u.height/2)+")"),w.attr("transform","translate("+(f+T/2-_.width-2*s)+", "+(-E+u.height/2)+")");let $;const{rx:P,ry:z}=e,{cssStyles:j}=e;if(e.look==="handDrawn"){const W=Mt.svg(c),G=Dt(e,{}),B=P||z?W.path(Ls(L,N,T,M,P||0),G):W.rectangle(L,N,T,M,G);$=c.insert(()=>B,":first-child"),$.attr("class","basic label-container").attr("style",j||null)}else{$=c.insert("rect",":first-child"),$.attr("class","basic label-container __APA__").attr("style",i).attr("rx",P??5).attr("ry",z??5).attr("x",L).attr("y",N).attr("width",T).attr("height",M);const W="priority"in e&&e.priority;if(W){const G=c.append("line"),B=L+2,H=N+Math.floor((P??0)/2),R=N+M-Math.floor((P??0)/2);G.attr("x1",B).attr("y1",H).attr("x2",B).attr("y2",R).attr("stroke-width","4").attr("stroke",Sct(W))}}return Lt(e,$),e.height=M,e.intersect=function(W){return St.rect(e,W)},c}D(f$,"kanbanItem");async function p$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o,label:c}=await Ht(t,e,Ft(e)),u=s.width+10*o,h=s.height+8*o,f=.15*u,{cssStyles:p}=e,m=s.width+20,y=s.height+20,x=Math.max(u,m),b=Math.max(h,y);c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let w;const _=`M0 0 
    a${f},${f} 1 0,0 ${x*.25},${-1*b*.1}
    a${f},${f} 1 0,0 ${x*.25},0
    a${f},${f} 1 0,0 ${x*.25},0
    a${f},${f} 1 0,0 ${x*.25},${b*.1}

    a${f},${f} 1 0,0 ${x*.15},${b*.33}
    a${f*.8},${f*.8} 1 0,0 0,${b*.34}
    a${f},${f} 1 0,0 ${-1*x*.15},${b*.33}

    a${f},${f} 1 0,0 ${-1*x*.25},${b*.15}
    a${f},${f} 1 0,0 ${-1*x*.25},0
    a${f},${f} 1 0,0 ${-1*x*.25},0
    a${f},${f} 1 0,0 ${-1*x*.25},${-1*b*.15}

    a${f},${f} 1 0,0 ${-1*x*.1},${-1*b*.33}
    a${f*.8},${f*.8} 1 0,0 0,${-1*b*.34}
    a${f},${f} 1 0,0 ${x*.1},${-1*b*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const S=Mt.svg(i),T=Dt(e,{}),E=S.path(_,T);w=i.insert(()=>E,":first-child"),w.attr("class","basic label-container").attr("style",Gn(p))}else w=i.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",_);return w.attr("transform",`translate(${-x/2}, ${-b/2})`),Lt(e,w),e.calcIntersect=function(S,T){return St.rect(S,T)},e.intersect=function(S){return yt.info("Bang intersect",e,S),St.rect(e,S)},i}D(p$,"bang");async function g$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o,label:c}=await Ht(t,e,Ft(e)),u=s.width+2*o,h=s.height+2*o,f=.15*u,p=.25*u,m=.35*u,y=.2*u,{cssStyles:x}=e;let b;const w=`M0 0 
    a${f},${f} 0 0,1 ${u*.25},${-1*u*.1}
    a${m},${m} 1 0,1 ${u*.4},${-1*u*.1}
    a${p},${p} 1 0,1 ${u*.35},${u*.2}

    a${f},${f} 1 0,1 ${u*.15},${h*.35}
    a${y},${y} 1 0,1 ${-1*u*.15},${h*.65}

    a${p},${f} 1 0,1 ${-1*u*.25},${u*.15}
    a${m},${m} 1 0,1 ${-1*u*.5},0
    a${f},${f} 1 0,1 ${-1*u*.25},${-1*u*.15}

    a${f},${f} 1 0,1 ${-1*u*.1},${-1*h*.35}
    a${y},${y} 1 0,1 ${u*.1},${-1*h*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const _=Mt.svg(i),S=Dt(e,{}),T=_.path(w,S);b=i.insert(()=>T,":first-child"),b.attr("class","basic label-container").attr("style",Gn(x))}else b=i.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",w);return c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),b.attr("transform",`translate(${-u/2}, ${-h/2})`),Lt(e,b),e.calcIntersect=function(_,S){return St.rect(_,S)},e.intersect=function(_){return yt.info("Cloud intersect",e,_),St.rect(e,_)},i}D(g$,"cloud");async function m$(t,e){const{labelStyles:n,nodeStyles:r}=Nt(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o,label:c}=await Ht(t,e,Ft(e)),u=s.width+8*o,h=s.height+2*o,f=5,p=`
    M${-u/2} ${h/2-f}
    v${-h+2*f}
    q0,-${f} ${f},-${f}
    h${u-2*f}
    q${f},0 ${f},${f}
    v${h-2*f}
    q0,${f} -${f},${f}
    h${-u+2*f}
    q-${f},0 -${f},-${f}
    Z
  `,m=i.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",r).attr("d",p);return i.append("line").attr("class","node-line-").attr("x1",-u/2).attr("y1",h/2).attr("x2",u/2).attr("y2",h/2),c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>c.node()),Lt(e,m),e.calcIntersect=function(y,x){return St.rect(y,x)},e.intersect=function(y){return St.rect(e,y)},i}D(m$,"defaultMindmapNode");async function y$(t,e){const n={padding:e.padding??0};return $2(t,e,n)}D(y$,"mindmapCircle");var Cct=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Gj},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Uj},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Xj},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:Jj},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:xj},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:$2},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:p$},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:g$},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Hj},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:kj},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Bj},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Rj},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:i$},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Lj},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:vj},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:n$},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:uj},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Wj},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Qj},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Kj},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Cj},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Tj},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:pj},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:gj},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:mj},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:jj},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:o$},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:_j},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:r$},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:$j},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:yj},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:bj},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:s$},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:c$},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:wj},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:a$},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Sj},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Yj},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Fj},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:Pj},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:cj},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:fj},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:e$},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:t$},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:l$},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Vj},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:zj}],_ct=D(()=>{const e=[...Object.entries({state:Zj,choice:hj,note:Ij,rectWithTitle:qj,labelRect:Oj,iconSquare:Dj,iconCircle:Aj,icon:Ej,iconRounded:Mj,imageSquare:Nj,anchor:lj,kanbanItem:f$,mindmapCircle:y$,defaultMindmapNode:m$,classBox:h$,erBox:z2,requirementBox:d$}),...Cct.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(i=>[i,n.handler]))];return Object.fromEntries(e)},"generateShapeMap"),x$=_ct();function kct(t){return t in x$}D(kct,"isValidShape");var Mm=new Map;async function b$(t,e,n){let r,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const s=e.shape?x$[e.shape]:void 0;if(!s)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let o;n.config.securityLevel==="sandbox"?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o??null),i=await s(r,e,n)}else i=await s(t,e,n),r=i;return e.tooltip&&i.attr("title",e.tooltip),Mm.set(e.id,r),e.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}D(b$,"insertNode");var Yft=D((t,e)=>{Mm.set(e.id,t)},"setNodeElem"),Gft=D(()=>{Mm.clear()},"clear"),Xft=D(t=>{const e=Mm.get(t.id);yt.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode"),Tct=D((t,e,n,r,i,s)=>{e.arrowTypeStart&&tM(t,"start",e.arrowTypeStart,n,r,i,s),e.arrowTypeEnd&&tM(t,"end",e.arrowTypeEnd,n,r,i,s)},"addEdgeMarkers"),Ect={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},tM=D((t,e,n,r,i,s,o)=>{const c=Ect[n];if(!c){yt.warn(`Unknown arrow type: ${n}`);return}const u=c.type,f=`${i}_${s}-${u}${e==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const p=o.replace(/[^\dA-Za-z]/g,"_"),m=`${f}_${p}`;if(!document.getElementById(m)){const y=document.getElementById(f);if(y){const x=y.cloneNode(!0);x.id=m,x.querySelectorAll("path, circle, line").forEach(w=>{w.setAttribute("stroke",o),c.fill&&w.setAttribute("fill",o)}),y.parentNode?.appendChild(x)}}t.attr(`marker-${e}`,`url(${r}#${m})`)}else t.attr(`marker-${e}`,`url(${r}#${f})`)},"addEdgeMarker"),Dg=new Map,zn=new Map,Zft=D(()=>{Dg.clear(),zn.clear()},"clear"),ep=D(t=>t?t.reduce((n,r)=>n+";"+r,""):"","getLabelStyles"),Act=D(async(t,e)=>{let n=Cn(ge().flowchart.htmlLabels);const{labelStyles:r}=Nt(e);e.labelStyle=r;const i=await Ns(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});yt.info("abc82",e,e.labelType);const s=t.insert("g").attr("class","edgeLabel"),o=s.insert("g").attr("class","label").attr("data-id",e.id);o.node().appendChild(i);let c=i.getBBox();if(n){const h=i.children[0],f=Wt(i);c=h.getBoundingClientRect(),f.attr("width",c.width),f.attr("height",c.height)}o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),Dg.set(e.id,s),e.width=c.width,e.height=c.height;let u;if(e.startLabelLeft){const h=await po(e.startLabelLeft,ep(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");u=p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),zn.get(e.id)||zn.set(e.id,{}),zn.get(e.id).startLeft=f,Iu(u,e.startLabelLeft)}if(e.startLabelRight){const h=await po(e.startLabelRight,ep(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");u=f.node().appendChild(h),p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),zn.get(e.id)||zn.set(e.id,{}),zn.get(e.id).startRight=f,Iu(u,e.startLabelRight)}if(e.endLabelLeft){const h=await po(e.endLabelLeft,ep(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");u=p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),f.node().appendChild(h),zn.get(e.id)||zn.set(e.id,{}),zn.get(e.id).endLeft=f,Iu(u,e.endLabelLeft)}if(e.endLabelRight){const h=await po(e.endLabelRight,ep(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),p=f.insert("g").attr("class","inner");u=p.node().appendChild(h);const m=h.getBBox();p.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),f.node().appendChild(h),zn.get(e.id)||zn.set(e.id,{}),zn.get(e.id).endRight=f,Iu(u,e.endLabelRight)}return i},"insertEdgeLabel");function Iu(t,e){ge().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}D(Iu,"setTerminalWidth");var Mct=D((t,e)=>{yt.debug("Moving label abc88 ",t.id,t.label,Dg.get(t.id),e);let n=e.updatedPath?e.updatedPath:e.originalPath;const r=ge(),{subGraphTitleTotalMargin:i}=p2(r);if(t.label){const s=Dg.get(t.id);let o=t.x,c=t.y;if(n){const u=xi.calcLabelPosition(n);yt.debug("Moving label "+t.label+" from (",o,",",c,") to (",u.x,",",u.y,") abc88"),e.updatedPath&&(o=u.x,c=u.y)}s.attr("transform",`translate(${o}, ${c+i/2})`)}if(t.startLabelLeft){const s=zn.get(t.id).startLeft;let o=t.x,c=t.y;if(n){const u=xi.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);o=u.x,c=u.y}s.attr("transform",`translate(${o}, ${c})`)}if(t.startLabelRight){const s=zn.get(t.id).startRight;let o=t.x,c=t.y;if(n){const u=xi.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);o=u.x,c=u.y}s.attr("transform",`translate(${o}, ${c})`)}if(t.endLabelLeft){const s=zn.get(t.id).endLeft;let o=t.x,c=t.y;if(n){const u=xi.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);o=u.x,c=u.y}s.attr("transform",`translate(${o}, ${c})`)}if(t.endLabelRight){const s=zn.get(t.id).endRight;let o=t.x,c=t.y;if(n){const u=xi.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);o=u.x,c=u.y}s.attr("transform",`translate(${o}, ${c})`)}},"positionEdgeLabel"),Dct=D((t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),s=Math.abs(e.y-r),o=t.width/2,c=t.height/2;return i>=o||s>=c},"outsideNode"),Nct=D((t,e,n)=>{yt.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,s=Math.abs(r-n.x),o=t.width/2;let c=n.x<e.x?o-s:o+s;const u=t.height/2,h=Math.abs(e.y-n.y),f=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*o>Math.abs(r-e.x)*u){let p=n.y<e.y?e.y-u-i:i-u-e.y;c=f*p/h;const m={x:n.x<e.x?n.x+c:n.x-f+c,y:n.y<e.y?n.y+h-p:n.y-h+p};return c===0&&(m.x=e.x,m.y=e.y),f===0&&(m.x=e.x),h===0&&(m.y=e.y),yt.debug(`abc89 top/bottom calc, Q ${h}, q ${p}, R ${f}, r ${c}`,m),m}else{n.x<e.x?c=e.x-o-r:c=r-o-e.x;let p=h*c/f,m=n.x<e.x?n.x+f-c:n.x-f+c,y=n.y<e.y?n.y+p:n.y-p;return yt.debug(`sides calc abc89, Q ${h}, q ${p}, R ${f}, r ${c}`,{_x:m,_y:y}),c===0&&(m=e.x,y=e.y),f===0&&(m=e.x),h===0&&(y=e.y),{x:m,y}}},"intersection"),eM=D((t,e)=>{yt.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach(s=>{if(yt.info("abc88 checking point",s,e),!Dct(e,s)&&!i){const o=Nct(e,r,s);yt.debug("abc88 inside",s,r,o),yt.debug("abc88 intersection",o,e);let c=!1;n.forEach(u=>{c=c||u.x===o.x&&u.y===o.y}),n.some(u=>u.x===o.x&&u.y===o.y)?yt.warn("abc88 no intersect",o,n):n.push(o),i=!0}else yt.warn("abc88 outside",s,r),r=s,i||n.push(s)}),yt.debug("returning points",n),n},"cutPathAtIntersect");function v$(t){const e=[],n=[];for(let r=1;r<t.length-1;r++){const i=t[r-1],s=t[r],o=t[r+1];(i.x===s.x&&s.y===o.y&&Math.abs(s.x-o.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===o.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-o.y)>5)&&(e.push(s),n.push(r))}return{cornerPoints:e,cornerPointPositions:n}}D(v$,"extractCornerPoints");var nM=D(function(t,e,n){const r=e.x-t.x,i=e.y-t.y,s=Math.sqrt(r*r+i*i),o=n/s;return{x:e.x-o*r,y:e.y-o*i}},"findAdjacentPoint"),Lct=D(function(t){const{cornerPointPositions:e}=v$(t),n=[];for(let r=0;r<t.length;r++)if(e.includes(r)){const i=t[r-1],s=t[r+1],o=t[r],c=nM(i,o,5),u=nM(s,o,5),h=u.x-c.x,f=u.y-c.y;n.push(c);const p=Math.sqrt(2)*2;let m={x:o.x,y:o.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){yt.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const y=5;o.x===c.x?m={x:h<0?c.x-y+p:c.x+y-p,y:f<0?c.y-p:c.y+p}:m={x:h<0?c.x-p:c.x+p,y:f<0?c.y-y+p:c.y+y-p}}else yt.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));n.push(m,u)}else n.push(t[r]);return n},"fixCorners"),Oct=D((t,e,n)=>{const r=t-e-n,i=2,s=2,o=i+s,c=Math.floor(r/o),u=Array(c).fill(`${i} ${s}`).join(" ");return`0 ${e} ${u} ${n}`},"generateDashArray"),Rct=D(function(t,e,n,r,i,s,o,c=!1){const{handDrawnSeed:u}=ge();let h=e.points,f=!1;const p=i;var m=s;const y=[];for(const B in e.cssCompiledStyles)KB(B)||y.push(e.cssCompiledStyles[B]);yt.debug("UIO intersect check",e.points,m.x,p.x),m.intersect&&p.intersect&&!c&&(h=h.slice(1,e.points.length-1),h.unshift(p.intersect(h[0])),yt.debug("Last point UIO",e.start,"-->",e.end,h[h.length-1],m,m.intersect(h[h.length-1])),h.push(m.intersect(h[h.length-1])));const x=btoa(JSON.stringify(h));e.toCluster&&(yt.info("to cluster abc88",n.get(e.toCluster)),h=eM(e.points,n.get(e.toCluster).node),f=!0),e.fromCluster&&(yt.debug("from cluster abc88",n.get(e.fromCluster),JSON.stringify(h,null,2)),h=eM(h.reverse(),n.get(e.fromCluster).node).reverse(),f=!0);let b=h.filter(B=>!Number.isNaN(B.y));b=Lct(b);let w=bp;switch(w=og,e.curve){case"linear":w=og;break;case"basis":w=bp;break;case"cardinal":w=eR;break;case"bumpX":w=ZO;break;case"bumpY":w=KO;break;case"catmullRom":w=rR;break;case"monotoneX":w=cR;break;case"monotoneY":w=uR;break;case"natural":w=dR;break;case"step":w=fR;break;case"stepAfter":w=gR;break;case"stepBefore":w=pR;break;default:w=bp}const{x:_,y:S}=Lit(e),T=grt().x(_).y(S).curve(w);let E;switch(e.thickness){case"normal":E="edge-thickness-normal";break;case"thick":E="edge-thickness-thick";break;case"invisible":E="edge-thickness-invisible";break;default:E="edge-thickness-normal"}switch(e.pattern){case"solid":E+=" edge-pattern-solid";break;case"dotted":E+=" edge-pattern-dotted";break;case"dashed":E+=" edge-pattern-dashed";break;default:E+=" edge-pattern-solid"}let M,L=e.curve==="rounded"?w$(S$(b,e),5):T(b);const N=Array.isArray(e.style)?e.style:[e.style];let $=N.find(B=>B?.startsWith("stroke:")),P=!1;if(e.look==="handDrawn"){const B=Mt.svg(t);Object.assign([],b);const H=B.path(L,{roughness:.3,seed:u});E+=" transition",M=Wt(H).select("path").attr("id",e.id).attr("class"," "+E+(e.classes?" "+e.classes:"")).attr("style",N?N.reduce((I,U)=>I+";"+U,""):"");let R=M.attr("d");M.attr("d",R),t.node().appendChild(M.node())}else{const B=y.join(";"),H=N?N.reduce((V,K)=>V+K+";",""):"";let R="";e.animate&&(R=" edge-animation-fast"),e.animation&&(R=" edge-animation-"+e.animation);const I=(B?B+";"+H+";":H)+";"+(N?N.reduce((V,K)=>V+";"+K,""):"");M=t.append("path").attr("d",L).attr("id",e.id).attr("class"," "+E+(e.classes?" "+e.classes:"")+(R??"")).attr("style",I),$=I.match(/stroke:([^;]+)/)?.[1],P=e.animate===!0||!!e.animation||B.includes("animation");const U=M.node(),Z=typeof U.getTotalLength=="function"?U.getTotalLength():0,nt=xA[e.arrowTypeStart]||0,q=xA[e.arrowTypeEnd]||0;if(e.look==="neo"&&!P){const K=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?Oct(Z,nt,q):`0 ${nt} ${Z-nt-q} ${q}`}; stroke-dashoffset: 0;`;M.attr("style",K+M.attr("style"))}}M.attr("data-edge",!0),M.attr("data-et","edge"),M.attr("data-id",e.id),M.attr("data-points",x),e.showPoints&&b.forEach(B=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",B.x).attr("cy",B.y)});let z="";(ge().flowchart.arrowMarkerAbsolute||ge().state.arrowMarkerAbsolute)&&(z=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,z=z.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),yt.info("arrowTypeStart",e.arrowTypeStart),yt.info("arrowTypeEnd",e.arrowTypeEnd),Tct(M,e,z,o,r,$);const j=Math.floor(h.length/2),W=h[j];xi.isLabelCoordinateInPath(W,M.attr("d"))||(f=!0);let G={};return f&&(G.updatedPath=h),G.originalPath=e.points,G},"insertEdge");function w$(t,e){if(t.length<2)return"";let n="";const r=t.length,i=1e-5;for(let s=0;s<r;s++){const o=t[s],c=t[s-1],u=t[s+1];if(s===0)n+=`M${o.x},${o.y}`;else if(s===r-1)n+=`L${o.x},${o.y}`;else{const h=o.x-c.x,f=o.y-c.y,p=u.x-o.x,m=u.y-o.y,y=Math.hypot(h,f),x=Math.hypot(p,m);if(y<i||x<i){n+=`L${o.x},${o.y}`;continue}const b=h/y,w=f/y,_=p/x,S=m/x,T=b*_+w*S,E=Math.max(-1,Math.min(1,T)),M=Math.acos(E);if(M<i||Math.abs(Math.PI-M)<i){n+=`L${o.x},${o.y}`;continue}const L=Math.min(e/Math.sin(M/2),y/2,x/2),N=o.x-b*L,$=o.y-w*L,P=o.x+_*L,z=o.y+S*L;n+=`L${N},${$}`,n+=`Q${o.x},${o.y} ${P},${z}`}}return n}D(w$,"generateRoundedPath");function Dv(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};const n=e.x-t.x,r=e.y-t.y;return{angle:Math.atan2(r,n),deltaX:n,deltaY:r}}D(Dv,"calculateDeltaAndAngle");function S$(t,e){const n=t.map(i=>({...i}));if(t.length>=2&&qn[e.arrowTypeStart]){const i=qn[e.arrowTypeStart],s=t[0],o=t[1],{angle:c}=Dv(s,o),u=i*Math.cos(c),h=i*Math.sin(c);n[0].x=s.x+u,n[0].y=s.y+h}const r=t.length;if(r>=2&&qn[e.arrowTypeEnd]){const i=qn[e.arrowTypeEnd],s=t[r-1],o=t[r-2],{angle:c}=Dv(o,s),u=i*Math.cos(c),h=i*Math.sin(c);n[r-1].x=s.x-u,n[r-1].y=s.y-h}return n}D(S$,"applyMarkerOffsetsToPoints");var Bct=D((t,e,n,r)=>{e.forEach(i=>{Kct[i](t,n,r)})},"insertMarkers"),jct=D((t,e,n)=>{yt.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),$ct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),zct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Pct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Fct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Ict=D((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Hct=D((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Vct=D((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),qct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Uct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),Wct=D((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("d","M9,0 L9,18");const i=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),Yct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),Gct=D((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),Xct=D((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),Zct=D((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");r.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),r.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),r.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),Kct={extension:jct,composition:$ct,aggregation:zct,dependency:Pct,lollipop:Fct,point:Ict,circle:Hct,cross:Vct,barb:qct,only_one:Uct,zero_or_one:Wct,one_or_more:Yct,zero_or_more:Gct,requirement_arrow:Xct,requirement_contains:Zct},Qct=Bct,Jct={common:vc,getConfig:Wn,insertCluster:oct,insertEdge:Rct,insertEdgeLabel:Act,insertMarkers:Qct,insertNode:b$,interpolateToCurve:b2,labelHelper:Ht,log:yt,positionEdgeLabel:Mct},Lh={},C$=D(t=>{for(const e of t)Lh[e.name]=e},"registerLayoutLoaders"),tut=D(()=>{C$([{name:"dagre",loader:D(async()=>await ye(()=>import("./dagre-6UL2VRFP-DQw96V-x.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:D(async()=>await ye(()=>import("./cose-bilkent-S5V4N54A-DJ1pP_Cq.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");tut();var Kft=D(async(t,e)=>{if(!(t.layoutAlgorithm in Lh))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const n=Lh[t.layoutAlgorithm];return(await n.loader()).render(t,e,Jct,{algorithm:n.algorithm})},"render"),Qft=D((t="",{fallback:e="dagre"}={})=>{if(t in Lh)return t;if(e in Lh)return yt.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),_$="comm",k$="rule",T$="decl",eut="@import",nut="@namespace",rut="@keyframes",iut="@layer",E$=Math.abs,P2=String.fromCharCode;function A$(t){return t.trim()}function _p(t,e,n){return t.replace(e,n)}function aut(t,e,n){return t.indexOf(e,n)}function ql(t,e){return t.charCodeAt(e)|0}function dc(t,e,n){return t.slice(e,n)}function Pi(t){return t.length}function sut(t){return t.length}function np(t,e){return e.push(t),t}var Dm=1,fc=1,M$=0,ii=0,hn=0,kc="";function F2(t,e,n,r,i,s,o,c){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Dm,column:fc,length:o,return:"",siblings:c}}function out(){return hn}function lut(){return hn=ii>0?ql(kc,--ii):0,fc--,hn===10&&(fc=1,Dm--),hn}function Si(){return hn=ii<M$?ql(kc,ii++):0,fc++,hn===10&&(fc=1,Dm++),hn}function ps(){return ql(kc,ii)}function kp(){return ii}function Nm(t,e){return dc(kc,t,e)}function Oh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cut(t){return Dm=fc=1,M$=Pi(kc=t),ii=0,[]}function uut(t){return kc="",t}function nb(t){return A$(Nm(ii-1,Nv(t===91?t+2:t===40?t+1:t)))}function hut(t){for(;(hn=ps())&&hn<33;)Si();return Oh(t)>2||Oh(hn)>3?"":" "}function dut(t,e){for(;--e&&Si()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return Nm(t,kp()+(e<6&&ps()==32&&Si()==32))}function Nv(t){for(;Si();)switch(hn){case t:return ii;case 34:case 39:t!==34&&t!==39&&Nv(hn);break;case 40:t===41&&Nv(t);break;case 92:Si();break}return ii}function fut(t,e){for(;Si()&&t+hn!==57;)if(t+hn===84&&ps()===47)break;return"/*"+Nm(e,ii-1)+"*"+P2(t===47?t:Si())}function put(t){for(;!Oh(ps());)Si();return Nm(t,ii)}function gut(t){return uut(Tp("",null,null,null,[""],t=cut(t),0,[0],t))}function Tp(t,e,n,r,i,s,o,c,u){for(var h=0,f=0,p=o,m=0,y=0,x=0,b=1,w=1,_=1,S=0,T="",E=i,M=s,L=r,N=T;w;)switch(x=S,S=Si()){case 40:if(x!=108&&ql(N,p-1)==58){aut(N+=_p(nb(S),"&","&\f"),"&\f",E$(h?c[h-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:N+=nb(S);break;case 9:case 10:case 13:case 32:N+=hut(x);break;case 92:N+=dut(kp()-1,7);continue;case 47:switch(ps()){case 42:case 47:np(mut(fut(Si(),kp()),e,n,u),u),(Oh(x||1)==5||Oh(ps()||1)==5)&&Pi(N)&&dc(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*b:c[h++]=Pi(N)*_;case 125*b:case 59:case 0:switch(S){case 0:case 125:w=0;case 59+f:_==-1&&(N=_p(N,/\f/g,"")),y>0&&(Pi(N)-p||b===0&&x===47)&&np(y>32?iM(N+";",r,n,p-1,u):iM(_p(N," ","")+";",r,n,p-2,u),u);break;case 59:N+=";";default:if(np(L=rM(N,e,n,h,f,i,c,T,E=[],M=[],p,s),s),S===123)if(f===0)Tp(N,e,L,L,E,s,p,c,M);else{switch(m){case 99:if(ql(N,3)===110)break;case 108:if(ql(N,2)===97)break;default:f=0;case 100:case 109:case 115:}f?Tp(t,L,L,r&&np(rM(t,L,L,0,0,i,c,T,i,E=[],p,M),M),i,M,p,c,r?E:M):Tp(N,L,L,L,[""],M,0,c,M)}}h=f=y=0,b=_=1,T=N="",p=o;break;case 58:p=1+Pi(N),y=x;default:if(b<1){if(S==123)--b;else if(S==125&&b++==0&&lut()==125)continue}switch(N+=P2(S),S*b){case 38:_=f>0?1:(N+="\f",-1);break;case 44:c[h++]=(Pi(N)-1)*_,_=1;break;case 64:ps()===45&&(N+=nb(Si())),m=ps(),f=p=Pi(T=N+=put(kp())),S++;break;case 45:x===45&&Pi(N)==2&&(b=0)}}return s}function rM(t,e,n,r,i,s,o,c,u,h,f,p){for(var m=i-1,y=i===0?s:[""],x=sut(y),b=0,w=0,_=0;b<r;++b)for(var S=0,T=dc(t,m+1,m=E$(w=o[b])),E=t;S<x;++S)(E=A$(w>0?y[S]+" "+T:_p(T,/&\f/g,y[S])))&&(u[_++]=E);return F2(t,e,n,i===0?k$:c,u,h,f,p)}function mut(t,e,n,r){return F2(t,e,n,_$,P2(out()),dc(t,2,-2),0,r)}function iM(t,e,n,r,i){return F2(t,e,n,T$,dc(t,0,r),dc(t,r+1,-1),r,i)}function Lv(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function yut(t,e,n,r){switch(t.type){case iut:if(t.children.length)break;case eut:case nut:case T$:return t.return=t.return||t.value;case _$:return"";case rut:return t.return=t.value+"{"+Lv(t.children,r)+"}";case k$:if(!Pi(t.value=t.props.join(",")))return""}return Pi(n=Lv(t.children,r))?t.return=t.value+"{"+n+"}":""}var xut=e5(Object.keys,Object),but=Object.prototype,vut=but.hasOwnProperty;function wut(t){if(!vm(t))return xut(t);var e=[];for(var n in Object(t))vut.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ov=Ro(Zi,"DataView"),Rv=Ro(Zi,"Promise"),Bv=Ro(Zi,"Set"),jv=Ro(Zi,"WeakMap"),aM="[object Map]",Sut="[object Object]",sM="[object Promise]",oM="[object Set]",lM="[object WeakMap]",cM="[object DataView]",Cut=Oo(Ov),_ut=Oo(Dh),kut=Oo(Rv),Tut=Oo(Bv),Eut=Oo(jv),ao=Sc;(Ov&&ao(new Ov(new ArrayBuffer(1)))!=cM||Dh&&ao(new Dh)!=aM||Rv&&ao(Rv.resolve())!=sM||Bv&&ao(new Bv)!=oM||jv&&ao(new jv)!=lM)&&(ao=function(t){var e=Sc(t),n=e==Sut?t.constructor:void 0,r=n?Oo(n):"";if(r)switch(r){case Cut:return cM;case _ut:return aM;case kut:return sM;case Tut:return oM;case Eut:return lM}return e});var Aut="[object Map]",Mut="[object Set]",Dut=Object.prototype,Nut=Dut.hasOwnProperty;function uM(t){if(t==null)return!0;if(wm(t)&&(vg(t)||typeof t=="string"||typeof t.splice=="function"||y2(t)||x2(t)||bg(t)))return!t.length;var e=ao(t);if(e==Aut||e==Mut)return!t.size;if(vm(t))return!wut(t).length;for(var n in t)if(Nut.call(t,n))return!1;return!0}var D$="c4",Lut=D(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),Out=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-CjiLdSHR.js");return{diagram:e}},__vite__mapDeps([8,9]));return{id:D$,diagram:t}},"loader"),Rut={id:D$,detector:Lut,loader:Out},But=Rut,N$="flowchart",jut=D((t,e)=>e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(t),"detector"),$ut=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-C_FSlgEh.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:N$,diagram:t}},"loader"),zut={id:N$,detector:jut,loader:$ut},Put=zut,L$="flowchart-v2",Fut=D((t,e)=>e?.flowchart?.defaultRenderer==="dagre-d3"?!1:(e?.flowchart?.defaultRenderer==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(t)),"detector"),Iut=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-C_FSlgEh.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:L$,diagram:t}},"loader"),Hut={id:L$,detector:Fut,loader:Iut},Vut=Hut,O$="er",qut=D(t=>/^\s*erDiagram/.test(t),"detector"),Uut=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-ePj0oiTh.js");return{diagram:e}},__vite__mapDeps([15,12,13,14]));return{id:O$,diagram:t}},"loader"),Wut={id:O$,detector:qut,loader:Uut},Yut=Wut,R$="gitGraph",Gut=D(t=>/^\s*gitGraph/.test(t),"detector"),Xut=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-DVuOeSwz.js");return{diagram:e}},__vite__mapDeps([16,17,18,19,4,2]));return{id:R$,diagram:t}},"loader"),Zut={id:R$,detector:Gut,loader:Xut},Kut=Zut,B$="gantt",Qut=D(t=>/^\s*gantt/.test(t),"detector"),Jut=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./ganttDiagram-JELNMOA3-CjoWm5bR.js");return{diagram:e}},__vite__mapDeps([20,21,22,23]));return{id:B$,diagram:t}},"loader"),tht={id:B$,detector:Qut,loader:Jut},eht=tht,j$="info",nht=D(t=>/^\s*info/.test(t),"detector"),rht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./infoDiagram-WHAUD3N6-D3RkPuuD.js");return{diagram:e}},__vite__mapDeps([24,19,4,2]));return{id:j$,diagram:t}},"loader"),iht={id:j$,detector:nht,loader:rht},$$="pie",aht=D(t=>/^\s*pie/.test(t),"detector"),sht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX-CLNQAtuu.js");return{diagram:e}},__vite__mapDeps([25,17,19,4,2,26,27,22]));return{id:$$,diagram:t}},"loader"),oht={id:$$,detector:aht,loader:sht},z$="quadrantChart",lht=D(t=>/^\s*quadrantChart/.test(t),"detector"),cht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-BkERG9Wt.js");return{diagram:e}},__vite__mapDeps([28,21,22,23]));return{id:z$,diagram:t}},"loader"),uht={id:z$,detector:lht,loader:cht},hht=uht,P$="xychart",dht=D(t=>/^\s*xychart(-beta)?/.test(t),"detector"),fht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-CRQupQZh.js");return{diagram:e}},__vite__mapDeps([29,22,27,21,23]));return{id:P$,diagram:t}},"loader"),pht={id:P$,detector:dht,loader:fht},ght=pht,F$="requirement",mht=D(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),yht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-C1BqGu-X.js");return{diagram:e}},__vite__mapDeps([30,12,13]));return{id:F$,diagram:t}},"loader"),xht={id:F$,detector:mht,loader:yht},bht=xht,I$="sequence",vht=D(t=>/^\s*sequenceDiagram/.test(t),"detector"),wht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-LJceGkkV.js");return{diagram:e}},__vite__mapDeps([31,9,18]));return{id:I$,diagram:t}},"loader"),Sht={id:I$,detector:vht,loader:wht},Cht=Sht,H$="class",_ht=D((t,e)=>e?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t),"detector"),kht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-o-nUQVS3.js");return{diagram:e}},__vite__mapDeps([32,33,11,12,13]));return{id:H$,diagram:t}},"loader"),Tht={id:H$,detector:_ht,loader:kht},Eht=Tht,V$="classDiagram",Aht=D((t,e)=>/^\s*classDiagram/.test(t)&&e?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t),"detector"),Mht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-o-nUQVS3.js");return{diagram:e}},__vite__mapDeps([34,33,11,12,13]));return{id:V$,diagram:t}},"loader"),Dht={id:V$,detector:Aht,loader:Mht},Nht=Dht,q$="state",Lht=D((t,e)=>e?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t),"detector"),Oht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-BAyIZZbx.js");return{diagram:e}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:q$,diagram:t}},"loader"),Rht={id:q$,detector:Lht,loader:Oht},Bht=Rht,U$="stateDiagram",jht=D((t,e)=>!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&e?.state?.defaultRenderer==="dagre-wrapper"),"detector"),$ht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-qhHav4Xr.js");return{diagram:e}},__vite__mapDeps([37,36,12,13]));return{id:U$,diagram:t}},"loader"),zht={id:U$,detector:jht,loader:$ht},Pht=zht,W$="journey",Fht=D(t=>/^\s*journey/.test(t),"detector"),Iht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-BDySe9M2.js");return{diagram:e}},__vite__mapDeps([38,9,11,26]));return{id:W$,diagram:t}},"loader"),Hht={id:W$,detector:Fht,loader:Iht},Vht=Hht,qht=D((t,e,n)=>{yt.debug(`rendering svg for syntax error
`);const r=_rt(e),i=r.append("g");r.attr("viewBox","0 0 2412 512"),UO(r,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),Y$={draw:qht},Uht=Y$,Wht={db:{},renderer:Y$,parser:{parse:D(()=>{},"parse")}},Yht=Wht,G$="flowchart-elk",Ght=D((t,e={})=>/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&e?.flowchart?.defaultRenderer==="elk"?(e.layout="elk",!0):!1,"detector"),Xht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-C_FSlgEh.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14]));return{id:G$,diagram:t}},"loader"),Zht={id:G$,detector:Ght,loader:Xht},Kht=Zht,X$="timeline",Qht=D(t=>/^\s*timeline/.test(t),"detector"),Jht=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-C092yvTm.js");return{diagram:e}},__vite__mapDeps([39,26]));return{id:X$,diagram:t}},"loader"),tdt={id:X$,detector:Qht,loader:Jht},edt=tdt,Z$="mindmap",ndt=D(t=>/^\s*mindmap/.test(t),"detector"),rdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-CitV9eyU.js");return{diagram:e}},__vite__mapDeps([40,12,13]));return{id:Z$,diagram:t}},"loader"),idt={id:Z$,detector:ndt,loader:rdt},adt=idt,K$="kanban",sdt=D(t=>/^\s*kanban/.test(t),"detector"),odt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-Bva33A5B.js");return{diagram:e}},__vite__mapDeps([41,11]));return{id:K$,diagram:t}},"loader"),ldt={id:K$,detector:sdt,loader:odt},cdt=ldt,Q$="sankey",udt=D(t=>/^\s*sankey(-beta)?/.test(t),"detector"),hdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-DLncSpcB.js");return{diagram:e}},__vite__mapDeps([42,27,22]));return{id:Q$,diagram:t}},"loader"),ddt={id:Q$,detector:udt,loader:hdt},fdt=ddt,J$="packet",pdt=D(t=>/^\s*packet(-beta)?/.test(t),"detector"),gdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-4oT4a8r7.js");return{diagram:e}},__vite__mapDeps([43,17,19,4,2]));return{id:J$,diagram:t}},"loader"),mdt={id:J$,detector:pdt,loader:gdt},t4="radar",ydt=D(t=>/^\s*radar-beta/.test(t),"detector"),xdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-BjDjkbe_.js");return{diagram:e}},__vite__mapDeps([44,17,19,4,2]));return{id:t4,diagram:t}},"loader"),bdt={id:t4,detector:ydt,loader:xdt},e4="block",vdt=D(t=>/^\s*block(-beta)?/.test(t),"detector"),wdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-CVc2QwIa.js");return{diagram:e}},__vite__mapDeps([45,11,5,1,2,14]));return{id:e4,diagram:t}},"loader"),Sdt={id:e4,detector:vdt,loader:wdt},Cdt=Sdt,n4="architecture",_dt=D(t=>/^\s*architecture/.test(t),"detector"),kdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-DCgtzxcl.js");return{diagram:e}},__vite__mapDeps([46,17,19,4,2,7]));return{id:n4,diagram:t}},"loader"),Tdt={id:n4,detector:_dt,loader:kdt},Edt=Tdt,r4="treemap",Adt=D(t=>/^\s*treemap/.test(t),"detector"),Mdt=D(async()=>{const{diagram:t}=await ye(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-CCatCbWm.js");return{diagram:e}},__vite__mapDeps([47,13,17,19,4,2,23,27,22]));return{id:r4,diagram:t}},"loader"),Ddt={id:r4,detector:Adt,loader:Mdt},hM=!1,Lm=D(()=>{hM||(hM=!0,sg("error",Yht,t=>t.toLowerCase().trim()==="error"),sg("---",{db:{clear:D(()=>{},"clear")},styles:{},renderer:{draw:D(()=>{},"draw")},parser:{parse:D(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:D(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),Zb(Kht,adt,Edt),Zb(But,cdt,Nht,Eht,Yut,eht,iht,oht,bht,Cht,Vut,Put,edt,Kut,Pht,Bht,Vht,hht,fdt,mdt,ght,Cdt,bdt,Ddt))},"addDiagrams"),Ndt=D(async()=>{yt.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(ko).map(async([n,{detector:r,loader:i}])=>{if(i)try{tv(n)}catch{try{const{diagram:s,id:o}=await i();sg(o,s,r)}catch(s){throw yt.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete ko[n],s}}}))).filter(n=>n.status==="rejected");if(e.length>0){yt.error(`Failed to load ${e.length} external diagrams`);for(const n of e)yt.error(n);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),Ldt="graphics-document document";function i4(t,e){t.attr("role",Ldt),e!==""&&t.attr("aria-roledescription",e)}D(i4,"setA11yDiagramInfo");function a4(t,e,n,r){if(t.insert!==void 0){if(n){const i=`chart-desc-${r}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(n)}if(e){const i=`chart-title-${r}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}D(a4,"addSVGa11yTitleDescription");var xo,$v=(xo=class{constructor(e,n,r,i,s){this.type=e,this.text=n,this.db=r,this.parser=i,this.renderer=s}static async fromText(e,n={}){const r=Wn(),i=X1(e,r);e=Dot(e)+`
`;try{tv(i)}catch{const h=pnt(i);if(!h)throw new OO(`Diagram ${i} not found.`);const{id:f,diagram:p}=await h();sg(f,p)}const{db:s,parser:o,renderer:c,init:u}=tv(i);return o.parser&&(o.parser.yy=s),s.clear?.(),u?.(r),n.title&&s.setDiagramTitle?.(n.title),await o.parse(e),new xo(i,e,s,o,c)}async render(e,n){await this.renderer.draw(this.text,e,n,this)}getParser(){return this.parser}getType(){return this.type}},D(xo,"Diagram"),xo),dM=[],Odt=D(()=>{dM.forEach(t=>{t()}),dM=[]},"attachFunctions"),Rdt=D(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function s4(t){const e=t.match(LO);if(!e)return{text:t,metadata:{}};let n=Nit(e[1],{schema:Dit})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const r={};return n.displayMode&&(r.displayMode=n.displayMode.toString()),n.title&&(r.title=n.title.toString()),n.config&&(r.config=n.config),{text:t.slice(e[0].length),metadata:r}}D(s4,"extractFrontMatter");var Bdt=D(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,n,r)=>"<"+n+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),jdt=D(t=>{const{text:e,metadata:n}=s4(t),{displayMode:r,title:i,config:s={}}=n;return r&&(s.gantt||(s.gantt={}),s.gantt.displayMode=r),{title:i,config:s,text:e}},"processFrontmatter"),$dt=D(t=>{const e=xi.detectInit(t)??{},n=xi.detectDirective(t,"wrap");return Array.isArray(n)?e.wrap=n.some(({type:r})=>r==="wrap"):n?.type==="wrap"&&(e.wrap=!0),{text:yot(t),directive:e}},"processDirectives");function I2(t){const e=Bdt(t),n=jdt(e),r=$dt(n.text),i=_2(n.config,r.directive);return t=Rdt(r.text),{code:t,title:n.title,config:i}}D(I2,"preprocessDiagram");function o4(t){const e=new TextEncoder().encode(t),n=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(n)}D(o4,"toBase64");var zdt=5e4,Pdt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Fdt="sandbox",Idt="loose",Hdt="http://www.w3.org/2000/svg",Vdt="http://www.w3.org/1999/xlink",qdt="http://www.w3.org/1999/xhtml",Udt="100%",Wdt="100%",Ydt="border:0;margin:0;",Gdt="margin:0",Xdt="allow-top-navigation-by-user-activation allow-popups",Zdt='The "iframe" tag is not supported by your browser.',Kdt=["foreignobject"],Qdt=["dominant-baseline"];function H2(t){const e=I2(t);return ig(),Dnt(e.config??{}),e}D(H2,"processAndSetConfigs");async function l4(t,e){Lm();try{const{code:n,config:r}=H2(t);return{diagramType:(await u4(n)).type,config:r}}catch(n){if(e?.suppressErrors)return!1;throw n}}D(l4,"parse");var fM=D((t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),Jdt=D((t,e=new Map)=>{let n="";if(t.themeCSS!==void 0&&(n+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const o=t.htmlLabels??t.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(c=>{uM(c.styles)||o.forEach(u=>{n+=fM(c.id,u,c.styles)}),uM(c.textStyles)||(n+=fM(c.id,"tspan",(c?.textStyles||[]).map(u=>u.replace("color","fill"))))})}return n},"createCssStyles"),tft=D((t,e,n,r)=>{const i=Jdt(t,n),s=Znt(e,i,t.themeVariables);return Lv(gut(`${r}{${s}}`),yut)},"createUserStyles"),eft=D((t="",e,n)=>{let r=t;return!n&&!e&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=Bo(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),nft=D((t="",e)=>{const n=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":Wdt,r=o4(`<body style="${Gdt}">${t}</body>`);return`<iframe style="width:${Udt};height:${n};${Ydt}" src="data:text/html;charset=UTF-8;base64,${r}" sandbox="${Xdt}">
  ${Zdt}
</iframe>`},"putIntoIFrame"),pM=D((t,e,n,r,i)=>{const s=t.append("div");s.attr("id",n),r&&s.attr("style",r);const o=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",Hdt);return i&&o.attr("xmlns:xlink",i),o.append("g"),t},"appendDivSvgG");function zv(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}D(zv,"sandboxedIframe");var rft=D((t,e,n,r)=>{t.getElementById(e)?.remove(),t.getElementById(n)?.remove(),t.getElementById(r)?.remove()},"removeExistingElements"),ift=D(async function(t,e,n){Lm();const r=H2(e);e=r.code;const i=Wn();yt.debug(i),e.length>(i?.maxTextSize??zdt)&&(e=Pdt);const s="#"+t,o="i"+t,c="#"+o,u="d"+t,h="#"+u,f=D(()=>{const G=Wt(m?c:h).node();G&&"remove"in G&&G.remove()},"removeTempElements");let p=Wt("body");const m=i.securityLevel===Fdt,y=i.securityLevel===Idt,x=i.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),m){const W=zv(Wt(n),o);p=Wt(W.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Wt(n);pM(p,t,u,`font-family: ${x}`,Vdt)}else{if(rft(document,t,u,o),m){const W=zv(Wt("body"),o);p=Wt(W.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Wt("body");pM(p,t,u)}let b,w;try{b=await $v.fromText(e,{title:r.title})}catch(W){if(i.suppressErrorRendering)throw f(),W;b=await $v.fromText("error"),w=W}const _=p.select(h).node(),S=b.type,T=_.firstChild,E=T.firstChild,M=b.renderer.getClasses?.(e,b),L=tft(i,S,M,s),N=document.createElement("style");N.innerHTML=L,T.insertBefore(N,E);try{await b.renderer.draw(e,t,XE.version,b)}catch(W){throw i.suppressErrorRendering?f():Uht.draw(e,t,XE.version),W}const $=p.select(`${h} svg`),P=b.db.getAccTitle?.(),z=b.db.getAccDescription?.();h4(S,$,P,z),p.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",qdt);let j=p.select(h).node().innerHTML;if(yt.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),j=eft(j,m,Cn(i.arrowMarkerAbsolute)),m){const W=p.select(h+" svg").node();j=nft(j,W)}else y||(j=oc.sanitize(j,{ADD_TAGS:Kdt,ADD_ATTR:Qdt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Odt(),w)throw w;return f(),{diagramType:S,svg:j,bindFunctions:b.db.bindFunctions}},"render");function c4(t={}){const e=wn({},t);e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Ant(e),e?.theme&&e.theme in ka?e.themeVariables=ka[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=ka.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?Ent(e):zO();G1(n.logLevel),Lm()}D(c4,"initialize");var u4=D((t,e={})=>{const{code:n}=I2(t);return $v.fromText(n,e)},"getDiagramFromText");function h4(t,e,n,r){i4(e,t),a4(e,n,r,e.attr("id"))}D(h4,"addA11yInfo");var Do=Object.freeze({render:ift,parse:l4,getDiagramFromText:u4,initialize:c4,getConfig:Wn,setConfig:PO,getSiteConfig:zO,updateSiteConfig:Mnt,reset:D(()=>{ig()},"reset"),globalReset:D(()=>{ig(lc)},"globalReset"),defaultConfig:lc});G1(Wn().logLevel);ig(Wn());var aft=D((t,e,n)=>{yt.warn(t),C2(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),d4=D(async function(t={querySelector:".mermaid"}){try{await sft(t)}catch(e){if(C2(e)&&yt.error(e.str),Na.parseError&&Na.parseError(e),!t.suppressErrors)throw yt.error("Use the suppressErrors option to suppress these errors"),e}},"run"),sft=D(async function({postRenderCallback:t,querySelector:e,nodes:n}={querySelector:".mermaid"}){const r=Do.getConfig();yt.debug(`${t?"":"No "}Callback function found`);let i;if(n)i=n;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");yt.debug(`Found ${i.length} diagrams`),r?.startOnLoad!==void 0&&(yt.debug("Start On Load: "+r?.startOnLoad),Do.updateSiteConfig({startOnLoad:r?.startOnLoad}));const s=new xi.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const c=[];for(const u of Array.from(i)){if(yt.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");const h=`mermaid-${s.next()}`;o=u.innerHTML,o=O5(xi.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const f=xi.detectInit(o);f&&yt.debug("Detected early reinit: ",f);try{const{svg:p,bindFunctions:m}=await m4(h,o,u);u.innerHTML=p,t&&await t(h),m&&m(u)}catch(p){aft(p,c,Na.parseError)}}if(c.length>0)throw c[0]},"runThrowsErrors"),f4=D(function(t){Do.initialize(t)},"initialize"),oft=D(async function(t,e,n){yt.warn("mermaid.init is deprecated. Please use run instead."),t&&f4(t);const r={postRenderCallback:n,querySelector:".mermaid"};typeof e=="string"?r.querySelector=e:e&&(e instanceof HTMLElement?r.nodes=[e]:r.nodes=e),await d4(r)},"init"),lft=D(async(t,{lazyLoad:e=!0}={})=>{Lm(),Zb(...t),e===!1&&await Ndt()},"registerExternalDiagrams"),p4=D(function(){if(Na.startOnLoad){const{startOnLoad:t}=Do.getConfig();t&&Na.run().catch(e=>yt.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",p4,!1);var cft=D(function(t){Na.parseError=t},"setParseErrorHandler"),Ng=[],rb=!1,g4=D(async()=>{if(!rb){for(rb=!0;Ng.length>0;){const t=Ng.shift();if(t)try{await t()}catch(e){yt.error("Error executing queue",e)}}rb=!1}},"executeQueue"),uft=D(async(t,e)=>new Promise((n,r)=>{const i=D(()=>new Promise((s,o)=>{Do.parse(t,e).then(c=>{s(c),n(c)},c=>{yt.error("Error parsing",c),Na.parseError?.(c),o(c),r(c)})}),"performCall");Ng.push(i),g4().catch(r)}),"parse"),m4=D((t,e,n)=>new Promise((r,i)=>{const s=D(()=>new Promise((o,c)=>{Do.render(t,e,n).then(u=>{o(u),r(u)},u=>{yt.error("Error parsing",u),Na.parseError?.(u),c(u),i(u)})}),"performCall");Ng.push(s),g4().catch(i)}),"render"),hft=D(()=>Object.keys(ko).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),Na={startOnLoad:!0,mermaidAPI:Do,parse:uft,render:m4,init:oft,run:d4,registerExternalDiagrams:lft,registerLayoutLoaders:C$,initialize:f4,parseError:void 0,contentLoaded:p4,setParseErrorHandler:cft,detectType:X1,registerIconPacks:Rlt,getRegisteredDiagramsMetadata:hft},y4=Na;const dft=[{id:"flow",label:"Workflow"},{id:"architecture",label:"Architecture"},{id:"agent-flow",label:"Agent Flow"},{id:"custom",label:"Custom"}];y4.initialize({startOnLoad:!1,theme:"dark",themeVariables:{primaryColor:"#3B82F6",primaryTextColor:"#EDEDEF",primaryBorderColor:"#2A2A2E",lineColor:"#5A5A5D",secondaryColor:"#1C1C1F",tertiaryColor:"#141416",background:"#0A0A0B",mainBkg:"#141416",nodeBorder:"#2A2A2E",clusterBkg:"#1C1C1F",titleColor:"#EDEDEF",edgeLabelBackground:"#141416"}});function fft(){return`flowchart TD
    A[ Analyst\\nProject Brief] --> B[ PM\\nPRD]
    B --> C[ UX Designer\\nUX Spec]
    B --> D[ Architect\\nArchitecture]
    C --> E[ PO\\nValidation]
    D --> E
    E --> F[ Scrum Master\\nTask Sharding]
    D --> G[ Data Engineer\\nDatabase Design]
    F --> H[ Developer\\nImplementation]
    G --> H
    H --> I[ QA\\nTesting]
    I --> J[ DevOps\\nDeploy]
    
    style A fill:#A855F720,stroke:#A855F7
    style B fill:#A855F720,stroke:#A855F7
    style C fill:#10B98120,stroke:#10B981
    style D fill:#3B82F620,stroke:#3B82F6
    style E fill:#A855F720,stroke:#A855F7
    style F fill:#EF444420,stroke:#EF4444
    style G fill:#3B82F620,stroke:#3B82F6
    style H fill:#3B82F620,stroke:#3B82F6
    style I fill:#EF444420,stroke:#EF4444
    style J fill:#3B82F620,stroke:#3B82F6`}function pft(){return`flowchart TB
    subgraph UI[" AG Dev UI (React)"]
      CV[Cockpit View]
      TV[Terminal View]
      GV[Gantt View]
      SV[Strategy Canvas]
    end
    
    subgraph Server[" AG Dev Server (Express)"]
      API[REST API]
      SSE[SSE Stream]
      State[State Manager]
    end
    
    subgraph Bridge[" WebSocket Bridge"]
      WS[WS Client]
    end
    
    subgraph Gateway[" Clawdbot Gateway"]
      Agent[Agent Loop]
      Sessions[Session Manager]
      Tools[Tool Pipeline]
      Hooks[Lifecycle Hooks]
    end
    
    UI --> |HTTP + SSE| Server
    Server --> |WebSocket v3| Bridge
    Bridge --> |Protocol v3| Gateway
    Gateway --> |Events| Bridge
    Bridge --> |SSE Broadcast| Server
    Server --> |Real-time| UI
    
    style UI fill:#3B82F610,stroke:#3B82F6
    style Server fill:#10B98110,stroke:#10B981
    style Bridge fill:#A855F710,stroke:#A855F7
    style Gateway fill:#EF444410,stroke:#EF4444`}function gft(t){const e=["flowchart LR"],n=Tr.filter(s=>t[s.id]?.status==="working"),r=Tr.filter(s=>t[s.id]?.status==="done"),i=Tr.filter(s=>!t[s.id]||t[s.id]?.status==="idle");return e.push('  subgraph Active[" Active"]'),n.forEach(s=>e.push(`    ${s.id}["${s.icon} ${s.shortName}"]`)),n.length===0&&e.push('    none_active["No active agents"]'),e.push("  end"),e.push('  subgraph Done[" Done"]'),r.forEach(s=>e.push(`    ${s.id}["${s.icon} ${s.shortName}"]`)),r.length===0&&e.push('    none_done["None yet"]'),e.push("  end"),e.push('  subgraph Waiting[" Waiting"]'),i.forEach(s=>e.push(`    ${s.id}["${s.icon} ${s.shortName}"]`)),e.push("  end"),e.push("  style Active fill:#10B98110,stroke:#10B981"),e.push("  style Done fill:#3B82F610,stroke:#3B82F6"),e.push("  style Waiting fill:#1C1C1F,stroke:#2A2A2E"),e.join(`
`)}const mft=A.memo(function(){const{agents:e}=Er(),[n,r]=A.useState("flow"),[i,s]=A.useState(`flowchart TD
  A[Start] --> B[End]`),[o,c]=A.useState(!1),[u,h]=A.useState("");A.useRef(null);const f=A.useRef(0),p=A.useCallback(()=>{switch(n){case"flow":return fft();case"architecture":return pft();case"agent-flow":return gft(e);case"custom":return i}},[n,e,i]),m=A.useCallback(async()=>{const x=p();try{const b=`mermaid-${++f.current}`,{svg:w}=await y4.render(b,x);h(w)}catch(b){h(`<p style="color:#EF4444;padding:20px">Diagram error: ${b instanceof Error?b.message:"Unknown error"}</p>`)}},[p]);A.useEffect(()=>{m()},[m]);const y=()=>{const x=new Blob([u],{type:"image/svg+xml"}),b=URL.createObjectURL(x),w=document.createElement("a");w.href=b,w.download=`ag-dev-${n}.svg`,w.click(),URL.revokeObjectURL(b)};return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",style:{borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Diagrams"}),k.jsx("div",{className:"flex items-center gap-1",children:dft.map(x=>k.jsx("button",{onClick:()=>{r(x.id),c(!1)},className:"px-3 py-1.5 rounded-md text-xs font-medium transition-colors",style:{backgroundColor:n===x.id?F.bg.surfaceActive:"transparent",color:n===x.id?F.text.primary:F.text.secondary},children:x.label},x.id))})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-colors hover:bg-white/5 border",style:{borderColor:F.bg.border,color:F.text.secondary},children:[o?k.jsx(nN,{size:12}):k.jsx(ch,{size:12}),o?"Preview":"Edit"]}),k.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-colors hover:bg-white/5 border",style:{borderColor:F.bg.border,color:F.text.secondary},children:[k.jsx(lN,{size:12}),"Refresh"]}),k.jsxs("button",{onClick:y,className:"flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium",style:{backgroundColor:F.accent,color:"#fff"},children:[k.jsx(eN,{size:12}),"Export SVG"]})]})]}),k.jsx("div",{className:"flex-1 flex overflow-hidden",children:o?k.jsxs("div",{className:"flex-1 flex",children:[k.jsx("div",{className:"w-1/2 border-r p-4",style:{borderColor:F.bg.border},children:k.jsx("textarea",{value:n==="custom"?i:p(),onChange:x=>{n==="custom"&&s(x.target.value)},readOnly:n!=="custom",className:"w-full h-full rounded-lg p-3 font-mono text-xs resize-none outline-none border",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.primary}})}),k.jsx("div",{className:"w-1/2 overflow-auto flex items-center justify-center p-4",dangerouslySetInnerHTML:{__html:u}})]}):k.jsx("div",{className:"flex-1 overflow-auto flex items-center justify-center p-8",style:{backgroundColor:F.bg.primary},dangerouslySetInnerHTML:{__html:u}})})]})}),yft={agent_status:"#3B82F6",agent_paused:"#F59E0B",agent_resumed:"#10B981",chat_message:"#A855F7",agent_command:"#60A5FA",doc_saved:"#34D399",git_commit:"#10B981",error:"#EF4444",system:"#EAB308"},xft={agent_status:"",agent_paused:"",agent_resumed:"",chat_message:"",agent_command:"",doc_saved:"",git_commit:"",error:"",system:""},bft=A.memo(function(){const[e,n]=A.useState([]),[r,i]=A.useState(""),[s,o]=A.useState(null),[c,u]=A.useState(!0),h=A.useRef(null);A.useEffect(()=>{const y=async()=>{try{const w=await(await fetch("/api/timeline")).json();n(w.events||[])}catch{}};y();const x=setInterval(y,5e3);return()=>clearInterval(x)},[]),A.useEffect(()=>{c&&h.current&&h.current.scrollTo({top:h.current.scrollHeight,behavior:"smooth"})},[e,c]);const f=e.filter(y=>!(s&&y.type!==s||r&&!JSON.stringify(y).toLowerCase().includes(r.toLowerCase()))),p=[...new Set(e.map(y=>y.type))],m=()=>{const y=f.map(_=>`[${_.time}] ${_.type}: ${_.preview||_.message||JSON.stringify(_)}`).join(`
`),x=new Blob([y],{type:"text/plain"}),b=URL.createObjectURL(x),w=document.createElement("a");w.href=b,w.download=`ag-dev-logs-${new Date().toISOString().slice(0,10)}.txt`,w.click(),URL.revokeObjectURL(b)};return k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b",style:{borderColor:F.bg.border},children:[k.jsx("h2",{className:"text-lg font-semibold",style:{color:F.text.primary},children:" Logs"}),k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsxs("div",{className:"flex items-center gap-1.5 rounded-lg border px-2.5 py-1.5",style:{borderColor:F.bg.border},children:[k.jsx(hN,{size:12,style:{color:F.text.muted}}),k.jsx("input",{value:r,onChange:y=>i(y.target.value),placeholder:"Filter logs...",className:"bg-transparent text-xs outline-none w-40",style:{color:F.text.primary}})]}),k.jsxs("select",{value:s||"",onChange:y=>o(y.target.value||null),className:"rounded-lg border px-2.5 py-1.5 text-xs outline-none",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border,color:F.text.primary},children:[k.jsx("option",{value:"",children:"All types"}),p.map(y=>k.jsx("option",{value:y,children:y},y))]}),k.jsx("button",{onClick:m,className:"p-1.5 rounded hover:bg-white/5",style:{color:F.text.secondary},title:"Export",children:k.jsx(eN,{size:14})}),k.jsx("button",{onClick:()=>n([]),className:"p-1.5 rounded hover:bg-white/5",style:{color:F.text.secondary},title:"Clear",children:k.jsx(pN,{size:14})})]})]}),k.jsxs("div",{ref:h,className:"flex-1 overflow-y-auto font-mono text-xs p-4 space-y-0.5",style:{backgroundColor:"#050506"},onScroll:()=>{if(!h.current)return;const{scrollTop:y,scrollHeight:x,clientHeight:b}=h.current;u(x-y-b<50)},children:[f.length===0&&k.jsx("p",{className:"text-center py-12",style:{color:F.text.muted},children:e.length===0?"No log entries yet":"No entries match filter"}),f.map((y,x)=>{const b=yft[y.type]||F.text.secondary,w=xft[y.type]||"",_=y.time?new Date(y.time).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"--:--:--";return k.jsxs("div",{className:"flex items-start gap-2 leading-relaxed py-0.5 hover:bg-white/[0.02] rounded px-1",children:[k.jsxs("span",{style:{color:F.text.muted},className:"flex-shrink-0 select-none",children:["[",_,"]"]}),k.jsx("span",{className:"flex-shrink-0",children:w}),k.jsx("span",{className:"font-semibold flex-shrink-0",style:{color:b},children:y.type}),y.agentId&&k.jsx("span",{className:"flex-shrink-0 px-1 rounded text-[9px]",style:{backgroundColor:b+"15",color:b},children:y.agentId}),k.jsx("span",{style:{color:F.text.primary},children:y.preview||y.message||(y.from?`from: ${y.from}`:"")})]},x)})]}),k.jsxs("div",{className:"px-4 py-2 border-t flex items-center justify-between text-[10px]",style:{borderColor:F.bg.border,color:F.text.muted},children:[k.jsxs("span",{children:[f.length," entries",r||s?` (filtered from ${e.length})`:""]}),k.jsx("span",{children:c?" Auto-scroll ON":" Auto-scroll OFF (scroll to bottom to resume)"})]})]})}),vft=[{id:"cockpit",label:"Cockpit",icon:k.jsx(nH,{size:15}),shortcut:"1"},{id:"pipeline",label:"Pipeline",icon:k.jsx(G9,{size:15}),shortcut:"2"},{id:"gantt",label:"Gantt",icon:k.jsx(S9,{size:15}),shortcut:"3"},{id:"emergence",label:"Emergence",icon:k.jsx(lH,{size:15}),shortcut:"4"},{id:"strategy",label:"Strategy",icon:k.jsx(MH,{size:15}),shortcut:"5"},{id:"terminal",label:"Terminal",icon:k.jsx(fN,{size:15}),shortcut:"6"},{id:"diagrams",label:"Diagrams",icon:k.jsx(CH,{size:15}),shortcut:"7"},{id:"logs",label:"Logs",icon:k.jsx(bH,{size:15}),shortcut:"8"},{id:"docs",label:"Docs",icon:k.jsx(rN,{size:15}),shortcut:"9"}];function wft(){const{bridge:t}=Er();return k.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md text-[11px]",title:t.connected?`Connected to Clawdbot gateway (${t.latency}ms)`:"Disconnected from Clawdbot gateway",style:{color:t.connected?F.status.working:F.status.error,backgroundColor:t.connected?F.status.working+"10":F.status.error+"10"},children:[t.connected?k.jsx(zH,{size:12}):k.jsx(jH,{size:12}),k.jsx("span",{className:"hidden sm:inline",children:t.connected?"Connected":"Offline"})]})}function Sft(){const{currentView:t,setView:e,selectedAgentId:n}=Ci(),{openCommandPalette:r}=Ci(),[i,s]=A.useState(!1),[o,c]=A.useState(!1);A.useEffect(()=>{fetch("/api/project/config").then(h=>h.json()).then(h=>{(!h.configured||!h.name)&&s(!0),c(!0)}).catch(()=>c(!0))},[]),qH(),UH("/api/state",15e3),WH();const u=n&&(t==="agent"||t==="cockpit")?"agent":n&&t==="terminal"?"terminal":t;return k.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",style:{backgroundColor:F.bg.primary},children:[k.jsxs("header",{className:"flex items-center justify-between px-3 py-1.5 border-b flex-shrink-0",style:{backgroundColor:F.bg.surface,borderColor:F.bg.border},children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsxs("h1",{className:"text-sm font-bold tracking-tight flex items-center gap-1.5",style:{color:F.text.primary},children:[k.jsx("span",{className:"text-base",children:""})," AG Dev"]}),k.jsx("nav",{className:"flex items-center gap-0.5",children:vft.map(h=>{const f=t===h.id||h.id==="cockpit"&&u==="agent";return k.jsxs("button",{onClick:()=>e(h.id),className:"flex items-center gap-1 px-2.5 py-1.5 rounded-md text-[11px] font-medium transition-all",style:{backgroundColor:f?F.bg.surfaceActive:"transparent",color:f?F.text.primary:F.text.secondary},children:[h.icon,k.jsx("span",{className:"hidden md:inline",children:h.label})]},h.id)})})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(wft,{}),k.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-2.5 py-1 rounded-lg border text-[11px] transition-colors hover:border-white/20",style:{backgroundColor:F.bg.primary,borderColor:F.bg.border,color:F.text.secondary},children:[k.jsx(hN,{size:13}),k.jsx("span",{className:"hidden sm:inline",children:"Search..."}),k.jsx("kbd",{className:"text-[9px] px-1 py-px rounded border ml-2",style:{borderColor:F.bg.borderLight,color:F.text.muted},children:"K"})]})]})]}),k.jsx(vq,{}),k.jsx("main",{className:"flex-1 flex overflow-hidden",children:k.jsx(Aa,{mode:"wait",children:k.jsxs(ze.div,{className:"flex-1 flex",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.12},children:[u==="cockpit"&&k.jsx(Nq,{}),u==="agent"&&k.jsx(Lq,{}),u==="pipeline"&&k.jsx(EW,{}),u==="gantt"&&k.jsx(ytt,{}),u==="emergence"&&k.jsx(ltt,{}),u==="terminal"&&k.jsx(htt,{}),u==="strategy"&&k.jsx(btt,{}),u==="diagrams"&&k.jsx(mft,{}),u==="logs"&&k.jsx(bft,{}),u==="docs"&&k.jsx(Net,{})]},u)})}),k.jsx(Sq,{}),k.jsx(yq,{}),k.jsx(bq,{}),k.jsx(_q,{}),i&&k.jsx(kq,{onComplete:()=>{s(!1),window.location.reload()}})]})}O6.createRoot(document.getElementById("root")).render(k.jsx(re.StrictMode,{children:k.jsx(Sft,{})}));export{WO as $,Ju as A,zet as B,art as C,_2 as D,$O as E,Wn as F,Sot as G,_rt as H,XE as I,Dit as J,vnt as K,cc as L,Eft as M,Sm as N,Pnt as O,Z1 as P,oA as Q,grt as R,bp as S,wot as T,nd as U,Ynt as V,ed as W,At as X,zt as Y,fot as Z,D as _,Jnt as a,Cc as a$,hrt as a0,hA as a1,uA as a2,$ft as a3,Lft as a4,Bft as a5,Rft as a6,Dft as a7,n2 as a8,jft as a9,jlt as aA,drt as aB,Tft as aC,wm as aD,vg as aE,h5 as aF,Rh as aG,od as aH,Rlt as aI,Olt as aJ,Fi as aK,Xu as aL,Ist as aM,c5 as aN,n5 as aO,Uat as aP,yg as aQ,Wat as aR,ad as aS,ao as aT,jst as aU,NA as aV,Lo as aW,Yat as aX,y2 as aY,qat as aZ,Zat as a_,Nft as aa,_l as ab,Pft as ac,zft as ad,Oft as ae,oct as af,b$ as ag,Xft as ah,Lit as ai,Cn as aj,Ns as ak,p2 as al,U5 as am,Bo as an,y5 as ao,Ut as ap,Yi as aq,Qct as ar,Gft as as,Zft as at,Wft as au,Lt as av,Yft as aw,Rct as ax,Mct as ay,Act as az,Qnt as b,Fst as b0,cot as b1,est as b2,not as b3,g2 as b4,uM as b5,Nt as b6,KB as b7,kr as b8,TG as b9,O1 as ba,HL as bb,Xh as bc,UL as bd,kft as be,$et as bf,lot as bg,eot as bh,uot as bi,ym as bj,Hat as bk,m2 as bl,l5 as bm,dot as bn,Sc as bo,Yst as bp,wut as bq,id as br,bg as bs,Ds as bt,TA as bu,x2 as bv,i5 as bw,Bv as bx,ye as by,ge as c,Wt as d,UO as e,wn as f,ert as g,Da as h,ri as i,zit as j,vc as k,yt as l,b5 as m,Aft as n,Qft as o,nrt as p,rrt as q,Kft as r,trt as s,Nit as t,xi as u,kct as v,kot as w,Fft as x,Knt as y,Mft as z};
